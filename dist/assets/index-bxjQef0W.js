(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function MT(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Pn={},Oc=[],Xa=()=>{},vq=()=>!1,ty=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),TT=e=>e.startsWith("onUpdate:"),or=Object.assign,ET=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pq=Object.prototype.hasOwnProperty,en=(e,t)=>pq.call(e,t),Et=Array.isArray,Nc=e=>Xh(e)==="[object Map]",C4=e=>Xh(e)==="[object Set]",gq=e=>Xh(e)==="[object RegExp]",Ft=e=>typeof e=="function",Hn=e=>typeof e=="string",Af=e=>typeof e=="symbol",Cn=e=>e!==null&&typeof e=="object",M4=e=>(Cn(e)||Ft(e))&&Ft(e.then)&&Ft(e.catch),T4=Object.prototype.toString,Xh=e=>T4.call(e),mq=e=>Xh(e).slice(8,-1),E4=e=>Xh(e)==="[object Object]",PT=e=>Hn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_g=MT(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ny=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},yq=/-(\w)/g,ai=ny(e=>e.replace(yq,(t,n)=>n?n.toUpperCase():"")),xq=/\B([A-Z])/g,wf=ny(e=>e.replace(xq,"-$1").toLowerCase()),vo=ny(e=>e.charAt(0).toUpperCase()+e.slice(1)),j0=ny(e=>e?`on${vo(e)}`:""),nl=(e,t)=>!Object.is(e,t),kc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},jg=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},tC=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bq=e=>{const t=Hn(e)?Number(e):NaN;return isNaN(t)?e:t};let nI;const P4=()=>nI||(nI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ii(e){if(Et(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Hn(r)?wq(r):Ii(r);if(a)for(const i in a)t[i]=a[i]}return t}else if(Hn(e)||Cn(e))return e}const Sq=/;(?![^(]*\))/g,_q=/:([^]+)/,Aq=/\/\*[^]*?\*\//g;function wq(e){const t={};return e.replace(Aq,"").split(Sq).forEach(n=>{if(n){const r=n.split(_q);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ja(e){let t="";if(Hn(e))t=e;else if(Et(e))for(let n=0;n<e.length;n++){const r=Ja(e[n]);r&&(t+=r+" ")}else if(Cn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mq=MT(Cq);function R4(e){return!!e||e===""}const Qt=e=>Hn(e)?e:e==null?"":Et(e)||Cn(e)&&(e.toString===T4||!Ft(e.toString))?JSON.stringify(e,I4,2):String(e),I4=(e,t)=>t&&t.__v_isRef?I4(e,t.value):Nc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],i)=>(n[Y0(r,i)+" =>"]=a,n),{})}:C4(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Y0(n))}:Af(t)?Y0(t):Cn(t)&&!Et(t)&&!E4(t)?String(t):t,Y0=(e,t="")=>{var n;return Af(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wa;class D4{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wa,!t&&wa&&(this.index=(wa.scopes||(wa.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=wa;try{return wa=this,t()}finally{wa=n}}}on(){wa=this}off(){wa=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function RT(e){return new D4(e)}function Tq(e,t=wa){t&&t.active&&t.effects.push(e)}function Eq(){return wa}function ia(e){wa&&wa.cleanups.push(e)}let tu;class IT{constructor(t,n,r,a){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Tq(this,a)}get dirty(){if(this._dirtyLevel===1){yu();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Pq(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),xu()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Qs,n=tu;try{return Qs=!0,tu=this,this._runnings++,rI(this),this.fn()}finally{aI(this),this._runnings--,tu=n,Qs=t}}stop(){var t;this.active&&(rI(this),aI(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Pq(e){return e.value}function rI(e){e._trackId++,e._depsLength=0}function aI(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)L4(e.deps[t],e);e.deps.length=e._depsLength}}function L4(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Qs=!0,nC=0;const O4=[];function yu(){O4.push(Qs),Qs=!1}function xu(){const e=O4.pop();Qs=e===void 0?!0:e}function DT(){nC++}function LT(){for(nC--;!nC&&rC.length;)rC.shift()()}function N4(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&L4(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const rC=[];function k4(e,t,n){DT();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const a=r._dirtyLevel;r._dirtyLevel=t,a===0&&(r._shouldSchedule=!0,r.trigger())}B4(e),LT()}function B4(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,rC.push(t.scheduler))}const F4=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Yg=new WeakMap,nu=Symbol(""),aC=Symbol("");function ha(e,t,n){if(Qs&&tu){let r=Yg.get(e);r||Yg.set(e,r=new Map);let a=r.get(n);a||r.set(n,a=F4(()=>r.delete(n))),N4(tu,a)}}function Ko(e,t,n,r,a,i){const o=Yg.get(e);if(!o)return;let s=[];if(t==="clear")s=[...o.values()];else if(n==="length"&&Et(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Af(c)&&c>=l)&&s.push(u)})}else switch(n!==void 0&&s.push(o.get(n)),t){case"add":Et(e)?PT(n)&&s.push(o.get("length")):(s.push(o.get(nu)),Nc(e)&&s.push(o.get(aC)));break;case"delete":Et(e)||(s.push(o.get(nu)),Nc(e)&&s.push(o.get(aC)));break;case"set":Nc(e)&&s.push(o.get(nu));break}DT();for(const l of s)l&&k4(l,2);LT()}function Rq(e,t){var n;return(n=Yg.get(e))==null?void 0:n.get(t)}const Iq=MT("__proto__,__v_isRef,__isVue"),V4=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Af)),iI=Dq();function Dq(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=zt(this);for(let i=0,o=this.length;i<o;i++)ha(r,"get",i+"");const a=r[t](...n);return a===-1||a===!1?r[t](...n.map(zt)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){yu(),DT();const r=zt(this)[t].apply(this,n);return LT(),xu(),r}}),e}function Lq(e){const t=zt(this);return ha(t,"has",e),t.hasOwnProperty(e)}class z4{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const a=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(a?i?jq:G4:i?$4:H4).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Et(t);if(!a){if(o&&en(iI,n))return Reflect.get(iI,n,r);if(n==="hasOwnProperty")return Lq}const s=Reflect.get(t,n,r);return(Af(n)?V4.has(n):Iq(n))||(a||ha(t,"get",n),i)?s:Zn(s)?o&&PT(n)?s:s.value:Cn(s)?a?qh(s):wr(s):s}}class U4 extends z4{constructor(t=!1){super(!1,t)}set(t,n,r,a){let i=t[n];if(!this._shallow){const l=Xc(i);if(!Xg(r)&&!Xc(r)&&(i=zt(i),r=zt(r)),!Et(t)&&Zn(i)&&!Zn(r))return l?!1:(i.value=r,!0)}const o=Et(t)&&PT(n)?Number(n)<t.length:en(t,n),s=Reflect.set(t,n,r,a);return t===zt(a)&&(o?nl(r,i)&&Ko(t,"set",n,r):Ko(t,"add",n,r)),s}deleteProperty(t,n){const r=en(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Ko(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!Af(n)||!V4.has(n))&&ha(t,"has",n),r}ownKeys(t){return ha(t,"iterate",Et(t)?"length":nu),Reflect.ownKeys(t)}}class Oq extends z4{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Nq=new U4,kq=new Oq,Bq=new U4(!0),OT=e=>e,ry=e=>Reflect.getPrototypeOf(e);function Xv(e,t,n=!1,r=!1){e=e.__v_raw;const a=zt(e),i=zt(t);n||(nl(t,i)&&ha(a,"get",t),ha(a,"get",i));const{has:o}=ry(a),s=r?OT:n?BT:hh;if(o.call(a,t))return s(e.get(t));if(o.call(a,i))return s(e.get(i));e!==a&&e.get(t)}function qv(e,t=!1){const n=this.__v_raw,r=zt(n),a=zt(e);return t||(nl(e,a)&&ha(r,"has",e),ha(r,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Kv(e,t=!1){return e=e.__v_raw,!t&&ha(zt(e),"iterate",nu),Reflect.get(e,"size",e)}function oI(e){e=zt(e);const t=zt(this);return ry(t).has.call(t,e)||(t.add(e),Ko(t,"add",e,e)),this}function sI(e,t){t=zt(t);const n=zt(this),{has:r,get:a}=ry(n);let i=r.call(n,e);i||(e=zt(e),i=r.call(n,e));const o=a.call(n,e);return n.set(e,t),i?nl(t,o)&&Ko(n,"set",e,t):Ko(n,"add",e,t),this}function lI(e){const t=zt(this),{has:n,get:r}=ry(t);let a=n.call(t,e);a||(e=zt(e),a=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return a&&Ko(t,"delete",e,void 0),i}function uI(){const e=zt(this),t=e.size!==0,n=e.clear();return t&&Ko(e,"clear",void 0,void 0),n}function Zv(e,t){return function(r,a){const i=this,o=i.__v_raw,s=zt(o),l=t?OT:e?BT:hh;return!e&&ha(s,"iterate",nu),o.forEach((u,c)=>r.call(a,l(u),l(c),i))}}function Qv(e,t,n){return function(...r){const a=this.__v_raw,i=zt(a),o=Nc(i),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=a[e](...r),c=n?OT:t?BT:hh;return!t&&ha(i,"iterate",l?aC:nu),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function ys(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fq(){const e={get(i){return Xv(this,i)},get size(){return Kv(this)},has:qv,add:oI,set:sI,delete:lI,clear:uI,forEach:Zv(!1,!1)},t={get(i){return Xv(this,i,!1,!0)},get size(){return Kv(this)},has:qv,add:oI,set:sI,delete:lI,clear:uI,forEach:Zv(!1,!0)},n={get(i){return Xv(this,i,!0)},get size(){return Kv(this,!0)},has(i){return qv.call(this,i,!0)},add:ys("add"),set:ys("set"),delete:ys("delete"),clear:ys("clear"),forEach:Zv(!0,!1)},r={get(i){return Xv(this,i,!0,!0)},get size(){return Kv(this,!0)},has(i){return qv.call(this,i,!0)},add:ys("add"),set:ys("set"),delete:ys("delete"),clear:ys("clear"),forEach:Zv(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Qv(i,!1,!1),n[i]=Qv(i,!0,!1),t[i]=Qv(i,!1,!0),r[i]=Qv(i,!0,!0)}),[e,n,t,r]}const[Vq,zq,Uq,Hq]=Fq();function NT(e,t){const n=t?e?Hq:Uq:e?zq:Vq;return(r,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(en(n,a)&&a in r?n:r,a,i)}const $q={get:NT(!1,!1)},Gq={get:NT(!1,!0)},Wq={get:NT(!0,!1)},H4=new WeakMap,$4=new WeakMap,G4=new WeakMap,jq=new WeakMap;function Yq(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xq(e){return e.__v_skip||!Object.isExtensible(e)?0:Yq(mq(e))}function wr(e){return Xc(e)?e:kT(e,!1,Nq,$q,H4)}function W4(e){return kT(e,!1,Bq,Gq,$4)}function qh(e){return kT(e,!0,kq,Wq,G4)}function kT(e,t,n,r,a){if(!Cn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const o=Xq(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return a.set(e,s),s}function Bc(e){return Xc(e)?Bc(e.__v_raw):!!(e&&e.__v_isReactive)}function Xc(e){return!!(e&&e.__v_isReadonly)}function Xg(e){return!!(e&&e.__v_isShallow)}function j4(e){return Bc(e)||Xc(e)}function zt(e){const t=e&&e.__v_raw;return t?zt(t):e}function Y4(e){return jg(e,"__v_skip",!0),e}const hh=e=>Cn(e)?wr(e):e,BT=e=>Cn(e)?qh(e):e;class X4{constructor(t,n,r,a){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new IT(()=>t(this._value),()=>Ag(this,1),()=>this.dep&&B4(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=r}get value(){const t=zt(this);return(!t._cacheable||t.effect.dirty)&&nl(t._value,t._value=t.effect.run())&&Ag(t,2),q4(t),t.effect._dirtyLevel>=1&&Ag(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function qq(e,t,n=!1){let r,a;const i=Ft(e);return i?(r=e,a=Xa):(r=e.get,a=e.set),new X4(r,a,i||!a,n)}function q4(e){Qs&&tu&&(e=zt(e),N4(tu,e.dep||(e.dep=F4(()=>e.dep=void 0,e instanceof X4?e:void 0))))}function Ag(e,t=2,n){e=zt(e);const r=e.dep;r&&k4(r,t)}function Zn(e){return!!(e&&e.__v_isRef===!0)}function Oe(e){return K4(e,!1)}function it(e){return K4(e,!0)}function K4(e,t){return Zn(e)?e:new Kq(e,t)}class Kq{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:zt(t),this._value=n?t:hh(t)}get value(){return q4(this),this._value}set value(t){const n=this.__v_isShallow||Xg(t)||Xc(t);t=n?t:zt(t),nl(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:hh(t),Ag(this,2))}}function ft(e){return Zn(e)?e.value:e}const Zq={get:(e,t,n)=>ft(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return Zn(a)&&!Zn(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function Z4(e){return Bc(e)?e:new Proxy(e,Zq)}function ay(e){const t=Et(e)?new Array(e.length):{};for(const n in e)t[n]=Q4(e,n);return t}class Qq{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Rq(zt(this._object),this._key)}}class Jq{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ze(e,t,n){return Zn(e)?e:Ft(e)?new Jq(e):Cn(e)&&arguments.length>1?Q4(e,t,n):Oe(e)}function Q4(e,t,n){const r=e[t];return Zn(r)?r:new Qq(e,t,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Js(e,t,n,r){let a;try{a=r?e(...r):e()}catch(i){iy(i,t,n)}return a}function ei(e,t,n,r){if(Ft(e)){const i=Js(e,t,n,r);return i&&M4(i)&&i.catch(o=>{iy(o,t,n)}),i}const a=[];for(let i=0;i<e.length;i++)a.push(ei(e[i],t,n,r));return a}function iy(e,t,n,r=!0){const a=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,s)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Js(l,null,10,[e,o,s]);return}}eK(e,n,a,r)}function eK(e,t,n,r=!0){console.error(e)}let vh=!1,iC=!1;const $r=[];let Ki=0;const Fc=[];let Bs=null,Hl=0;const J4=Promise.resolve();let FT=null;function Ht(e){const t=FT||J4;return e?t.then(this?e.bind(this):e):t}function tK(e){let t=Ki+1,n=$r.length;for(;t<n;){const r=t+n>>>1,a=$r[r],i=ph(a);i<e||i===e&&a.pre?t=r+1:n=r}return t}function VT(e){(!$r.length||!$r.includes(e,vh&&e.allowRecurse?Ki+1:Ki))&&(e.id==null?$r.push(e):$r.splice(tK(e.id),0,e),e$())}function e$(){!vh&&!iC&&(iC=!0,FT=J4.then(n$))}function nK(e){const t=$r.indexOf(e);t>Ki&&$r.splice(t,1)}function rK(e){Et(e)?Fc.push(...e):(!Bs||!Bs.includes(e,e.allowRecurse?Hl+1:Hl))&&Fc.push(e),e$()}function cI(e,t,n=vh?Ki+1:0){for(;n<$r.length;n++){const r=$r[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;$r.splice(n,1),n--,r()}}}function t$(e){if(Fc.length){const t=[...new Set(Fc)].sort((n,r)=>ph(n)-ph(r));if(Fc.length=0,Bs){Bs.push(...t);return}for(Bs=t,Hl=0;Hl<Bs.length;Hl++)Bs[Hl]();Bs=null,Hl=0}}const ph=e=>e.id==null?1/0:e.id,aK=(e,t)=>{const n=ph(e)-ph(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function n$(e){iC=!1,vh=!0,$r.sort(aK);try{for(Ki=0;Ki<$r.length;Ki++){const t=$r[Ki];t&&t.active!==!1&&Js(t,null,14)}}finally{Ki=0,$r.length=0,t$(),vh=!1,FT=null,($r.length||Fc.length)&&n$()}}function iK(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Pn;let a=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=r[c]||Pn;d&&(a=n.map(h=>Hn(h)?h.trim():h)),f&&(a=n.map(tC))}let s,l=r[s=j0(t)]||r[s=j0(ai(t))];!l&&i&&(l=r[s=j0(wf(t))]),l&&ei(l,e,6,a);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,ei(u,e,6,a)}}function r$(e,t,n=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const i=e.emits;let o={},s=!1;if(!Ft(e)){const l=u=>{const c=r$(u,t,!0);c&&(s=!0,or(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!s?(Cn(e)&&r.set(e,null),null):(Et(i)?i.forEach(l=>o[l]=null):or(o,i),Cn(e)&&r.set(e,o),o)}function oy(e,t){return!e||!ty(t)?!1:(t=t.slice(2).replace(/Once$/,""),en(e,t[0].toLowerCase()+t.slice(1))||en(e,wf(t))||en(e,t))}let ra=null,sy=null;function qg(e){const t=ra;return ra=e,sy=e&&e.type.__scopeId||null,t}function po(e){sy=e}function go(){sy=null}function ke(e,t=ra,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&wI(-1);const i=qg(t);let o;try{o=e(...a)}finally{qg(i),r._d&&wI(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function X0(e){const{type:t,vnode:n,proxy:r,withProxy:a,props:i,propsOptions:[o],slots:s,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:h,ctx:v,inheritAttrs:m}=e;let p,g;const y=qg(e);try{if(n.shapeFlag&4){const b=a||r,A=b;p=ji(c.call(A,b,f,i,h,d,v)),g=l}else{const b=t;p=ji(b.length>1?b(i,{attrs:l,slots:s,emit:u}):b(i,null)),g=t.props?l:oK(l)}}catch(b){rh.length=0,iy(b,e,1),p=W(ti)}let x=p;if(g&&m!==!1){const b=Object.keys(g),{shapeFlag:A}=x;b.length&&A&7&&(o&&b.some(TT)&&(g=sK(g,o)),x=oo(x,g))}return n.dirs&&(x=oo(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),p=x,qg(y),p}const oK=e=>{let t;for(const n in e)(n==="class"||n==="style"||ty(n))&&((t||(t={}))[n]=e[n]);return t},sK=(e,t)=>{const n={};for(const r in e)(!TT(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function lK(e,t,n){const{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?fI(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!oy(u,d))return!0}}}else return(a||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?fI(r,o,u):!0:!!o;return!1}function fI(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const i=r[a];if(t[i]!==e[i]&&!oy(n,i))return!0}return!1}function uK({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const zT="components",cK="directives";function We(e,t){return UT(zT,e,!0,t)||e}const a$=Symbol.for("v-ndc");function fK(e){return Hn(e)?UT(zT,e,!1)||e:e||a$}function pa(e){return UT(cK,e)}function UT(e,t,n=!0,r=!1){const a=ra||Nr;if(a){const i=a.type;if(e===zT){const s=hC(i,!1);if(s&&(s===t||s===ai(t)||s===vo(ai(t))))return i}const o=dI(a[e]||i[e],t)||dI(a.appContext[e],t);return!o&&r?i:o}}function dI(e,t){return e&&(e[t]||e[ai(t)]||e[vo(ai(t))])}const i$=e=>e.__isSuspense;function dK(e,t){t&&t.pendingBranch?Et(e)?t.effects.push(...e):t.effects.push(e):rK(e)}const hK=Symbol.for("v-scx"),vK=()=>Vt(hK);function Fn(e,t){return HT(e,null,t)}const Jv={};function nt(e,t,n){return HT(e,t,n)}function HT(e,t,{immediate:n,deep:r,flush:a,once:i,onTrack:o,onTrigger:s}=Pn){if(t&&i){const S=t;t=(..._)=>{S(..._),A()}}const l=Nr,u=S=>r===!0?S:jl(S,r===!1?1:void 0);let c,f=!1,d=!1;if(Zn(e)?(c=()=>e.value,f=Xg(e)):Bc(e)?(c=()=>u(e),f=!0):Et(e)?(d=!0,f=e.some(S=>Bc(S)||Xg(S)),c=()=>e.map(S=>{if(Zn(S))return S.value;if(Bc(S))return u(S);if(Ft(S))return Js(S,l,2)})):Ft(e)?t?c=()=>Js(e,l,2):c=()=>(h&&h(),ei(e,l,3,[v])):c=Xa,t&&r){const S=c;c=()=>jl(S())}let h,v=S=>{h=x.onStop=()=>{Js(S,l,4),h=x.onStop=void 0}},m;if(vy)if(v=Xa,t?n&&ei(t,l,3,[c(),d?[]:void 0,v]):c(),a==="sync"){const S=vK();m=S.__watcherHandles||(S.__watcherHandles=[])}else return Xa;let p=d?new Array(e.length).fill(Jv):Jv;const g=()=>{if(!(!x.active||!x.dirty))if(t){const S=x.run();(r||f||(d?S.some((_,w)=>nl(_,p[w])):nl(S,p)))&&(h&&h(),ei(t,l,3,[S,p===Jv?void 0:d&&p[0]===Jv?[]:p,v]),p=S)}else x.run()};g.allowRecurse=!!t;let y;a==="sync"?y=g:a==="post"?y=()=>Lr(g,l&&l.suspense):(g.pre=!0,l&&(g.id=l.uid),y=()=>VT(g));const x=new IT(c,Xa,y),b=Eq(),A=()=>{x.stop(),b&&ET(b.effects,x)};return t?n?g():p=x.run():a==="post"?Lr(x.run.bind(x),l&&l.suspense):x.run(),m&&m.push(A),A}function pK(e,t,n){const r=this.proxy,a=Hn(e)?e.includes(".")?o$(r,e):()=>r[e]:e.bind(r,r);let i;Ft(t)?i=t:(i=t.handler,n=t);const o=Qh(this),s=HT(a,i.bind(r),n);return o(),s}function o$(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}function jl(e,t,n=0,r){if(!Cn(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),Zn(e))jl(e.value,t,n,r);else if(Et(e))for(let a=0;a<e.length;a++)jl(e[a],t,n,r);else if(C4(e)||Nc(e))e.forEach(a=>{jl(a,t,n,r)});else if(E4(e))for(const a in e)jl(e[a],t,n,r);return e}function _n(e,t){if(ra===null)return e;const n=py(ra)||ra.proxy,r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,o,s,l=Pn]=t[a];i&&(Ft(i)&&(i={mounted:i,updated:i}),i.deep&&jl(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Sl(e,t,n,r){const a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){const s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(yu(),ei(l,n,8,[e.el,s,e,t]),xu())}}const Fs=Symbol("_leaveCb"),ep=Symbol("_enterCb");function s$(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn(()=>{e.isMounted=!0}),Er(()=>{e.isUnmounting=!0}),e}const Fa=[Function,Array],l$={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fa,onEnter:Fa,onAfterEnter:Fa,onEnterCancelled:Fa,onBeforeLeave:Fa,onLeave:Fa,onAfterLeave:Fa,onLeaveCancelled:Fa,onBeforeAppear:Fa,onAppear:Fa,onAfterAppear:Fa,onAppearCancelled:Fa},gK={name:"BaseTransition",props:l$,setup(e,{slots:t}){const n=hy(),r=s$();let a;return()=>{const i=t.default&&$T(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const m of i)if(m.type!==ti){o=m;break}}const s=zt(e),{mode:l}=s;if(r.isLeaving)return q0(o);const u=hI(o);if(!u)return q0(o);const c=gh(u,s,r,n);qc(u,c);const f=n.subTree,d=f&&hI(f);let h=!1;const{getTransitionKey:v}=u.type;if(v){const m=v();a===void 0?a=m:m!==a&&(a=m,h=!0)}if(d&&d.type!==ti&&(!Hs(u,d)||h)){const m=gh(d,s,r,n);if(qc(d,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},q0(o);l==="in-out"&&u.type!==ti&&(m.delayLeave=(p,g,y)=>{const x=u$(r,d);x[String(d.key)]=d,p[Fs]=()=>{g(),p[Fs]=void 0,delete c.delayedLeave},c.delayedLeave=y})}return o}}},mK=gK;function u$(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function gh(e,t,n,r){const{appear:a,mode:i,persisted:o=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:m,onAppear:p,onAfterAppear:g,onAppearCancelled:y}=t,x=String(e.key),b=u$(n,e),A=(w,C)=>{w&&ei(w,r,9,C)},S=(w,C)=>{const M=C[1];A(w,C),Et(w)?w.every(T=>T.length<=1)&&M():w.length<=1&&M()},_={mode:i,persisted:o,beforeEnter(w){let C=s;if(!n.isMounted)if(a)C=m||s;else return;w[Fs]&&w[Fs](!0);const M=b[x];M&&Hs(e,M)&&M.el[Fs]&&M.el[Fs](),A(C,[w])},enter(w){let C=l,M=u,T=c;if(!n.isMounted)if(a)C=p||l,M=g||u,T=y||c;else return;let E=!1;const P=w[ep]=R=>{E||(E=!0,R?A(T,[w]):A(M,[w]),_.delayedLeave&&_.delayedLeave(),w[ep]=void 0)};C?S(C,[w,P]):P()},leave(w,C){const M=String(e.key);if(w[ep]&&w[ep](!0),n.isUnmounting)return C();A(f,[w]);let T=!1;const E=w[Fs]=P=>{T||(T=!0,C(),P?A(v,[w]):A(h,[w]),w[Fs]=void 0,b[M]===e&&delete b[M])};b[M]=e,d?S(d,[w,E]):E()},clone(w){return gh(w,t,n,r)}};return _}function q0(e){if(ly(e))return e=oo(e),e.children=null,e}function hI(e){return ly(e)?e.children?e.children[0]:void 0:e}function qc(e,t){e.shapeFlag&6&&e.component?qc(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $T(e,t=!1,n){let r=[],a=0;for(let i=0;i<e.length;i++){let o=e[i];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===tt?(o.patchFlag&128&&a++,r=r.concat($T(o.children,t,s))):(t||o.type!==ti)&&r.push(s!=null?oo(o,{key:s}):o)}if(a>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function GT(e,t){return Ft(e)?or({name:e.name},t,{setup:e}):e}const eh=e=>!!e.type.__asyncLoader,ly=e=>e.type.__isKeepAlive,yK={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=hy(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const a=new Map,i=new Set;let o=null;const s=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:f}}}=r,d=f("div");r.activate=(y,x,b,A,S)=>{const _=y.component;u(y,x,b,0,s),l(_.vnode,y,x,b,_,s,A,y.slotScopeIds,S),Lr(()=>{_.isDeactivated=!1,_.a&&kc(_.a);const w=y.props&&y.props.onVnodeMounted;w&&Ua(w,_.parent,y)},s)},r.deactivate=y=>{const x=y.component;u(y,d,null,1,s),Lr(()=>{x.da&&kc(x.da);const b=y.props&&y.props.onVnodeUnmounted;b&&Ua(b,x.parent,y),x.isDeactivated=!0},s)};function h(y){K0(y),c(y,n,s,!0)}function v(y){a.forEach((x,b)=>{const A=hC(x.type);A&&(!y||!y(A))&&m(b)})}function m(y){const x=a.get(y);!o||!Hs(x,o)?h(x):o&&K0(o),a.delete(y),i.delete(y)}nt(()=>[e.include,e.exclude],([y,x])=>{y&&v(b=>Hd(y,b)),x&&v(b=>!Hd(x,b))},{flush:"post",deep:!0});let p=null;const g=()=>{p!=null&&a.set(p,Z0(n.subTree))};return gn(g),Kh(g),Er(()=>{a.forEach(y=>{const{subTree:x,suspense:b}=n,A=Z0(x);if(y.type===A.type&&y.key===A.key){K0(A);const S=A.component.da;S&&Lr(S,b);return}h(y)})}),()=>{if(p=null,!t.default)return null;const y=t.default(),x=y[0];if(y.length>1)return o=null,y;if(!yh(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let b=Z0(x);const A=b.type,S=hC(eh(b)?b.type.__asyncResolved||{}:A),{include:_,exclude:w,max:C}=e;if(_&&(!S||!Hd(_,S))||w&&S&&Hd(w,S))return o=b,x;const M=b.key==null?A:b.key,T=a.get(M);return b.el&&(b=oo(b),x.shapeFlag&128&&(x.ssContent=b)),p=M,T?(b.el=T.el,b.component=T.component,b.transition&&qc(b,b.transition),b.shapeFlag|=512,i.delete(M),i.add(M)):(i.add(M),C&&i.size>parseInt(C,10)&&m(i.values().next().value)),b.shapeFlag|=256,o=b,i$(x.type)?x:b}}},xK=yK;function Hd(e,t){return Et(e)?e.some(n=>Hd(n,t)):Hn(e)?e.split(",").includes(t):gq(e)?e.test(t):!1}function c$(e,t){d$(e,"a",t)}function f$(e,t){d$(e,"da",t)}function d$(e,t,n=Nr){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(uy(t,r,n),n){let a=n.parent;for(;a&&a.parent;)ly(a.parent.vnode)&&bK(r,t,n,a),a=a.parent}}function bK(e,t,n,r){const a=uy(t,e,r,!0);fy(()=>{ET(r[t],a)},n)}function K0(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Z0(e){return e.shapeFlag&128?e.ssContent:e}function uy(e,t,n=Nr,r=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;yu();const s=Qh(n),l=ei(t,n,e,o);return s(),xu(),l});return r?a.unshift(i):a.push(i),i}}const ss=e=>(t,n=Nr)=>(!vy||e==="sp")&&uy(e,(...r)=>t(...r),n),cy=ss("bm"),gn=ss("m"),h$=ss("bu"),Kh=ss("u"),Er=ss("bum"),fy=ss("um"),SK=ss("sp"),_K=ss("rtg"),AK=ss("rtc");function wK(e,t=Nr){uy("ec",e,t)}function ir(e,t,n,r){let a;const i=n&&n[r];if(Et(e)||Hn(e)){a=new Array(e.length);for(let o=0,s=e.length;o<s;o++)a[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i&&i[o])}else if(Cn(e))if(e[Symbol.iterator])a=Array.from(e,(o,s)=>t(o,s,void 0,i&&i[s]));else{const o=Object.keys(e);a=new Array(o.length);for(let s=0,l=o.length;s<l;s++){const u=o[s];a[s]=t(e[u],u,s,i&&i[s])}}else a=[];return n&&(n[r]=a),a}function CK(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Et(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const i=r.fn(...a);return i&&(i.key=r.key),i}:r.fn)}return e}const oC=e=>e?M$(e)?py(e)||e.proxy:oC(e.parent):null,th=or(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oC(e.parent),$root:e=>oC(e.root),$emit:e=>e.emit,$options:e=>WT(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,VT(e.update)}),$nextTick:e=>e.n||(e.n=Ht.bind(e.proxy)),$watch:e=>pK.bind(e)}),Q0=(e,t)=>e!==Pn&&!e.__isScriptSetup&&en(e,t),MK={get({_:e},t){const{ctx:n,setupState:r,data:a,props:i,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(Q0(r,t))return o[t]=1,r[t];if(a!==Pn&&en(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&en(u,t))return o[t]=3,i[t];if(n!==Pn&&en(n,t))return o[t]=4,n[t];sC&&(o[t]=0)}}const c=th[t];let f,d;if(c)return t==="$attrs"&&ha(e,"get",t),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==Pn&&en(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,en(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:i}=e;return Q0(a,t)?(a[t]=n,!0):r!==Pn&&en(r,t)?(r[t]=n,!0):en(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==Pn&&en(e,o)||Q0(t,o)||(s=i[0])&&en(s,o)||en(r,o)||en(th,o)||en(a.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:en(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function vI(e){return Et(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let sC=!0;function TK(e){const t=WT(e),n=e.proxy,r=e.ctx;sC=!1,t.beforeCreate&&pI(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:v,activated:m,deactivated:p,beforeDestroy:g,beforeUnmount:y,destroyed:x,unmounted:b,render:A,renderTracked:S,renderTriggered:_,errorCaptured:w,serverPrefetch:C,expose:M,inheritAttrs:T,components:E,directives:P,filters:R}=t;if(u&&EK(u,r,null),o)for(const B in o){const F=o[B];Ft(F)&&(r[B]=F.bind(n))}if(a){const B=a.call(n,n);Cn(B)&&(e.data=wr(B))}if(sC=!0,i)for(const B in i){const F=i[B],G=Ft(F)?F.bind(n,n):Ft(F.get)?F.get.bind(n,n):Xa,z=!Ft(F)&&Ft(F.set)?F.set.bind(n):Xa,N=ie({get:G,set:z});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>N.value,set:U=>N.value=U})}if(s)for(const B in s)v$(s[B],r,n,B);if(l){const B=Ft(l)?l.call(n):l;Reflect.ownKeys(B).forEach(F=>{cn(F,B[F])})}c&&pI(c,e,"c");function D(B,F){Et(F)?F.forEach(G=>B(G.bind(n))):F&&B(F.bind(n))}if(D(cy,f),D(gn,d),D(h$,h),D(Kh,v),D(c$,m),D(f$,p),D(wK,w),D(AK,S),D(_K,_),D(Er,y),D(fy,b),D(SK,C),Et(M))if(M.length){const B=e.exposed||(e.exposed={});M.forEach(F=>{Object.defineProperty(B,F,{get:()=>n[F],set:G=>n[F]=G})})}else e.exposed||(e.exposed={});A&&e.render===Xa&&(e.render=A),T!=null&&(e.inheritAttrs=T),E&&(e.components=E),P&&(e.directives=P)}function EK(e,t,n=Xa){Et(e)&&(e=lC(e));for(const r in e){const a=e[r];let i;Cn(a)?"default"in a?i=Vt(a.from||r,a.default,!0):i=Vt(a.from||r):i=Vt(a),Zn(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function pI(e,t,n){ei(Et(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function v$(e,t,n,r){const a=r.includes(".")?o$(n,r):()=>n[r];if(Hn(e)){const i=t[e];Ft(i)&&nt(a,i)}else if(Ft(e))nt(a,e.bind(n));else if(Cn(e))if(Et(e))e.forEach(i=>v$(i,t,n,r));else{const i=Ft(e.handler)?e.handler.bind(n):t[e.handler];Ft(i)&&nt(a,i,e)}}function WT(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,s=i.get(t);let l;return s?l=s:!a.length&&!n&&!r?l=t:(l={},a.length&&a.forEach(u=>Kg(l,u,o,!0)),Kg(l,t,o)),Cn(t)&&i.set(t,l),l}function Kg(e,t,n,r=!1){const{mixins:a,extends:i}=t;i&&Kg(e,i,n,!0),a&&a.forEach(o=>Kg(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=PK[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const PK={data:gI,props:mI,emits:mI,methods:$d,computed:$d,beforeCreate:Zr,created:Zr,beforeMount:Zr,mounted:Zr,beforeUpdate:Zr,updated:Zr,beforeDestroy:Zr,beforeUnmount:Zr,destroyed:Zr,unmounted:Zr,activated:Zr,deactivated:Zr,errorCaptured:Zr,serverPrefetch:Zr,components:$d,directives:$d,watch:IK,provide:gI,inject:RK};function gI(e,t){return t?e?function(){return or(Ft(e)?e.call(this,this):e,Ft(t)?t.call(this,this):t)}:t:e}function RK(e,t){return $d(lC(e),lC(t))}function lC(e){if(Et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Zr(e,t){return e?[...new Set([].concat(e,t))]:t}function $d(e,t){return e?or(Object.create(null),e,t):t}function mI(e,t){return e?Et(e)&&Et(t)?[...new Set([...e,...t])]:or(Object.create(null),vI(e),vI(t??{})):t}function IK(e,t){if(!e)return t;if(!t)return e;const n=or(Object.create(null),e);for(const r in t)n[r]=Zr(e[r],t[r]);return n}function p$(){return{app:null,config:{isNativeTag:vq,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DK=0;function LK(e,t){return function(r,a=null){Ft(r)||(r=or({},r)),a!=null&&!Cn(a)&&(a=null);const i=p$(),o=new WeakSet;let s=!1;const l=i.app={_uid:DK++,_component:r,_props:a,_container:null,_context:i,_instance:null,version:aZ,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&Ft(u.install)?(o.add(u),u.install(l,...c)):Ft(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,f){if(!s){const d=W(r,a);return d.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,u):e(d,u,f),s=!0,l._container=u,u.__vue_app__=l,py(d.component)||d.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){Zg=l;try{return u()}finally{Zg=null}}};return l}}let Zg=null;function cn(e,t){if(Nr){let n=Nr.provides;const r=Nr.parent&&Nr.parent.provides;r===n&&(n=Nr.provides=Object.create(r)),n[e]=t}}function Vt(e,t,n=!1){const r=Nr||ra;if(r||Zg){const a=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Zg._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Ft(t)?t.call(r&&r.proxy):t}}function OK(e,t,n,r=!1){const a={},i={};jg(i,dy,1),e.propsDefaults=Object.create(null),g$(e,t,a,i);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:W4(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function NK(e,t,n,r){const{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=zt(a),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(oy(e.emitsOptions,d))continue;const h=t[d];if(l)if(en(i,d))h!==i[d]&&(i[d]=h,u=!0);else{const v=ai(d);a[v]=uC(l,s,v,h,e,!1)}else h!==i[d]&&(i[d]=h,u=!0)}}}else{g$(e,t,a,i)&&(u=!0);let c;for(const f in s)(!t||!en(t,f)&&((c=wf(f))===f||!en(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(a[f]=uC(l,s,f,void 0,e,!0)):delete a[f]);if(i!==s)for(const f in i)(!t||!en(t,f))&&(delete i[f],u=!0)}u&&Ko(e,"set","$attrs")}function g$(e,t,n,r){const[a,i]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(_g(l))continue;const u=t[l];let c;a&&en(a,c=ai(l))?!i||!i.includes(c)?n[c]=u:(s||(s={}))[c]=u:oy(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=zt(n),u=s||Pn;for(let c=0;c<i.length;c++){const f=i[c];n[f]=uC(a,l,f,u[f],e,!en(u,f))}}return o}function uC(e,t,n,r,a,i){const o=e[n];if(o!=null){const s=en(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ft(l)){const{propsDefaults:u}=a;if(n in u)r=u[n];else{const c=Qh(a);r=u[n]=l.call(null,t),c()}}else r=l}o[0]&&(i&&!s?r=!1:o[1]&&(r===""||r===wf(n))&&(r=!0))}return r}function m$(e,t,n=!1){const r=t.propsCache,a=r.get(e);if(a)return a;const i=e.props,o={},s=[];let l=!1;if(!Ft(e)){const c=f=>{l=!0;const[d,h]=m$(f,t,!0);or(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return Cn(e)&&r.set(e,Oc),Oc;if(Et(i))for(let c=0;c<i.length;c++){const f=ai(i[c]);yI(f)&&(o[f]=Pn)}else if(i)for(const c in i){const f=ai(c);if(yI(f)){const d=i[c],h=o[f]=Et(d)||Ft(d)?{type:d}:or({},d);if(h){const v=SI(Boolean,h.type),m=SI(String,h.type);h[0]=v>-1,h[1]=m<0||v<m,(v>-1||en(h,"default"))&&s.push(f)}}}const u=[o,s];return Cn(e)&&r.set(e,u),u}function yI(e){return e[0]!=="$"}function xI(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function bI(e,t){return xI(e)===xI(t)}function SI(e,t){return Et(t)?t.findIndex(n=>bI(n,e)):Ft(t)&&bI(t,e)?0:-1}const y$=e=>e[0]==="_"||e==="$stable",jT=e=>Et(e)?e.map(ji):[ji(e)],kK=(e,t,n)=>{if(t._n)return t;const r=ke((...a)=>jT(t(...a)),n);return r._c=!1,r},x$=(e,t,n)=>{const r=e._ctx;for(const a in e){if(y$(a))continue;const i=e[a];if(Ft(i))t[a]=kK(a,i,r);else if(i!=null){const o=jT(i);t[a]=()=>o}}},b$=(e,t)=>{const n=jT(t);e.slots.default=()=>n},BK=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=zt(t),jg(t,"_",n)):x$(t,e.slots={})}else e.slots={},t&&b$(e,t);jg(e.slots,dy,1)},FK=(e,t,n)=>{const{vnode:r,slots:a}=e;let i=!0,o=Pn;if(r.shapeFlag&32){const s=t._;s?n&&s===1?i=!1:(or(a,t),!n&&s===1&&delete a._):(i=!t.$stable,x$(t,a)),o=t}else t&&(b$(e,t),o={default:1});if(i)for(const s in a)!y$(s)&&o[s]==null&&delete a[s]};function cC(e,t,n,r,a=!1){if(Et(e)){e.forEach((d,h)=>cC(d,t&&(Et(t)?t[h]:t),n,r,a));return}if(eh(r)&&!a)return;const i=r.shapeFlag&4?py(r.component)||r.component.proxy:r.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===Pn?s.refs={}:s.refs,f=s.setupState;if(u!=null&&u!==l&&(Hn(u)?(c[u]=null,en(f,u)&&(f[u]=null)):Zn(u)&&(u.value=null)),Ft(l))Js(l,s,12,[o,c]);else{const d=Hn(l),h=Zn(l),v=e.f;if(d||h){const m=()=>{if(v){const p=d?en(f,l)?f[l]:c[l]:l.value;a?Et(p)&&ET(p,i):Et(p)?p.includes(i)||p.push(i):d?(c[l]=[i],en(f,l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,en(f,l)&&(f[l]=o)):h&&(l.value=o,e.k&&(c[e.k]=o))};a||v?m():(m.id=-1,Lr(m,n))}}}const Lr=dK;function VK(e){return zK(e)}function zK(e,t){const n=P4();n.__VUE__=!0;const{insert:r,remove:a,patchProp:i,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Xa,insertStaticContent:v}=e,m=(K,Z,te,oe=null,ue=null,se=null,me=void 0,re=null,q=!!Z.dynamicChildren)=>{if(K===Z)return;K&&!Hs(K,Z)&&(oe=O(K),U(K,ue,se,!0),K=null),Z.patchFlag===-2&&(q=!1,Z.dynamicChildren=null);const{type:ae,ref:ce,shapeFlag:ee}=Z;switch(ae){case Zh:p(K,Z,te,oe);break;case ti:g(K,Z,te,oe);break;case wg:K==null&&y(Z,te,oe,me);break;case tt:E(K,Z,te,oe,ue,se,me,re,q);break;default:ee&1?A(K,Z,te,oe,ue,se,me,re,q):ee&6?P(K,Z,te,oe,ue,se,me,re,q):(ee&64||ee&128)&&ae.process(K,Z,te,oe,ue,se,me,re,q,Y)}ce!=null&&ue&&cC(ce,K&&K.ref,se,Z||K,!Z)},p=(K,Z,te,oe)=>{if(K==null)r(Z.el=s(Z.children),te,oe);else{const ue=Z.el=K.el;Z.children!==K.children&&u(ue,Z.children)}},g=(K,Z,te,oe)=>{K==null?r(Z.el=l(Z.children||""),te,oe):Z.el=K.el},y=(K,Z,te,oe)=>{[K.el,K.anchor]=v(K.children,Z,te,oe,K.el,K.anchor)},x=({el:K,anchor:Z},te,oe)=>{let ue;for(;K&&K!==Z;)ue=d(K),r(K,te,oe),K=ue;r(Z,te,oe)},b=({el:K,anchor:Z})=>{let te;for(;K&&K!==Z;)te=d(K),a(K),K=te;a(Z)},A=(K,Z,te,oe,ue,se,me,re,q)=>{Z.type==="svg"?me="svg":Z.type==="math"&&(me="mathml"),K==null?S(Z,te,oe,ue,se,me,re,q):C(K,Z,ue,se,me,re,q)},S=(K,Z,te,oe,ue,se,me,re)=>{let q,ae;const{props:ce,shapeFlag:ee,transition:ne,dirs:le}=K;if(q=K.el=o(K.type,se,ce&&ce.is,ce),ee&8?c(q,K.children):ee&16&&w(K.children,q,null,oe,ue,J0(K,se),me,re),le&&Sl(K,null,oe,"created"),_(q,K,K.scopeId,me,oe),ce){for(const pe in ce)pe!=="value"&&!_g(pe)&&i(q,pe,null,ce[pe],se,K.children,oe,ue,L);"value"in ce&&i(q,"value",null,ce.value,se),(ae=ce.onVnodeBeforeMount)&&Ua(ae,oe,K)}le&&Sl(K,null,oe,"beforeMount");const he=UK(ue,ne);he&&ne.beforeEnter(q),r(q,Z,te),((ae=ce&&ce.onVnodeMounted)||he||le)&&Lr(()=>{ae&&Ua(ae,oe,K),he&&ne.enter(q),le&&Sl(K,null,oe,"mounted")},ue)},_=(K,Z,te,oe,ue)=>{if(te&&h(K,te),oe)for(let se=0;se<oe.length;se++)h(K,oe[se]);if(ue){let se=ue.subTree;if(Z===se){const me=ue.vnode;_(K,me,me.scopeId,me.slotScopeIds,ue.parent)}}},w=(K,Z,te,oe,ue,se,me,re,q=0)=>{for(let ae=q;ae<K.length;ae++){const ce=K[ae]=re?Vs(K[ae]):ji(K[ae]);m(null,ce,Z,te,oe,ue,se,me,re)}},C=(K,Z,te,oe,ue,se,me)=>{const re=Z.el=K.el;let{patchFlag:q,dynamicChildren:ae,dirs:ce}=Z;q|=K.patchFlag&16;const ee=K.props||Pn,ne=Z.props||Pn;let le;if(te&&_l(te,!1),(le=ne.onVnodeBeforeUpdate)&&Ua(le,te,Z,K),ce&&Sl(Z,K,te,"beforeUpdate"),te&&_l(te,!0),ae?M(K.dynamicChildren,ae,re,te,oe,J0(Z,ue),se):me||F(K,Z,re,null,te,oe,J0(Z,ue),se,!1),q>0){if(q&16)T(re,Z,ee,ne,te,oe,ue);else if(q&2&&ee.class!==ne.class&&i(re,"class",null,ne.class,ue),q&4&&i(re,"style",ee.style,ne.style,ue),q&8){const he=Z.dynamicProps;for(let pe=0;pe<he.length;pe++){const ye=he[pe],ge=ee[ye],Ce=ne[ye];(Ce!==ge||ye==="value")&&i(re,ye,ge,Ce,ue,K.children,te,oe,L)}}q&1&&K.children!==Z.children&&c(re,Z.children)}else!me&&ae==null&&T(re,Z,ee,ne,te,oe,ue);((le=ne.onVnodeUpdated)||ce)&&Lr(()=>{le&&Ua(le,te,Z,K),ce&&Sl(Z,K,te,"updated")},oe)},M=(K,Z,te,oe,ue,se,me)=>{for(let re=0;re<Z.length;re++){const q=K[re],ae=Z[re],ce=q.el&&(q.type===tt||!Hs(q,ae)||q.shapeFlag&70)?f(q.el):te;m(q,ae,ce,null,oe,ue,se,me,!0)}},T=(K,Z,te,oe,ue,se,me)=>{if(te!==oe){if(te!==Pn)for(const re in te)!_g(re)&&!(re in oe)&&i(K,re,te[re],null,me,Z.children,ue,se,L);for(const re in oe){if(_g(re))continue;const q=oe[re],ae=te[re];q!==ae&&re!=="value"&&i(K,re,ae,q,me,Z.children,ue,se,L)}"value"in oe&&i(K,"value",te.value,oe.value,me)}},E=(K,Z,te,oe,ue,se,me,re,q)=>{const ae=Z.el=K?K.el:s(""),ce=Z.anchor=K?K.anchor:s("");let{patchFlag:ee,dynamicChildren:ne,slotScopeIds:le}=Z;le&&(re=re?re.concat(le):le),K==null?(r(ae,te,oe),r(ce,te,oe),w(Z.children||[],te,ce,ue,se,me,re,q)):ee>0&&ee&64&&ne&&K.dynamicChildren?(M(K.dynamicChildren,ne,te,ue,se,me,re),(Z.key!=null||ue&&Z===ue.subTree)&&YT(K,Z,!0)):F(K,Z,te,ce,ue,se,me,re,q)},P=(K,Z,te,oe,ue,se,me,re,q)=>{Z.slotScopeIds=re,K==null?Z.shapeFlag&512?ue.ctx.activate(Z,te,oe,me,q):R(Z,te,oe,ue,se,me,q):I(K,Z,q)},R=(K,Z,te,oe,ue,se,me)=>{const re=K.component=QK(K,oe,ue);if(ly(K)&&(re.ctx.renderer=Y),JK(re),re.asyncDep){if(ue&&ue.registerDep(re,D),!K.el){const q=re.subTree=W(ti);g(null,q,Z,te)}}else D(re,K,Z,te,ue,se,me)},I=(K,Z,te)=>{const oe=Z.component=K.component;if(lK(K,Z,te))if(oe.asyncDep&&!oe.asyncResolved){B(oe,Z,te);return}else oe.next=Z,nK(oe.update),oe.effect.dirty=!0,oe.update();else Z.el=K.el,oe.vnode=Z},D=(K,Z,te,oe,ue,se,me)=>{const re=()=>{if(K.isMounted){let{next:ce,bu:ee,u:ne,parent:le,vnode:he}=K;{const xe=S$(K);if(xe){ce&&(ce.el=he.el,B(K,ce,me)),xe.asyncDep.then(()=>{K.isUnmounted||re()});return}}let pe=ce,ye;_l(K,!1),ce?(ce.el=he.el,B(K,ce,me)):ce=he,ee&&kc(ee),(ye=ce.props&&ce.props.onVnodeBeforeUpdate)&&Ua(ye,le,ce,he),_l(K,!0);const ge=X0(K),Ce=K.subTree;K.subTree=ge,m(Ce,ge,f(Ce.el),O(Ce),K,ue,se),ce.el=ge.el,pe===null&&uK(K,ge.el),ne&&Lr(ne,ue),(ye=ce.props&&ce.props.onVnodeUpdated)&&Lr(()=>Ua(ye,le,ce,he),ue)}else{let ce;const{el:ee,props:ne}=Z,{bm:le,m:he,parent:pe}=K,ye=eh(Z);if(_l(K,!1),le&&kc(le),!ye&&(ce=ne&&ne.onVnodeBeforeMount)&&Ua(ce,pe,Z),_l(K,!0),ee&&Q){const ge=()=>{K.subTree=X0(K),Q(ee,K.subTree,K,ue,null)};ye?Z.type.__asyncLoader().then(()=>!K.isUnmounted&&ge()):ge()}else{const ge=K.subTree=X0(K);m(null,ge,te,oe,K,ue,se),Z.el=ge.el}if(he&&Lr(he,ue),!ye&&(ce=ne&&ne.onVnodeMounted)){const ge=Z;Lr(()=>Ua(ce,pe,ge),ue)}(Z.shapeFlag&256||pe&&eh(pe.vnode)&&pe.vnode.shapeFlag&256)&&K.a&&Lr(K.a,ue),K.isMounted=!0,Z=te=oe=null}},q=K.effect=new IT(re,Xa,()=>VT(ae),K.scope),ae=K.update=()=>{q.dirty&&q.run()};ae.id=K.uid,_l(K,!0),ae()},B=(K,Z,te)=>{Z.component=K;const oe=K.vnode.props;K.vnode=Z,K.next=null,NK(K,Z.props,oe,te),FK(K,Z.children,te),yu(),cI(K),xu()},F=(K,Z,te,oe,ue,se,me,re,q=!1)=>{const ae=K&&K.children,ce=K?K.shapeFlag:0,ee=Z.children,{patchFlag:ne,shapeFlag:le}=Z;if(ne>0){if(ne&128){z(ae,ee,te,oe,ue,se,me,re,q);return}else if(ne&256){G(ae,ee,te,oe,ue,se,me,re,q);return}}le&8?(ce&16&&L(ae,ue,se),ee!==ae&&c(te,ee)):ce&16?le&16?z(ae,ee,te,oe,ue,se,me,re,q):L(ae,ue,se,!0):(ce&8&&c(te,""),le&16&&w(ee,te,oe,ue,se,me,re,q))},G=(K,Z,te,oe,ue,se,me,re,q)=>{K=K||Oc,Z=Z||Oc;const ae=K.length,ce=Z.length,ee=Math.min(ae,ce);let ne;for(ne=0;ne<ee;ne++){const le=Z[ne]=q?Vs(Z[ne]):ji(Z[ne]);m(K[ne],le,te,null,ue,se,me,re,q)}ae>ce?L(K,ue,se,!0,!1,ee):w(Z,te,oe,ue,se,me,re,q,ee)},z=(K,Z,te,oe,ue,se,me,re,q)=>{let ae=0;const ce=Z.length;let ee=K.length-1,ne=ce-1;for(;ae<=ee&&ae<=ne;){const le=K[ae],he=Z[ae]=q?Vs(Z[ae]):ji(Z[ae]);if(Hs(le,he))m(le,he,te,null,ue,se,me,re,q);else break;ae++}for(;ae<=ee&&ae<=ne;){const le=K[ee],he=Z[ne]=q?Vs(Z[ne]):ji(Z[ne]);if(Hs(le,he))m(le,he,te,null,ue,se,me,re,q);else break;ee--,ne--}if(ae>ee){if(ae<=ne){const le=ne+1,he=le<ce?Z[le].el:oe;for(;ae<=ne;)m(null,Z[ae]=q?Vs(Z[ae]):ji(Z[ae]),te,he,ue,se,me,re,q),ae++}}else if(ae>ne)for(;ae<=ee;)U(K[ae],ue,se,!0),ae++;else{const le=ae,he=ae,pe=new Map;for(ae=he;ae<=ne;ae++){const Pe=Z[ae]=q?Vs(Z[ae]):ji(Z[ae]);Pe.key!=null&&pe.set(Pe.key,ae)}let ye,ge=0;const Ce=ne-he+1;let xe=!1,be=0;const _e=new Array(Ce);for(ae=0;ae<Ce;ae++)_e[ae]=0;for(ae=le;ae<=ee;ae++){const Pe=K[ae];if(ge>=Ce){U(Pe,ue,se,!0);continue}let Ne;if(Pe.key!=null)Ne=pe.get(Pe.key);else for(ye=he;ye<=ne;ye++)if(_e[ye-he]===0&&Hs(Pe,Z[ye])){Ne=ye;break}Ne===void 0?U(Pe,ue,se,!0):(_e[Ne-he]=ae+1,Ne>=be?be=Ne:xe=!0,m(Pe,Z[Ne],te,null,ue,se,me,re,q),ge++)}const Ee=xe?HK(_e):Oc;for(ye=Ee.length-1,ae=Ce-1;ae>=0;ae--){const Pe=he+ae,Ne=Z[Pe],J=Pe+1<ce?Z[Pe+1].el:oe;_e[ae]===0?m(null,Ne,te,J,ue,se,me,re,q):xe&&(ye<0||ae!==Ee[ye]?N(Ne,te,J,2):ye--)}}},N=(K,Z,te,oe,ue=null)=>{const{el:se,type:me,transition:re,children:q,shapeFlag:ae}=K;if(ae&6){N(K.component.subTree,Z,te,oe);return}if(ae&128){K.suspense.move(Z,te,oe);return}if(ae&64){me.move(K,Z,te,Y);return}if(me===tt){r(se,Z,te);for(let ee=0;ee<q.length;ee++)N(q[ee],Z,te,oe);r(K.anchor,Z,te);return}if(me===wg){x(K,Z,te);return}if(oe!==2&&ae&1&&re)if(oe===0)re.beforeEnter(se),r(se,Z,te),Lr(()=>re.enter(se),ue);else{const{leave:ee,delayLeave:ne,afterLeave:le}=re,he=()=>r(se,Z,te),pe=()=>{ee(se,()=>{he(),le&&le()})};ne?ne(se,he,pe):pe()}else r(se,Z,te)},U=(K,Z,te,oe=!1,ue=!1)=>{const{type:se,props:me,ref:re,children:q,dynamicChildren:ae,shapeFlag:ce,patchFlag:ee,dirs:ne}=K;if(re!=null&&cC(re,null,te,K,!0),ce&256){Z.ctx.deactivate(K);return}const le=ce&1&&ne,he=!eh(K);let pe;if(he&&(pe=me&&me.onVnodeBeforeUnmount)&&Ua(pe,Z,K),ce&6)V(K.component,te,oe);else{if(ce&128){K.suspense.unmount(te,oe);return}le&&Sl(K,null,Z,"beforeUnmount"),ce&64?K.type.remove(K,Z,te,ue,Y,oe):ae&&(se!==tt||ee>0&&ee&64)?L(ae,Z,te,!1,!0):(se===tt&&ee&384||!ue&&ce&16)&&L(q,Z,te),oe&&$(K)}(he&&(pe=me&&me.onVnodeUnmounted)||le)&&Lr(()=>{pe&&Ua(pe,Z,K),le&&Sl(K,null,Z,"unmounted")},te)},$=K=>{const{type:Z,el:te,anchor:oe,transition:ue}=K;if(Z===tt){k(te,oe);return}if(Z===wg){b(K);return}const se=()=>{a(te),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(K.shapeFlag&1&&ue&&!ue.persisted){const{leave:me,delayLeave:re}=ue,q=()=>me(te,se);re?re(K.el,se,q):q()}else se()},k=(K,Z)=>{let te;for(;K!==Z;)te=d(K),a(K),K=te;a(Z)},V=(K,Z,te)=>{const{bum:oe,scope:ue,update:se,subTree:me,um:re}=K;oe&&kc(oe),ue.stop(),se&&(se.active=!1,U(me,K,Z,te)),re&&Lr(re,Z),Lr(()=>{K.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},L=(K,Z,te,oe=!1,ue=!1,se=0)=>{for(let me=se;me<K.length;me++)U(K[me],Z,te,oe,ue)},O=K=>K.shapeFlag&6?O(K.component.subTree):K.shapeFlag&128?K.suspense.next():d(K.anchor||K.el);let H=!1;const j=(K,Z,te)=>{K==null?Z._vnode&&U(Z._vnode,null,null,!0):m(Z._vnode||null,K,Z,null,null,null,te),H||(H=!0,cI(),t$(),H=!1),Z._vnode=K},Y={p:m,um:U,m:N,r:$,mt:R,mc:w,pc:F,pbc:M,n:O,o:e};let X,Q;return t&&([X,Q]=t(Y)),{render:j,hydrate:X,createApp:LK(j,X)}}function J0({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _l({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function UK(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function YT(e,t,n=!1){const r=e.children,a=t.children;if(Et(r)&&Et(a))for(let i=0;i<r.length;i++){const o=r[i];let s=a[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=a[i]=Vs(a[i]),s.el=o.el),n||YT(o,s)),s.type===Zh&&(s.el=o.el)}}function HK(e){const t=e.slice(),n=[0];let r,a,i,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(a=n[n.length-1],e[a]<u){t[r]=a,n.push(r);continue}for(i=0,o=n.length-1;i<o;)s=i+o>>1,e[n[s]]<u?i=s+1:o=s;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function S$(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:S$(t)}const $K=e=>e.__isTeleport,nh=e=>e&&(e.disabled||e.disabled===""),_I=e=>typeof SVGElement<"u"&&e instanceof SVGElement,AI=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,fC=(e,t)=>{const n=e&&e.to;return Hn(n)?t?t(n):null:n},GK={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,i,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:v,createText:m,createComment:p}}=u,g=nh(t.props);let{shapeFlag:y,children:x,dynamicChildren:b}=t;if(e==null){const A=t.el=m(""),S=t.anchor=m("");h(A,n,r),h(S,n,r);const _=t.target=fC(t.props,v),w=t.targetAnchor=m("");_&&(h(w,_),o==="svg"||_I(_)?o="svg":(o==="mathml"||AI(_))&&(o="mathml"));const C=(M,T)=>{y&16&&c(x,M,T,a,i,o,s,l)};g?C(n,S):_&&C(_,w)}else{t.el=e.el;const A=t.anchor=e.anchor,S=t.target=e.target,_=t.targetAnchor=e.targetAnchor,w=nh(e.props),C=w?n:S,M=w?A:_;if(o==="svg"||_I(S)?o="svg":(o==="mathml"||AI(S))&&(o="mathml"),b?(d(e.dynamicChildren,b,C,a,i,o,s),YT(e,t,!0)):l||f(e,t,C,M,a,i,o,s,!1),g)w?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):tp(t,n,A,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=fC(t.props,v);T&&tp(t,T,null,u,0)}else w&&tp(t,S,_,u,1)}_$(t)},remove(e,t,n,r,{um:a,o:{remove:i}},o){const{shapeFlag:s,children:l,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&i(c),o&&i(u),s&16){const h=o||!nh(d);for(let v=0;v<l.length;v++){const m=l[v];a(m,t,n,h,!!m.dynamicChildren)}}},move:tp,hydrate:WK};function tp(e,t,n,{o:{insert:r},m:a},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=i===2;if(f&&r(o,t,n),(!f||nh(c))&&l&16)for(let d=0;d<u.length;d++)a(u[d],t,n,2);f&&r(s,t,n)}function WK(e,t,n,r,a,i,{o:{nextSibling:o,parentNode:s,querySelector:l}},u){const c=t.target=fC(t.props,l);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(nh(t.props))t.anchor=u(o(e),t,s(e),n,r,a,i),t.targetAnchor=f;else{t.anchor=o(e);let d=f;for(;d;)if(d=o(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(f,t,c,n,r,a,i)}_$(t)}return t.anchor&&o(t.anchor)}const jK=GK;function _$(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const tt=Symbol.for("v-fgt"),Zh=Symbol.for("v-txt"),ti=Symbol.for("v-cmt"),wg=Symbol.for("v-stc"),rh=[];let Ci=null;function at(e=!1){rh.push(Ci=e?null:[])}function YK(){rh.pop(),Ci=rh[rh.length-1]||null}let mh=1;function wI(e){mh+=e}function A$(e){return e.dynamicChildren=mh>0?Ci||Oc:null,YK(),mh>0&&Ci&&Ci.push(e),e}function gt(e,t,n,r,a,i){return A$(Ye(e,t,n,r,a,i,!0))}function tn(e,t,n,r,a){return A$(W(e,t,n,r,a,!0))}function yh(e){return e?e.__v_isVNode===!0:!1}function Hs(e,t){return e.type===t.type&&e.key===t.key}const dy="__vInternal",w$=({key:e})=>e??null,Cg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Hn(e)||Zn(e)||Ft(e)?{i:ra,r:e,k:t,f:!!n}:e:null);function Ye(e,t=null,n=null,r=0,a=null,i=e===tt?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&w$(t),ref:t&&Cg(t),scopeId:sy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:ra};return s?(XT(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Hn(n)?8:16),mh>0&&!o&&Ci&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ci.push(l),l}const W=XK;function XK(e,t=null,n=null,r=0,a=null,i=!1){if((!e||e===a$)&&(e=ti),yh(e)){const s=oo(e,t,!0);return n&&XT(s,n),mh>0&&!i&&Ci&&(s.shapeFlag&6?Ci[Ci.indexOf(e)]=s:Ci.push(s)),s.patchFlag|=-2,s}if(rZ(e)&&(e=e.__vccOpts),t){t=qK(t);let{class:s,style:l}=t;s&&!Hn(s)&&(t.class=Ja(s)),Cn(l)&&(j4(l)&&!Et(l)&&(l=or({},l)),t.style=Ii(l))}const o=Hn(e)?1:i$(e)?128:$K(e)?64:Cn(e)?4:Ft(e)?2:0;return Ye(e,t,n,r,a,o,i,!0)}function qK(e){return e?j4(e)||dy in e?or({},e):e:null}function oo(e,t,n=!1){const{props:r,ref:a,patchFlag:i,children:o}=e,s=t?je(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&w$(s),ref:t&&t.ref?n&&a?Et(a)?a.concat(Cg(t)):[a,Cg(t)]:Cg(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oo(e.ssContent),ssFallback:e.ssFallback&&oo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Lt(e=" ",t=0){return W(Zh,null,e,t)}function C$(e,t){const n=W(wg,null,e);return n.staticCount=t,n}function rl(e="",t=!1){return t?(at(),tn(ti,null,e)):W(ti,null,e)}function ji(e){return e==null||typeof e=="boolean"?W(ti):Et(e)?W(tt,null,e.slice()):typeof e=="object"?Vs(e):W(Zh,null,String(e))}function Vs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oo(e)}function XT(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Et(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),XT(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!(dy in t)?t._ctx=ra:a===3&&ra&&(ra.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ft(t)?(t={default:t,_ctx:ra},n=32):(t=String(t),r&64?(n=16,t=[Lt(t)]):n=8);e.children=t,e.shapeFlag|=n}function je(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Ja([t.class,r.class]));else if(a==="style")t.style=Ii([t.style,r.style]);else if(ty(a)){const i=t[a],o=r[a];o&&i!==o&&!(Et(i)&&i.includes(o))&&(t[a]=i?[].concat(i,o):o)}else a!==""&&(t[a]=r[a])}return t}function Ua(e,t,n,r=null){ei(e,t,7,[n,r])}const KK=p$();let ZK=0;function QK(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||KK,i={uid:ZK++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new D4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:m$(r,a),emitsOptions:r$(r,a),emit:null,emitted:null,propsDefaults:Pn,inheritAttrs:r.inheritAttrs,ctx:Pn,data:Pn,props:Pn,attrs:Pn,slots:Pn,refs:Pn,setupState:Pn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=iK.bind(null,i),e.ce&&e.ce(i),i}let Nr=null;const hy=()=>Nr||ra;let Qg,dC;{const e=P4(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),i=>{a.length>1?a.forEach(o=>o(i)):a[0](i)}};Qg=t("__VUE_INSTANCE_SETTERS__",n=>Nr=n),dC=t("__VUE_SSR_SETTERS__",n=>vy=n)}const Qh=e=>{const t=Nr;return Qg(e),e.scope.on(),()=>{e.scope.off(),Qg(t)}},CI=()=>{Nr&&Nr.scope.off(),Qg(null)};function M$(e){return e.vnode.shapeFlag&4}let vy=!1;function JK(e,t=!1){t&&dC(t);const{props:n,children:r}=e.vnode,a=M$(e);OK(e,n,a,t),BK(e,r);const i=a?eZ(e,t):void 0;return t&&dC(!1),i}function eZ(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Y4(new Proxy(e.ctx,MK));const{setup:r}=n;if(r){const a=e.setupContext=r.length>1?nZ(e):null,i=Qh(e);yu();const o=Js(r,e,0,[e.props,a]);if(xu(),i(),M4(o)){if(o.then(CI,CI),t)return o.then(s=>{MI(e,s,t)}).catch(s=>{iy(s,e,0)});e.asyncDep=o}else MI(e,o,t)}else T$(e,t)}function MI(e,t,n){Ft(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Cn(t)&&(e.setupState=Z4(t)),T$(e,n)}let TI;function T$(e,t,n){const r=e.type;if(!e.render){if(!t&&TI&&!r.render){const a=r.template||WT(e).template;if(a){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=r,u=or(or({isCustomElement:i,delimiters:s},o),l);r.render=TI(a,u)}}e.render=r.render||Xa}{const a=Qh(e);yu();try{TK(e)}finally{xu(),a()}}}function tZ(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return ha(e,"get","$attrs"),t[n]}}))}function nZ(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return tZ(e)},slots:e.slots,emit:e.emit,expose:t}}function py(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Z4(Y4(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in th)return th[n](e)},has(t,n){return n in t||n in th}}))}function hC(e,t=!0){return Ft(e)?e.displayName||e.name:e.name||t&&e.__name}function rZ(e){return Ft(e)&&"__vccOpts"in e}const ie=(e,t)=>qq(e,t,vy);function mo(e,t,n){const r=arguments.length;return r===2?Cn(t)&&!Et(t)?yh(t)?W(e,null,[t]):W(e,t):W(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&yh(n)&&(n=[n]),W(e,t,n))}const aZ="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const iZ="http://www.w3.org/2000/svg",oZ="http://www.w3.org/1998/Math/MathML",zs=typeof document<"u"?document:null,EI=zs&&zs.createElement("template"),sZ={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?zs.createElementNS(iZ,e):t==="mathml"?zs.createElementNS(oZ,e):zs.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>zs.createTextNode(e),createComment:e=>zs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){const o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{EI.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const s=EI.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xs="transition",nd="animation",Kc=Symbol("_vtc"),so=(e,{slots:t})=>mo(mK,P$(e),t);so.displayName="Transition";const E$={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},lZ=so.props=or({},l$,E$),Al=(e,t=[])=>{Et(e)?e.forEach(n=>n(...t)):e&&e(...t)},PI=e=>e?Et(e)?e.some(t=>t.length>1):e.length>1:!1;function P$(e){const t={};for(const E in e)E in E$||(t[E]=e[E]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,v=uZ(a),m=v&&v[0],p=v&&v[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:A,onBeforeAppear:S=g,onAppear:_=y,onAppearCancelled:w=x}=t,C=(E,P,R)=>{Ns(E,P?c:s),Ns(E,P?u:o),R&&R()},M=(E,P)=>{E._isLeaving=!1,Ns(E,f),Ns(E,h),Ns(E,d),P&&P()},T=E=>(P,R)=>{const I=E?_:y,D=()=>C(P,E,R);Al(I,[P,D]),RI(()=>{Ns(P,E?l:i),ko(P,E?c:s),PI(I)||II(P,r,m,D)})};return or(t,{onBeforeEnter(E){Al(g,[E]),ko(E,i),ko(E,o)},onBeforeAppear(E){Al(S,[E]),ko(E,l),ko(E,u)},onEnter:T(!1),onAppear:T(!0),onLeave(E,P){E._isLeaving=!0;const R=()=>M(E,P);ko(E,f),I$(),ko(E,d),RI(()=>{E._isLeaving&&(Ns(E,f),ko(E,h),PI(b)||II(E,r,p,R))}),Al(b,[E,R])},onEnterCancelled(E){C(E,!1),Al(x,[E])},onAppearCancelled(E){C(E,!0),Al(w,[E])},onLeaveCancelled(E){M(E),Al(A,[E])}})}function uZ(e){if(e==null)return null;if(Cn(e))return[ex(e.enter),ex(e.leave)];{const t=ex(e);return[t,t]}}function ex(e){return bq(e)}function ko(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Kc]||(e[Kc]=new Set)).add(t)}function Ns(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Kc];n&&(n.delete(t),n.size||(e[Kc]=void 0))}function RI(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cZ=0;function II(e,t,n,r){const a=e._endId=++cZ,i=()=>{a===e._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:s,propCount:l}=R$(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function R$(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),a=r(`${xs}Delay`),i=r(`${xs}Duration`),o=DI(a,i),s=r(`${nd}Delay`),l=r(`${nd}Duration`),u=DI(s,l);let c=null,f=0,d=0;t===xs?o>0&&(c=xs,f=o,d=i.length):t===nd?u>0&&(c=nd,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?xs:nd:null,d=c?c===xs?i.length:l.length:0);const h=c===xs&&/\b(transform|all)(,|$)/.test(r(`${xs}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function DI(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>LI(n)+LI(e[r])))}function LI(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function I$(){return document.body.offsetHeight}function fZ(e,t,n){const r=e[Kc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const qT=Symbol("_vod"),Ta={beforeMount(e,{value:t},{transition:n}){e[qT]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):rd(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),rd(e,!0),r.enter(e)):r.leave(e,()=>{rd(e,!1)}):rd(e,t))},beforeUnmount(e,{value:t}){rd(e,t)}};function rd(e,t){e.style.display=t?e[qT]:"none"}const dZ=Symbol("");function hZ(e,t,n){const r=e.style,a=r.display,i=Hn(n);if(n&&!i){if(t&&!Hn(t))for(const o in t)n[o]==null&&vC(r,o,"");for(const o in n)vC(r,o,n[o])}else if(i){if(t!==n){const o=r[dZ];o&&(n+=";"+o),r.cssText=n}}else t&&e.removeAttribute("style");qT in e&&(r.display=a)}const OI=/\s*!important$/;function vC(e,t,n){if(Et(n))n.forEach(r=>vC(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=vZ(e,t);OI.test(n)?e.setProperty(wf(r),n.replace(OI,""),"important"):e[r]=n}}const NI=["Webkit","Moz","ms"],tx={};function vZ(e,t){const n=tx[t];if(n)return n;let r=ai(t);if(r!=="filter"&&r in e)return tx[t]=r;r=vo(r);for(let a=0;a<NI.length;a++){const i=NI[a]+r;if(i in e)return tx[t]=i}return t}const kI="http://www.w3.org/1999/xlink";function pZ(e,t,n,r,a){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(kI,t.slice(6,t.length)):e.setAttributeNS(kI,t,n);else{const i=Mq(t);n==null||i&&!R4(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function gZ(e,t,n,r,a,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,a,i),e[t]=n??"";return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){e._value=n;const u=s==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=R4(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Mc(e,t,n,r){e.addEventListener(t,n,r)}function mZ(e,t,n,r){e.removeEventListener(t,n,r)}const BI=Symbol("_vei");function yZ(e,t,n,r,a=null){const i=e[BI]||(e[BI]={}),o=i[t];if(r&&o)o.value=r;else{const[s,l]=xZ(t);if(r){const u=i[t]=_Z(r,a);Mc(e,s,u,l)}else o&&(mZ(e,s,o,l),i[t]=void 0)}}const FI=/(?:Once|Passive|Capture)$/;function xZ(e){let t;if(FI.test(e)){t={};let r;for(;r=e.match(FI);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wf(e.slice(2)),t]}let nx=0;const bZ=Promise.resolve(),SZ=()=>nx||(bZ.then(()=>nx=0),nx=Date.now());function _Z(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ei(AZ(r,n.value),t,5,[r])};return n.value=e,n.attached=SZ(),n}function AZ(e,t){if(Et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const VI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,wZ=(e,t,n,r,a,i,o,s,l)=>{const u=a==="svg";t==="class"?fZ(e,r,u):t==="style"?hZ(e,n,r):ty(t)?TT(t)||yZ(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CZ(e,t,r,u))?gZ(e,t,r,i,o,s,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),pZ(e,t,r,u))};function CZ(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&VI(t)&&Ft(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return VI(t)&&Hn(n)?!1:t in e}const D$=new WeakMap,L$=new WeakMap,Jg=Symbol("_moveCb"),zI=Symbol("_enterCb"),O$={name:"TransitionGroup",props:or({},lZ,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=hy(),r=s$();let a,i;return Kh(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!IZ(a[0].el,n.vnode.el,o))return;a.forEach(EZ),a.forEach(PZ);const s=a.filter(RZ);I$(),s.forEach(l=>{const u=l.el,c=u.style;ko(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Jg]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Jg]=null,Ns(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=zt(e),s=P$(o);let l=o.tag||tt;a=i,i=t.default?$T(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&qc(c,gh(c,s,r,n))}if(a)for(let u=0;u<a.length;u++){const c=a[u];qc(c,gh(c,s,r,n)),D$.set(c,c.el.getBoundingClientRect())}return W(l,null,i)}}},MZ=e=>delete e.mode;O$.props;const TZ=O$;function EZ(e){const t=e.el;t[Jg]&&t[Jg](),t[zI]&&t[zI]()}function PZ(e){L$.set(e,e.el.getBoundingClientRect())}function RZ(e){const t=D$.get(e),n=L$.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${a}px)`,i.transitionDuration="0s",e}}function IZ(e,t,n){const r=e.cloneNode(),a=e[Kc];a&&a.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=R$(r);return i.removeChild(r),o}const UI=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Et(t)?n=>kc(t,n):t};function DZ(e){e.target.composing=!0}function HI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rx=Symbol("_assign"),LZ={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[rx]=UI(a);const i=r||a.props&&a.props.type==="number";Mc(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),i&&(s=tC(s)),e[rx](s)}),n&&Mc(e,"change",()=>{e.value=e.value.trim()}),t||(Mc(e,"compositionstart",DZ),Mc(e,"compositionend",HI),Mc(e,"change",HI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:a}},i){if(e[rx]=UI(i),e.composing)return;const o=a||e.type==="number"?tC(e.value):e.value,s=t??"";o!==s&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===s)||(e.value=s))}},OZ=["ctrl","shift","alt","meta"],NZ={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>OZ.some(n=>e[`${n}Key`]&&!t.includes(n))},$I=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(a,...i)=>{for(let o=0;o<t.length;o++){const s=NZ[t[o]];if(s&&s(a,t))return}return e(a,...i)})},kZ=or({patchProp:wZ},sZ);let GI;function BZ(){return GI||(GI=VK(kZ))}const FZ=(...e)=>{const t=BZ().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=zZ(r);if(!a)return;const i=t._component;!Ft(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const o=n(a,!1,VZ(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t};function VZ(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zZ(e){return Hn(e)?document.querySelector(e):e}const Ze=wr({globalModel:!1,chatModel:0,dialogVisible:!1,DraggableDialogVisible:!1,warntitle:"",showModal:!1,btnflag:!1,folderList:{数学错题本:{导数:{极值点:{多次求导:{},鞍点:{}},求导方法:{泰勒展开:{},洛必达法则:{}}},双曲线:{},数学物理方法:{}}}}),UZ=""+new URL("ChatGPT-RAN3roHj.png",import.meta.url).href;/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Tc=typeof window<"u";function HZ(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const fn=Object.assign;function ax(e,t){const n={};for(const r in t){const a=t[r];n[r]=Pi(a)?a.map(e):e(a)}return n}const ah=()=>{},Pi=Array.isArray,$Z=/\/$/,GZ=e=>e.replace($Z,"");function ix(e,t,n="/"){let r,a={},i="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,s>-1?s:t.length),a=e(i)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=XZ(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:a,hash:o}}function WZ(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function WI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jZ(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Zc(t.matched[r],n.matched[a])&&N$(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function N$(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!YZ(e[n],t[n]))return!1;return!0}function YZ(e,t){return Pi(e)?jI(e,t):Pi(t)?jI(t,e):e===t}function jI(e,t){return Pi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function XZ(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var xh;(function(e){e.pop="pop",e.push="push"})(xh||(xh={}));var ih;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ih||(ih={}));function qZ(e){if(!e)if(Tc){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),GZ(e)}const KZ=/^[^#]+#/;function ZZ(e,t){return e.replace(KZ,"#")+t}function QZ(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const gy=()=>({left:window.pageXOffset,top:window.pageYOffset});function JZ(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=QZ(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function YI(e,t){return(history.state?history.state.position-t:-1)+e}const pC=new Map;function eQ(e,t){pC.set(e,t)}function tQ(e){const t=pC.get(e);return pC.delete(e),t}let nQ=()=>location.protocol+"//"+location.host;function k$(e,t){const{pathname:n,search:r,hash:a}=t,i=e.indexOf("#");if(i>-1){let s=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(s);return l[0]!=="/"&&(l="/"+l),WI(l,"")}return WI(n,e)+r+a}function rQ(e,t,n,r){let a=[],i=[],o=null;const s=({state:d})=>{const h=k$(e,location),v=n.value,m=t.value;let p=0;if(d){if(n.value=h,t.value=d,o&&o===v){o=null;return}p=m?d.position-m.position:0}else r(h);a.forEach(g=>{g(n.value,v,{delta:p,type:xh.pop,direction:p?p>0?ih.forward:ih.back:ih.unknown})})};function l(){o=n.value}function u(d){a.push(d);const h=()=>{const v=a.indexOf(d);v>-1&&a.splice(v,1)};return i.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(fn({},d.state,{scroll:gy()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function XI(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?gy():null}}function aQ(e){const{history:t,location:n}=window,r={value:k$(e,n)},a={value:t.state};a.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:nQ()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),a.value=u}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function o(l,u){const c=fn({},t.state,XI(a.value.back,l,a.value.forward,!0),u,{position:a.value.position});i(l,c,!0),r.value=l}function s(l,u){const c=fn({},a.value,t.state,{forward:l,scroll:gy()});i(c.current,c,!0);const f=fn({},XI(r.value,l,null),{position:c.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:a,push:s,replace:o}}function iQ(e){e=qZ(e);const t=aQ(e),n=rQ(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const a=fn({location:"",base:e,go:r,createHref:ZZ.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function oQ(e){return typeof e=="string"||e&&typeof e=="object"}function B$(e){return typeof e=="string"||typeof e=="symbol"}const bs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},F$=Symbol("");var qI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qI||(qI={}));function Qc(e,t){return fn(new Error,{type:e,[F$]:!0},t)}function Co(e,t){return e instanceof Error&&F$ in e&&(t==null||!!(e.type&t))}const KI="[^/]+?",sQ={sensitive:!1,strict:!1,start:!0,end:!0},lQ=/[.+*?^${}()[\]/\\]/g;function uQ(e,t){const n=fn({},sQ,t),r=[];let a=n.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(a+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(a+="/"),a+=d.value.replace(lQ,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:m,optional:p,regexp:g}=d;i.push({name:v,repeatable:m,optional:p});const y=g||KI;if(y!==KI){h+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${v}" (${y}): `+b.message)}}let x=m?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(x=p&&u.length<2?`(?:/${x})`:"/"+x),p&&(x+="?"),a+=x,h+=20,p&&(h+=-8),m&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",v=i[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:m,optional:p}=h,g=v in u?u[v]:"";if(Pi(g)&&!m)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const y=Pi(g)?g.join("/"):g;if(!y)if(p)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:i,parse:s,stringify:l}}function cQ(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function fQ(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const i=cQ(r[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-r.length)===1){if(ZI(r))return 1;if(ZI(a))return-1}return a.length-r.length}function ZI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const dQ={type:0,value:""},hQ=/[a-zA-Z0-9_]/;function vQ(e){if(!e)return[[]];if(e==="/")return[[dQ]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const a=[];let i;function o(){i&&a.push(i),i=[]}let s=0,l,u="",c="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:hQ.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),a}function pQ(e,t,n){const r=uQ(vQ(e.path),n),a=fn(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function gQ(e,t){const n=[],r=new Map;t=eD({strict:!1,end:!0,sensitive:!1},t);function a(c){return r.get(c)}function i(c,f,d){const h=!d,v=mQ(c);v.aliasOf=d&&d.record;const m=eD(t,c),p=[v];if("alias"in c){const x=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of x)p.push(fn({},v,{components:d?d.record.components:v.components,path:b,aliasOf:d?d.record:v}))}let g,y;for(const x of p){const{path:b}=x;if(f&&b[0]!=="/"){const A=f.record.path,S=A[A.length-1]==="/"?"":"/";x.path=f.record.path+(b&&S+b)}if(g=pQ(x,f,m),d?d.alias.push(g):(y=y||g,y!==g&&y.alias.push(g),h&&c.name&&!JI(g)&&o(c.name)),v.children){const A=v.children;for(let S=0;S<A.length;S++)i(A[S],g,d&&d.children[S])}d=d||g,(g.record.components&&Object.keys(g.record.components).length||g.record.name||g.record.redirect)&&l(g)}return y?()=>{o(y)}:ah}function o(c){if(B$(c)){const f=r.get(c);f&&(r.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function s(){return n}function l(c){let f=0;for(;f<n.length&&fQ(c,n[f])>=0&&(c.record.path!==n[f].record.path||!V$(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!JI(c)&&r.set(c.record.name,c)}function u(c,f){let d,h={},v,m;if("name"in c&&c.name){if(d=r.get(c.name),!d)throw Qc(1,{location:c});m=d.record.name,h=fn(QI(f.params,d.keys.filter(y=>!y.optional).map(y=>y.name)),c.params&&QI(c.params,d.keys.map(y=>y.name))),v=d.stringify(h)}else if("path"in c)v=c.path,d=n.find(y=>y.re.test(v)),d&&(h=d.parse(v),m=d.record.name);else{if(d=f.name?r.get(f.name):n.find(y=>y.re.test(f.path)),!d)throw Qc(1,{location:c,currentLocation:f});m=d.record.name,h=fn({},f.params,c.params),v=d.stringify(h)}const p=[];let g=d;for(;g;)p.unshift(g.record),g=g.parent;return{name:m,path:v,params:h,matched:p,meta:xQ(p)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:s,getRecordMatcher:a}}function QI(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function mQ(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:yQ(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function yQ(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function JI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xQ(e){return e.reduce((t,n)=>fn(t,n.meta),{})}function eD(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function V$(e,t){return t.children.some(n=>n===e||V$(e,n))}const z$=/#/g,bQ=/&/g,SQ=/\//g,_Q=/=/g,AQ=/\?/g,U$=/\+/g,wQ=/%5B/g,CQ=/%5D/g,H$=/%5E/g,MQ=/%60/g,$$=/%7B/g,TQ=/%7C/g,G$=/%7D/g,EQ=/%20/g;function KT(e){return encodeURI(""+e).replace(TQ,"|").replace(wQ,"[").replace(CQ,"]")}function PQ(e){return KT(e).replace($$,"{").replace(G$,"}").replace(H$,"^")}function gC(e){return KT(e).replace(U$,"%2B").replace(EQ,"+").replace(z$,"%23").replace(bQ,"%26").replace(MQ,"`").replace($$,"{").replace(G$,"}").replace(H$,"^")}function RQ(e){return gC(e).replace(_Q,"%3D")}function IQ(e){return KT(e).replace(z$,"%23").replace(AQ,"%3F")}function DQ(e){return e==null?"":IQ(e).replace(SQ,"%2F")}function em(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function LQ(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const i=r[a].replace(U$," "),o=i.indexOf("="),s=em(o<0?i:i.slice(0,o)),l=o<0?null:em(i.slice(o+1));if(s in t){let u=t[s];Pi(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function tD(e){let t="";for(let n in e){const r=e[n];if(n=RQ(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pi(r)?r.map(i=>i&&gC(i)):[r&&gC(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function OQ(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Pi(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const NQ=Symbol(""),nD=Symbol(""),ZT=Symbol(""),W$=Symbol(""),mC=Symbol("");function ad(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Us(e,t,n,r,a){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((o,s)=>{const l=f=>{f===!1?s(Qc(4,{from:n,to:t})):f instanceof Error?s(f):oQ(f)?s(Qc(2,{from:t,to:f})):(i&&r.enterCallbacks[a]===i&&typeof f=="function"&&i.push(f),o())},u=e.call(r&&r.instances[a],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(f=>s(f))})}function ox(e,t,n,r){const a=[];for(const i of e)for(const o in i.components){let s=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(kQ(s)){const u=(s.__vccOpts||s)[t];u&&a.push(Us(u,n,r,i,o))}else{let l=s();a.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const c=HZ(u)?u.default:u;i.components[o]=c;const d=(c.__vccOpts||c)[t];return d&&Us(d,n,r,i,o)()}))}}return a}function kQ(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function rD(e){const t=Vt(ZT),n=Vt(W$),r=ie(()=>t.resolve(ft(e.to))),a=ie(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(Zc.bind(null,c));if(d>-1)return d;const h=aD(l[u-2]);return u>1&&aD(c)===h&&f[f.length-1].path!==h?f.findIndex(Zc.bind(null,l[u-2])):d}),i=ie(()=>a.value>-1&&zQ(n.params,r.value.params)),o=ie(()=>a.value>-1&&a.value===n.matched.length-1&&N$(n.params,r.value.params));function s(l={}){return VQ(l)?t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(ah):Promise.resolve()}return{route:r,href:ie(()=>r.value.href),isActive:i,isExactActive:o,navigate:s}}const BQ=GT({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rD,setup(e,{slots:t}){const n=wr(rD(e)),{options:r}=Vt(ZT),a=ie(()=>({[iD(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[iD(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:mo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),FQ=BQ;function VQ(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zQ(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!Pi(a)||a.length!==r.length||r.some((i,o)=>i!==a[o]))return!1}return!0}function aD(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const iD=(e,t,n)=>e??t??n,UQ=GT({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Vt(mC),a=ie(()=>e.route||r.value),i=Vt(nD,0),o=ie(()=>{let u=ft(i);const{matched:c}=a.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=ie(()=>a.value.matched[o.value]);cn(nD,ie(()=>o.value+1)),cn(NQ,s),cn(mC,a);const l=Oe();return nt(()=>[l.value,s.value,e.name],([u,c,f],[d,h,v])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Zc(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=a.value,c=e.name,f=s.value,d=f&&f.components[c];if(!d)return oD(n.default,{Component:d,route:u});const h=f.props[c],v=h?h===!0?u.params:typeof h=="function"?h(u):h:null,p=mo(d,fn({},v,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return oD(n.default,{Component:p,route:u})||p}}});function oD(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const HQ=UQ;function $Q(e){const t=gQ(e.routes,e),n=e.parseQuery||LQ,r=e.stringifyQuery||tD,a=e.history,i=ad(),o=ad(),s=ad(),l=it(bs);let u=bs;Tc&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ax.bind(null,O=>""+O),f=ax.bind(null,DQ),d=ax.bind(null,em);function h(O,H){let j,Y;return B$(O)?(j=t.getRecordMatcher(O),Y=H):Y=O,t.addRoute(Y,j)}function v(O){const H=t.getRecordMatcher(O);H&&t.removeRoute(H)}function m(){return t.getRoutes().map(O=>O.record)}function p(O){return!!t.getRecordMatcher(O)}function g(O,H){if(H=fn({},H||l.value),typeof O=="string"){const Z=ix(n,O,H.path),te=t.resolve({path:Z.path},H),oe=a.createHref(Z.fullPath);return fn(Z,te,{params:d(te.params),hash:em(Z.hash),redirectedFrom:void 0,href:oe})}let j;if("path"in O)j=fn({},O,{path:ix(n,O.path,H.path).path});else{const Z=fn({},O.params);for(const te in Z)Z[te]==null&&delete Z[te];j=fn({},O,{params:f(Z)}),H.params=f(H.params)}const Y=t.resolve(j,H),X=O.hash||"";Y.params=c(d(Y.params));const Q=WZ(r,fn({},O,{hash:PQ(X),path:Y.path})),K=a.createHref(Q);return fn({fullPath:Q,hash:X,query:r===tD?OQ(O.query):O.query||{}},Y,{redirectedFrom:void 0,href:K})}function y(O){return typeof O=="string"?ix(n,O,l.value.path):fn({},O)}function x(O,H){if(u!==O)return Qc(8,{from:H,to:O})}function b(O){return _(O)}function A(O){return b(fn(y(O),{replace:!0}))}function S(O){const H=O.matched[O.matched.length-1];if(H&&H.redirect){const{redirect:j}=H;let Y=typeof j=="function"?j(O):j;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=y(Y):{path:Y},Y.params={}),fn({query:O.query,hash:O.hash,params:"path"in Y?{}:O.params},Y)}}function _(O,H){const j=u=g(O),Y=l.value,X=O.state,Q=O.force,K=O.replace===!0,Z=S(j);if(Z)return _(fn(y(Z),{state:typeof Z=="object"?fn({},X,Z.state):X,force:Q,replace:K}),H||j);const te=j;te.redirectedFrom=H;let oe;return!Q&&jZ(r,Y,j)&&(oe=Qc(16,{to:te,from:Y}),N(Y,Y,!0,!1)),(oe?Promise.resolve(oe):M(te,Y)).catch(ue=>Co(ue)?Co(ue,2)?ue:z(ue):F(ue,te,Y)).then(ue=>{if(ue){if(Co(ue,2))return _(fn({replace:K},y(ue.to),{state:typeof ue.to=="object"?fn({},X,ue.to.state):X,force:Q}),H||te)}else ue=E(te,Y,!0,K,X);return T(te,Y,ue),ue})}function w(O,H){const j=x(O,H);return j?Promise.reject(j):Promise.resolve()}function C(O){const H=k.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(O):O()}function M(O,H){let j;const[Y,X,Q]=GQ(O,H);j=ox(Y.reverse(),"beforeRouteLeave",O,H);for(const Z of Y)Z.leaveGuards.forEach(te=>{j.push(Us(te,O,H))});const K=w.bind(null,O,H);return j.push(K),L(j).then(()=>{j=[];for(const Z of i.list())j.push(Us(Z,O,H));return j.push(K),L(j)}).then(()=>{j=ox(X,"beforeRouteUpdate",O,H);for(const Z of X)Z.updateGuards.forEach(te=>{j.push(Us(te,O,H))});return j.push(K),L(j)}).then(()=>{j=[];for(const Z of Q)if(Z.beforeEnter)if(Pi(Z.beforeEnter))for(const te of Z.beforeEnter)j.push(Us(te,O,H));else j.push(Us(Z.beforeEnter,O,H));return j.push(K),L(j)}).then(()=>(O.matched.forEach(Z=>Z.enterCallbacks={}),j=ox(Q,"beforeRouteEnter",O,H),j.push(K),L(j))).then(()=>{j=[];for(const Z of o.list())j.push(Us(Z,O,H));return j.push(K),L(j)}).catch(Z=>Co(Z,8)?Z:Promise.reject(Z))}function T(O,H,j){s.list().forEach(Y=>C(()=>Y(O,H,j)))}function E(O,H,j,Y,X){const Q=x(O,H);if(Q)return Q;const K=H===bs,Z=Tc?history.state:{};j&&(Y||K?a.replace(O.fullPath,fn({scroll:K&&Z&&Z.scroll},X)):a.push(O.fullPath,X)),l.value=O,N(O,H,j,K),z()}let P;function R(){P||(P=a.listen((O,H,j)=>{if(!V.listening)return;const Y=g(O),X=S(Y);if(X){_(fn(X,{replace:!0}),Y).catch(ah);return}u=Y;const Q=l.value;Tc&&eQ(YI(Q.fullPath,j.delta),gy()),M(Y,Q).catch(K=>Co(K,12)?K:Co(K,2)?(_(K.to,Y).then(Z=>{Co(Z,20)&&!j.delta&&j.type===xh.pop&&a.go(-1,!1)}).catch(ah),Promise.reject()):(j.delta&&a.go(-j.delta,!1),F(K,Y,Q))).then(K=>{K=K||E(Y,Q,!1),K&&(j.delta&&!Co(K,8)?a.go(-j.delta,!1):j.type===xh.pop&&Co(K,20)&&a.go(-1,!1)),T(Y,Q,K)}).catch(ah)}))}let I=ad(),D=ad(),B;function F(O,H,j){z(O);const Y=D.list();return Y.length?Y.forEach(X=>X(O,H,j)):console.error(O),Promise.reject(O)}function G(){return B&&l.value!==bs?Promise.resolve():new Promise((O,H)=>{I.add([O,H])})}function z(O){return B||(B=!O,R(),I.list().forEach(([H,j])=>O?j(O):H()),I.reset()),O}function N(O,H,j,Y){const{scrollBehavior:X}=e;if(!Tc||!X)return Promise.resolve();const Q=!j&&tQ(YI(O.fullPath,0))||(Y||!j)&&history.state&&history.state.scroll||null;return Ht().then(()=>X(O,H,Q)).then(K=>K&&JZ(K)).catch(K=>F(K,O,H))}const U=O=>a.go(O);let $;const k=new Set,V={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,hasRoute:p,getRoutes:m,resolve:g,options:e,push:b,replace:A,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:i.add,beforeResolve:o.add,afterEach:s.add,onError:D.add,isReady:G,install(O){const H=this;O.component("RouterLink",FQ),O.component("RouterView",HQ),O.config.globalProperties.$router=H,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(l)}),Tc&&!$&&l.value===bs&&($=!0,b(a.location).catch(X=>{}));const j={};for(const X in bs)Object.defineProperty(j,X,{get:()=>l.value[X],enumerable:!0});O.provide(ZT,H),O.provide(W$,W4(j)),O.provide(mC,l);const Y=O.unmount;k.add(O),O.unmount=function(){k.delete(O),k.size<1&&(u=bs,P&&P(),P=null,l.value=bs,$=!1,B=!1),Y()}}};function L(O){return O.reduce((H,j)=>H.then(()=>C(j)),Promise.resolve())}return V}function GQ(e,t){const n=[],r=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const s=t.matched[o];s&&(e.matched.find(u=>Zc(u,s))?r.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(u=>Zc(u,l))||a.push(l))}return[n,r,a]}const QT=""+new URL("no_data-73ggypBy.svg",import.meta.url).href,Fe=wr({qid:"",title:"",Analyserdata:"",questionAnswer:"",questionText:"",steps:[],history:[],knowledges:[],dialogueArray:[],position:"",eventSource:null}),lr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},j$=e=>(po("data-v-7de4f932"),e=e(),go(),e),WQ={key:1,class:"text-area empty-area"},jQ=j$(()=>Ye("img",{src:QT,style:{height:"50%"}},null,-1)),YQ=j$(()=>Ye("div",{class:"text-font"},"请先拍题哦",-1)),XQ=[jQ,YQ],qQ={__name:"AnalysisCard",setup(e){function t(){MathJax.texReset(),MathJax.typesetClear(),MathJax.typesetPromise()}function n(){setTimeout(()=>{Ht(t)},100)}return gn(()=>{n()}),(r,a)=>{const i=We("v-card-subtitle"),o=We("v-card-item"),s=We("v-chip"),l=We("v-chip-group"),u=We("v-sheet"),c=We("v-card");return ft(Fe).Analyserdata!=""?(at(),gt("div",{key:0,class:"text-area",onClick:a[0]||(a[0]=(...f)=>r.openStepsCard&&r.openStepsCard(...f))},[W(c,{class:"analysis-content mx-auto",elevation:"0"},{default:ke(()=>[W(o,null,{default:ke(()=>[W(i,{style:{"white-space":"normal","font-size":"larger","line-height":"1.5rem"}},{default:ke(()=>[Lt(Qt(ft(Fe).Analyserdata),1)]),_:1})]),_:1}),W(u,{style:{margin:"0px 10px"}},{default:ke(()=>[W(l,{mandatory:"","selected-class":"primary-text"},{default:ke(()=>[(at(!0),gt(tt,null,ir(ft(Fe).knowledges,f=>(at(),tn(s,{key:f,class:"chip-item"},{default:ke(()=>[Lt(Qt(f),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])):(at(),gt("div",WQ,XQ))}}},Y$=lr(qQ,[["__scopeId","data-v-7de4f932"]]),X$=e=>(po("data-v-e5d496a5"),e=e(),go(),e),KQ={key:0,class:"text-area"},ZQ={style:{display:"flex"}},QQ={class:"step-index"},JQ={key:1,class:"text-area empty-area"},eJ=X$(()=>Ye("img",{src:QT,style:{height:"50%"}},null,-1)),tJ=X$(()=>Ye("div",{class:"text-font"},"请先拍题哦",-1)),nJ=[eJ,tJ],rJ={__name:"StepsCard",setup(e){return(t,n)=>{const r=We("v-avatar"),a=We("v-card-title"),i=We("v-card-text"),o=We("v-list-item"),s=We("v-card"),l=We("v-list");return ft(Fe).steps!=""?(at(),gt("div",KQ,[W(l,null,{default:ke(()=>[(at(!0),gt(tt,null,ir(ft(Fe).steps,(u,c)=>(at(),tn(s,{key:c,elevation:0,class:"list-item-card",color:""},{default:ke(()=>[W(o,null,{default:ke(()=>[Ye("div",ZQ,[W(r,{size:"45px",class:"avatar-item"},{default:ke(()=>[Ye("span",QQ,Qt(c+1),1)]),_:2},1024),W(a,{class:"list-item-title"},{default:ke(()=>[Lt(Qt(u.content),1)]),_:2},1024),W(i,{class:"list-item-subtitle"})])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(at(),gt("div",JQ,nJ))}}},q$=lr(rJ,[["__scopeId","data-v-e5d496a5"]]);function my(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K$={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(window,function(){return function(n){var r={};function a(i){if(r[i])return r[i].exports;var o=r[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=r,a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:s})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var l in i)a.d(s,l,(function(u){return i[u]}).bind(null,l));return s},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=141)}([function(n,r){function a(i){return i&&i.__esModule?i:{default:i}}n.exports=a},function(n,r,a){n.exports=a(142)},function(n,r,a){a.r(r),a.d(r,"__extends",function(){return o}),a.d(r,"__assign",function(){return s}),a.d(r,"__rest",function(){return l}),a.d(r,"__decorate",function(){return u}),a.d(r,"__param",function(){return c}),a.d(r,"__metadata",function(){return f}),a.d(r,"__awaiter",function(){return d}),a.d(r,"__generator",function(){return h}),a.d(r,"__createBinding",function(){return v}),a.d(r,"__exportStar",function(){return m}),a.d(r,"__values",function(){return p}),a.d(r,"__read",function(){return g}),a.d(r,"__spread",function(){return y}),a.d(r,"__spreadArrays",function(){return x}),a.d(r,"__spreadArray",function(){return b}),a.d(r,"__await",function(){return A}),a.d(r,"__asyncGenerator",function(){return S}),a.d(r,"__asyncDelegator",function(){return _}),a.d(r,"__asyncValues",function(){return w}),a.d(r,"__makeTemplateObject",function(){return C}),a.d(r,"__importStar",function(){return T}),a.d(r,"__importDefault",function(){return E}),a.d(r,"__classPrivateFieldGet",function(){return P}),a.d(r,"__classPrivateFieldSet",function(){return R});/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var i=function(I,D){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,F){B.__proto__=F}||function(B,F){for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&(B[G]=F[G])},i(I,D)};function o(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");i(I,D);function B(){this.constructor=I}I.prototype=D===null?Object.create(D):(B.prototype=D.prototype,new B)}var s=function(){return s=Object.assign||function(D){for(var B,F=1,G=arguments.length;F<G;F++){B=arguments[F];for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(D[z]=B[z])}return D},s.apply(this,arguments)};function l(I,D){var B={};for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&D.indexOf(F)<0&&(B[F]=I[F]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,F=Object.getOwnPropertySymbols(I);G<F.length;G++)D.indexOf(F[G])<0&&Object.prototype.propertyIsEnumerable.call(I,F[G])&&(B[F[G]]=I[F[G]]);return B}function u(I,D,B,F){var G=arguments.length,z=G<3?D:F===null?F=Object.getOwnPropertyDescriptor(D,B):F,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(I,D,B,F);else for(var U=I.length-1;U>=0;U--)(N=I[U])&&(z=(G<3?N(z):G>3?N(D,B,z):N(D,B))||z);return G>3&&z&&Object.defineProperty(D,B,z),z}function c(I,D){return function(B,F){D(B,F,I)}}function f(I,D){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,D)}function d(I,D,B,F){function G(z){return z instanceof B?z:new B(function(N){N(z)})}return new(B||(B=Promise))(function(z,N){function U(V){try{k(F.next(V))}catch(L){N(L)}}function $(V){try{k(F.throw(V))}catch(L){N(L)}}function k(V){V.done?z(V.value):G(V.value).then(U,$)}k((F=F.apply(I,D||[])).next())})}function h(I,D){var B={label:0,sent:function(){if(z[0]&1)throw z[1];return z[1]},trys:[],ops:[]},F,G,z,N;return N={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function U(k){return function(V){return $([k,V])}}function $(k){if(F)throw new TypeError("Generator is already executing.");for(;B;)try{if(F=1,G&&(z=k[0]&2?G.return:k[0]?G.throw||((z=G.return)&&z.call(G),0):G.next)&&!(z=z.call(G,k[1])).done)return z;switch(G=0,z&&(k=[k[0]&2,z.value]),k[0]){case 0:case 1:z=k;break;case 4:return B.label++,{value:k[1],done:!1};case 5:B.label++,G=k[1],k=[0];continue;case 7:k=B.ops.pop(),B.trys.pop();continue;default:if(z=B.trys,!(z=z.length>0&&z[z.length-1])&&(k[0]===6||k[0]===2)){B=0;continue}if(k[0]===3&&(!z||k[1]>z[0]&&k[1]<z[3])){B.label=k[1];break}if(k[0]===6&&B.label<z[1]){B.label=z[1],z=k;break}if(z&&B.label<z[2]){B.label=z[2],B.ops.push(k);break}z[2]&&B.ops.pop(),B.trys.pop();continue}k=D.call(I,B)}catch(V){k=[6,V],G=0}finally{F=z=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}}var v=Object.create?function(I,D,B,F){F===void 0&&(F=B),Object.defineProperty(I,F,{enumerable:!0,get:function(){return D[B]}})}:function(I,D,B,F){F===void 0&&(F=B),I[F]=D[B]};function m(I,D){for(var B in I)B!=="default"&&!Object.prototype.hasOwnProperty.call(D,B)&&v(D,I,B)}function p(I){var D=typeof Symbol=="function"&&Symbol.iterator,B=D&&I[D],F=0;if(B)return B.call(I);if(I&&typeof I.length=="number")return{next:function(){return I&&F>=I.length&&(I=void 0),{value:I&&I[F++],done:!I}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(I,D){var B=typeof Symbol=="function"&&I[Symbol.iterator];if(!B)return I;var F=B.call(I),G,z=[],N;try{for(;(D===void 0||D-- >0)&&!(G=F.next()).done;)z.push(G.value)}catch(U){N={error:U}}finally{try{G&&!G.done&&(B=F.return)&&B.call(F)}finally{if(N)throw N.error}}return z}function y(){for(var I=[],D=0;D<arguments.length;D++)I=I.concat(g(arguments[D]));return I}function x(){for(var I=0,D=0,B=arguments.length;D<B;D++)I+=arguments[D].length;for(var F=Array(I),G=0,D=0;D<B;D++)for(var z=arguments[D],N=0,U=z.length;N<U;N++,G++)F[G]=z[N];return F}function b(I,D){for(var B=0,F=D.length,G=I.length;B<F;B++,G++)I[G]=D[B];return I}function A(I){return this instanceof A?(this.v=I,this):new A(I)}function S(I,D,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var F=B.apply(I,D||[]),G,z=[];return G={},N("next"),N("throw"),N("return"),G[Symbol.asyncIterator]=function(){return this},G;function N(O){F[O]&&(G[O]=function(H){return new Promise(function(j,Y){z.push([O,H,j,Y])>1||U(O,H)})})}function U(O,H){try{$(F[O](H))}catch(j){L(z[0][3],j)}}function $(O){O.value instanceof A?Promise.resolve(O.value.v).then(k,V):L(z[0][2],O)}function k(O){U("next",O)}function V(O){U("throw",O)}function L(O,H){O(H),z.shift(),z.length&&U(z[0][0],z[0][1])}}function _(I){var D,B;return D={},F("next"),F("throw",function(G){throw G}),F("return"),D[Symbol.iterator]=function(){return this},D;function F(G,z){D[G]=I[G]?function(N){return(B=!B)?{value:A(I[G](N)),done:G==="return"}:z?z(N):N}:z}}function w(I){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D=I[Symbol.asyncIterator],B;return D?D.call(I):(I=typeof p=="function"?p(I):I[Symbol.iterator](),B={},F("next"),F("throw"),F("return"),B[Symbol.asyncIterator]=function(){return this},B);function F(z){B[z]=I[z]&&function(N){return new Promise(function(U,$){N=I[z](N),G(U,$,N.done,N.value)})}}function G(z,N,U,$){Promise.resolve($).then(function(k){z({value:k,done:U})},N)}}function C(I,D){return Object.defineProperty?Object.defineProperty(I,"raw",{value:D}):I.raw=D,I}var M=Object.create?function(I,D){Object.defineProperty(I,"default",{enumerable:!0,value:D})}:function(I,D){I.default=D};function T(I){if(I&&I.__esModule)return I;var D={};if(I!=null)for(var B in I)B!=="default"&&Object.prototype.hasOwnProperty.call(I,B)&&v(D,I,B);return M(D,I),D}function E(I){return I&&I.__esModule?I:{default:I}}function P(I,D){if(!D.has(I))throw new TypeError("attempted to get private field on non-instance");return D.get(I)}function R(I,D,B){if(!D.has(I))throw new TypeError("attempted to set private field on non-instance");return D.set(I,B),B}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(89)),l=i(a(4)),u=i(a(26)),c=i(a(17)),f=i(a(121)),d=i(a(27)),h=i(a(91)),v=i(a(70)),m=i(a(28)),p=i(a(57));(0,o.default)(r,"__esModule",{value:!0}),r.DomElement=void 0;var g=a(2),y=a(6),x=[];function b(M){var T=document.createElement("div");T.innerHTML=M;var E=T.children;return y.toArray(E)}function A(M){return M?M instanceof HTMLCollection||M instanceof NodeList:!1}function S(M){var T=document.querySelectorAll(M);return y.toArray(T)}function _(M){var T=[],E=[];return(0,s.default)(M)?T=M:T=M.split(";"),(0,l.default)(T).call(T,function(P){var R,I=(0,u.default)(R=P.split(":")).call(R,function(D){return(0,c.default)(D).call(D)});I.length===2&&E.push(I[0]+":"+I[1])}),E}var w=function(){function M(T){if(this.elems=[],this.length=this.elems.length,this.dataSource=new f.default,!!T){if(T instanceof M)return T;var E=[],P=T instanceof Node?T.nodeType:-1;if(this.selector=T,P===1||P===9)E=[T];else if(A(T))E=y.toArray(T);else if(T instanceof Array)E=T;else if(typeof T=="string"){var R,I=(0,c.default)(R=T.replace(`/
/mg`,"")).call(R);(0,d.default)(I).call(I,"<")===0?E=b(I):E=S(I)}var D=E.length;if(!D)return this;for(var B=0;B<D;B++)this.elems.push(E[B]);this.length=D}}return(0,o.default)(M.prototype,"id",{get:function(){return this.elems[0].id},enumerable:!1,configurable:!0}),M.prototype.forEach=function(T){for(var E=0;E<this.length;E++){var P=this.elems[E],R=T.call(P,P,E);if(R===!1)break}return this},M.prototype.clone=function(T){var E;T===void 0&&(T=!1);var P=[];return(0,l.default)(E=this.elems).call(E,function(R){P.push(R.cloneNode(!!T))}),C(P)},M.prototype.get=function(T){T===void 0&&(T=0);var E=this.length;return T>=E&&(T=T%E),C(this.elems[T])},M.prototype.first=function(){return this.get(0)},M.prototype.last=function(){var T=this.length;return this.get(T-1)},M.prototype.on=function(T,E,P){var R;return T?(typeof E=="function"&&(P=E,E=""),(0,l.default)(R=this).call(R,function(I){if(!E){I.addEventListener(T,P);return}var D=function(F){var G=F.target;G.matches(E)&&P.call(G,F)};I.addEventListener(T,D),x.push({elem:I,selector:E,fn:P,agentFn:D})})):this},M.prototype.off=function(T,E,P){var R;return T?(typeof E=="function"&&(P=E,E=""),(0,l.default)(R=this).call(R,function(I){if(E){for(var D=-1,B=0;B<x.length;B++){var F=x[B];if(F.selector===E&&F.fn===P&&F.elem===I){D=B;break}}if(D!==-1){var G=(0,h.default)(x).call(x,D,1)[0].agentFn;I.removeEventListener(T,G)}}else I.removeEventListener(T,P)})):this},M.prototype.attr=function(T,E){var P;return E==null?this.elems[0].getAttribute(T)||"":(0,l.default)(P=this).call(P,function(R){R.setAttribute(T,E)})},M.prototype.removeAttr=function(T){var E;(0,l.default)(E=this).call(E,function(P){P.removeAttribute(T)})},M.prototype.addClass=function(T){var E;return T?(0,l.default)(E=this).call(E,function(P){if(P.className){var R=P.className.split(/\s/);R=(0,v.default)(R).call(R,function(I){return!!(0,c.default)(I).call(I)}),(0,d.default)(R).call(R,T)<0&&R.push(T),P.className=R.join(" ")}else P.className=T}):this},M.prototype.removeClass=function(T){var E;return T?(0,l.default)(E=this).call(E,function(P){if(P.className){var R=P.className.split(/\s/);R=(0,v.default)(R).call(R,function(I){return I=(0,c.default)(I).call(I),!(!I||I===T)}),P.className=R.join(" ")}}):this},M.prototype.hasClass=function(T){if(!T)return!1;var E=this.elems[0];if(!E.className)return!1;var P=E.className.split(/\s/);return(0,m.default)(P).call(P,T)},M.prototype.css=function(T,E){var P,R;return E==""?R="":R=T+":"+E+";",(0,l.default)(P=this).call(P,function(I){var D,B=(0,c.default)(D=I.getAttribute("style")||"").call(D);if(B){var F=_(B);F=(0,u.default)(F).call(F,function(G){return(0,d.default)(G).call(G,T)===0?R:G}),R!=""&&(0,d.default)(F).call(F,R)<0&&F.push(R),R==""&&(F=_(F)),I.setAttribute("style",F.join("; "))}else I.setAttribute("style",R)})},M.prototype.getBoundingClientRect=function(){var T=this.elems[0];return T.getBoundingClientRect()},M.prototype.show=function(){return this.css("display","block")},M.prototype.hide=function(){return this.css("display","none")},M.prototype.children=function(){var T=this.elems[0];return T?C(T.children):null},M.prototype.childNodes=function(){var T=this.elems[0];return T?C(T.childNodes):null},M.prototype.replaceChildAll=function(T){for(var E=this.getNode(),P=this.elems[0];P.hasChildNodes();)E.firstChild&&P.removeChild(E.firstChild);this.append(T)},M.prototype.append=function(T){var E;return(0,l.default)(E=this).call(E,function(P){(0,l.default)(T).call(T,function(R){P.appendChild(R)})})},M.prototype.remove=function(){var T;return(0,l.default)(T=this).call(T,function(E){if(E.remove)E.remove();else{var P=E.parentElement;P&&P.removeChild(E)}})},M.prototype.isContain=function(T){var E=this.elems[0],P=T.elems[0];return E.contains(P)},M.prototype.getNodeName=function(){var T=this.elems[0];return T.nodeName},M.prototype.getNode=function(T){T===void 0&&(T=0);var E;return E=this.elems[T],E},M.prototype.find=function(T){var E=this.elems[0];return C(E.querySelectorAll(T))},M.prototype.text=function(T){if(T){var P;return(0,l.default)(P=this).call(P,function(R){R.innerHTML=T})}else{var E=this.elems[0];return E.innerHTML.replace(/<[^>]+>/g,function(){return""})}},M.prototype.html=function(T){var E=this.elems[0];return T?(E.innerHTML=T,this):E.innerHTML},M.prototype.val=function(){var T,E=this.elems[0];return(0,c.default)(T=E.value).call(T)},M.prototype.focus=function(){var T;return(0,l.default)(T=this).call(T,function(E){E.focus()})},M.prototype.prev=function(){var T=this.elems[0];return C(T.previousElementSibling)},M.prototype.next=function(){var T=this.elems[0];return C(T.nextElementSibling)},M.prototype.getNextSibling=function(){var T=this.elems[0];return C(T.nextSibling)},M.prototype.parent=function(){var T=this.elems[0];return C(T.parentElement)},M.prototype.parentUntil=function(T,E){var P=E||this.elems[0];if(P.nodeName==="BODY")return null;var R=P.parentElement;return R===null?null:R.matches(T)?C(R):this.parentUntil(T,R)},M.prototype.parentUntilEditor=function(T,E,P){var R=P||this.elems[0];if(C(R).equal(E.$textContainerElem)||C(R).equal(E.$toolbarElem))return null;var I=R.parentElement;return I===null?null:I.matches(T)?C(I):this.parentUntilEditor(T,E,I)},M.prototype.equal=function(T){return T instanceof M?this.elems[0]===T.elems[0]:T instanceof HTMLElement?this.elems[0]===T:!1},M.prototype.insertBefore=function(T){var E,P=C(T),R=P.elems[0];return R?(0,l.default)(E=this).call(E,function(I){var D=R.parentNode;D==null||D.insertBefore(I,R)}):this},M.prototype.insertAfter=function(T){var E,P=C(T),R=P.elems[0],I=R&&R.nextSibling;return R?(0,l.default)(E=this).call(E,function(D){var B=R.parentNode;I?B.insertBefore(D,I):B.appendChild(D)}):this},M.prototype.data=function(T,E){if(E!=null)this.dataSource.set(T,E);else return this.dataSource.get(T)},M.prototype.getNodeTop=function(T){if(this.length<1)return this;var E=this.parent();return T.$textElem.equal(this)||T.$textElem.equal(E)?this:(E.prior=this,E.getNodeTop(T))},M.prototype.getOffsetData=function(){var T=this.elems[0];return{top:T.offsetTop,left:T.offsetLeft,width:T.offsetWidth,height:T.offsetHeight,parent:T.offsetParent}},M.prototype.scrollTop=function(T){var E=this.elems[0];E.scrollTo({top:T})},M}();r.DomElement=w;function C(){for(var M=[],T=0;T<arguments.length;T++)M[T]=arguments[T];return new((0,p.default)(w).apply(w,g.__spreadArrays([void 0],M)))}r.default=C},function(n,r,a){n.exports=a(180)},function(n,r,a){var i=a(8),o=a(71).f,s=a(101),l=a(9),u=a(40),c=a(19),f=a(16),d=function(h){var v=function(m,p,g){if(this instanceof h){switch(arguments.length){case 0:return new h;case 1:return new h(m);case 2:return new h(m,p)}return new h(m,p,g)}return h.apply(this,arguments)};return v.prototype=h.prototype,v};n.exports=function(h,v){var m=h.target,p=h.global,g=h.stat,y=h.proto,x=p?i:g?i[m]:(i[m]||{}).prototype,b=p?l:l[m]||(l[m]={}),A=b.prototype,S,_,w,C,M,T,E,P,R;for(C in v)S=s(p?C:m+(g?".":"#")+C,h.forced),_=!S&&x&&f(x,C),T=b[C],_&&(h.noTargetGet?(R=o(x,C),E=R&&R.value):E=x[C]),M=_&&E?E:v[C],!(_&&typeof T==typeof M)&&(h.bind&&_?P=u(M,i):h.wrap&&_?P=d(M):y&&typeof M=="function"?P=u(Function.call,M):P=M,(h.sham||M&&M.sham||T&&T.sham)&&c(P,"sham",!0),b[C]=P,y&&(w=m+"Prototype",f(l,w)||c(l,w,{}),l[w][C]=M,h.real&&A&&!A[C]&&c(A,C,M)))}},function(n,r,a){var i=a(0),o=i(a(92)),s=i(a(1)),l=i(a(256)),u=i(a(45)),c=i(a(46)),f=i(a(89)),d=i(a(26));(0,s.default)(r,"__esModule",{value:!0}),r.hexToRgb=r.getRandomCode=r.toArray=r.deepClone=r.isFunction=r.debounce=r.throttle=r.arrForEach=r.forEach=r.replaceSpecialSymbol=r.replaceHtmlSymbol=r.getRandom=r.UA=void 0;var h=a(2),v=function(){function T(){this._ua=navigator.userAgent;var E=this._ua.match(/(Edge?)\/(\d+)/);this.isOldEdge=!!(E&&E[1]=="Edge"&&(0,l.default)(E[2])<19),this.isFirefox=!!(/Firefox\/\d+/.test(this._ua)&&!/Seamonkey\/\d+/.test(this._ua))}return T.prototype.isIE=function(){return"ActiveXObject"in window},T.prototype.isWebkit=function(){return/webkit/i.test(this._ua)},T}();r.UA=new v;function m(T){var E;return T===void 0&&(T=""),T+(0,u.default)(E=Math.random().toString()).call(E,2)}r.getRandom=m;function p(T){return T.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}r.replaceHtmlSymbol=p;function g(T){return T.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,'"')}r.replaceSpecialSymbol=g;function y(T,E){for(var P in T)if(Object.prototype.hasOwnProperty.call(T,P)){var R=E(P,T[P]);if(R===!1)break}}r.forEach=y;function x(T,E){var P,R,I,D=T.length||0;for(P=0;P<D&&(R=T[P],I=E.call(T,R,P),I!==!1);P++);}r.arrForEach=x;function b(T,E){E===void 0&&(E=200);var P=!1;return function(){for(var R=this,I=[],D=0;D<arguments.length;D++)I[D]=arguments[D];P||(P=!0,(0,c.default)(function(){P=!1,T.call.apply(T,h.__spreadArrays([R],I))},E))}}r.throttle=b;function A(T,E){E===void 0&&(E=200);var P=0;return function(){for(var R=this,I=[],D=0;D<arguments.length;D++)I[D]=arguments[D];P&&window.clearTimeout(P),P=(0,c.default)(function(){P=0,T.call.apply(T,h.__spreadArrays([R],I))},E)}}r.debounce=A;function S(T){return typeof T=="function"}r.isFunction=S;function _(T){if((0,o.default)(T)!=="object"||typeof T=="function"||T===null)return T;var E;(0,f.default)(T)&&(E=[]),(0,f.default)(T)||(E={});for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(E[P]=_(T[P]));return E}r.deepClone=_;function w(T){return(0,u.default)(Array.prototype).call(T)}r.toArray=w;function C(){var T;return(0,u.default)(T=Math.random().toString(36)).call(T,-5)}r.getRandomCode=C;function M(T){var E=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(T);if(E==null)return null;var P=(0,d.default)(E).call(E,function(B){return(0,l.default)(B,16)}),R=P[1],I=P[2],D=P[3];return"rgb("+R+", "+I+", "+D+")"}r.hexToRgb=M},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.EMPTY_P_REGEX=r.EMPTY_P_LAST_REGEX=r.EMPTY_P=r.urlRegex=r.EMPTY_FN=void 0;function s(){}r.EMPTY_FN=s,r.urlRegex=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/g,r.EMPTY_P='<p data-we-empty-p=""><br></p>',r.EMPTY_P_LAST_REGEX=/<p data-we-empty-p=""><br\/?><\/p>$/gim,r.EMPTY_P_REGEX=/<p data-we-empty-p="">/gim},function(n,r,a){(function(i){var o=function(s){return s&&s.Math==Math&&s};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||Function("return this")()}).call(this,a(145))},function(n,r){n.exports={}},function(n,r,a){var i=a(8),o=a(74),s=a(16),l=a(64),u=a(76),c=a(106),f=o("wks"),d=i.Symbol,h=c?d:d&&d.withoutSetter||l;n.exports=function(v){return s(f,v)||(u&&s(d,v)?f[v]=d[v]:f[v]=h("Symbol."+v)),f[v]}},function(n,r){n.exports=function(a){try{return!!a()}catch{return!0}}},function(n,r,a){var i=a(9),o=a(16),s=a(93),l=a(18).f;n.exports=function(u){var c=i.Symbol||(i.Symbol={});o(c,u)||l(c,u,{value:s.f(u)})}},function(n,r){n.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},function(n,r,a){var i=a(11);n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,r,a){var i=a(9);n.exports=function(o){return i[o+"Prototype"]}},function(n,r){var a={}.hasOwnProperty;n.exports=function(i,o){return a.call(i,o)}},function(n,r,a){n.exports=a(192)},function(n,r,a){var i=a(14),o=a(100),s=a(25),l=a(60),u=Object.defineProperty;r.f=i?u:function(f,d,h){if(s(f),d=l(d,!0),s(h),o)try{return u(f,d,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(f[d]=h.value),f}},function(n,r,a){var i=a(14),o=a(18),s=a(48);n.exports=i?function(l,u,c){return o.f(l,u,s(1,c))}:function(l,u,c){return l[u]=c,l}},function(n,r,a){var i=function(){var x;return function(){return typeof x>"u"&&(x=!!(window&&document&&document.all&&!window.atob)),x}}(),o=function(){var x={};return function(A){if(typeof x[A]>"u"){var S=document.querySelector(A);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}x[A]=S}return x[A]}}(),s=[];function l(y){for(var x=-1,b=0;b<s.length;b++)if(s[b].identifier===y){x=b;break}return x}function u(y,x){for(var b={},A=[],S=0;S<y.length;S++){var _=y[S],w=x.base?_[0]+x.base:_[0],C=b[w]||0,M="".concat(w," ").concat(C);b[w]=C+1;var T=l(M),E={css:_[1],media:_[2],sourceMap:_[3]};T!==-1?(s[T].references++,s[T].updater(E)):s.push({identifier:M,updater:g(E,x),references:1}),A.push(M)}return A}function c(y){var x=document.createElement("style"),b=y.attributes||{};if(typeof b.nonce>"u"){var A=a.nc;A&&(b.nonce=A)}if(Object.keys(b).forEach(function(_){x.setAttribute(_,b[_])}),typeof y.insert=="function")y.insert(x);else{var S=o(y.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(x)}return x}function f(y){if(y.parentNode===null)return!1;y.parentNode.removeChild(y)}var d=function(){var x=[];return function(A,S){return x[A]=S,x.filter(Boolean).join(`
`)}}();function h(y,x,b,A){var S=b?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(y.styleSheet)y.styleSheet.cssText=d(x,S);else{var _=document.createTextNode(S),w=y.childNodes;w[x]&&y.removeChild(w[x]),w.length?y.insertBefore(_,w[x]):y.appendChild(_)}}function v(y,x,b){var A=b.css,S=b.media,_=b.sourceMap;if(S?y.setAttribute("media",S):y.removeAttribute("media"),_&&typeof btoa<"u"&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),y.styleSheet)y.styleSheet.cssText=A;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(A))}}var m=null,p=0;function g(y,x){var b,A,S;if(x.singleton){var _=p++;b=m||(m=c(x)),A=h.bind(null,b,_,!1),S=h.bind(null,b,_,!0)}else b=c(x),A=v.bind(null,b,x),S=function(){f(b)};return A(y),function(C){if(C){if(C.css===y.css&&C.media===y.media&&C.sourceMap===y.sourceMap)return;A(y=C)}else S()}}n.exports=function(y,x){x=x||{},!x.singleton&&typeof x.singleton!="boolean"&&(x.singleton=i()),y=y||[];var b=u(y,x);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var _=0;_<b.length;_++){var w=b[_],C=l(w);s[C].references--}for(var M=u(S,x),T=0;T<b.length;T++){var E=b[T],P=l(E);s[P].references===0&&(s[P].updater(),s.splice(P,1))}b=M}}}},function(n,r,a){n.exports=function(s){var l=[];return l.toString=function(){return this.map(function(c){var f=i(c,s);return c[2]?"@media ".concat(c[2]," {").concat(f,"}"):f}).join("")},l.i=function(u,c,f){typeof u=="string"&&(u=[[null,u,""]]);var d={};if(f)for(var h=0;h<this.length;h++){var v=this[h][0];v!=null&&(d[v]=!0)}for(var m=0;m<u.length;m++){var p=[].concat(u[m]);f&&d[p[0]]||(c&&(p[2]?p[2]="".concat(c," and ").concat(p[2]):p[2]=c),l.push(p))}},l};function i(s,l){var u=s[1]||"",c=s[3];if(!c)return u;if(l&&typeof btoa=="function"){var f=o(c),d=c.sources.map(function(h){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(h," */")});return[u].concat(d).concat([f]).join(`
`)}return[u].join(`
`)}function o(s){var l=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l);return"/*# ".concat(u," */")}},function(n,r,a){var i=a(14),o=a(11),s=a(16),l=Object.defineProperty,u={},c=function(f){throw f};n.exports=function(f,d){if(s(u,f))return u[f];d||(d={});var h=[][f],v=s(d,"ACCESSORS")?d.ACCESSORS:!1,m=s(d,0)?d[0]:c,p=s(d,1)?d[1]:void 0;return u[f]=!!h&&!o(function(){if(v&&!i)return!0;var g={length:-1};v?l(g,1,{enumerable:!0,get:c}):g[1]=1,h.call(g,m,p)})}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(95)),u=function(c){s.__extends(f,c);function f(d,h){return c.call(this,d,h)||this}return f}(l.default);r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(46));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=u.__importDefault(a(95)),d=u.__importDefault(a(134)),h=function(v){u.__extends(m,v);function m(p,g,y){var x=v.call(this,p,g)||this;y.title=g.i18next.t("menus.dropListMenu."+y.title);var b=g.config.lang==="zh-CN"?"":"w-e-drop-list-tl";if(b!==""&&y.type==="list"){var A;(0,s.default)(A=y.list).call(A,function(_){var w=_.$elem,C=c.default(w.children());if(C.length>0){var M=C==null?void 0:C.getNodeName();M&&M==="I"&&w.addClass(b)}})}var S=new d.default(x,y);return x.dropList=S,p.on("click",function(){var _;g.selection.getRange()!=null&&(p.css("z-index",g.zIndex.get("menu")),(0,s.default)(_=g.txt.eventHooks.dropListMenuHoverEvents).call(_,function(w){return w()}),S.show())}).on("mouseleave",function(){p.css("z-index","auto"),S.hideTimeoutId=(0,l.default)(function(){S.hide()})}),x}return m}(f.default);r.default=h},function(n,r,a){var i=a(13);n.exports=function(o){if(!i(o))throw TypeError(String(o)+" is not an object");return o}},function(n,r,a){n.exports=a(188)},function(n,r,a){n.exports=a(201)},function(n,r,a){n.exports=a(213)},function(n,r,a){n.exports=a(283)},function(n,r,a){var i=a(72),o=a(49);n.exports=function(s){return i(o(s))}},function(n,r,a){var i=a(49);n.exports=function(o){return Object(i(o))}},function(n,r,a){var i=a(40),o=a(72),s=a(31),l=a(35),u=a(88),c=[].push,f=function(d){var h=d==1,v=d==2,m=d==3,p=d==4,g=d==6,y=d==5||g;return function(x,b,A,S){for(var _=s(x),w=o(_),C=i(b,A,3),M=l(w.length),T=0,E=S||u,P=h?E(x,M):v?E(x,0):void 0,R,I;M>T;T++)if((y||T in w)&&(R=w[T],I=C(R,T,_),d)){if(h)P[T]=I;else if(I)switch(d){case 3:return!0;case 5:return R;case 6:return T;case 2:c.call(P,R)}else if(p)return!1}return g?-1:m||p?p:P}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(29)),u=i(a(132));(0,o.default)(r,"__esModule",{value:!0});var c=a(2),f=c.__importDefault(a(3)),d=a(7),h=function(){function v(m,p){this.menu=m,this.conf=p,this.$container=f.default('<div class="w-e-panel-container"></div>');var g=m.editor;g.txt.eventHooks.clickEvents.push(v.hideCurAllPanels),g.txt.eventHooks.toolbarClickEvents.push(v.hideCurAllPanels),g.txt.eventHooks.dropListMenuHoverEvents.push(v.hideCurAllPanels)}return v.prototype.create=function(){var m=this,p=this.menu;if(!v.createdMenus.has(p)){var g=this.conf,y=this.$container,x=g.width||300,b=p.editor.$toolbarElem.getBoundingClientRect(),A=p.$elem.getBoundingClientRect(),S=b.height+b.top-A.top,_=(b.width-x)/2+b.left-A.left,w=300;Math.abs(_)>w&&(A.left<document.documentElement.clientWidth/2?_=-A.width/2:_=-x+A.width/2),y.css("width",x+"px").css("margin-top",S+"px").css("margin-left",_+"px").css("z-index",p.editor.zIndex.get("panel"));var C=f.default('<i class="w-e-icon-close w-e-panel-close"></i>');y.append(C),C.on("click",function(){m.remove()});var M=f.default('<ul class="w-e-panel-tab-title"></ul>'),T=f.default('<div class="w-e-panel-tab-content"></div>');y.append(M).append(T);var E=g.height;E&&T.css("height",E+"px").css("overflow-y","auto");var P=g.tabs||[],R=[],I=[];(0,s.default)(P).call(P,function(B,F){if(B){var G=B.title||"",z=B.tpl||"",N=f.default('<li class="w-e-item">'+G+"</li>");M.append(N);var U=f.default(z);T.append(U),R.push(N),I.push(U),F===0?(N.data("active",!0),N.addClass("w-e-active")):U.hide(),N.on("click",function(){N.data("active")||((0,s.default)(R).call(R,function($){$.data("active",!1),$.removeClass("w-e-active")}),(0,s.default)(I).call(I,function($){$.hide()}),N.data("active",!0),N.addClass("w-e-active"),U.show())})}}),y.on("click",function(B){B.stopPropagation()}),p.$elem.append(y),g.setLinkValue&&g.setLinkValue(y,"text"),g.setLinkValue&&g.setLinkValue(y,"link"),(0,s.default)(P).call(P,function(B,F){if(B){var G=B.events||[];(0,s.default)(G).call(G,function(z){var N,U=z.selector,$=z.type,k=z.fn||d.EMPTY_FN,V=I[F],L=(N=z.bindEnter)!==null&&N!==void 0?N:!1,O=function(j){return c.__awaiter(m,void 0,void 0,function(){var Y;return c.__generator(this,function(X){switch(X.label){case 0:return j.stopPropagation(),[4,k(j)];case 1:return Y=X.sent(),Y&&this.remove(),[2]}})})};(0,l.default)(V).call(V,U).on($,O),L&&$==="click"&&V.on("keyup",function(H){H.keyCode==13&&O(H)})})}});var D=(0,l.default)(y).call(y,"input[type=text],textarea");D.length&&D.get(0).focus(),v.hideCurAllPanels(),p.setPanel(this),v.createdMenus.add(p)}},v.prototype.remove=function(){var m=this.menu,p=this.$container;p&&p.remove(),v.createdMenus.delete(m)},v.hideCurAllPanels=function(){var m;v.createdMenus.size!==0&&(0,s.default)(m=v.createdMenus).call(m,function(p){var g=p.panel;g&&g.remove()})},v.createdMenus=new u.default,v}();r.default=h},function(n,r){var a={}.toString;n.exports=function(i){return a.call(i).slice(8,-1)}},function(n,r,a){var i=a(62),o=Math.min;n.exports=function(s){return s>0?o(i(s),9007199254740991):0}},function(n,r,a){var i=a(9),o=a(8),s=function(l){return typeof l=="function"?l:void 0};n.exports=function(l,u){return arguments.length<2?s(i[l])||s(o[l]):i[l]&&i[l][u]||o[l]&&o[l][u]}},function(n,r,a){var i=a(81),o=a(18).f,s=a(19),l=a(16),u=a(170),c=a(10),f=c("toStringTag");n.exports=function(d,h,v,m){if(d){var p=v?d:d.prototype;l(p,f)||o(p,f,{configurable:!0,value:h}),m&&!i&&s(p,"toString",u)}}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(95)),u=function(c){s.__extends(f,c);function f(d,h){return c.call(this,d,h)||this}return f.prototype.setPanel=function(d){this.panel=d},f}(l.default);r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(57));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=function(){function d(h,v,m){this.editor=h,this.$targetElem=v,this.conf=m,this._show=!1,this._isInsertTextContainer=!1;var p=c.default("<div></div>");p.addClass("w-e-tooltip"),this.$container=p}return d.prototype.getPositionData=function(){var h=this.$container,v=0,m=0,p=20,g=document.documentElement.scrollTop,y=this.$targetElem.getBoundingClientRect(),x=this.editor.$textElem.getBoundingClientRect(),b=this.$targetElem.getOffsetData(),A=c.default(b.parent),S=this.editor.$textElem.elems[0].scrollTop;if(this._isInsertTextContainer=A.equal(this.editor.$textContainerElem),this._isInsertTextContainer){var _=A.getBoundingClientRect().height,w=b.top,C=b.left,M=b.height,T=w-S;T>p+5?(v=T-p-15,h.addClass("w-e-tooltip-up")):T+M+p<_?(v=T+M+10,h.addClass("w-e-tooltip-down")):(v=(T>0?T:0)+p+10,h.addClass("w-e-tooltip-down")),C<0?m=0:m=C}else y.top<p||y.top-x.top<p?(v=y.bottom+g+5,h.addClass("w-e-tooltip-down")):(v=y.top+g-p-15,h.addClass("w-e-tooltip-up")),y.left<0?m=0:m=y.left;return{top:v,left:m}},d.prototype.appendMenus=function(){var h=this,v=this.conf,m=this.editor,p=this.$targetElem,g=this.$container;(0,s.default)(v).call(v,function(y,x){var b=y.$elem,A=c.default("<div></div>");A.addClass("w-e-tooltip-item-wrapper "),A.append(b),g.append(A),b.on("click",function(S){S.preventDefault();var _=y.onClick(m,p);_&&h.remove()})})},d.prototype.create=function(){var h,v,m=this.editor,p=this.$container;this.appendMenus();var g=this.getPositionData(),y=g.top,x=g.left;p.css("top",y+"px"),p.css("left",x+"px"),p.css("z-index",m.zIndex.get("tooltip")),this._isInsertTextContainer?this.editor.$textContainerElem.append(p):c.default("body").append(p),this._show=!0,m.beforeDestroy((0,l.default)(h=this.remove).call(h,this)),m.txt.eventHooks.onBlurEvents.push((0,l.default)(v=this.remove).call(v,this))},d.prototype.remove=function(){this.$container.remove(),this._show=!1},(0,o.default)(d.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),d}();r.default=f},function(n,r,a){var i=a(41);n.exports=function(o,s,l){if(i(o),s===void 0)return o;switch(l){case 0:return function(){return o.call(s)};case 1:return function(u){return o.call(s,u)};case 2:return function(u,c){return o.call(s,u,c)};case 3:return function(u,c,f){return o.call(s,u,c,f)}}return function(){return o.apply(s,arguments)}}},function(n,r){n.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},function(n,r,a){var i=a(165),o=a(8),s=a(13),l=a(19),u=a(16),c=a(63),f=a(51),d=o.WeakMap,h,v,m,p=function(_){return m(_)?v(_):h(_,{})},g=function(_){return function(w){var C;if(!s(w)||(C=v(w)).type!==_)throw TypeError("Incompatible receiver, "+_+" required");return C}};if(i){var y=new d,x=y.get,b=y.has,A=y.set;h=function(_,w){return A.call(y,_,w),w},v=function(_){return x.call(y,_)||{}},m=function(_){return b.call(y,_)}}else{var S=c("state");f[S]=!0,h=function(_,w){return l(_,S,w),w},v=function(_){return u(_,S)?_[S]:{}},m=function(_){return u(_,S)}}n.exports={set:h,get:v,has:m,enforce:p,getterFor:g}},function(n,r){n.exports=!0},function(n,r){n.exports={}},function(n,r,a){n.exports=a(261)},function(n,r,a){n.exports=a(265)},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0}),r.createElementFragment=r.createDocumentFragment=r.createElement=r.insertBefore=r.getEndPoint=r.getStartPoint=r.updateRange=r.filterSelectionNodes=void 0;var l=a(2),u=a(137),c=l.__importDefault(a(3));function f(x){var b=[];return(0,s.default)(x).call(x,function(A){var S=A.getNodeName();if(S!==u.ListType.OrderedList&&S!==u.ListType.UnorderedList)b.push(A);else if(A.prior)b.push(A.prior);else{var _=A.children();_==null||(0,s.default)(_).call(_,function(w){b.push(c.default(w))})}}),b}r.filterSelectionNodes=f;function d(x,b,A){var S=x.selection,_=document.createRange();b.length>1?(_.setStart(b.elems[0],0),_.setEnd(b.elems[b.length-1],b.elems[b.length-1].childNodes.length)):_.selectNodeContents(b.elems[0]),A&&_.collapse(!1),S.saveRange(_),S.restoreSelection()}r.updateRange=d;function h(x){var b;return x.prior?x.prior:c.default((b=x.children())===null||b===void 0?void 0:b.elems[0])}r.getStartPoint=h;function v(x){var b;return x.prior?x.prior:c.default((b=x.children())===null||b===void 0?void 0:b.last().elems[0])}r.getEndPoint=v;function m(x,b,A){A===void 0&&(A=null),x.parent().elems[0].insertBefore(b,A)}r.insertBefore=m;function p(x){return document.createElement(x)}r.createElement=p;function g(){return document.createDocumentFragment()}r.createDocumentFragment=g;function y(x,b,A){return A===void 0&&(A="li"),(0,s.default)(x).call(x,function(S){var _=p(A);_.innerHTML=S.html(),b.appendChild(_),S.remove()}),b}r.createElementFragment=y},function(n,r){n.exports=function(a,i){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:i}}},function(n,r){n.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},function(n,r,a){var i=a(164).charAt,o=a(42),s=a(75),l="String Iterator",u=o.set,c=o.getterFor(l);s(String,"String",function(f){u(this,{type:l,string:String(f),index:0})},function(){var d=c(this),h=d.string,v=d.index,m;return v>=h.length?{value:void 0,done:!0}:(m=i(h,v),d.index+=m.length,{value:m,done:!1})})},function(n,r){n.exports={}},function(n,r,a){var i=a(107),o=a(80);n.exports=Object.keys||function(l){return i(l,o)}},function(n,r,a){var i=a(19);n.exports=function(o,s,l,u){u&&u.enumerable?o[s]=l:i(o,s,l)}},function(n,r,a){a(173);var i=a(174),o=a(8),s=a(65),l=a(19),u=a(44),c=a(10),f=c("toStringTag");for(var d in i){var h=o[d],v=h&&h.prototype;v&&s(v)!==f&&l(v,f,d),u[d]=u.Array}},function(n,r,a){var i=a(34);n.exports=Array.isArray||function(s){return i(s)=="Array"}},function(n,r,a){var i=a(11),o=a(10),s=a(86),l=o("species");n.exports=function(u){return s>=51||!i(function(){var c=[],f=c.constructor={};return f[l]=function(){return{foo:1}},c[u](Boolean).foo!==1})}},function(n,r,a){n.exports=a(222)},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.ListHandle=void 0;var s=a(2),l=s.__importDefault(a(373)),u=function(){function c(f){this.options=f,this.selectionRangeElem=new l.default}return c}();r.ListHandle=u},function(n,r,a){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!i.call({1:2},1);r.f=s?function(u){var c=o(this,u);return!!c&&c.enumerable}:i},function(n,r,a){var i=a(13);n.exports=function(o,s){if(!i(o))return o;var l,u;if(s&&typeof(l=o.toString)=="function"&&!i(u=l.call(o))||typeof(l=o.valueOf)=="function"&&!i(u=l.call(o))||!s&&typeof(l=o.toString)=="function"&&!i(u=l.call(o)))return u;throw TypeError("Can't convert object to primitive value")}},function(n,r){},function(n,r){var a=Math.ceil,i=Math.floor;n.exports=function(o){return isNaN(o=+o)?0:(o>0?i:a)(o)}},function(n,r,a){var i=a(74),o=a(64),s=i("keys");n.exports=function(l){return s[l]||(s[l]=o(l))}},function(n,r){var a=0,i=Math.random();n.exports=function(o){return"Symbol("+String(o===void 0?"":o)+")_"+(++a+i).toString(36)}},function(n,r,a){var i=a(81),o=a(34),s=a(10),l=s("toStringTag"),u=o(function(){return arguments}())=="Arguments",c=function(f,d){try{return f[d]}catch{}};n.exports=i?o:function(f){var d,h,v;return f===void 0?"Undefined":f===null?"Null":typeof(h=c(d=Object(f),l))=="string"?h:u?o(d):(v=o(d))=="Object"&&typeof d.callee=="function"?"Arguments":v}},function(n,r,a){var i=a(25),o=a(112),s=a(35),l=a(40),u=a(113),c=a(114),f=function(h,v){this.stopped=h,this.result=v},d=n.exports=function(h,v,m,p,g){var y=l(v,m,p?2:1),x,b,A,S,_,w,C;if(g)x=h;else{if(b=u(h),typeof b!="function")throw TypeError("Target is not iterable");if(o(b)){for(A=0,S=s(h.length);S>A;A++)if(_=p?y(i(C=h[A])[0],C[1]):y(h[A]),_&&_ instanceof f)return _;return new f(!1)}x=b.call(h)}for(w=x.next;!(C=w.call(x)).done;)if(_=c(x,y,C.value,p),typeof _=="object"&&_&&_ instanceof f)return _;return new f(!1)};d.stop=function(h){return new f(!0,h)}},function(n,r,a){var i=a(11);n.exports=function(o,s){var l=[][o];return!!l&&i(function(){l.call(null,s||function(){throw 1},1)})}},function(n,r){n.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(n,r,a){var i=a(60),o=a(18),s=a(48);n.exports=function(l,u,c){var f=i(u);f in l?o.f(l,f,s(0,c)):l[f]=c}},function(n,r,a){n.exports=a(209)},function(n,r,a){var i=a(14),o=a(59),s=a(48),l=a(30),u=a(60),c=a(16),f=a(100),d=Object.getOwnPropertyDescriptor;r.f=i?d:function(v,m){if(v=l(v),m=u(m,!0),f)try{return d(v,m)}catch{}if(c(v,m))return s(!o.f.call(v,m),v[m])}},function(n,r,a){var i=a(11),o=a(34),s="".split;n.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(l){return o(l)=="String"?s.call(l,""):Object(l)}:Object},function(n,r,a){var i=a(8),o=a(13),s=i.document,l=o(s)&&o(s.createElement);n.exports=function(u){return l?s.createElement(u):{}}},function(n,r,a){var i=a(43),o=a(103);(n.exports=function(s,l){return o[s]||(o[s]=l!==void 0?l:{})})("versions",[]).push({version:"3.6.4",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(n,r,a){var i=a(5),o=a(167),s=a(105),l=a(171),u=a(37),c=a(19),f=a(53),d=a(10),h=a(43),v=a(44),m=a(104),p=m.IteratorPrototype,g=m.BUGGY_SAFARI_ITERATORS,y=d("iterator"),x="keys",b="values",A="entries",S=function(){return this};n.exports=function(_,w,C,M,T,E,P){o(C,w,M);var R=function(k){if(k===T&&G)return G;if(!g&&k in B)return B[k];switch(k){case x:return function(){return new C(this,k)};case b:return function(){return new C(this,k)};case A:return function(){return new C(this,k)}}return function(){return new C(this)}},I=w+" Iterator",D=!1,B=_.prototype,F=B[y]||B["@@iterator"]||T&&B[T],G=!g&&F||R(T),z=w=="Array"&&B.entries||F,N,U,$;if(z&&(N=s(z.call(new _)),p!==Object.prototype&&N.next&&(!h&&s(N)!==p&&(l?l(N,p):typeof N[y]!="function"&&c(N,y,S)),u(N,I,!0,!0),h&&(v[I]=S))),T==b&&F&&F.name!==b&&(D=!0,G=function(){return F.call(this)}),(!h||P)&&B[y]!==G&&c(B,y,G),v[w]=G,T)if(U={values:R(b),keys:E?G:R(x),entries:R(A)},P)for($ in U)(g||D||!($ in B))&&f(B,$,U[$]);else i({target:w,proto:!0,forced:g||D},U);return U}},function(n,r,a){var i=a(11);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(n,r,a){var i=a(25),o=a(169),s=a(80),l=a(51),u=a(108),c=a(73),f=a(63),d=">",h="<",v="prototype",m="script",p=f("IE_PROTO"),g=function(){},y=function(_){return h+m+d+_+h+"/"+m+d},x=function(_){_.write(y("")),_.close();var w=_.parentWindow.Object;return _=null,w},b=function(){var _=c("iframe"),w="java"+m+":",C;return _.style.display="none",u.appendChild(_),_.src=String(w),C=_.contentWindow.document,C.open(),C.write(y("document.F=Object")),C.close(),C.F},A,S=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}S=A?x(A):b();for(var _=s.length;_--;)delete S[v][s[_]];return S()};l[p]=!0,n.exports=Object.create||function(w,C){var M;return w!==null?(g[v]=i(w),M=new g,g[v]=null,M[p]=w):M=S(),C===void 0?M:o(M,C)}},function(n,r,a){var i=a(30),o=a(35),s=a(79),l=function(u){return function(c,f,d){var h=i(c),v=o(h.length),m=s(d,v),p;if(u&&f!=f){for(;v>m;)if(p=h[m++],p!=p)return!0}else for(;v>m;m++)if((u||m in h)&&h[m]===f)return u||m||0;return!u&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},function(n,r,a){var i=a(62),o=Math.max,s=Math.min;n.exports=function(l,u){var c=i(l);return c<0?o(c+u,0):s(c,u)}},function(n,r){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,r,a){var i=a(10),o=i("toStringTag"),s={};s[o]="z",n.exports=String(s)==="[object z]"},function(n,r){n.exports=function(){}},function(n,r){n.exports=function(a,i,o){if(!(a instanceof i))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return a}},function(n,r,a){var i=a(36);n.exports=i("navigator","userAgent")||""},function(n,r,a){var i=a(41),o=function(s){var l,u;this.promise=new s(function(c,f){if(l!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");l=c,u=f}),this.resolve=i(l),this.reject=i(u)};n.exports.f=function(s){return new o(s)}},function(n,r,a){var i=a(8),o=a(84),s=i.process,l=s&&s.versions,u=l&&l.v8,c,f;u?(c=u.split("."),f=c[0]+c[1]):o&&(c=o.match(/Edge\/(\d+)/),(!c||c[1]>=74)&&(c=o.match(/Chrome\/(\d+)/),c&&(f=c[1]))),n.exports=f&&+f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(6),f=l.__importDefault(a(267)),d=l.__importDefault(a(280)),h=l.__importDefault(a(281)),v=l.__importDefault(a(282)),m=l.__importDefault(a(301)),p=l.__importStar(a(416)),g=l.__importDefault(a(417)),y=l.__importDefault(a(418)),x=l.__importDefault(a(419)),b=l.__importStar(a(420)),A=l.__importDefault(a(423)),S=l.__importDefault(a(424)),_=l.__importDefault(a(425)),w=l.__importDefault(a(427)),C=l.__importDefault(a(437)),M=l.__importDefault(a(440)),T=l.__importStar(a(441)),E=l.__importDefault(a(23)),P=l.__importDefault(a(134)),R=l.__importDefault(a(24)),I=l.__importDefault(a(33)),D=l.__importDefault(a(38)),B=l.__importDefault(a(39)),F=1,G=function(){function z(N,U){this.pluginsFunctionList={},this.beforeDestroyHooks=[],this.id="wangEditor-"+F++,this.toolbarSelector=N,this.textSelector=U,p.selectorValidator(this),this.config=c.deepClone(f.default),this.$toolbarElem=u.default("<div></div>"),this.$textContainerElem=u.default("<div></div>"),this.$textElem=u.default("<div></div>"),this.toolbarElemId="",this.textElemId="",this.isFocus=!1,this.isComposing=!1,this.isCompatibleMode=!1,this.selection=new d.default(this),this.cmd=new h.default(this),this.txt=new v.default(this),this.menus=new m.default(this),this.zIndex=new S.default,this.change=new _.default(this),this.history=new w.default(this),this.onSelectionChange=new M.default(this);var $=C.default(this),k=$.disable,V=$.enable;this.disable=k,this.enable=V,this.isEnable=!0}return z.prototype.initSelection=function(N){g.default(this,N)},z.prototype.create=function(){this.zIndex.init(this),this.isCompatibleMode=this.config.compatibleMode(),this.isCompatibleMode||(this.config.onchangeTimeout=30),x.default(this),p.default(this),this.txt.init(),this.menus.init(),b.default(this),this.initSelection(!0),y.default(this),this.change.observe(),this.history.observe(),T.default(this)},z.prototype.beforeDestroy=function(N){return this.beforeDestroyHooks.push(N),this},z.prototype.destroy=function(){var N,U=this;(0,s.default)(N=this.beforeDestroyHooks).call(N,function($){return $.call(U)}),this.$toolbarElem.remove(),this.$textContainerElem.remove()},z.prototype.fullScreen=function(){b.setFullScreen(this)},z.prototype.unFullScreen=function(){b.setUnFullScreen(this)},z.prototype.scrollToHead=function(N){A.default(this,N)},z.registerMenu=function(N,U){!U||typeof U!="function"||(z.globalCustomMenuConstructorList[N]=U)},z.prototype.registerPlugin=function(N,U){T.registerPlugin(N,U,this.pluginsFunctionList)},z.registerPlugin=function(N,U){T.registerPlugin(N,U,z.globalPluginsFunctionList)},z.$=u.default,z.BtnMenu=E.default,z.DropList=P.default,z.DropListMenu=R.default,z.Panel=I.default,z.PanelMenu=D.default,z.Tooltip=B.default,z.globalCustomMenuConstructorList={},z.globalPluginsFunctionList={},z}();r.default=G},function(n,r,a){var i=a(13),o=a(55),s=a(10),l=s("species");n.exports=function(u,c){var f;return o(u)&&(f=u.constructor,typeof f=="function"&&(f===Array||o(f.prototype))?f=void 0:i(f)&&(f=f[l],f===null&&(f=void 0))),new(f===void 0?Array:f)(c===0?0:c)}},function(n,r,a){n.exports=a(185)},function(n,r,a){var i=a(49),o=a(68),s="["+o+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(f){return function(d){var h=String(i(d));return f&1&&(h=h.replace(l,"")),f&2&&(h=h.replace(u,"")),h}};n.exports={start:c(1),end:c(2),trim:c(3)}},function(n,r,a){n.exports=a(205)},function(n,r,a){var i=a(227),o=a(230);function s(l){"@babel/helpers - typeof";return typeof o=="function"&&typeof i=="symbol"?n.exports=s=function(c){return typeof c}:n.exports=s=function(c){return c&&typeof o=="function"&&c.constructor===o&&c!==o.prototype?"symbol":typeof c},s(l)}n.exports=s},function(n,r,a){var i=a(10);r.f=i},function(n,r,a){n.exports=a(306)},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(33)),c=function(){function f(d,h){var v=this;this.$elem=d,this.editor=h,this._active=!1,d.on("click",function(m){var p;u.default.hideCurAllPanels(),(0,s.default)(p=h.txt.eventHooks.menuClickEvents).call(p,function(g){return g()}),m.stopPropagation(),h.selection.getRange()!=null&&v.clickHandler(m)})}return f.prototype.clickHandler=function(d){},f.prototype.active=function(){this._active=!0,this.$elem.addClass("w-e-active")},f.prototype.unActive=function(){this._active=!1,this.$elem.removeClass("w-e-active")},(0,o.default)(f.prototype,"isActive",{get:function(){return this._active},enumerable:!1,configurable:!0}),f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(28));(0,o.default)(r,"__esModule",{value:!0}),r.getParentNodeA=r.EXTRA_TAG=void 0,r.EXTRA_TAG=["B","FONT","I","STRIKE"];function l(c){for(var f=c.elems[0];f&&(0,s.default)(d=r.EXTRA_TAG).call(d,f.nodeName);){var d;if(f=f.parentElement,f.nodeName==="A")return f}}r.getParentNodeA=l;function u(c){var f,d=c.selection.getSelectionContainerElem();if(!(!((f=d==null?void 0:d.elems)===null||f===void 0)&&f.length))return!1;if(d.getNodeName()==="A")return!0;var h=l(d);return!!(h&&h.nodeName==="A")}r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(57)),l=i(a(4)),u=i(a(27));(0,o.default)(r,"__esModule",{value:!0});var c=a(2),f=a(6),d=c.__importDefault(a(135)),h=c.__importDefault(a(136)),v=function(){function m(p){this.editor=p}return m.prototype.insertImg=function(p,g,y){var x=this.editor,b=x.config,A="validate.",S=function(E,P){return P===void 0&&(P=A),x.i18next.t(P+E)},_=p.replace(/</g,"&lt;").replace(/>/g,"&gt;");_=_.replace("'",'"');var w="";y&&(w=y.replace("'",'"'),w="data-href='"+encodeURIComponent(w)+"' ");var C="";g&&(C=g.replace(/</g,"&lt;").replace(/>/g,"&gt;"),C=C.replace("'",'"'),C="alt='"+C+"' "),x.cmd.do("insertHTML","<img src='"+_+"' "+C+w+'style="max-width:100%;" contenteditable="false"/>'),b.linkImgCallback(p,g,y);var M=document.createElement("img");M.onload=function(){M=null},M.onerror=function(){b.customAlert(S("插入图片错误"),"error","wangEditor: "+S("插入图片错误")+"，"+S("图片链接")+' "'+p+'"，'+S("下载链接失败")),M=null},M.onabort=function(){return M=null},M.src=p},m.prototype.uploadImg=function(p){var g=this;if(p.length){var y=this.editor,x=y.config,b="validate.",A=function(O){return y.i18next.t(b+O)},S=x.uploadImgServer,_=x.uploadImgShowBase64,w=x.uploadImgMaxSize,C=w/1024/1024,M=x.uploadImgMaxLength,T=x.uploadFileName,E=x.uploadImgParams,P=x.uploadImgParamsWithUrl,R=x.uploadImgHeaders,I=x.uploadImgHooks,D=x.uploadImgTimeout,B=x.withCredentials,F=x.customUploadImg;if(!(!F&&!S&&!_)){var G=[],z=[];if(f.arrForEach(p,function(L){if(L){var O=L.name||L.type.replace("/","."),H=L.size;if(!(!O||!H)){var j=y.config.uploadImgAccept.join("|"),Y=".("+j+")$",X=new RegExp(Y,"i");if(X.test(O)===!1){z.push("【"+O+"】"+A("不是图片"));return}if(w<H){z.push("【"+O+"】"+A("大于")+" "+C+"M");return}G.push(L)}}}),z.length){x.customAlert(A("图片验证未通过")+`: 
`+z.join(`
`),"warning");return}if(G.length===0){x.customAlert(A("传入的文件不合法"),"warning");return}if(G.length>M){x.customAlert(A("一次最多上传")+M+A("张图片"),"warning");return}if(F&&typeof F=="function"){var N;F(G,(0,s.default)(N=this.insertImg).call(N,this));return}var U=new FormData;if((0,l.default)(G).call(G,function(L,O){var H=T||L.name;G.length>1&&(H=H+(O+1)),U.append(H,L)}),S){var $=S.split("#");S=$[0];var k=$[1]||"";(0,l.default)(f).call(f,E,function(L,O){P&&((0,u.default)(S).call(S,"?")>0?S+="&":S+="?",S=S+L+"="+O),U.append(L,O)}),k&&(S+="#"+k);var V=d.default(S,{timeout:D,formData:U,headers:R,withCredentials:!!B,beforeSend:function(O){if(I.before)return I.before(O,y,G)},onTimeout:function(O){x.customAlert(A("上传图片超时"),"error"),I.timeout&&I.timeout(O,y)},onProgress:function(O,H){var j=new h.default(y);H.lengthComputable&&(O=H.loaded/H.total,j.show(O))},onError:function(O){x.customAlert(A("上传图片错误"),"error",A("上传图片错误")+"，"+A("服务器返回状态")+": "+O.status),I.error&&I.error(O,y)},onFail:function(O,H){x.customAlert(A("上传图片失败"),"error",A("上传图片返回结果错误")+("，"+A("返回结果")+": ")+H),I.fail&&I.fail(O,y,H)},onSuccess:function(O,H){if(I.customInsert){var j;I.customInsert((0,s.default)(j=g.insertImg).call(j,g),H,y);return}if(H.errno!="0"){x.customAlert(A("上传图片失败"),"error",A("上传图片返回结果错误")+"，"+A("返回结果")+" errno="+H.errno),I.fail&&I.fail(O,y,H);return}var Y=H.data;(0,l.default)(Y).call(Y,function(X){typeof X=="string"?g.insertImg(X):g.insertImg(X.url,X.alt,X.href)}),I.success&&I.success(O,y,H)}});typeof V=="string"&&x.customAlert(V,"error");return}_&&f.arrForEach(p,function(L){var O=g,H=new FileReader;H.readAsDataURL(L),H.onload=function(){if(this.result){var j=this.result.toString();O.insertImg(j,j)}}})}}},m}();r.default=v},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(410)),l=i(a(4)),u=i(a(45));(0,o.default)(r,"__esModule",{value:!0}),r.dealTextNode=r.isAllTodo=r.isTodo=r.getCursorNextNode=void 0;function c(m){return m.length?m.attr("class")==="w-e-todo":!1}r.isTodo=c;function f(m){var p=m.selection.getSelectionRangeTopNodes();if(p.length!==0)return(0,s.default)(p).call(p,function(g){return c(g)})}r.isAllTodo=f;function d(m,p,g){var y;if(m.hasChildNodes()){var x=m.cloneNode(),b=!1;p.nodeValue===""&&(b=!0);var A=[];return(0,l.default)(y=m.childNodes).call(y,function(S){if(!h(S,p)&&b&&(x.appendChild(S.cloneNode(!0)),S.nodeName!=="BR"&&A.push(S)),h(S,p)){if(S.nodeType===1){var _=d(S,p,g);_&&_.textContent!==""&&(x==null||x.appendChild(_))}if(S.nodeType===3&&p.isEqualNode(S)){var w=v(S,g);x.textContent=w}b=!0}}),(0,l.default)(A).call(A,function(S){var _=S;_.remove()}),x}}r.getCursorNextNode=d;function h(m,p){return m.nodeType===3?m.nodeValue===p.nodeValue:m.contains(p)}function v(m,p,g){g===void 0&&(g=!0);var y=m.nodeValue,x=y==null?void 0:(0,u.default)(y).call(y,0,p);if(y=y==null?void 0:(0,u.default)(y).call(y,p),!g){var b=y;y=x,x=b}return m.nodeValue=x,y}r.dealTextNode=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(430),l=function(){function u(c){this.maxSize=c,this.isRe=!1,this.data=new s.CeilStack(c),this.revokeData=new s.CeilStack(c)}return(0,o.default)(u.prototype,"size",{get:function(){return[this.data.size,this.revokeData.size]},enumerable:!1,configurable:!0}),u.prototype.resetMaxSize=function(c){this.data.resetMax(c),this.revokeData.resetMax(c)},u.prototype.save=function(c){return this.isRe&&(this.revokeData.clear(),this.isRe=!1),this.data.instack(c),this},u.prototype.revoke=function(c){!this.isRe&&(this.isRe=!0);var f=this.data.outstack();return f?(this.revokeData.instack(f),c(f),!0):!1},u.prototype.restore=function(c){!this.isRe&&(this.isRe=!0);var f=this.revokeData.outstack();return f?(this.data.instack(f),c(f),!0):!1},u}();r.default=l},function(n,r,a){var i=a(14),o=a(11),s=a(73);n.exports=!i&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(n,r,a){var i=a(11),o=/#|\.prototype\./,s=function(d,h){var v=u[l(d)];return v==f?!0:v==c?!1:typeof h=="function"?i(h):!!h},l=s.normalize=function(d){return String(d).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",f=s.POLYFILL="P";n.exports=s},function(n,r,a){var i=a(103),o=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(s){return o.call(s)}),n.exports=i.inspectSource},function(n,r,a){var i=a(8),o=a(166),s="__core-js_shared__",l=i[s]||o(s,{});n.exports=l},function(n,r,a){var i=a(105),o=a(19),s=a(16),l=a(10),u=a(43),c=l("iterator"),f=!1,d=function(){return this},h,v,m;[].keys&&(m=[].keys(),"next"in m?(v=i(i(m)),v!==Object.prototype&&(h=v)):f=!0),h==null&&(h={}),!u&&!s(h,c)&&o(h,c,d),n.exports={IteratorPrototype:h,BUGGY_SAFARI_ITERATORS:f}},function(n,r,a){var i=a(16),o=a(31),s=a(63),l=a(168),u=s("IE_PROTO"),c=Object.prototype;n.exports=l?Object.getPrototypeOf:function(f){return f=o(f),i(f,u)?f[u]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?c:null}},function(n,r,a){var i=a(76);n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(n,r,a){var i=a(16),o=a(30),s=a(78).indexOf,l=a(51);n.exports=function(u,c){var f=o(u),d=0,h=[],v;for(v in f)!i(l,v)&&i(f,v)&&h.push(v);for(;c.length>d;)i(f,v=c[d++])&&(~s(h,v)||h.push(v));return h}},function(n,r,a){var i=a(36);n.exports=i("document","documentElement")},function(n,r,a){var i=a(8);n.exports=i.Promise},function(n,r,a){var i=a(53);n.exports=function(o,s,l){for(var u in s)l&&l.unsafe&&o[u]?o[u]=s[u]:i(o,u,s[u],l);return o}},function(n,r,a){var i=a(36),o=a(18),s=a(10),l=a(14),u=s("species");n.exports=function(c){var f=i(c),d=o.f;l&&f&&!f[u]&&d(f,u,{configurable:!0,get:function(){return this}})}},function(n,r,a){var i=a(10),o=a(44),s=i("iterator"),l=Array.prototype;n.exports=function(u){return u!==void 0&&(o.Array===u||l[s]===u)}},function(n,r,a){var i=a(65),o=a(44),s=a(10),l=s("iterator");n.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||o[i(u)]}},function(n,r,a){var i=a(25);n.exports=function(o,s,l,u){try{return u?s(i(l)[0],l[1]):s(l)}catch(f){var c=o.return;throw c!==void 0&&i(c.call(o)),f}}},function(n,r,a){var i=a(10),o=i("iterator"),s=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){s=!0}};u[o]=function(){return this},Array.from(u,function(){throw 2})}catch{}n.exports=function(c,f){if(!f&&!s)return!1;var d=!1;try{var h={};h[o]=function(){return{next:function(){return{done:d=!0}}}},c(h)}catch{}return d}},function(n,r,a){var i=a(25),o=a(41),s=a(10),l=s("species");n.exports=function(u,c){var f=i(u).constructor,d;return f===void 0||(d=i(f)[l])==null?c:o(d)}},function(n,r,a){var i=a(8),o=a(11),s=a(34),l=a(40),u=a(108),c=a(73),f=a(118),d=i.location,h=i.setImmediate,v=i.clearImmediate,m=i.process,p=i.MessageChannel,g=i.Dispatch,y=0,x={},b="onreadystatechange",A,S,_,w=function(E){if(x.hasOwnProperty(E)){var P=x[E];delete x[E],P()}},C=function(E){return function(){w(E)}},M=function(E){w(E.data)},T=function(E){i.postMessage(E+"",d.protocol+"//"+d.host)};(!h||!v)&&(h=function(P){for(var R=[],I=1;arguments.length>I;)R.push(arguments[I++]);return x[++y]=function(){(typeof P=="function"?P:Function(P)).apply(void 0,R)},A(y),y},v=function(P){delete x[P]},s(m)=="process"?A=function(E){m.nextTick(C(E))}:g&&g.now?A=function(E){g.now(C(E))}:p&&!f?(S=new p,_=S.port2,S.port1.onmessage=M,A=l(_.postMessage,_,1)):i.addEventListener&&typeof postMessage=="function"&&!i.importScripts&&!o(T)&&d.protocol!=="file:"?(A=T,i.addEventListener("message",M,!1)):b in c("script")?A=function(E){u.appendChild(c("script"))[b]=function(){u.removeChild(this),w(E)}}:A=function(E){setTimeout(C(E),0)}),n.exports={set:h,clear:v}},function(n,r,a){var i=a(84);n.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(n,r,a){var i=a(25),o=a(13),s=a(85);n.exports=function(l,u){if(i(l),o(u)&&u.constructor===l)return u;var c=s.f(l),f=c.resolve;return f(u),c.promise}},function(n,r){n.exports=function(a){try{return{error:!1,value:a()}}catch(i){return{error:!0,value:i}}}},function(n,r,a){n.exports=a(197)},function(n,r,a){var i=a(5),o=a(8),s=a(123),l=a(11),u=a(19),c=a(66),f=a(83),d=a(13),h=a(37),v=a(18).f,m=a(32).forEach,p=a(14),g=a(42),y=g.set,x=g.getterFor;n.exports=function(b,A,S){var _=b.indexOf("Map")!==-1,w=b.indexOf("Weak")!==-1,C=_?"set":"add",M=o[b],T=M&&M.prototype,E={},P;if(!p||typeof M!="function"||!(w||T.forEach&&!l(function(){new M().entries().next()})))P=S.getConstructor(A,b,_,C),s.REQUIRED=!0;else{P=A(function(I,D){y(f(I,P,b),{type:b,collection:new M}),D!=null&&c(D,I[C],I,_)});var R=x(b);m(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var D=I=="add"||I=="set";I in T&&!(w&&I=="clear")&&u(P.prototype,I,function(B,F){var G=R(this).collection;if(!D&&w&&!d(B))return I=="get"?void 0:!1;var z=G[I](B===0?0:B,F);return D?this:z})}),w||v(P.prototype,"size",{configurable:!0,get:function(){return R(this).collection.size}})}return h(P,b,!1,!0),E[b]=P,i({global:!0,forced:!0},E),w||S.setStrong(P,b,_),P}},function(n,r,a){var i=a(51),o=a(13),s=a(16),l=a(18).f,u=a(64),c=a(200),f=u("meta"),d=0,h=Object.isExtensible||function(){return!0},v=function(x){l(x,f,{value:{objectID:"O"+ ++d,weakData:{}}})},m=function(x,b){if(!o(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!s(x,f)){if(!h(x))return"F";if(!b)return"E";v(x)}return x[f].objectID},p=function(x,b){if(!s(x,f)){if(!h(x))return!0;if(!b)return!1;v(x)}return x[f].weakData},g=function(x){return c&&y.REQUIRED&&h(x)&&!s(x,f)&&v(x),x},y=n.exports={REQUIRED:!1,fastKey:m,getWeakData:p,onFreeze:g};i[f]=!0},function(n,r,a){var i=a(18).f,o=a(77),s=a(110),l=a(40),u=a(83),c=a(66),f=a(75),d=a(111),h=a(14),v=a(123).fastKey,m=a(42),p=m.set,g=m.getterFor;n.exports={getConstructor:function(y,x,b,A){var S=y(function(M,T){u(M,S,x),p(M,{type:x,index:o(null),first:void 0,last:void 0,size:0}),h||(M.size=0),T!=null&&c(T,M[A],M,b)}),_=g(x),w=function(M,T,E){var P=_(M),R=C(M,T),I,D;return R?R.value=E:(P.last=R={index:D=v(T,!0),key:T,value:E,previous:I=P.last,next:void 0,removed:!1},P.first||(P.first=R),I&&(I.next=R),h?P.size++:M.size++,D!=="F"&&(P.index[D]=R)),M},C=function(M,T){var E=_(M),P=v(T),R;if(P!=="F")return E.index[P];for(R=E.first;R;R=R.next)if(R.key==T)return R};return s(S.prototype,{clear:function(){for(var T=this,E=_(T),P=E.index,R=E.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=void 0),delete P[R.index],R=R.next;E.first=E.last=void 0,h?E.size=0:T.size=0},delete:function(M){var T=this,E=_(T),P=C(T,M);if(P){var R=P.next,I=P.previous;delete E.index[P.index],P.removed=!0,I&&(I.next=R),R&&(R.previous=I),E.first==P&&(E.first=R),E.last==P&&(E.last=I),h?E.size--:T.size--}return!!P},forEach:function(T){for(var E=_(this),P=l(T,arguments.length>1?arguments[1]:void 0,3),R;R=R?R.next:E.first;)for(P(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(T){return!!C(this,T)}}),s(S.prototype,b?{get:function(T){var E=C(this,T);return E&&E.value},set:function(T,E){return w(this,T===0?0:T,E)}}:{add:function(T){return w(this,T=T===0?0:T,T)}}),h&&i(S.prototype,"size",{get:function(){return _(this).size}}),S},setStrong:function(y,x,b){var A=x+" Iterator",S=g(x),_=g(A);f(y,x,function(w,C){p(this,{type:A,target:w,state:S(w),kind:C,last:void 0})},function(){for(var w=_(this),C=w.kind,M=w.last;M&&M.removed;)M=M.previous;return!w.target||!(w.last=M=M?M.next:w.state.first)?(w.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:M.key,done:!1}:C=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}},b?"entries":"values",!b,!0),d(x)}}},function(n,r,a){var i=a(12);i("iterator")},function(n,r,a){var i=a(107),o=a(80),s=o.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(u){return i(u,s)}},function(n,r){r.f=Object.getOwnPropertySymbols},function(n,r,a){n.exports=a(268)},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={zIndex:1e4}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={focus:!0,height:300,placeholder:"请输入正文",zIndexFullScreen:10002,showFullScreen:!0}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0}),r.getPasteImgs=r.getPasteHtml=r.getPasteText=void 0;var l=a(2),u=a(6),c=l.__importDefault(a(292));function f(v){var m=v.clipboardData,p="";return m==null?p=window.clipboardData&&window.clipboardData.getData("text"):p=m.getData("text/plain"),u.replaceHtmlSymbol(p)}r.getPasteText=f;function d(v,m,p){m===void 0&&(m=!0),p===void 0&&(p=!1);var g=v.clipboardData,y="";if(g&&(y=g.getData("text/html")),!y){var x=f(v);if(!x)return"";y="<p>"+x+"</p>"}return y=y.replace(/<(\d)/gm,function(b,A){return"&lt;"+A}),y=y.replace(/<(\/?meta.*?)>/gim,""),y=c.default(y,m,p),y}r.getPasteHtml=d;function h(v){var m,p=[],g=f(v);if(g)return p;var y=(m=v.clipboardData)===null||m===void 0?void 0:m.items;return y&&(0,s.default)(u).call(u,y,function(x,b){var A=b.type;/image/i.test(A)&&p.push(b.getAsFile())}),p}r.getPasteImgs=h},function(n,r,a){n.exports=a(294)},function(n,r,a){n.exports=a(310)},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(46));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=a(7),d=function(){function h(v,m){var p=this;this.hideTimeoutId=0,this.menu=v,this.conf=m;var g=c.default('<div class="w-e-droplist"></div>'),y=c.default("<p>"+m.title+"</p>");y.addClass("w-e-dp-title"),g.append(y);var x=m.list||[],b=m.type||"list",A=m.clickHandler||f.EMPTY_FN,S=c.default('<ul class="'+(b==="list"?"w-e-list":"w-e-block")+'"></ul>');(0,s.default)(x).call(x,function(_){var w=_.$elem,C=_.value,M=c.default('<li class="w-e-item"></li>');w&&(M.append(w),S.append(M),M.on("click",function(T){A(C),T.stopPropagation(),p.hideTimeoutId=(0,l.default)(function(){p.hide()})}))}),g.append(S),g.on("mouseleave",function(){p.hideTimeoutId=(0,l.default)(function(){p.hide()})}),this.$container=g,this.rendered=!1,this._show=!1}return h.prototype.show=function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var v=this.menu,m=v.$elem,p=this.$container;if(!this._show){if(this.rendered)p.show();else{var g=m.getBoundingClientRect().height||0,y=this.conf.width||100;p.css("margin-top",g+"px").css("width",y+"px"),m.append(p),this.rendered=!0}this._show=!0}},h.prototype.hide=function(){var v=this.$container;this._show&&(v.hide(),this._show=!1)},(0,o.default)(h.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),h}();r.default=d},function(n,r,a){var i=a(0),o=i(a(92)),s=i(a(1)),l=i(a(4));(0,s.default)(r,"__esModule",{value:!0});var u=a(6);function c(f,d){var h=new XMLHttpRequest;if(h.open("POST",f),h.timeout=d.timeout||10*1e3,h.ontimeout=function(){console.error("wangEditor - 请求超时"),d.onTimeout&&d.onTimeout(h)},h.upload&&(h.upload.onprogress=function(m){var p=m.loaded/m.total;d.onProgress&&d.onProgress(p,m)}),d.headers&&(0,l.default)(u).call(u,d.headers,function(m,p){h.setRequestHeader(m,p)}),h.withCredentials=!!d.withCredentials,d.beforeSend){var v=d.beforeSend(h);if(v&&(0,o.default)(v)==="object"&&v.prevent)return v.msg}return h.onreadystatechange=function(){if(h.readyState===4){var m=h.status;if(!(m<200)&&!(m>=300&&m<400)){if(m>=400){console.error("wangEditor - XHR 报错，状态码 "+m),d.onError&&d.onError(h);return}var p=h.responseText,g;if((0,o.default)(p)!=="object")try{g=JSON.parse(p)}catch{console.error("wangEditor - 返回结果不是 JSON 格式",p),d.onFail&&d.onFail(h,p);return}else g=p;d.onSuccess(h,g)}}},h.send(d.formData||null),h}r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(342)),l=i(a(46));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=function(){function d(h){this.editor=h,this.$textContainer=h.$textContainerElem,this.$bar=c.default('<div class="w-e-progress"></div>'),this.isShow=!1,this.time=0,this.timeoutId=0}return d.prototype.show=function(h){var v=this;if(!this.isShow){this.isShow=!0;var m=this.$bar,p=this.$textContainer;p.append(m),(0,s.default)()-this.time>100&&h<=1&&(m.css("width",h*100+"%"),this.time=(0,s.default)());var g=this.timeoutId;g&&clearTimeout(g),this.timeoutId=(0,l.default)(function(){v.hide()},500)}},d.prototype.hide=function(){var h=this.$bar;h.remove(),this.isShow=!1,this.time=0,this.timeoutId=0},d}();r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.ListType=void 0;var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(24)),c=a(47),f=s.__importStar(a(371)),d;(function(v){v.OrderedList="OL",v.UnorderedList="UL"})(d=r.ListType||(r.ListType={}));var h=function(v){s.__extends(m,v);function m(p){var g=this,y=l.default(`<div class="w-e-menu" data-title="序列">
                <i class="w-e-icon-list2"></i>
            </div>`),x={width:130,title:"序列",type:"list",list:[{$elem:l.default(`
                        <p>
                            <i class="w-e-icon-list2 w-e-drop-list-item"></i>
                            `+p.i18next.t("menus.dropListMenu.list.无序列表")+`
                        <p>`),value:d.UnorderedList},{$elem:l.default(`<p>
                            <i class="w-e-icon-list-numbered w-e-drop-list-item"></i>
                            `+p.i18next.t("menus.dropListMenu.list.有序列表")+`
                        <p>`),value:d.OrderedList}],clickHandler:function(A){g.command(A)}};return g=v.call(this,y,p,x)||this,g}return m.prototype.command=function(p){var g=this.editor,y=g.selection.getSelectionContainerElem();y!==void 0&&(this.handleSelectionRangeNodes(p),this.tryChangeActive())},m.prototype.validator=function(p,g,y){return!(!p.length||!g.length||y.equal(p)||y.equal(g))},m.prototype.handleSelectionRangeNodes=function(p){var g=this.editor,y=g.selection,x=p.toLowerCase(),b=y.getSelectionContainerElem(),A=y.getSelectionStartElem().getNodeTop(g),S=y.getSelectionEndElem().getNodeTop(g);if(this.validator(A,S,g.$textElem)){var _=y.getRange(),w=_==null?void 0:_.collapsed;g.$textElem.equal(b)||(b=b.getNodeTop(g));var C={editor:g,listType:p,listTarget:x,$selectionElem:b,$startElem:A,$endElem:S},M;this.isOrderElem(b)?M=f.ClassType.Wrap:this.isOrderElem(A)&&this.isOrderElem(S)?M=f.ClassType.Join:this.isOrderElem(A)?M=f.ClassType.StartJoin:this.isOrderElem(S)?M=f.ClassType.EndJoin:M=f.ClassType.Other;var T=new f.default(f.createListHandle(M,C,_));c.updateRange(g,T.getSelectionRangeElem(),!!w)}},m.prototype.isOrderElem=function(p){var g=p.getNodeName();return g===d.OrderedList||g===d.UnorderedList},m.prototype.tryChangeActive=function(){},m}(u.default);r.default=h},function(n,r,a){n.exports=a(395)},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});function s(l){var u=l.selection.getSelectionContainerElem();return u!=null&&u.length?!!(u.getNodeName()=="CODE"||u.getNodeName()=="PRE"||u.parent().getNodeName()=="CODE"||u.parent().getNodeName()=="PRE"||/hljs/.test(u.parent().attr("class"))):!1}r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29));(0,o.default)(r,"__esModule",{value:!0}),r.todo=void 0;var l=a(2),u=l.__importDefault(a(3)),c=function(){function d(h){var v;this.template='<ul class="w-e-todo"><li><span contenteditable="false"><input type="checkbox"></span></li></ul>',this.checked=!1,this.$todo=u.default(this.template),this.$child=(v=h==null?void 0:h.childNodes())===null||v===void 0?void 0:v.clone(!0)}return d.prototype.init=function(){var h=this.$child,v=this.getInputContainer();h&&h.insertAfter(v)},d.prototype.getInput=function(){var h=this.$todo,v=(0,s.default)(h).call(h,"input");return v},d.prototype.getInputContainer=function(){var h=this.getInput().parent();return h},d.prototype.getTodo=function(){return this.$todo},d}();r.todo=c;function f(d){var h=new c(d);return h.init(),h}r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2);a(146),a(148),a(152),a(154),a(156),a(158),a(160);var l=s.__importDefault(a(87));s.__exportStar(a(442),r);try{}catch{throw new Error("请在浏览器环境下运行")}r.default=l.default},function(n,r,a){var i=a(143);n.exports=i},function(n,r,a){a(144);var i=a(9),o=i.Object,s=n.exports=function(u,c,f){return o.defineProperty(u,c,f)};o.defineProperty.sham&&(s.sham=!0)},function(n,r,a){var i=a(5),o=a(14),s=a(18);i({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:s.f})},function(n,r){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}n.exports=a},function(n,r,a){var i=a(20),o=a(147);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-toolbar,
.w-e-text-container,
.w-e-menu-panel {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  background-color: #fff;
  /*表情菜单样式*/
  /*分割线样式*/
}
.w-e-toolbar h1,
.w-e-text-container h1,
.w-e-menu-panel h1 {
  font-size: 32px !important;
}
.w-e-toolbar h2,
.w-e-text-container h2,
.w-e-menu-panel h2 {
  font-size: 24px !important;
}
.w-e-toolbar h3,
.w-e-text-container h3,
.w-e-menu-panel h3 {
  font-size: 18.72px !important;
}
.w-e-toolbar h4,
.w-e-text-container h4,
.w-e-menu-panel h4 {
  font-size: 16px !important;
}
.w-e-toolbar h5,
.w-e-text-container h5,
.w-e-menu-panel h5 {
  font-size: 13.28px !important;
}
.w-e-toolbar p,
.w-e-text-container p,
.w-e-menu-panel p {
  font-size: 16px !important;
}
.w-e-toolbar .eleImg,
.w-e-text-container .eleImg,
.w-e-menu-panel .eleImg {
  cursor: pointer;
  display: inline-block;
  font-size: 18px;
  padding: 0 3px;
}
.w-e-toolbar *,
.w-e-text-container *,
.w-e-menu-panel * {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
.w-e-toolbar hr,
.w-e-text-container hr,
.w-e-menu-panel hr {
  cursor: pointer;
  display: block;
  height: 0px;
  border: 0;
  border-top: 3px solid #ccc;
  margin: 20px 0;
}
.w-e-clear-fix:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-drop-list-item {
  position: relative;
  top: 1px;
  padding-right: 7px;
  color: #333 !important;
}
.w-e-drop-list-tl {
  padding-left: 10px;
  text-align: left;
}
`,""]),n.exports=r},function(n,r,a){var i=a(20),o=a(149);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21),o=a(150),s=a(151);r=i(!1);var l=o(s);r.push([n.i,`@font-face {
  font-family: 'w-e-icon';
  src: url(`+l+`) format('truetype');
  font-weight: normal;
  font-style: normal;
}
[class^="w-e-icon-"],
[class*=" w-e-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'w-e-icon' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.w-e-icon-close:before {
  content: "\\f00d";
}
.w-e-icon-upload2:before {
  content: "\\e9c6";
}
.w-e-icon-trash-o:before {
  content: "\\f014";
}
.w-e-icon-header:before {
  content: "\\f1dc";
}
.w-e-icon-pencil2:before {
  content: "\\e906";
}
.w-e-icon-paint-brush:before {
  content: "\\f1fc";
}
.w-e-icon-image:before {
  content: "\\e90d";
}
.w-e-icon-play:before {
  content: "\\e912";
}
.w-e-icon-location:before {
  content: "\\e947";
}
.w-e-icon-undo:before {
  content: "\\e965";
}
.w-e-icon-redo:before {
  content: "\\e966";
}
.w-e-icon-quotes-left:before {
  content: "\\e977";
}
.w-e-icon-list-numbered:before {
  content: "\\e9b9";
}
.w-e-icon-list2:before {
  content: "\\e9bb";
}
.w-e-icon-link:before {
  content: "\\e9cb";
}
.w-e-icon-happy:before {
  content: "\\e9df";
}
.w-e-icon-bold:before {
  content: "\\ea62";
}
.w-e-icon-underline:before {
  content: "\\ea63";
}
.w-e-icon-italic:before {
  content: "\\ea64";
}
.w-e-icon-strikethrough:before {
  content: "\\ea65";
}
.w-e-icon-table2:before {
  content: "\\ea71";
}
.w-e-icon-paragraph-left:before {
  content: "\\ea77";
}
.w-e-icon-paragraph-center:before {
  content: "\\ea78";
}
.w-e-icon-paragraph-right:before {
  content: "\\ea79";
}
.w-e-icon-paragraph-justify:before {
  content: "\\ea7a";
}
.w-e-icon-terminal:before {
  content: "\\f120";
}
.w-e-icon-page-break:before {
  content: "\\ea68";
}
.w-e-icon-cancel-circle:before {
  content: "\\ea0d";
}
.w-e-icon-font:before {
  content: "\\ea5c";
}
.w-e-icon-text-heigh:before {
  content: "\\ea5f";
}
.w-e-icon-paint-format:before {
  content: "\\e90c";
}
.w-e-icon-indent-increase:before {
  content: "\\ea7b";
}
.w-e-icon-indent-decrease:before {
  content: "\\ea7c";
}
.w-e-icon-row-height:before {
  content: "\\e9be";
}
.w-e-icon-fullscreen_exit:before {
  content: "\\e900";
}
.w-e-icon-fullscreen:before {
  content: "\\e901";
}
.w-e-icon-split-line:before {
  content: "\\ea0b";
}
.w-e-icon-checkbox-checked:before {
  content: "\\ea52";
}
`,""]),n.exports=r},function(n,r,a){n.exports=function(i,o){return o||(o={}),i=i&&i.__esModule?i.default:i,typeof i!="string"?i:(/^['"].*['"]$/.test(i)&&(i=i.slice(1,-1)),o.hash&&(i+=o.hash),/["'() \t\n]/.test(i)||o.needQuotes?'"'.concat(i.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):i)}},function(n,r,a){a.r(r),r.default="data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(n,r,a){var i=a(20),o=a(153);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-toolbar {
  display: flex;
  padding: 0 6px;
  flex-wrap: wrap;
  position: relative;
  /* 单个菜单 */
}
.w-e-toolbar .w-e-menu {
  position: relative;
  display: flex;
  width: 40px;
  height: 40px;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
}
.w-e-toolbar .w-e-menu i {
  color: #999;
}
.w-e-toolbar .w-e-menu:hover {
  background-color: #F6F6F6;
}
.w-e-toolbar .w-e-menu:hover i {
  color: #333;
}
.w-e-toolbar .w-e-active i {
  color: #1e88e5;
}
.w-e-toolbar .w-e-active:hover i {
  color: #1e88e5;
}
.w-e-menu-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-menu-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-item-wrapper {
  font-size: 14px;
  margin: 0 5px;
}
`,""]),n.exports=r},function(n,r,a){var i=a(20),o=a(155);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-text-container {
  position: relative;
  height: 100%;
}
.w-e-text-container .w-e-progress {
  position: absolute;
  background-color: #1e88e5;
  top: 0;
  left: 0;
  height: 1px;
}
.w-e-text-container .placeholder {
  color: #D4D4D4;
  position: absolute;
  font-size: 11pt;
  line-height: 22px;
  left: 10px;
  top: 10px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  z-index: -1;
}
.w-e-text {
  padding: 0 10px;
  overflow-y: auto;
}
.w-e-text p,
.w-e-text h1,
.w-e-text h2,
.w-e-text h3,
.w-e-text h4,
.w-e-text h5,
.w-e-text table,
.w-e-text pre {
  margin: 10px 0;
  line-height: 1.5;
}
.w-e-text ul,
.w-e-text ol {
  margin: 10px 0 10px 20px;
}
.w-e-text blockquote {
  display: block;
  border-left: 8px solid #d0e5f2;
  padding: 5px 10px;
  margin: 10px 0;
  line-height: 1.4;
  font-size: 100%;
  background-color: #f1f1f1;
}
.w-e-text code {
  display: inline-block;
  background-color: #f1f1f1;
  border-radius: 3px;
  padding: 3px 5px;
  margin: 0 3px;
}
.w-e-text pre code {
  display: block;
}
.w-e-text table {
  border-top: 1px solid #ccc;
  border-left: 1px solid #ccc;
}
.w-e-text table td,
.w-e-text table th {
  border-bottom: 1px solid #ccc;
  border-right: 1px solid #ccc;
  padding: 3px 5px;
  min-height: 30px;
  height: 30px;
}
.w-e-text table th {
  border-bottom: 2px solid #ccc;
  text-align: center;
  background-color: #f1f1f1;
}
.w-e-text:focus {
  outline: none;
}
.w-e-text img {
  cursor: pointer;
}
.w-e-text img:hover {
  box-shadow: 0 0 5px #333;
}
.w-e-text .w-e-todo {
  margin: 0 0 0 20px;
}
.w-e-text .w-e-todo li {
  list-style: none;
  font-size: 1em;
}
.w-e-text .w-e-todo li span:nth-child(1) {
  position: relative;
  left: -18px;
}
.w-e-text .w-e-todo li span:nth-child(1) input {
  position: absolute;
  margin-right: 3px;
}
.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {
  top: 50%;
  margin-top: -6px;
}
.w-e-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-item-wrapper {
  cursor: pointer;
  font-size: 14px;
  margin: 0 5px;
}
.w-e-tooltip-item-wrapper:hover {
  color: #ccc;
  text-decoration: underline;
}
`,""]),n.exports=r},function(n,r,a){var i=a(20),o=a(157);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-menu .w-e-panel-container {
  position: absolute;
  top: 0;
  left: 50%;
  border: 1px solid #ccc;
  border-top: 0;
  box-shadow: 1px 1px 2px #ccc;
  color: #333;
  background-color: #fff;
  text-align: left;
  /* 为 emotion panel 定制的样式 */
  /* 上传图片、上传视频的 panel 定制样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 5px;
  margin: 2px 5px 0 0;
  cursor: pointer;
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-close:hover {
  color: #333;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title {
  list-style: none;
  display: flex;
  font-size: 14px;
  margin: 2px 10px 0 10px;
  border-bottom: 1px solid #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {
  padding: 3px 5px;
  color: #999;
  cursor: pointer;
  margin: 0 3px;
  position: relative;
  top: 1px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {
  color: #333;
  border-bottom: 1px solid #333;
  cursor: default;
  font-weight: 700;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content {
  padding: 10px 15px 10px 15px;
  font-size: 16px;
  /* 输入框的样式 */
  /* 按钮的样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {
  outline: none;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {
  width: 100%;
  border: 1px solid #ccc;
  padding: 5px;
  margin-top: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {
  border-color: #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {
  border: none;
  border-bottom: 1px solid #ccc;
  font-size: 14px;
  height: 20px;
  color: #333;
  text-align: left;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {
  width: 30px;
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {
  display: block;
  width: 100%;
  margin: 10px 0;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {
  border-bottom: 2px solid #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {
  font-size: 14px;
  color: #1e88e5;
  border: none;
  padding: 5px 10px;
  background-color: #fff;
  cursor: pointer;
  border-radius: 3px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {
  float: left;
  margin-right: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {
  float: right;
  margin-left: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {
  color: #c24f4a;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {
  background-color: #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {
  cursor: pointer;
  font-size: 18px;
  padding: 0 3px;
  display: inline-block;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container,
.w-e-menu .w-e-panel-container .w-e-up-video-container {
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {
  display: inline-block;
  color: #999;
  cursor: pointer;
  font-size: 60px;
  line-height: 1;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {
  color: #333;
}
`,""]),n.exports=r},function(n,r,a){var i=a(20),o=a(159);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-toolbar .w-e-droplist {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #fff;
  border: 1px solid #f1f1f1;
  border-right-color: #ccc;
  border-bottom-color: #ccc;
}
.w-e-toolbar .w-e-droplist .w-e-dp-title {
  text-align: center;
  color: #999;
  line-height: 2;
  border-bottom: 1px solid #f1f1f1;
  font-size: 13px;
}
.w-e-toolbar .w-e-droplist ul.w-e-list {
  list-style: none;
  line-height: 1;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {
  color: #333;
  padding: 5px 0;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {
  background-color: #f1f1f1;
}
.w-e-toolbar .w-e-droplist ul.w-e-block {
  list-style: none;
  text-align: left;
  padding: 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {
  display: inline-block;
  padding: 3px 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {
  background-color: #f1f1f1;
}
`,""]),n.exports=r},function(n,r,a){var i=a(0),o=i(a(161));Element.prototype.matches||(Element.prototype.matches=function(s){var l=this.ownerDocument.querySelectorAll(s),u=l.length;for(u;u>=0&&l.item(u)!==this;u--);return u>-1}),o.default||(window.Promise=o.default)},function(n,r,a){n.exports=a(162)},function(n,r,a){var i=a(163);n.exports=i},function(n,r,a){a(61),a(50),a(54),a(175),a(178),a(179);var i=a(9);n.exports=i.Promise},function(n,r,a){var i=a(62),o=a(49),s=function(l){return function(u,c){var f=String(o(u)),d=i(c),h=f.length,v,m;return d<0||d>=h?l?"":void 0:(v=f.charCodeAt(d),v<55296||v>56319||d+1===h||(m=f.charCodeAt(d+1))<56320||m>57343?l?f.charAt(d):v:l?f.slice(d,d+2):(v-55296<<10)+(m-56320)+65536)}};n.exports={codeAt:s(!1),charAt:s(!0)}},function(n,r,a){var i=a(8),o=a(102),s=i.WeakMap;n.exports=typeof s=="function"&&/native code/.test(o(s))},function(n,r,a){var i=a(8),o=a(19);n.exports=function(s,l){try{o(i,s,l)}catch{i[s]=l}return l}},function(n,r,a){var i=a(104).IteratorPrototype,o=a(77),s=a(48),l=a(37),u=a(44),c=function(){return this};n.exports=function(f,d,h){var v=d+" Iterator";return f.prototype=o(i,{next:s(1,h)}),l(f,v,!1,!0),u[v]=c,f}},function(n,r,a){var i=a(11);n.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},function(n,r,a){var i=a(14),o=a(18),s=a(25),l=a(52);n.exports=i?Object.defineProperties:function(c,f){s(c);for(var d=l(f),h=d.length,v=0,m;h>v;)o.f(c,m=d[v++],f[m]);return c}},function(n,r,a){var i=a(81),o=a(65);n.exports=i?{}.toString:function(){return"[object "+o(this)+"]"}},function(n,r,a){var i=a(25),o=a(172);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s=!1,l={},u;try{u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,u.call(l,[]),s=l instanceof Array}catch{}return function(f,d){return i(f),o(d),s?u.call(f,d):f.__proto__=d,f}}():void 0)},function(n,r,a){var i=a(13);n.exports=function(o){if(!i(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return o}},function(n,r,a){var i=a(30),o=a(82),s=a(44),l=a(42),u=a(75),c="Array Iterator",f=l.set,d=l.getterFor(c);n.exports=u(Array,"Array",function(h,v){f(this,{type:c,target:i(h),index:0,kind:v})},function(){var h=d(this),v=h.target,m=h.kind,p=h.index++;return!v||p>=v.length?(h.target=void 0,{value:void 0,done:!0}):m=="keys"?{value:p,done:!1}:m=="values"?{value:v[p],done:!1}:{value:[p,v[p]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},function(n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,r,a){var i=a(5),o=a(43),s=a(8),l=a(36),u=a(109),c=a(53),f=a(110),d=a(37),h=a(111),v=a(13),m=a(41),p=a(83),g=a(34),y=a(102),x=a(66),b=a(115),A=a(116),S=a(117).set,_=a(176),w=a(119),C=a(177),M=a(85),T=a(120),E=a(42),P=a(101),R=a(10),I=a(86),D=R("species"),B="Promise",F=E.get,G=E.set,z=E.getterFor(B),N=u,U=s.TypeError,$=s.document,k=s.process,V=l("fetch"),L=M.f,O=L,H=g(k)=="process",j=!!($&&$.createEvent&&s.dispatchEvent),Y="unhandledrejection",X="rejectionhandled",Q=0,K=1,Z=2,te=1,oe=2,ue,se,me,re,q=P(B,function(){var xe=y(N)!==String(N);if(!xe&&(I===66||!H&&typeof PromiseRejectionEvent!="function")||o&&!N.prototype.finally)return!0;if(I>=51&&/native code/.test(N))return!1;var be=N.resolve(1),_e=function(Pe){Pe(function(){},function(){})},Ee=be.constructor={};return Ee[D]=_e,!(be.then(function(){})instanceof _e)}),ae=q||!b(function(xe){N.all(xe).catch(function(){})}),ce=function(xe){var be;return v(xe)&&typeof(be=xe.then)=="function"?be:!1},ee=function(xe,be,_e){if(!be.notified){be.notified=!0;var Ee=be.reactions;_(function(){for(var Pe=be.value,Ne=be.state==K,J=0;Ee.length>J;){var Ae=Ee[J++],Se=Ne?Ae.ok:Ae.fail,Te=Ae.resolve,De=Ae.reject,Ke=Ae.domain,rt,wt,Ct;try{Se?(Ne||(be.rejection===oe&&pe(xe,be),be.rejection=te),Se===!0?rt=Pe:(Ke&&Ke.enter(),rt=Se(Pe),Ke&&(Ke.exit(),Ct=!0)),rt===Ae.promise?De(U("Promise-chain cycle")):(wt=ce(rt))?wt.call(rt,Te,De):Te(rt)):De(Pe)}catch(_t){Ke&&!Ct&&Ke.exit(),De(_t)}}be.reactions=[],be.notified=!1,_e&&!be.rejection&&le(xe,be)})}},ne=function(xe,be,_e){var Ee,Pe;j?(Ee=$.createEvent("Event"),Ee.promise=be,Ee.reason=_e,Ee.initEvent(xe,!1,!0),s.dispatchEvent(Ee)):Ee={promise:be,reason:_e},(Pe=s["on"+xe])?Pe(Ee):xe===Y&&C("Unhandled promise rejection",_e)},le=function(xe,be){S.call(s,function(){var _e=be.value,Ee=he(be),Pe;if(Ee&&(Pe=T(function(){H?k.emit("unhandledRejection",_e,xe):ne(Y,xe,_e)}),be.rejection=H||he(be)?oe:te,Pe.error))throw Pe.value})},he=function(xe){return xe.rejection!==te&&!xe.parent},pe=function(xe,be){S.call(s,function(){H?k.emit("rejectionHandled",xe):ne(X,xe,be.value)})},ye=function(xe,be,_e,Ee){return function(Pe){xe(be,_e,Pe,Ee)}},ge=function(xe,be,_e,Ee){be.done||(be.done=!0,Ee&&(be=Ee),be.value=_e,be.state=Z,ee(xe,be,!0))},Ce=function(xe,be,_e,Ee){if(!be.done){be.done=!0,Ee&&(be=Ee);try{if(xe===_e)throw U("Promise can't be resolved itself");var Pe=ce(_e);Pe?_(function(){var Ne={done:!1};try{Pe.call(_e,ye(Ce,xe,Ne,be),ye(ge,xe,Ne,be))}catch(J){ge(xe,Ne,J,be)}}):(be.value=_e,be.state=K,ee(xe,be,!1))}catch(Ne){ge(xe,{done:!1},Ne,be)}}};q&&(N=function(be){p(this,N,B),m(be),ue.call(this);var _e=F(this);try{be(ye(Ce,this,_e),ye(ge,this,_e))}catch(Ee){ge(this,_e,Ee)}},ue=function(be){G(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},ue.prototype=f(N.prototype,{then:function(be,_e){var Ee=z(this),Pe=L(A(this,N));return Pe.ok=typeof be=="function"?be:!0,Pe.fail=typeof _e=="function"&&_e,Pe.domain=H?k.domain:void 0,Ee.parent=!0,Ee.reactions.push(Pe),Ee.state!=Q&&ee(this,Ee,!1),Pe.promise},catch:function(xe){return this.then(void 0,xe)}}),se=function(){var xe=new ue,be=F(xe);this.promise=xe,this.resolve=ye(Ce,xe,be),this.reject=ye(ge,xe,be)},M.f=L=function(xe){return xe===N||xe===me?new se(xe):O(xe)},!o&&typeof u=="function"&&(re=u.prototype.then,c(u.prototype,"then",function(be,_e){var Ee=this;return new N(function(Pe,Ne){re.call(Ee,Pe,Ne)}).then(be,_e)},{unsafe:!0}),typeof V=="function"&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(be){return w(N,V.apply(s,arguments))}}))),i({global:!0,wrap:!0,forced:q},{Promise:N}),d(N,B,!1,!0),h(B),me=l(B),i({target:B,stat:!0,forced:q},{reject:function(be){var _e=L(this);return _e.reject.call(void 0,be),_e.promise}}),i({target:B,stat:!0,forced:o||q},{resolve:function(be){return w(o&&this===me?N:this,be)}}),i({target:B,stat:!0,forced:ae},{all:function(be){var _e=this,Ee=L(_e),Pe=Ee.resolve,Ne=Ee.reject,J=T(function(){var Ae=m(_e.resolve),Se=[],Te=0,De=1;x(be,function(Ke){var rt=Te++,wt=!1;Se.push(void 0),De++,Ae.call(_e,Ke).then(function(Ct){wt||(wt=!0,Se[rt]=Ct,--De||Pe(Se))},Ne)}),--De||Pe(Se)});return J.error&&Ne(J.value),Ee.promise},race:function(be){var _e=this,Ee=L(_e),Pe=Ee.reject,Ne=T(function(){var J=m(_e.resolve);x(be,function(Ae){J.call(_e,Ae).then(Ee.resolve,Pe)})});return Ne.error&&Pe(Ne.value),Ee.promise}})},function(n,r,a){var i=a(8),o=a(71).f,s=a(34),l=a(117).set,u=a(118),c=i.MutationObserver||i.WebKitMutationObserver,f=i.process,d=i.Promise,h=s(f)=="process",v=o(i,"queueMicrotask"),m=v&&v.value,p,g,y,x,b,A,S,_;m||(p=function(){var w,C;for(h&&(w=f.domain)&&w.exit();g;){C=g.fn,g=g.next;try{C()}catch(M){throw g?x():y=void 0,M}}y=void 0,w&&w.enter()},h?x=function(){f.nextTick(p)}:c&&!u?(b=!0,A=document.createTextNode(""),new c(p).observe(A,{characterData:!0}),x=function(){A.data=b=!b}):d&&d.resolve?(S=d.resolve(void 0),_=S.then,x=function(){_.call(S,p)}):x=function(){l.call(i,p)}),n.exports=m||function(w){var C={fn:w,next:void 0};y&&(y.next=C),g||(g=C,x()),y=C}},function(n,r,a){var i=a(8);n.exports=function(o,s){var l=i.console;l&&l.error&&(arguments.length===1?l.error(o):l.error(o,s))}},function(n,r,a){var i=a(5),o=a(41),s=a(85),l=a(120),u=a(66);i({target:"Promise",stat:!0},{allSettled:function(f){var d=this,h=s.f(d),v=h.resolve,m=h.reject,p=l(function(){var g=o(d.resolve),y=[],x=0,b=1;u(f,function(A){var S=x++,_=!1;y.push(void 0),b++,g.call(d,A).then(function(w){_||(_=!0,y[S]={status:"fulfilled",value:w},--b||v(y))},function(w){_||(_=!0,y[S]={status:"rejected",reason:w},--b||v(y))})}),--b||v(y)});return p.error&&m(p.value),h.promise}})},function(n,r,a){var i=a(5),o=a(43),s=a(109),l=a(11),u=a(36),c=a(116),f=a(119),d=a(53),h=!!s&&l(function(){s.prototype.finally.call({then:function(){}},function(){})});i({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(v){var m=c(this,u("Promise")),p=typeof v=="function";return this.then(p?function(g){return f(m,v()).then(function(){return g})}:v,p?function(g){return f(m,v()).then(function(){throw g})}:v)}}),!o&&typeof s=="function"&&!s.prototype.finally&&d(s.prototype,"finally",u("Promise").prototype.finally)},function(n,r,a){a(54);var i=a(181),o=a(65),s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};n.exports=function(u){var c=u.forEach;return u===s||u instanceof Array&&c===s.forEach||l.hasOwnProperty(o(u))?i:c}},function(n,r,a){var i=a(182);n.exports=i},function(n,r,a){a(183);var i=a(15);n.exports=i("Array").forEach},function(n,r,a){var i=a(5),o=a(184);i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(n,r,a){var i=a(32).forEach,o=a(67),s=a(22),l=o("forEach"),u=s("forEach");n.exports=!l||!u?function(f){return i(this,f,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(n,r,a){var i=a(186);n.exports=i},function(n,r,a){a(187);var i=a(9);n.exports=i.Array.isArray},function(n,r,a){var i=a(5),o=a(55);i({target:"Array",stat:!0},{isArray:o})},function(n,r,a){var i=a(189);n.exports=i},function(n,r,a){var i=a(190),o=Array.prototype;n.exports=function(s){var l=s.map;return s===o||s instanceof Array&&l===o.map?i:l}},function(n,r,a){a(191);var i=a(15);n.exports=i("Array").map},function(n,r,a){var i=a(5),o=a(32).map,s=a(56),l=a(22),u=s("map"),c=l("map");i({target:"Array",proto:!0,forced:!u||!c},{map:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(193);n.exports=i},function(n,r,a){var i=a(194),o=String.prototype;n.exports=function(s){var l=s.trim;return typeof s=="string"||s===o||s instanceof String&&l===o.trim?i:l}},function(n,r,a){a(195);var i=a(15);n.exports=i("String").trim},function(n,r,a){var i=a(5),o=a(90).trim,s=a(196);i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return o(this)}})},function(n,r,a){var i=a(11),o=a(68),s="​᠎";n.exports=function(l){return i(function(){return!!o[l]()||s[l]()!=s||o[l].name!==l})}},function(n,r,a){var i=a(198);n.exports=i},function(n,r,a){a(199),a(61),a(50),a(54);var i=a(9);n.exports=i.Map},function(n,r,a){var i=a(122),o=a(124);n.exports=i("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},function(n,r,a){var i=a(11);n.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,r,a){var i=a(202);n.exports=i},function(n,r,a){var i=a(203),o=Array.prototype;n.exports=function(s){var l=s.indexOf;return s===o||s instanceof Array&&l===o.indexOf?i:l}},function(n,r,a){a(204);var i=a(15);n.exports=i("Array").indexOf},function(n,r,a){var i=a(5),o=a(78).indexOf,s=a(67),l=a(22),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,f=s("indexOf"),d=l("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!f||!d},{indexOf:function(v){return c?u.apply(this,arguments)||0:o(this,v,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(206);n.exports=i},function(n,r,a){var i=a(207),o=Array.prototype;n.exports=function(s){var l=s.splice;return s===o||s instanceof Array&&l===o.splice?i:l}},function(n,r,a){a(208);var i=a(15);n.exports=i("Array").splice},function(n,r,a){var i=a(5),o=a(79),s=a(62),l=a(35),u=a(31),c=a(88),f=a(69),d=a(56),h=a(22),v=d("splice"),m=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,y=9007199254740991,x="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!v||!m},{splice:function(A,S){var _=u(this),w=l(_.length),C=o(A,w),M=arguments.length,T,E,P,R,I,D;if(M===0?T=E=0:M===1?(T=0,E=w-C):(T=M-2,E=g(p(s(S),0),w-C)),w+T-E>y)throw TypeError(x);for(P=c(_,E),R=0;R<E;R++)I=C+R,I in _&&f(P,R,_[I]);if(P.length=E,T<E){for(R=C;R<w-E;R++)I=R+E,D=R+T,I in _?_[D]=_[I]:delete _[D];for(R=w;R>w-E+T;R--)delete _[R-1]}else if(T>E)for(R=w-E;R>C;R--)I=R+E-1,D=R+T-1,I in _?_[D]=_[I]:delete _[D];for(R=0;R<T;R++)_[R+C]=arguments[R+2];return _.length=w-E+T,P}})},function(n,r,a){var i=a(210);n.exports=i},function(n,r,a){var i=a(211),o=Array.prototype;n.exports=function(s){var l=s.filter;return s===o||s instanceof Array&&l===o.filter?i:l}},function(n,r,a){a(212);var i=a(15);n.exports=i("Array").filter},function(n,r,a){var i=a(5),o=a(32).filter,s=a(56),l=a(22),u=s("filter"),c=l("filter");i({target:"Array",proto:!0,forced:!u||!c},{filter:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(214);n.exports=i},function(n,r,a){var i=a(215),o=a(217),s=Array.prototype,l=String.prototype;n.exports=function(u){var c=u.includes;return u===s||u instanceof Array&&c===s.includes?i:typeof u=="string"||u===l||u instanceof String&&c===l.includes?o:c}},function(n,r,a){a(216);var i=a(15);n.exports=i("Array").includes},function(n,r,a){var i=a(5),o=a(78).includes,s=a(82),l=a(22),u=l("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!u},{includes:function(f){return o(this,f,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(n,r,a){a(218);var i=a(15);n.exports=i("String").includes},function(n,r,a){var i=a(5),o=a(219),s=a(49),l=a(221);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(c){return!!~String(s(this)).indexOf(o(c),arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(220);n.exports=function(o){if(i(o))throw TypeError("The method doesn't accept regular expressions");return o}},function(n,r,a){var i=a(13),o=a(34),s=a(10),l=s("match");n.exports=function(u){var c;return i(u)&&((c=u[l])!==void 0?!!c:o(u)=="RegExp")}},function(n,r,a){var i=a(10),o=i("match");n.exports=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[o]=!1,"/./"[s](l)}catch{}}return!1}},function(n,r,a){var i=a(223);n.exports=i},function(n,r,a){var i=a(224),o=Function.prototype;n.exports=function(s){var l=s.bind;return s===o||s instanceof Function&&l===o.bind?i:l}},function(n,r,a){a(225);var i=a(15);n.exports=i("Function").bind},function(n,r,a){var i=a(5),o=a(226);i({target:"Function",proto:!0},{bind:o})},function(n,r,a){var i=a(41),o=a(13),s=[].slice,l={},u=function(c,f,d){if(!(f in l)){for(var h=[],v=0;v<f;v++)h[v]="a["+v+"]";l[f]=Function("C,a","return new C("+h.join(",")+")")}return l[f](c,d)};n.exports=Function.bind||function(f){var d=i(this),h=s.call(arguments,1),v=function(){var p=h.concat(s.call(arguments));return this instanceof v?u(d,p.length,p):d.apply(f,p)};return o(d.prototype)&&(v.prototype=d.prototype),v}},function(n,r,a){n.exports=a(228)},function(n,r,a){var i=a(229);n.exports=i},function(n,r,a){a(125),a(50),a(54);var i=a(93);n.exports=i.f("iterator")},function(n,r,a){n.exports=a(231)},function(n,r,a){var i=a(232);a(251),a(252),a(253),a(254),a(255),n.exports=i},function(n,r,a){a(233),a(61),a(234),a(236),a(237),a(238),a(239),a(125),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250);var i=a(9);n.exports=i.Symbol},function(n,r,a){var i=a(5),o=a(11),s=a(55),l=a(13),u=a(31),c=a(35),f=a(69),d=a(88),h=a(56),v=a(10),m=a(86),p=v("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",x=m>=51||!o(function(){var _=[];return _[p]=!1,_.concat()[0]!==_}),b=h("concat"),A=function(_){if(!l(_))return!1;var w=_[p];return w!==void 0?!!w:s(_)},S=!x||!b;i({target:"Array",proto:!0,forced:S},{concat:function(w){var C=u(this),M=d(C,0),T=0,E,P,R,I,D;for(E=-1,R=arguments.length;E<R;E++)if(D=E===-1?C:arguments[E],A(D)){if(I=c(D.length),T+I>g)throw TypeError(y);for(P=0;P<I;P++,T++)P in D&&f(M,T,D[P])}else{if(T>=g)throw TypeError(y);f(M,T++,D)}return M.length=T,M}})},function(n,r,a){var i=a(5),o=a(8),s=a(36),l=a(43),u=a(14),c=a(76),f=a(106),d=a(11),h=a(16),v=a(55),m=a(13),p=a(25),g=a(31),y=a(30),x=a(60),b=a(48),A=a(77),S=a(52),_=a(126),w=a(235),C=a(127),M=a(71),T=a(18),E=a(59),P=a(19),R=a(53),I=a(74),D=a(63),B=a(51),F=a(64),G=a(10),z=a(93),N=a(12),U=a(37),$=a(42),k=a(32).forEach,V=D("hidden"),L="Symbol",O="prototype",H=G("toPrimitive"),j=$.set,Y=$.getterFor(L),X=Object[O],Q=o.Symbol,K=s("JSON","stringify"),Z=M.f,te=T.f,oe=w.f,ue=E.f,se=I("symbols"),me=I("op-symbols"),re=I("string-to-symbol-registry"),q=I("symbol-to-string-registry"),ae=I("wks"),ce=o.QObject,ee=!ce||!ce[O]||!ce[O].findChild,ne=u&&d(function(){return A(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!=7})?function(Pe,Ne,J){var Ae=Z(X,Ne);Ae&&delete X[Ne],te(Pe,Ne,J),Ae&&Pe!==X&&te(X,Ne,Ae)}:te,le=function(Pe,Ne){var J=se[Pe]=A(Q[O]);return j(J,{type:L,tag:Pe,description:Ne}),u||(J.description=Ne),J},he=f?function(Pe){return typeof Pe=="symbol"}:function(Pe){return Object(Pe)instanceof Q},pe=function(Ne,J,Ae){Ne===X&&pe(me,J,Ae),p(Ne);var Se=x(J,!0);return p(Ae),h(se,Se)?(Ae.enumerable?(h(Ne,V)&&Ne[V][Se]&&(Ne[V][Se]=!1),Ae=A(Ae,{enumerable:b(0,!1)})):(h(Ne,V)||te(Ne,V,b(1,{})),Ne[V][Se]=!0),ne(Ne,Se,Ae)):te(Ne,Se,Ae)},ye=function(Ne,J){p(Ne);var Ae=y(J),Se=S(Ae).concat(_e(Ae));return k(Se,function(Te){(!u||Ce.call(Ae,Te))&&pe(Ne,Te,Ae[Te])}),Ne},ge=function(Ne,J){return J===void 0?A(Ne):ye(A(Ne),J)},Ce=function(Ne){var J=x(Ne,!0),Ae=ue.call(this,J);return this===X&&h(se,J)&&!h(me,J)?!1:Ae||!h(this,J)||!h(se,J)||h(this,V)&&this[V][J]?Ae:!0},xe=function(Ne,J){var Ae=y(Ne),Se=x(J,!0);if(!(Ae===X&&h(se,Se)&&!h(me,Se))){var Te=Z(Ae,Se);return Te&&h(se,Se)&&!(h(Ae,V)&&Ae[V][Se])&&(Te.enumerable=!0),Te}},be=function(Ne){var J=oe(y(Ne)),Ae=[];return k(J,function(Se){!h(se,Se)&&!h(B,Se)&&Ae.push(Se)}),Ae},_e=function(Ne){var J=Ne===X,Ae=oe(J?me:y(Ne)),Se=[];return k(Ae,function(Te){h(se,Te)&&(!J||h(X,Te))&&Se.push(se[Te])}),Se};if(c||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var Ne=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),J=F(Ne),Ae=function(Se){this===X&&Ae.call(me,Se),h(this,V)&&h(this[V],J)&&(this[V][J]=!1),ne(this,J,b(1,Se))};return u&&ee&&ne(X,J,{configurable:!0,set:Ae}),le(J,Ne)},R(Q[O],"toString",function(){return Y(this).tag}),R(Q,"withoutSetter",function(Pe){return le(F(Pe),Pe)}),E.f=Ce,T.f=pe,M.f=xe,_.f=w.f=be,C.f=_e,z.f=function(Pe){return le(G(Pe),Pe)},u&&(te(Q[O],"description",{configurable:!0,get:function(){return Y(this).description}}),l||R(X,"propertyIsEnumerable",Ce,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Q}),k(S(ae),function(Pe){N(Pe)}),i({target:L,stat:!0,forced:!c},{for:function(Pe){var Ne=String(Pe);if(h(re,Ne))return re[Ne];var J=Q(Ne);return re[Ne]=J,q[J]=Ne,J},keyFor:function(Ne){if(!he(Ne))throw TypeError(Ne+" is not a symbol");if(h(q,Ne))return q[Ne]},useSetter:function(){ee=!0},useSimple:function(){ee=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!u},{create:ge,defineProperty:pe,defineProperties:ye,getOwnPropertyDescriptor:xe}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:be,getOwnPropertySymbols:_e}),i({target:"Object",stat:!0,forced:d(function(){C.f(1)})},{getOwnPropertySymbols:function(Ne){return C.f(g(Ne))}}),K){var Ee=!c||d(function(){var Pe=Q();return K([Pe])!="[null]"||K({a:Pe})!="{}"||K(Object(Pe))!="{}"});i({target:"JSON",stat:!0,forced:Ee},{stringify:function(Ne,J,Ae){for(var Se=[Ne],Te=1,De;arguments.length>Te;)Se.push(arguments[Te++]);if(De=J,!(!m(J)&&Ne===void 0||he(Ne)))return v(J)||(J=function(Ke,rt){if(typeof De=="function"&&(rt=De.call(this,Ke,rt)),!he(rt))return rt}),Se[1]=J,K.apply(null,Se)}})}Q[O][H]||P(Q[O],H,Q[O].valueOf),U(Q,L),B[V]=!0},function(n,r,a){var i=a(30),o=a(126).f,s={}.toString,l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(c){try{return o(c)}catch{return l.slice()}};n.exports.f=function(f){return l&&s.call(f)=="[object Window]"?u(f):o(i(f))}},function(n,r,a){var i=a(12);i("asyncIterator")},function(n,r){},function(n,r,a){var i=a(12);i("hasInstance")},function(n,r,a){var i=a(12);i("isConcatSpreadable")},function(n,r,a){var i=a(12);i("match")},function(n,r,a){var i=a(12);i("matchAll")},function(n,r,a){var i=a(12);i("replace")},function(n,r,a){var i=a(12);i("search")},function(n,r,a){var i=a(12);i("species")},function(n,r,a){var i=a(12);i("split")},function(n,r,a){var i=a(12);i("toPrimitive")},function(n,r,a){var i=a(12);i("toStringTag")},function(n,r,a){var i=a(12);i("unscopables")},function(n,r,a){var i=a(37);i(Math,"Math",!0)},function(n,r,a){var i=a(8),o=a(37);o(i.JSON,"JSON",!0)},function(n,r,a){var i=a(12);i("asyncDispose")},function(n,r,a){var i=a(12);i("dispose")},function(n,r,a){var i=a(12);i("observable")},function(n,r,a){var i=a(12);i("patternMatch")},function(n,r,a){var i=a(12);i("replaceAll")},function(n,r,a){n.exports=a(257)},function(n,r,a){var i=a(258);n.exports=i},function(n,r,a){a(259);var i=a(9);n.exports=i.parseInt},function(n,r,a){var i=a(5),o=a(260);i({global:!0,forced:parseInt!=o},{parseInt:o})},function(n,r,a){var i=a(8),o=a(90).trim,s=a(68),l=i.parseInt,u=/^[+-]?0[Xx]/,c=l(s+"08")!==8||l(s+"0x16")!==22;n.exports=c?function(d,h){var v=o(String(d));return l(v,h>>>0||(u.test(v)?16:10))}:l},function(n,r,a){var i=a(262);n.exports=i},function(n,r,a){var i=a(263),o=Array.prototype;n.exports=function(s){var l=s.slice;return s===o||s instanceof Array&&l===o.slice?i:l}},function(n,r,a){a(264);var i=a(15);n.exports=i("Array").slice},function(n,r,a){var i=a(5),o=a(13),s=a(55),l=a(79),u=a(35),c=a(30),f=a(69),d=a(10),h=a(56),v=a(22),m=h("slice"),p=v("slice",{ACCESSORS:!0,0:0,1:2}),g=d("species"),y=[].slice,x=Math.max;i({target:"Array",proto:!0,forced:!m||!p},{slice:function(A,S){var _=c(this),w=u(_.length),C=l(A,w),M=l(S===void 0?w:S,w),T,E,P;if(s(_)&&(T=_.constructor,typeof T=="function"&&(T===Array||s(T.prototype))?T=void 0:o(T)&&(T=T[g],T===null&&(T=void 0)),T===Array||T===void 0))return y.call(_,C,M);for(E=new(T===void 0?Array:T)(x(M-C,0)),P=0;C<M;C++,P++)C in _&&f(E,P,_[C]);return E.length=P,E}})},function(n,r,a){a(266);var i=a(9);n.exports=i.setTimeout},function(n,r,a){var i=a(5),o=a(8),s=a(84),l=[].slice,u=/MSIE .\./.test(s),c=function(f){return function(d,h){var v=arguments.length>2,m=v?l.call(arguments,2):void 0;return f(v?function(){(typeof d=="function"?d:Function(d)).apply(this,m)}:d,h)}};i({global:!0,bind:!0,forced:u},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(128));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(272)),c=l.__importDefault(a(273)),f=l.__importDefault(a(129)),d=l.__importDefault(a(274)),h=l.__importDefault(a(275)),v=l.__importDefault(a(276)),m=l.__importDefault(a(130)),p=l.__importDefault(a(277)),g=l.__importDefault(a(278)),y=l.__importDefault(a(279)),x=(0,s.default)({},u.default,c.default,f.default,h.default,d.default,v.default,m.default,p.default,g.default,y.default,{linkCheck:function(A,S){return!0}});r.default=x},function(n,r,a){var i=a(269);n.exports=i},function(n,r,a){a(270);var i=a(9);n.exports=i.Object.assign},function(n,r,a){var i=a(5),o=a(271);i({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(n,r,a){var i=a(14),o=a(11),s=a(52),l=a(127),u=a(59),c=a(31),f=a(72),d=Object.assign,h=Object.defineProperty;n.exports=!d||o(function(){if(i&&d({b:1},d(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},m={},p=Symbol(),g="abcdefghijklmnopqrst";return v[p]=7,g.split("").forEach(function(y){m[y]=y}),d({},v)[p]!=7||s(d({},m)).join("")!=g})?function(m,p){for(var g=c(m),y=arguments.length,x=1,b=l.f,A=u.f;y>x;)for(var S=f(arguments[x++]),_=b?s(S).concat(b(S)):s(S),w=_.length,C=0,M;w>C;)M=_[C++],(!i||A.call(S,M))&&(g[M]=S[M]);return g}:d},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","undo","redo"],fontNames:["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"],fontSizes:{"x-small":{name:"10px",value:"1"},small:{name:"13px",value:"2"},normal:{name:"16px",value:"3"},large:{name:"18px",value:"4"},"x-large":{name:"24px",value:"5"},"xx-large":{name:"32px",value:"6"},"xxx-large":{name:"48px",value:"7"}},colors:["#000000","#ffffff","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b"],languageType:["Bash","C","C#","C++","CSS","Java","JavaScript","JSON","TypeScript","Plain text","Html","XML","SQL","Go","Kotlin","Lua","Markdown","PHP","Python","Shell Session","Ruby"],languageTab:"　　　　",emotions:[{title:"表情",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣".split(/\s/)},{title:"手势",type:"emoji",content:"👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(/\s/)}],lineHeights:["1","1.15","1.6","2","2.5","3"],undoLimit:20,indentation:"2em",showMenuTooltips:!0,menuTooltipPosition:"up"}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(7);function l(u,c,f){window.alert(u),f&&console.error("wangEditor: "+f)}r.default={onchangeTimeout:200,onchange:null,onfocus:s.EMPTY_FN,onblur:s.EMPTY_FN,onCatalogChange:null,customAlert:l}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(l){return l}}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={styleWithCSS:!1}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(7);r.default={linkImgCheck:function(u,c,f){return!0},showLinkImg:!0,showLinkImgAlt:!0,showLinkImgHref:!0,linkImgCallback:s.EMPTY_FN,uploadImgAccept:["jpg","jpeg","png","gif","bmp"],uploadImgServer:"",uploadImgShowBase64:!1,uploadImgMaxSize:5*1024*1024,uploadImgMaxLength:100,uploadFileName:"",uploadImgParams:{},uploadImgParamsWithUrl:!1,uploadImgHeaders:{},uploadImgHooks:{},uploadImgTimeout:10*1e3,withCredentials:!1,customUploadImg:null,uploadImgFromMedia:null}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.default={lang:"zh-CN",languages:{"zh-CN":{wangEditor:{重置:"重置",插入:"插入",默认:"默认",创建:"创建",修改:"修改",如:"如",请输入正文:"请输入正文",menus:{title:{标题:"标题",加粗:"加粗",字号:"字号",字体:"字体",斜体:"斜体",下划线:"下划线",删除线:"删除线",缩进:"缩进",行高:"行高",文字颜色:"文字颜色",背景色:"背景色",链接:"链接",序列:"序列",对齐:"对齐",引用:"引用",表情:"表情",图片:"图片",视频:"视频",表格:"表格",代码:"代码",分割线:"分割线",恢复:"恢复",撤销:"撤销",全屏:"全屏",取消全屏:"取消全屏",待办事项:"待办事项"},dropListMenu:{设置标题:"设置标题",背景颜色:"背景颜色",文字颜色:"文字颜色",设置字号:"设置字号",设置字体:"设置字体",设置缩进:"设置缩进",对齐方式:"对齐方式",设置行高:"设置行高",序列:"序列",head:{正文:"正文"},indent:{增加缩进:"增加缩进",减少缩进:"减少缩进"},justify:{靠左:"靠左",居中:"居中",靠右:"靠右",两端:"两端"},list:{无序列表:"无序列表",有序列表:"有序列表"}},panelMenus:{emoticon:{默认:"默认",新浪:"新浪",emoji:"emoji",手势:"手势"},image:{上传图片:"上传图片",网络图片:"网络图片",图片地址:"图片地址",图片文字说明:"图片文字说明",跳转链接:"跳转链接"},link:{链接:"链接",链接文字:"链接文字",取消链接:"取消链接",查看链接:"查看链接"},video:{插入视频:"插入视频",上传视频:"上传视频"},table:{行:"行",列:"列",的:"的",表格:"表格",添加行:"添加行",删除行:"删除行",添加列:"添加列",删除列:"删除列",设置表头:"设置表头",取消表头:"取消表头",插入表格:"插入表格",删除表格:"删除表格"},code:{删除代码:"删除代码",修改代码:"修改代码",插入代码:"插入代码"}}},validate:{张图片:"张图片",大于:"大于",图片链接:"图片链接",不是图片:"不是图片",返回结果:"返回结果",上传图片超时:"上传图片超时",上传图片错误:"上传图片错误",上传图片失败:"上传图片失败",插入图片错误:"插入图片错误",一次最多上传:"一次最多上传",下载链接失败:"下载链接失败",图片验证未通过:"图片验证未通过",服务器返回状态:"服务器返回状态",上传图片返回结果错误:"上传图片返回结果错误",请替换为支持的图片类型:"请替换为支持的图片类型",您插入的网络图片无法识别:"您插入的网络图片无法识别",您刚才插入的图片链接未通过编辑器校验:"您刚才插入的图片链接未通过编辑器校验",插入视频错误:"插入视频错误",视频链接:"视频链接",不是视频:"不是视频",视频验证未通过:"视频验证未通过",个视频:"个视频",上传视频超时:"上传视频超时",上传视频错误:"上传视频错误",上传视频失败:"上传视频失败",上传视频返回结果错误:"上传视频返回结果错误"}}},en:{wangEditor:{重置:"reset",插入:"insert",默认:"default",创建:"create",修改:"edit",如:"like",请输入正文:"please enter the text",menus:{title:{标题:"head",加粗:"bold",字号:"font size",字体:"font family",斜体:"italic",下划线:"underline",删除线:"strikethrough",缩进:"indent",行高:"line heihgt",文字颜色:"font color",背景色:"background",链接:"link",序列:"numbered list",对齐:"align",引用:"quote",表情:"emoticons",图片:"image",视频:"media",表格:"table",代码:"code",分割线:"split line",恢复:"redo",撤销:"undo",全屏:"fullscreen",取消全屏:"cancel fullscreen",待办事项:"todo"},dropListMenu:{设置标题:"title",背景颜色:"background",文字颜色:"font color",设置字号:"font size",设置字体:"font family",设置缩进:"indent",对齐方式:"align",设置行高:"line heihgt",序列:"list",head:{正文:"text"},indent:{增加缩进:"indent",减少缩进:"outdent"},justify:{靠左:"left",居中:"center",靠右:"right",两端:"justify"},list:{无序列表:"unordered",有序列表:"ordered"}},panelMenus:{emoticon:{表情:"emoji",手势:"gesture"},image:{上传图片:"upload image",网络图片:"network image",图片地址:"image link",图片文字说明:"image alt",跳转链接:"hyperlink"},link:{链接:"link",链接文字:"link text",取消链接:"unlink",查看链接:"view links"},video:{插入视频:"insert video",上传视频:"upload local video"},table:{行:"rows",列:"columns",的:" ",表格:"table",添加行:"insert row",删除行:"delete row",添加列:"insert column",删除列:"delete column",设置表头:"set header",取消表头:"cancel header",插入表格:"insert table",删除表格:"delete table"},code:{删除代码:"delete code",修改代码:"edit code",插入代码:"insert code"}}},validate:{张图片:"images",大于:"greater than",图片链接:"image link",不是图片:"is not image",返回结果:"return results",上传图片超时:"upload image timeout",上传图片错误:"upload image error",上传图片失败:"upload image failed",插入图片错误:"insert image error",一次最多上传:"once most at upload",下载链接失败:"download link failed",图片验证未通过:"image validate failed",服务器返回状态:"server return status",上传图片返回结果错误:"upload image return results error",请替换为支持的图片类型:"please replace with a supported image type",您插入的网络图片无法识别:"the network picture you inserted is not recognized",您刚才插入的图片链接未通过编辑器校验:"the image link you just inserted did not pass the editor verification",插入视频错误:"insert video error",视频链接:"video link",不是视频:"is not video",视频验证未通过:"video validate failed",个视频:"videos",上传视频超时:"upload video timeout",上传视频错误:"upload video error",上传视频失败:"upload video failed",上传视频返回结果错误:"upload video return results error"}}}}}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(6);function l(){return!!(s.UA.isIE()||s.UA.isOldEdge)}r.default={compatibleMode:l,historyMaxSize:30}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(7);r.default={onlineVideoCheck:function(u){return!0},onlineVideoCallback:s.EMPTY_FN,showLinkVideo:!0,uploadVideoAccept:["mp4"],uploadVideoServer:"",uploadVideoMaxSize:1*1024*1024*1024,uploadVideoName:"",uploadVideoParams:{},uploadVideoParamsWithUrl:!1,uploadVideoHeaders:{},uploadVideoHooks:{},uploadVideoTimeout:1e3*60*60*2,withVideoCredentials:!1,customUploadVideo:null,customInsertVideo:null}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(6),f=a(7),d=function(){function h(v){this._currentRange=null,this.editor=v}return h.prototype.getRange=function(){return this._currentRange},h.prototype.saveRange=function(v){if(v){this._currentRange=v;return}var m=window.getSelection();if(m.rangeCount!==0){var p=m.getRangeAt(0),g=this.getSelectionContainerElem(p);if(g!=null&&g.length&&!(g.attr("contenteditable")==="false"||g.parentUntil("[contenteditable=false]"))){var y=this.editor,x=y.$textElem;if(x.isContain(g)){if(x.elems[0]===g.elems[0]){var b;if((0,s.default)(b=x.html()).call(b)===f.EMPTY_P){var A=x.children(),S=A==null?void 0:A.last();y.selection.createRangeByElem(S,!0,!0),y.selection.restoreSelection()}}this._currentRange=p}}}},h.prototype.collapseRange=function(v){v===void 0&&(v=!1);var m=this._currentRange;m&&m.collapse(v)},h.prototype.getSelectionText=function(){var v=this._currentRange;return v?v.toString():""},h.prototype.getSelectionContainerElem=function(v){var m;m=v||this._currentRange;var p;if(m)return p=m.commonAncestorContainer,u.default(p.nodeType===1?p:p.parentNode)},h.prototype.getSelectionStartElem=function(v){var m;m=v||this._currentRange;var p;if(m)return p=m.startContainer,u.default(p.nodeType===1?p:p.parentNode)},h.prototype.getSelectionEndElem=function(v){var m;m=v||this._currentRange;var p;if(m)return p=m.endContainer,u.default(p.nodeType===1?p:p.parentNode)},h.prototype.isSelectionEmpty=function(){var v=this._currentRange;return!!(v&&v.startContainer&&v.startContainer===v.endContainer&&v.startOffset===v.endOffset)},h.prototype.restoreSelection=function(){var v=window.getSelection(),m=this._currentRange;v&&m&&(v.removeAllRanges(),v.addRange(m))},h.prototype.createEmptyRange=function(){var v=this.editor,m=this.getRange(),p;if(m&&this.isSelectionEmpty())try{c.UA.isWebkit()?(v.cmd.do("insertHTML","&#8203;"),m.setEnd(m.endContainer,m.endOffset+1),this.saveRange(m)):(p=u.default("<strong>&#8203;</strong>"),v.cmd.do("insertElem",p),this.createRangeByElem(p,!0))}catch{}},h.prototype.createRangeByElems=function(v,m){var p=window.getSelection?window.getSelection():document.getSelection();p==null||p.removeAllRanges();var g=document.createRange();g.setStart(v,0),g.setEnd(m,m.childNodes.length||1),this.saveRange(g),this.restoreSelection()},h.prototype.createRangeByElem=function(v,m,p){if(v.length){var g=v.elems[0],y=document.createRange();p?y.selectNodeContents(g):y.selectNode(g),m!=null&&(y.collapse(m),m||(this.saveRange(y),this.editor.selection.moveCursor(g))),this.saveRange(y)}},h.prototype.getSelectionRangeTopNodes=function(){var v,m,p,g=(v=this.getSelectionStartElem())===null||v===void 0?void 0:v.getNodeTop(this.editor),y=(m=this.getSelectionEndElem())===null||m===void 0?void 0:m.getNodeTop(this.editor);return p=this.recordSelectionNodes(u.default(g),u.default(y)),p},h.prototype.moveCursor=function(v,m){var p,g=this.getRange(),y=v.nodeType===3?(p=v.nodeValue)===null||p===void 0?void 0:p.length:v.childNodes.length;(c.UA.isFirefox||c.UA.isIE())&&y!==0&&(v.nodeType===3||v.childNodes[y-1].nodeName==="BR")&&(y=y-1);var x=m??y;g&&v&&(g.setStart(v,x),g.setEnd(v,x),this.restoreSelection())},h.prototype.getCursorPos=function(){var v=window.getSelection();return v==null?void 0:v.anchorOffset},h.prototype.clearWindowSelectionRange=function(){var v=window.getSelection();v&&v.removeAllRanges()},h.prototype.recordSelectionNodes=function(v,m){var p=[],g=!0;try{for(var y=v,x=this.editor.$textElem;g;){var b=y==null?void 0:y.getNodeTop(this.editor);b.getNodeName()==="BODY"&&(g=!1),b.length>0&&(p.push(u.default(y)),m!=null&&m.equal(b)||x.equal(b)?g=!1:y=b.getNextSibling())}}catch{g=!1}return p},h.prototype.setRangeToElem=function(v){var m=this.getRange();m==null||m.setStart(v,0),m==null||m.setEnd(v,0)},h}();r.default=d},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=function(){function c(f){this.editor=f}return c.prototype.do=function(f,d){var h=this.editor;h.config.styleWithCSS&&document.execCommand("styleWithCSS",!1,"true");var v=h.selection;if(v.getRange()){switch(v.restoreSelection(),f){case"insertHTML":this.insertHTML(d);break;case"insertElem":this.insertElem(d);break;default:this.execCommand(f,d);break}h.menus.changeActive(),v.saveRange(),v.restoreSelection()}},c.prototype.insertHTML=function(f){var d=this.editor,h=d.selection.getRange();if(h!=null){if(this.queryCommandSupported("insertHTML"))this.execCommand("insertHTML",f);else if(h.insertNode){if(h.deleteContents(),l.default(f).elems.length>0)h.insertNode(l.default(f).elems[0]);else{var v=document.createElement("p");v.appendChild(document.createTextNode(f)),h.insertNode(v)}d.selection.collapseRange()}}},c.prototype.insertElem=function(f){var d=this.editor,h=d.selection.getRange();h!=null&&h.insertNode&&(h.deleteContents(),h.insertNode(f.elems[0]))},c.prototype.execCommand=function(f,d){document.execCommand(f,!1,d)},c.prototype.queryCommandValue=function(f){return document.queryCommandValue(f)},c.prototype.queryCommandState=function(f){return document.queryCommandState(f)},c.prototype.queryCommandSupported=function(f){return document.queryCommandSupported(f)},c}();r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29)),l=i(a(4)),u=i(a(17)),c=i(a(27)),f=i(a(46));(0,o.default)(r,"__esModule",{value:!0});var d=a(2),h=d.__importDefault(a(3)),v=d.__importDefault(a(287)),m=a(6),p=d.__importDefault(a(299)),g=d.__importDefault(a(300)),y=a(7),x=function(){function b(A){this.editor=A,this.eventHooks={onBlurEvents:[],changeEvents:[],dropEvents:[],clickEvents:[],keydownEvents:[],keyupEvents:[],tabUpEvents:[],tabDownEvents:[],enterUpEvents:[],enterDownEvents:[],deleteUpEvents:[],deleteDownEvents:[],pasteEvents:[],linkClickEvents:[],codeClickEvents:[],textScrollEvents:[],toolbarClickEvents:[],imgClickEvents:[],imgDragBarMouseDownEvents:[],tableClickEvents:[],menuClickEvents:[],dropListMenuHoverEvents:[],splitLineEvents:[],videoClickEvents:[]}}return b.prototype.init=function(){this._saveRange(),this._bindEventHooks(),v.default(this)},b.prototype.togglePlaceholder=function(){var A,S=this.html(),_=(0,s.default)(A=this.editor.$textContainerElem).call(A,".placeholder");_.hide(),!this.editor.isComposing&&(!S||S===" ")&&_.show()},b.prototype.clear=function(){this.html(y.EMPTY_P)},b.prototype.html=function(A){var S=this.editor,_=S.$textElem;if(A==null){var w=_.html();w=w.replace(/\u200b/gm,""),w=w.replace(/<p><\/p>/gim,""),w=w.replace(y.EMPTY_P_LAST_REGEX,""),w=w.replace(y.EMPTY_P_REGEX,"<p>");var C=w.match(/<(img|br|hr|input)[^>]*>/gi);return C!==null&&(0,l.default)(C).call(C,function(M){M.match(/\/>/)||(w=w.replace(M,M.substring(0,M.length-1)+"/>"))}),w}A=(0,u.default)(A).call(A),A===""&&(A=y.EMPTY_P),(0,c.default)(A).call(A,"<")!==0&&(A="<p>"+A+"</p>"),_.html(A),S.initSelection()},b.prototype.setJSON=function(A){var S=g.default(A).children(),_=this.editor,w=_.$textElem;S&&w.replaceChildAll(S)},b.prototype.getJSON=function(){var A=this.editor,S=A.$textElem;return p.default(S)},b.prototype.text=function(A){var S=this.editor,_=S.$textElem;if(A==null){var w=_.text();return w=w.replace(/\u200b/gm,""),w}_.text("<p>"+A+"</p>"),S.initSelection()},b.prototype.append=function(A){var S=this.editor;(0,c.default)(A).call(A,"<")!==0&&(A="<p>"+A+"</p>"),this.html(this.html()+A),S.initSelection()},b.prototype._saveRange=function(){var A=this.editor,S=A.$textElem,_=h.default(document);function w(){A.selection.saveRange(),A.menus.changeActive()}S.on("keyup",w);function C(){w(),S.off("click",C)}S.on("click",C);function M(){w(),_.off("mouseup",M)}function T(){_.on("mouseup",M),S.off("mouseleave",T)}S.on("mousedown",function(){S.on("mouseleave",T)}),S.on("mouseup",function(E){S.off("mouseleave",T),(0,f.default)(function(){var P=A.selection,R=P.getRange();R!==null&&w()},0)})},b.prototype._bindEventHooks=function(){var A=this.editor,S=A.$textElem,_=this.eventHooks;S.on("click",function(C){var M=_.clickEvents;(0,l.default)(M).call(M,function(T){return T(C)})}),S.on("keyup",function(C){if(C.keyCode===13){var M=_.enterUpEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("keyup",function(C){var M=_.keyupEvents;(0,l.default)(M).call(M,function(T){return T(C)})}),S.on("keydown",function(C){var M=_.keydownEvents;(0,l.default)(M).call(M,function(T){return T(C)})}),S.on("keyup",function(C){if(!(C.keyCode!==8&&C.keyCode!==46)){var M=_.deleteUpEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("keydown",function(C){if(!(C.keyCode!==8&&C.keyCode!==46)){var M=_.deleteDownEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("paste",function(C){if(!m.UA.isIE()){C.preventDefault();var M=_.pasteEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("keydown",function(C){(A.isFocus||A.isCompatibleMode)&&(C.ctrlKey||C.metaKey)&&C.keyCode===90&&(C.preventDefault(),C.shiftKey?A.history.restore():A.history.revoke())}),S.on("keyup",function(C){if(C.keyCode===9){C.preventDefault();var M=_.tabUpEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("keydown",function(C){if(C.keyCode===9){C.preventDefault();var M=_.tabDownEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("scroll",m.throttle(function(C){var M=_.textScrollEvents;(0,l.default)(M).call(M,function(T){return T(C)})},100));function w(C){C.preventDefault()}h.default(document).on("dragleave",w).on("drop",w).on("dragenter",w).on("dragover",w),A.beforeDestroy(function(){h.default(document).off("dragleave",w).off("drop",w).off("dragenter",w).off("dragover",w)}),S.on("drop",function(C){C.preventDefault();var M=_.dropEvents;(0,l.default)(M).call(M,function(T){return T(C)})}),S.on("click",function(C){var M=null,T=C.target,E=h.default(T);if(E.getNodeName()==="A")M=E;else{var P=E.parentUntil("a");P!=null&&(M=P)}if(M){var R=_.linkClickEvents;(0,l.default)(R).call(R,function(I){return I(M)})}}),S.on("click",function(C){var M=null,T=C.target,E=h.default(T);if(E.getNodeName()==="IMG"&&!E.elems[0].getAttribute("data-emoji")&&(C.stopPropagation(),M=E),!!M){var P=_.imgClickEvents;(0,l.default)(P).call(P,function(R){return R(M)})}}),S.on("click",function(C){var M=null,T=C.target,E=h.default(T);if(E.getNodeName()==="PRE")M=E;else{var P=E.parentUntil("pre");P!==null&&(M=P)}if(M){var R=_.codeClickEvents;(0,l.default)(R).call(R,function(I){return I(M)})}}),S.on("click",function(C){var M=null,T=C.target,E=h.default(T);if(E.getNodeName()==="HR"&&(M=E),!!M){A.selection.createRangeByElem(M),A.selection.restoreSelection();var P=_.splitLineEvents;(0,l.default)(P).call(P,function(R){return R(M)})}}),A.$toolbarElem.on("click",function(C){var M=_.toolbarClickEvents;(0,l.default)(M).call(M,function(T){return T(C)})}),A.$textContainerElem.on("mousedown",function(C){var M=C.target,T=h.default(M);if(T.hasClass("w-e-img-drag-rb")){var E=_.imgDragBarMouseDownEvents;(0,l.default)(E).call(E,function(P){return P()})}}),S.on("click",function(C){var M=null,T=C.target;if(M=h.default(T).parentUntilEditor("TABLE",A,T),!!M){var E=_.tableClickEvents;(0,l.default)(E).call(E,function(P){return P(M,C)})}}),S.on("keydown",function(C){if(C.keyCode===13){var M=_.enterDownEvents;(0,l.default)(M).call(M,function(T){return T(C)})}}),S.on("click",function(C){var M=null,T=C.target,E=h.default(T);if(E.getNodeName()==="VIDEO"&&(C.stopPropagation(),M=E),!!M){var P=_.videoClickEvents;(0,l.default)(P).call(P,function(R){return R(M)})}})},b}();r.default=x},function(n,r,a){var i=a(284);n.exports=i},function(n,r,a){var i=a(285),o=Array.prototype;n.exports=function(s){var l=s.find;return s===o||s instanceof Array&&l===o.find?i:l}},function(n,r,a){a(286);var i=a(15);n.exports=i("Array").find},function(n,r,a){var i=a(5),o=a(32).find,s=a(82),l=a(22),u="find",c=!0,f=l(u);u in[]&&Array(1)[u](function(){c=!1}),i({target:"Array",proto:!0,forced:c||!f},{find:function(h){return o(this,h,arguments.length>1?arguments[1]:void 0)}}),s(u)},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(288)),u=s.__importStar(a(289)),c=s.__importDefault(a(290)),f=s.__importDefault(a(291)),d=s.__importDefault(a(298));function h(v){var m=v.editor,p=v.eventHooks;l.default(m,p.enterUpEvents,p.enterDownEvents),u.default(m,p.deleteUpEvents,p.deleteDownEvents),u.cutToKeepP(m,p.keyupEvents),c.default(m,p.tabDownEvents),f.default(m,p.pasteEvents),d.default(m,p.imgClickEvents)}r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(27));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(7),c=l.__importDefault(a(3));function f(d,h,v){function m(y){var x,b=c.default(u.EMPTY_P);if(b.insertBefore(y),(0,s.default)(x=y.html()).call(x,"<img")>=0){b.remove();return}d.selection.createRangeByElem(b,!0,!0),d.selection.restoreSelection(),y.remove()}function p(){var y=d.$textElem,x=d.selection.getSelectionContainerElem(),b=x.parent();if(b.html()==="<code><br></code>"){m(b);return}if(x.getNodeName()==="FONT"&&x.text()===""&&x.attr("face")==="monospace"){m(b);return}if(b.equal(y)){var A=x.getNodeName();A==="P"&&x.attr("data-we-empty-p")===null||x.text()||m(x)}}h.push(p);function g(y){var x;d.selection.saveRange((x=getSelection())===null||x===void 0?void 0:x.getRangeAt(0));var b=d.selection.getSelectionContainerElem();b.id===d.textElemId&&(y.preventDefault(),d.cmd.do("insertHTML","<p><br></p>"))}v.push(g)}r.default=f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17)),l=i(a(28));(0,o.default)(r,"__esModule",{value:!0}),r.cutToKeepP=void 0;var u=a(2),c=a(7),f=u.__importDefault(a(3));function d(v,m,p){function g(){var x=v.$textElem,b=v.$textElem.html(),A=v.$textElem.text(),S=(0,s.default)(b).call(b),_=["<p><br></p>","<br>",'<p data-we-empty-p=""></p>',c.EMPTY_P];if(/^\s*$/.test(A)&&(!S||(0,l.default)(_).call(_,S))){x.html(c.EMPTY_P);var w=x.getNode();v.selection.createRangeByElems(w.childNodes[0],w.childNodes[0]);var C=v.selection.getSelectionContainerElem();v.selection.restoreSelection(),v.selection.moveCursor(C.getNode(),0)}}m.push(g);function y(x){var b,A=v.$textElem,S=(0,s.default)(b=A.html().toLowerCase()).call(b);if(S===c.EMPTY_P){x.preventDefault();return}}p.push(y)}function h(v,m){function p(g){var y;if(g.keyCode===88){var x=v.$textElem,b=(0,s.default)(y=x.html().toLowerCase()).call(y);if(!b||b==="<br>"){var A=f.default(c.EMPTY_P);x.html(" "),x.append(A),v.selection.createRangeByElem(A,!1,!0),v.selection.restoreSelection(),v.selection.moveCursor(A.getNode(),0)}}}m.push(p)}r.cutToKeepP=h,r.default=d},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});function s(l,u){function c(){if(l.cmd.queryCommandSupported("insertHTML")){var f=l.selection.getSelectionContainerElem();if(f){var d=f.parent(),h=f.getNodeName(),v=d.getNodeName();h=="CODE"||v==="CODE"||v==="PRE"||/hljs/.test(v)?l.cmd.do("insertHTML",l.config.languageTab):l.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;")}}}u.push(c)}r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17)),l=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var u=a(131),c=a(6),f=a(7);function d(g){var y,x=(0,s.default)(y=g.replace(/<div>/gim,"<p>").replace(/<\/div>/gim,"</p>")).call(y),b=document.createElement("div");return b.innerHTML=x,b.innerHTML.replace(/<p><\/p>/gim,"")}function h(g){var y=g.replace(/<br>|<br\/>/gm,`
`).replace(/<[^>]+>/gm,"");return y}function v(g){var y;if(g==="")return!1;var x=document.createElement("div");return x.innerHTML=g,((y=x.firstChild)===null||y===void 0?void 0:y.nodeName)==="P"}function m(g){if(!(g!=null&&g.length))return!1;var y=g.elems[0];return y.nodeName==="P"&&y.innerHTML==="<br>"}function p(g,y){function x(b){var A=g.config,S=A.pasteFilterStyle,_=A.pasteIgnoreImg,w=A.pasteTextHandle,C=u.getPasteHtml(b,S,_),M=u.getPasteText(b);M=M.replace(/\n/gm,"<br>");var T=g.selection.getSelectionContainerElem();if(T){var E=T==null?void 0:T.getNodeName(),P=T==null?void 0:T.getNodeTop(g),R="";if(P.elems[0]&&(R=P==null?void 0:P.getNodeName()),E==="CODE"||R==="PRE"){w&&c.isFunction(w)&&(M=""+(w(M)||"")),g.cmd.do("insertHTML",h(M));return}if(f.urlRegex.test(M)&&S){w&&c.isFunction(w)&&(M=""+(w(M)||""));var I=M.replace(f.urlRegex,function($){return'<a href="'+$+'" target="_blank">'+$+"</a>"}),D=g.selection.getRange(),B=document.createElement("div"),F=document.createDocumentFragment();if(B.innerHTML=I,D==null)return;for(;B.childNodes.length;)F.append(B.childNodes[0]);var G=F.querySelectorAll("a");(0,l.default)(G).call(G,function($){$.innerText=$.href}),D.insertNode&&(D.deleteContents(),D.insertNode(F)),g.selection.clearWindowSelectionRange();return}if(C)try{w&&c.isFunction(w)&&(C=""+(w(C)||""));var z=/[\.\#\@]?\w+[ ]+\{[^}]*\}/.test(C);if(z&&S)g.cmd.do("insertHTML",""+d(M));else{var N=d(C);if(v(N)){var U=g.$textElem;if(g.cmd.do("insertHTML",N),U.equal(T)){g.selection.createEmptyRange();return}m(P)&&P.remove()}else g.cmd.do("insertHTML",N)}}catch{w&&c.isFunction(w)&&(M=""+(w(M)||"")),g.cmd.do("insertHTML",""+d(M))}}}y.push(x)}r.default=p},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17)),l=i(a(4)),u=i(a(28));(0,o.default)(r,"__esModule",{value:!0});var c=a(2),f=a(293),d=c.__importDefault(a(297));function h(y){var x=/<span>.*?<\/span>/gi,b=/<span>(.*?)<\/span>/;return y.replace(x,function(A){var S=A.match(b);return S==null?"":S[1]})}function v(y,x){var b;return y=(0,s.default)(b=y.toLowerCase()).call(b),!!(f.IGNORE_TAGS.has(y)||x&&y==="img")}function m(y,x){var b="";b="<"+y;var A=[];(0,l.default)(x).call(x,function(_){A.push(_.name+'="'+_.value+'"')}),A.length>0&&(b=b+" "+A.join(" "));var S=f.EMPTY_TAGS.has(y);return b=b+(S?"/":"")+">",b}function p(y){return"</"+y+">"}function g(y,x,b){x===void 0&&(x=!0),b===void 0&&(b=!1);var A=[],S="";function _(T){T=(0,s.default)(T).call(T),T&&(f.EMPTY_TAGS.has(T)||(S=T))}function w(){S=""}var C=new d.default;C.parse(y,{startElement:function(E,P){if(_(E),!v(E,b)){var R=f.NECESSARY_ATTRS.get(E)||[],I=[];(0,l.default)(P).call(P,function(B){var F=B.name;if(F==="style"){x||I.push(B);return}(0,u.default)(R).call(R,F)!==!1&&I.push(B)});var D=m(E,I);A.push(D)}},characters:function(E){E&&(v(S,b)||A.push(E))},endElement:function(E){if(!v(E,b)){var P=p(E);A.push(P),w()}},comment:function(E){_(E)}});var M=A.join("");return M=h(M),M}r.default=g},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(132)),l=i(a(121));(0,o.default)(r,"__esModule",{value:!0}),r.TOP_LEVEL_TAGS=r.EMPTY_TAGS=r.NECESSARY_ATTRS=r.IGNORE_TAGS=void 0,r.IGNORE_TAGS=new s.default(["doctype","!doctype","html","head","meta","body","script","style","link","frame","iframe","title","svg","center","o:p"]),r.NECESSARY_ATTRS=new l.default([["img",["src","alt"]],["a",["href","target"]],["td",["colspan","rowspan"]],["th",["colspan","rowspan"]]]),r.EMPTY_TAGS=new s.default(["area","base","basefont","br","col","hr","img","input","isindex","embed"]),r.TOP_LEVEL_TAGS=new s.default(["h1","h2","h3","h4","h5","p","ul","ol","table","blockquote","pre","hr","form"])},function(n,r,a){var i=a(295);n.exports=i},function(n,r,a){a(296),a(61),a(50),a(54);var i=a(9);n.exports=i.Set},function(n,r,a){var i=a(122),o=a(124);n.exports=i("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},function(n,r){function a(){}a.prototype={handler:null,startTagRe:/^<([^>\s\/]+)((\s+[^=>\s]+(\s*=\s*((\"[^"]*\")|(\'[^']*\')|[^>\s]+))?)*)\s*\/?\s*>/m,endTagRe:/^<\/([^>\s]+)[^>]*>/m,attrRe:/([^=\s]+)(\s*=\s*((\"([^"]*)\")|(\'([^']*)\')|[^>\s]+))?/gm,parse:function(i,o){o&&(this.contentHandler=o);for(var s,l,u,c=!1,f=this;i.length>0;)i.substring(0,4)=="<!--"?(u=i.indexOf("-->"),u!=-1?(this.contentHandler.comment(i.substring(4,u)),i=i.substring(u+3),c=!1):c=!0):i.substring(0,2)=="</"?this.endTagRe.test(i)?(s=RegExp.lastMatch,l=RegExp.rightContext,s.replace(this.endTagRe,function(){return f.parseEndTag.apply(f,arguments)}),i=l,c=!1):c=!0:i.charAt(0)=="<"&&(this.startTagRe.test(i)?(s=RegExp.lastMatch,l=RegExp.rightContext,s.replace(this.startTagRe,function(){return f.parseStartTag.apply(f,arguments)}),i=l,c=!1):c=!0),c&&(u=i.indexOf("<"),u==-1?(this.contentHandler.characters(i),i=""):(this.contentHandler.characters(i.substring(0,u)),i=i.substring(u))),c=!0},parseStartTag:function(i,o,s){var l=this.parseAttributes(o,s);this.contentHandler.startElement(o,l)},parseEndTag:function(i,o){this.contentHandler.endElement(o)},parseAttributes:function(i,o){var s=this,l=[];return o.replace(this.attrRe,function(u,c,f,d,h,v,m,p){l.push(s.parseAttribute(i,u,c,f,d,h,v,m,p))}),l},parseAttribute:function(i,o,s){var l="";arguments[7]?l=arguments[8]:arguments[5]?l=arguments[6]:arguments[3]&&(l=arguments[4]);var u=!l&&!arguments[3];return{name:s,value:u?null:l}}},n.exports=a},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});function s(l,u){function c(f){l.selection.createRangeByElem(f),l.selection.restoreSelection()}u.push(c)}r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(6),c=l.__importDefault(a(3));function f(d){var h=[],v=d.childNodes()||[];return(0,s.default)(v).call(v,function(m){var p,g=m.nodeType;if(g===3&&(p=m.textContent||"",p=u.replaceHtmlSymbol(p)),g===1){p={},p=p,p.tag=m.nodeName.toLowerCase();for(var y=[],x=m.attributes,b=x.length||0,A=0;A<b;A++){var S=x[A];y.push({name:S.name,value:S.value})}p.attrs=y,p.children=f(c.default(m))}p&&h.push(p)}),h}r.default=f},function(n,r,a){var i=a(0),o=i(a(92)),s=i(a(1)),l=i(a(4));(0,s.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3));function f(d,h){h===void 0&&(h=document.createElement("div"));var v=h;return(0,l.default)(d).call(d,function(m){var p;if(typeof m=="string"&&(p=document.createTextNode(m)),(0,o.default)(m)==="object"){var g;p=document.createElement(m.tag),(0,l.default)(g=m.attrs).call(g,function(y){c.default(p).attr(y.name,y.value)}),m.children&&m.children.length>0&&f(m.children,p.getRootNode())}p&&v.appendChild(p)}),c.default(v)}r.default=f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(89)),l=i(a(70)),u=i(a(28)),c=i(a(302)),f=i(a(4)),d=i(a(94)),h=i(a(133)),v=i(a(46)),m=i(a(57));(0,o.default)(r,"__esModule",{value:!0});var p=a(2),g=p.__importDefault(a(87)),y=p.__importDefault(a(314)),x=p.__importDefault(a(3)),b=function(){function A(S){this.editor=S,this.menuList=[],this.constructorList=y.default}return A.prototype.extend=function(S,_){!_||typeof _!="function"||(this.constructorList[S]=_)},A.prototype.init=function(){var S,_,w=this,C=this.editor.config,M=C.excludeMenus;(0,s.default)(M)===!1&&(M=[]),C.menus=(0,l.default)(S=C.menus).call(S,function(F){return(0,u.default)(M).call(M,F)===!1});var T=(0,c.default)(g.default.globalCustomMenuConstructorList);T=(0,l.default)(T).call(T,function(F){return(0,u.default)(M).call(M,F)}),(0,f.default)(T).call(T,function(F){delete g.default.globalCustomMenuConstructorList[F]}),(0,f.default)(_=C.menus).call(_,function(F){var G=w.constructorList[F];w._initMenuList(F,G)});for(var E=0,P=(0,d.default)(g.default.globalCustomMenuConstructorList);E<P.length;E++){var R=P[E],I=R[0],D=R[1],B=D;this._initMenuList(I,B)}this._addToToolbar(),C.showMenuTooltips&&this._bindMenuTooltips()},A.prototype._initMenuList=function(S,_){var w;if(!(_==null||typeof _!="function"))if((0,h.default)(w=this.menuList).call(w,function(M){return M.key===S}))console.warn("菜单名称重复:"+S);else{var C=new _(this.editor);C.key=S,this.menuList.push(C)}},A.prototype._bindMenuTooltips=function(){var S=this.editor,_=S.$toolbarElem,w=S.config,C=w.menuTooltipPosition,M=x.default('<div class="w-e-menu-tooltip w-e-menu-tooltip-'+C+`">
            <div class="w-e-menu-tooltip-item-wrapper">
              <div></div>
            </div>
          </div>`);M.css("visibility","hidden"),_.append(M),M.css("z-index",S.zIndex.get("tooltip"));var T=0;function E(){T&&clearTimeout(T)}function P(){E(),M.css("visibility","hidden")}_.on("mouseover",function(R){var I=R.target,D=x.default(I),B,F;if(D.isContain(_)){P();return}if(D.parentUntil(".w-e-droplist")!=null)P();else if(D.attr("data-title"))B=D.attr("data-title"),F=D;else{var G=D.parentUntil(".w-e-menu");G!=null&&(B=G.attr("data-title"),F=G)}if(B&&F){E();var z=F.getOffsetData();M.text(S.i18next.t("menus.title."+B));var N=M.getOffsetData(),U=z.left+z.width/2-N.width/2;M.css("left",U+"px"),C==="up"?M.css("top",z.top-N.height-8+"px"):C==="down"&&M.css("top",z.top+z.height+8+"px"),T=(0,v.default)(function(){M.css("visibility","visible")},200)}else P()}).on("mouseleave",function(){P()})},A.prototype._addToToolbar=function(){var S,_=this.editor,w=_.$toolbarElem;(0,f.default)(S=this.menuList).call(S,function(C){var M=C.$elem;M&&w.append(M)})},A.prototype.menuFind=function(S){for(var _=this.menuList,w=0,C=_.length;w<C;w++)if(_[w].key===S)return _[w];return _[0]},A.prototype.changeActive=function(){var S;(0,f.default)(S=this.menuList).call(S,function(_){var w;(0,v.default)((0,m.default)(w=_.tryChangeActive).call(w,_),100)})},A}();r.default=b},function(n,r,a){n.exports=a(303)},function(n,r,a){var i=a(304);n.exports=i},function(n,r,a){a(305);var i=a(9);n.exports=i.Object.keys},function(n,r,a){var i=a(5),o=a(31),s=a(52),l=a(11),u=l(function(){s(1)});i({target:"Object",stat:!0,forced:u},{keys:function(f){return s(o(f))}})},function(n,r,a){var i=a(307);n.exports=i},function(n,r,a){a(308);var i=a(9);n.exports=i.Object.entries},function(n,r,a){var i=a(5),o=a(309).entries;i({target:"Object",stat:!0},{entries:function(l){return o(l)}})},function(n,r,a){var i=a(14),o=a(52),s=a(30),l=a(59).f,u=function(c){return function(f){for(var d=s(f),h=o(d),v=h.length,m=0,p=[],g;v>m;)g=h[m++],(!i||l.call(d,g))&&p.push(c?[g,d[g]]:d[g]);return p}};n.exports={entries:u(!0),values:u(!1)}},function(n,r,a){var i=a(311);n.exports=i},function(n,r,a){var i=a(312),o=Array.prototype;n.exports=function(s){var l=s.some;return s===o||s instanceof Array&&l===o.some?i:l}},function(n,r,a){a(313);var i=a(15);n.exports=i("Array").some},function(n,r,a){var i=a(5),o=a(32).some,s=a(67),l=a(22),u=s("some"),c=l("some");i({target:"Array",proto:!0,forced:!u||!c},{some:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(315)),u=s.__importDefault(a(316)),c=s.__importDefault(a(321)),f=s.__importDefault(a(326)),d=s.__importDefault(a(327)),h=s.__importDefault(a(328)),v=s.__importDefault(a(329)),m=s.__importDefault(a(331)),p=s.__importDefault(a(333)),g=s.__importDefault(a(334)),y=s.__importDefault(a(337)),x=s.__importDefault(a(338)),b=s.__importDefault(a(339)),A=s.__importDefault(a(350)),S=s.__importDefault(a(365)),_=s.__importDefault(a(369)),w=s.__importDefault(a(137)),C=s.__importDefault(a(378)),M=s.__importDefault(a(380)),T=s.__importDefault(a(381)),E=s.__importDefault(a(382)),P=s.__importDefault(a(401)),R=s.__importDefault(a(406)),I=s.__importDefault(a(409));r.default={bold:l.default,head:u.default,italic:f.default,link:c.default,underline:d.default,strikeThrough:h.default,fontName:v.default,fontSize:m.default,justify:p.default,quote:g.default,backColor:y.default,foreColor:x.default,video:b.default,image:A.default,indent:S.default,emoticon:_.default,list:w.default,lineHeight:C.default,undo:M.default,redo:T.default,table:E.default,code:P.default,splitLine:R.default,todo:I.default}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(23)),u=s.__importDefault(a(3)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=u.default(`<div class="w-e-menu" data-title="加粗">
                <i class="w-e-icon-bold"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor,v=h.selection.isSelectionEmpty();v&&h.selection.createEmptyRange(),h.cmd.do("bold"),v&&(h.selection.collapseRange(),h.selection.restoreSelection())},d.prototype.tryChangeActive=function(){var h=this.editor;h.cmd.queryCommandState("bold")?this.active():this.unActive()},d}(l.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(27)),l=i(a(29)),u=i(a(4)),c=i(a(317)),f=i(a(28));(0,o.default)(r,"__esModule",{value:!0});var d=a(2),h=d.__importDefault(a(24)),v=d.__importDefault(a(3)),m=a(6),p=a(7),g=function(y){d.__extends(x,y);function x(b){var A=this,S=v.default('<div class="w-e-menu" data-title="标题"><i class="w-e-icon-header"></i></div>'),_={width:100,title:"设置标题",type:"list",list:[{$elem:v.default("<h1>H1</h1>"),value:"<h1>"},{$elem:v.default("<h2>H2</h2>"),value:"<h2>"},{$elem:v.default("<h3>H3</h3>"),value:"<h3>"},{$elem:v.default("<h4>H4</h4>"),value:"<h4>"},{$elem:v.default("<h5>H5</h5>"),value:"<h5>"},{$elem:v.default("<p>"+b.i18next.t("menus.dropListMenu.head.正文")+"</p>"),value:"<p>"}],clickHandler:function(M){A.command(M)}};A=y.call(this,S,b,_)||this;var w=b.config.onCatalogChange;return w&&(A.oldCatalogs=[],A.addListenerCatalog(),A.getCatalogs()),A}return x.prototype.command=function(b){var A=this.editor,S=A.selection.getSelectionContainerElem();if(S&&A.$textElem.equal(S))this.setMultilineHead(b);else{var _;if((0,s.default)(_=["OL","UL","LI","TABLE","TH","TR","CODE","HR"]).call(_,v.default(S).getNodeName())>-1)return;A.cmd.do("formatBlock",b)}b!=="<p>"&&this.addUidForSelectionElem()},x.prototype.addUidForSelectionElem=function(){var b=this.editor,A=b.selection.getSelectionContainerElem(),S=m.getRandomCode();v.default(A).attr("id",S)},x.prototype.addListenerCatalog=function(){var b=this,A=this.editor;A.txt.eventHooks.changeEvents.push(function(){b.getCatalogs()})},x.prototype.getCatalogs=function(){var b=this.editor,A=this.editor.$textElem,S=b.config.onCatalogChange,_=(0,l.default)(A).call(A,"h1,h2,h3,h4,h5"),w=[];(0,u.default)(_).call(_,function(C,M){var T=v.default(C),E=T.attr("id"),P=T.getNodeName(),R=T.text();E||(E=m.getRandomCode(),T.attr("id",E)),R&&w.push({tag:P,id:E,text:R})}),(0,c.default)(this.oldCatalogs)!==(0,c.default)(w)&&(this.oldCatalogs=w,S&&S(w))},x.prototype.setMultilineHead=function(b){var A=this,S,_,w=this.editor,C=w.selection,M=(S=C.getSelectionContainerElem())===null||S===void 0?void 0:S.elems[0],T=["IMG","VIDEO","TABLE","TH","TR","UL","OL","PRE","HR","BLOCKQUOTE"],E=v.default(C.getSelectionStartElem()),P=v.default(C.getSelectionEndElem());P.elems[0].outerHTML===v.default(p.EMPTY_P).elems[0].outerHTML&&!P.elems[0].nextSibling&&(P=P.prev());var R=[];R.push(E.getNodeTop(w));var I=[],D=(_=C.getRange())===null||_===void 0?void 0:_.commonAncestorContainer.childNodes;D==null||(0,u.default)(D).call(D,function(G,z){G===R[0].getNode()&&I.push(z),G===P.getNodeTop(w).getNode()&&I.push(z)});for(var B=0;R[B].getNode()!==P.getNodeTop(w).getNode();){if(!R[B].elems[0])return;var F=v.default(R[B].next().getNode());R.push(F),B++}R==null||(0,u.default)(R).call(R,function(G,z){if(!A.hasTag(G,T)){var N=v.default(b),U=G.parent().getNode();N.html(""+G.html()),U.insertBefore(N.getNode(),G.getNode()),G.remove()}}),C.createRangeByElems(M.children[I[0]],M.children[I[1]])},x.prototype.hasTag=function(b,A){var S=this,_;if(!b)return!1;if((0,f.default)(A).call(A,b==null?void 0:b.getNodeName()))return!0;var w=!1;return(_=b.children())===null||_===void 0||(0,u.default)(_).call(_,function(C){w=S.hasTag(v.default(C),A)}),w},x.prototype.tryChangeActive=function(){var b=this.editor,A=/^h/i,S=b.cmd.queryCommandValue("formatBlock");A.test(S)?this.active():this.unActive()},x}(h.default);r.default=g},function(n,r,a){n.exports=a(318)},function(n,r,a){var i=a(319);n.exports=i},function(n,r,a){a(320);var i=a(9);i.JSON||(i.JSON={stringify:JSON.stringify}),n.exports=function(s,l,u){return i.JSON.stringify.apply(null,arguments)}},function(n,r,a){var i=a(5),o=a(36),s=a(11),l=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,f=/^[\uDC00-\uDFFF]$/,d=function(v,m,p){var g=p.charAt(m-1),y=p.charAt(m+1);return c.test(v)&&!f.test(y)||f.test(v)&&!c.test(g)?"\\u"+v.charCodeAt(0).toString(16):v},h=s(function(){return l("\uDF06\uD834")!=='"\\udf06\\ud834"'||l("\uDEAD")!=='"\\udead"'});l&&i({target:"JSON",stat:!0,forced:h},{stringify:function(m,p,g){var y=l.apply(null,arguments);return typeof y=="string"?y.replace(u,d):y}})},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(38)),c=l.__importDefault(a(3)),f=l.__importDefault(a(322)),d=l.__importStar(a(96)),h=l.__importDefault(a(33)),v=l.__importDefault(a(324)),m=a(7),p=function(g){l.__extends(y,g);function y(x){var b=this,A=c.default('<div class="w-e-menu" data-title="链接"><i class="w-e-icon-link"></i></div>');return b=g.call(this,A,x)||this,v.default(x),b}return y.prototype.clickHandler=function(){var x=this.editor,b,A=x.selection.getSelectionContainerElem(),S=x.$textElem,_=S.html(),w=(0,s.default)(_).call(_);if(w===m.EMPTY_P){var C=S.children();x.selection.createRangeByElem(C,!0,!0),A=x.selection.getSelectionContainerElem()}if(!(A&&x.$textElem.equal(A)))if(this.isActive){var M="",T="";if(b=x.selection.getSelectionContainerElem(),!b)return;if(b.getNodeName()!=="A"){var E=d.getParentNodeA(b);b=c.default(E)}M=b.elems[0].innerText,T=b.attr("href"),this.createPanel(M,T)}else x.selection.isSelectionEmpty()?this.createPanel("",""):this.createPanel(x.selection.getSelectionText(),"")},y.prototype.createPanel=function(x,b){var A=f.default(this.editor,x,b),S=new h.default(this,A);S.create()},y.prototype.tryChangeActive=function(){var x=this.editor;d.default(x)?this.active():this.unActive()},y}(u.default);r.default=p},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(28)),l=i(a(17)),u=i(a(29));(0,o.default)(r,"__esModule",{value:!0});var c=a(2),f=a(6),d=c.__importDefault(a(3)),h=c.__importStar(a(96)),v=a(323);function m(p,g,y){var x=f.getRandom("input-link"),b=f.getRandom("input-text"),A=f.getRandom("btn-ok"),S=f.getRandom("btn-del"),_=h.default(p)?"inline-block":"none",w;function C(){if(h.default(p)){var R=p.selection.getSelectionContainerElem();R&&(p.selection.createRangeByElem(R),p.selection.restoreSelection(),w=R)}}function M(R,I){var D=R.replace(/</g,"&lt;").replace(/>/g,"&gt;"),B=d.default('<a target="_blank">'+D+"</a>"),F=B.elems[0];F.innerText=R,F.href=I,h.default(p)&&C(),p.cmd.do("insertElem",B)}function T(){if(h.default(p))if(C(),w.getNodeName()==="A"){var R,I=w.elems[0],D=I.parentElement;D&&(0,s.default)(R=h.EXTRA_TAG).call(R,D.nodeName)?D.innerHTML=I.innerHTML:p.cmd.do("insertHTML","<span>"+I.innerHTML+"</span>")}else{var B=h.getParentNodeA(w),F=B.innerHTML;p.cmd.do("insertHTML","<span>"+F+"</span>")}}function E(R,I){var D=p.config.linkCheck(R,I);if(D!==void 0){if(D===!0)return!0;p.config.customAlert(D,"warning")}return!1}var P={width:300,height:0,tabs:[{title:p.i18next.t("menus.panelMenus.link.链接"),tpl:`<div>
                        <input
                            id="`+b+`"
                            type="text"
                            class="block"
                            placeholder="`+p.i18next.t("menus.panelMenus.link.链接文字")+`"/>
                        </td>
                        <input
                            id="`+x+`"
                            type="text"
                            class="block"
                            placeholder="`+p.i18next.t("如")+` https://..."/>
                        </td>
                        <div class="w-e-button-container">
                            <button type="button" id="`+A+`" class="right">
                                `+p.i18next.t("插入")+`
                            </button>
                            <button type="button" id="`+S+'" class="gray right" style="display:'+_+`">
                                `+p.i18next.t("menus.panelMenus.link.取消链接")+`
                            </button>
                        </div>
                    </div>`,events:[{selector:"#"+A,type:"click",fn:function(){var I,D,B,F,G,z=p.selection.getSelectionContainerElem(),N=z==null?void 0:z.elems[0];p.selection.restoreSelection();var U=p.selection.getSelectionRangeTopNodes()[0].getNode(),$=window.getSelection(),k=d.default("#"+x),V=d.default("#"+b),L=(0,l.default)(I=k.val()).call(I),O=(0,l.default)(D=V.val()).call(D),H="";$&&!($!=null&&$.isCollapsed)&&(H=(F=v.insertHtml($,U))===null||F===void 0?void 0:(0,l.default)(F).call(F));var j=H==null?void 0:H.replace(/<.*?>/g,""),Y=(G=j==null?void 0:j.length)!==null&&G!==void 0?G:0;if(Y<=O.length){var X=O.substring(0,Y),Q=O.substring(Y);j===X&&(O=j+Q)}if(L&&(O||(O=L),!!E(O,L))){if((N==null?void 0:N.nodeName)==="A")return N.setAttribute("href",L),N.innerText=O,!0;if((N==null?void 0:N.nodeName)!=="A"&&(0,s.default)(B=h.EXTRA_TAG).call(B,N.nodeName)){var K=h.getParentNodeA(z);if(K)return K.setAttribute("href",L),N.innerText=O,!0}return M(O,L),!0}},bindEnter:!0},{selector:"#"+S,type:"click",fn:function(){return T(),!0}}]}],setLinkValue:function(I,D){var B="",F="",G;D==="text"&&(B="#"+b,F=g),D==="link"&&(B="#"+x,F=y),G=(0,u.default)(I).call(I,B).elems[0],G.value=F}};return P}r.default=m},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0}),r.insertHtml=r.createPartHtml=r.makeHtmlString=r.getTopNode=void 0;function l(v,m){var p=v,g=v;do{if(p.textContent===m)break;g=p,p.parentNode&&(p=p==null?void 0:p.parentNode)}while((p==null?void 0:p.nodeName)!=="P");return g}r.getTopNode=l;function u(v,m){var p=v.nodeName,g="";if(v.nodeType===3||/^(h|H)[1-6]$/.test(p))return m;if(v.nodeType===1){var y=v.getAttribute("style"),x=v.getAttribute("face"),b=v.getAttribute("color");y&&(g=g+(' style="'+y+'"')),x&&(g=g+(' face="'+x+'"')),b&&(g=g+(' color="'+b+'"'))}return p=p.toLowerCase(),"<"+p+g+">"+m+"</"+p+">"}r.makeHtmlString=u;function c(v,m,p,g){var y,x=(y=m.textContent)===null||y===void 0?void 0:y.substring(p,g),b=m,A="";do A=u(b,x??""),x=A,b=b==null?void 0:b.parentElement;while(b&&b.textContent!==v);return A}r.createPartHtml=c;function f(v,m){var p,g,y,x,b,A=v.anchorNode,S=v.focusNode,_=v.anchorOffset,w=v.focusOffset,C=(p=m.textContent)!==null&&p!==void 0?p:"",M=d(m),T="",E="",P="",R="",I=A,D=S,B=A;if(A!=null&&A.isEqualNode(S??null)){var F=c(C,A,_,w);return F=h(M,F),F}for(A&&(E=c(C,A,_??0)),S&&(R=c(C,S,0,w)),A&&(I=l(A,C)),S&&(D=l(S,C)),B=(g=I==null?void 0:I.nextSibling)!==null&&g!==void 0?g:A;!(B!=null&&B.isEqualNode(D??null));){var G=B==null?void 0:B.nodeName;if(G==="#text")P=P+(B==null?void 0:B.textContent);else{var z=(x=(y=B==null?void 0:B.firstChild)===null||y===void 0?void 0:y.parentElement)===null||x===void 0?void 0:x.innerHTML;B&&(P=P+u(B,z??""))}var N=(b=B==null?void 0:B.nextSibling)!==null&&b!==void 0?b:B;if(N===B)break;B=N}return T=""+E+P+R,T=h(M,T),T}r.insertHtml=f;function d(v){for(var m,p=(m=v.textContent)!==null&&m!==void 0?m:"",g=[];(v==null?void 0:v.textContent)===p;)v.nodeName!=="P"&&v.nodeName!=="TABLE"&&g.push(v),v=v.childNodes[0];return g}function h(v,m){return(0,s.default)(v).call(v,function(p){m=u(p,m)}),m}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(325));function u(c){l.default(c)}r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(28));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=l.__importDefault(a(39)),f=a(96);function d(v){var m;function p(y){var x=[{$elem:u.default("<span>"+v.i18next.t("menus.panelMenus.link.查看链接")+"</span>"),onClick:function(A,S){var _=S.attr("href");return window.open(_,"_target"),!0}},{$elem:u.default("<span>"+v.i18next.t("menus.panelMenus.link.取消链接")+"</span>"),onClick:function(A,S){var _,w;A.selection.createRangeByElem(S),A.selection.restoreSelection();var C=S.childNodes();if((C==null?void 0:C.getNodeName())==="IMG"){var M=(w=(_=A.selection.getSelectionContainerElem())===null||_===void 0?void 0:_.children())===null||w===void 0?void 0:w.elems[0].children[0];A.cmd.do("insertHTML",`<img 
                                src=`+(M==null?void 0:M.getAttribute("src"))+` 
                                style=`+(M==null?void 0:M.getAttribute("style"))+">")}else{var T,E=S.elems[0],P=E.innerHTML,R=E.parentElement;R&&(0,s.default)(T=f.EXTRA_TAG).call(T,R.nodeName)?R.innerHTML=P:A.cmd.do("insertHTML","<span>"+P+"</span>")}return!0}}];m=new c.default(v,y,x),m.create()}function g(){m&&(m.remove(),m=null)}return{showLinkTooltip:p,hideLinkTooltip:g}}function h(v){var m=d(v),p=m.showLinkTooltip,g=m.hideLinkTooltip;v.txt.eventHooks.linkClickEvents.push(p),v.txt.eventHooks.clickEvents.push(g),v.txt.eventHooks.keyupEvents.push(g),v.txt.eventHooks.toolbarClickEvents.push(g),v.txt.eventHooks.menuClickEvents.push(g),v.txt.eventHooks.textScrollEvents.push(g)}r.default=h},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(23)),u=s.__importDefault(a(3)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=u.default(`<div class="w-e-menu" data-title="斜体">
                <i class="w-e-icon-italic"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor,v=h.selection.isSelectionEmpty();v&&h.selection.createEmptyRange(),h.cmd.do("italic"),v&&(h.selection.collapseRange(),h.selection.restoreSelection())},d.prototype.tryChangeActive=function(){var h=this.editor;h.cmd.queryCommandState("italic")?this.active():this.unActive()},d}(l.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(23)),u=s.__importDefault(a(3)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=u.default(`<div class="w-e-menu" data-title="下划线">
                <i class="w-e-icon-underline"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor,v=h.selection.isSelectionEmpty();v&&h.selection.createEmptyRange(),h.cmd.do("underline"),v&&(h.selection.collapseRange(),h.selection.restoreSelection())},d.prototype.tryChangeActive=function(){var h=this.editor;h.cmd.queryCommandState("underline")?this.active():this.unActive()},d}(l.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(23)),u=s.__importDefault(a(3)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=u.default(`<div class="w-e-menu" data-title="删除线">
                <i class="w-e-icon-strikethrough"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor,v=h.selection.isSelectionEmpty();v&&h.selection.createEmptyRange(),h.cmd.do("strikeThrough"),v&&(h.selection.collapseRange(),h.selection.restoreSelection())},d.prototype.tryChangeActive=function(){var h=this.editor;h.cmd.queryCommandState("strikeThrough")?this.active():this.unActive()},d}(l.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(24)),u=s.__importDefault(a(3)),c=s.__importDefault(a(330)),f=function(d){s.__extends(h,d);function h(v){var m=this,p=u.default(`<div class="w-e-menu" data-title="字体">
                <i class="w-e-icon-font"></i>
            </div>`),g=new c.default(v.config.fontNames),y={width:100,title:"设置字体",type:"list",list:g.getItemList(),clickHandler:function(b){m.command(b)}};return m=d.call(this,p,v,y)||this,m}return h.prototype.command=function(v){var m,p=this.editor,g=p.selection.isSelectionEmpty(),y=(m=p.selection.getSelectionContainerElem())===null||m===void 0?void 0:m.elems[0];if(y!=null){var x=(y==null?void 0:y.nodeName.toLowerCase())!=="p",b=(y==null?void 0:y.getAttribute("face"))===v;if(g){if(x&&!b){var A=p.selection.getSelectionRangeTopNodes();p.selection.createRangeByElem(A[0]),p.selection.moveCursor(A[0].elems[0])}p.selection.setRangeToElem(y),p.selection.createEmptyRange()}p.cmd.do("fontName",v),g&&(p.selection.collapseRange(),p.selection.restoreSelection())}},h.prototype.tryChangeActive=function(){},h}(l.default);r.default=f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=function(){function f(d){var h=this;this.itemList=[],(0,s.default)(d).call(d,function(v){var m=typeof v=="string"?v:v.value,p=typeof v=="string"?v:v.name;h.itemList.push({$elem:u.default(`<p style="font-family:'`+m+`'">`+p+"</p>"),value:p})})}return f.prototype.getItemList=function(){return this.itemList},f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(24)),u=s.__importDefault(a(3)),c=s.__importDefault(a(332)),f=function(d){s.__extends(h,d);function h(v){var m=this,p=u.default(`<div class="w-e-menu" data-title="字号">
                <i class="w-e-icon-text-heigh"></i>
            </div>`),g=new c.default(v.config.fontSizes),y={width:160,title:"设置字号",type:"list",list:g.getItemList(),clickHandler:function(b){m.command(b)}};return m=d.call(this,p,v,y)||this,m}return h.prototype.command=function(v){var m,p=this.editor,g=p.selection.isSelectionEmpty(),y=(m=p.selection.getSelectionContainerElem())===null||m===void 0?void 0:m.elems[0];y!=null&&(p.cmd.do("fontSize",v),g&&(p.selection.collapseRange(),p.selection.restoreSelection()))},h.prototype.tryChangeActive=function(){},h}(l.default);r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=function(){function c(f){this.itemList=[];for(var d in f){var h=f[d];this.itemList.push({$elem:l.default('<p style="font-size:'+d+'">'+h.name+"</p>"),value:h.value})}}return c.prototype.getItemList=function(){return this.itemList},c}();r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(27));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(24)),f=u.__importDefault(a(3)),d=["LI"],h=["BLOCKQUOTE"],v=function(m){u.__extends(p,m);function p(g){var y=this,x=f.default('<div class="w-e-menu" data-title="对齐"><i class="w-e-icon-paragraph-left"></i></div>'),b={width:100,title:"对齐方式",type:"list",list:[{$elem:f.default(`<p>
                            <i class="w-e-icon-paragraph-left w-e-drop-list-item"></i>
                            `+g.i18next.t("menus.dropListMenu.justify.靠左")+`
                        </p>`),value:"left"},{$elem:f.default(`<p>
                            <i class="w-e-icon-paragraph-center w-e-drop-list-item"></i>
                            `+g.i18next.t("menus.dropListMenu.justify.居中")+`
                        </p>`),value:"center"},{$elem:f.default(`<p>
                            <i class="w-e-icon-paragraph-right w-e-drop-list-item"></i>
                            `+g.i18next.t("menus.dropListMenu.justify.靠右")+`
                        </p>`),value:"right"},{$elem:f.default(`<p>
                            <i class="w-e-icon-paragraph-justify w-e-drop-list-item"></i>
                            `+g.i18next.t("menus.dropListMenu.justify.两端")+`
                        </p>`),value:"justify"}],clickHandler:function(S){y.command(S)}};return y=m.call(this,x,g,b)||this,y}return p.prototype.command=function(g){var y=this.editor,x=y.selection,b=x.getSelectionContainerElem();x.saveRange();var A=y.selection.getSelectionRangeTopNodes();if(b!=null&&b.length)if(this.isSpecialNode(b,A[0])||this.isSpecialTopNode(A[0])){var S=this.getSpecialNodeUntilTop(b,A[0]);if(S==null)return;f.default(S).css("text-align",g)}else(0,s.default)(A).call(A,function(_){_.css("text-align",g)});x.restoreSelection()},p.prototype.getSpecialNodeUntilTop=function(g,y){for(var x=g.elems[0],b=y.elems[0];x!=null;){if((0,l.default)(d).call(d,x==null?void 0:x.nodeName)!==-1||x.parentNode===b)return x;x=x.parentNode}return x},p.prototype.isSpecialNode=function(g,y){var x=this.getSpecialNodeUntilTop(g,y);return x==null?!1:(0,l.default)(d).call(d,x.nodeName)!==-1},p.prototype.isSpecialTopNode=function(g){var y;return g==null?!1:(0,l.default)(h).call(h,(y=g.elems[0])===null||y===void 0?void 0:y.nodeName)!==-1},p.prototype.tryChangeActive=function(){},p}(c.default);r.default=v},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=l.__importDefault(a(23)),f=l.__importDefault(a(335)),d=l.__importDefault(a(336)),h=a(7),v=function(m){l.__extends(p,m);function p(g){var y=this,x=u.default(`<div class="w-e-menu" data-title="引用">
                <i class="w-e-icon-quotes-left"></i>
            </div>`);return y=m.call(this,x,g)||this,f.default(g),y}return p.prototype.clickHandler=function(){var g,y,x=this.editor,b=x.selection.isSelectionEmpty(),A=x.selection.getSelectionRangeTopNodes(),S=A[A.length-1],_=this.getTopNodeName();if(_==="BLOCKQUOTE"){var w=u.default(S.childNodes()),C=w.length,M=S;(0,s.default)(w).call(w,function(R){var I=u.default(R);I.insertAfter(M),M=I}),S.remove(),x.selection.moveCursor(w.elems[C-1]),this.tryChangeActive()}else{var T=d.default(A);if(x.$textElem.equal(S)){var E=(g=x.selection.getSelectionContainerElem())===null||g===void 0?void 0:g.elems[0];x.selection.createRangeByElems(E.children[0],E.children[0]),A=x.selection.getSelectionRangeTopNodes(),T=d.default(A),S.append(T)}else T.insertAfter(S);this.delSelectNode(A);var P=(y=T.childNodes())===null||y===void 0?void 0:y.last().getNode();if(P==null)return;P.textContent?x.selection.moveCursor(P):x.selection.moveCursor(P,0),this.tryChangeActive(),u.default(h.EMPTY_P).insertAfter(T);return}b&&(x.selection.collapseRange(),x.selection.restoreSelection())},p.prototype.tryChangeActive=function(){var g,y=this.editor,x=(g=y.selection.getSelectionRangeTopNodes()[0])===null||g===void 0?void 0:g.getNodeName();x==="BLOCKQUOTE"?this.active():this.unActive()},p.prototype.getTopNodeName=function(){var g=this.editor,y=g.selection.getSelectionRangeTopNodes()[0],x=y==null?void 0:y.getNodeName();return x},p.prototype.delSelectNode=function(g){(0,s.default)(g).call(g,function(y){y.remove()})},p}(c.default);r.default=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=a(7),u=s.__importDefault(a(3));function c(f){function d(h){var v,m=f.selection.getSelectionContainerElem(),p=f.selection.getSelectionRangeTopNodes()[0];if((p==null?void 0:p.getNodeName())==="BLOCKQUOTE"){if(m.getNodeName()==="BLOCKQUOTE"){var g=(v=m.childNodes())===null||v===void 0?void 0:v.getNode();f.selection.moveCursor(g)}if(m.text()===""){h.preventDefault(),m.remove();var y=u.default(l.EMPTY_P);y.insertAfter(p),f.selection.moveCursor(y.getNode(),0)}p.text()===""&&p.remove()}}f.txt.eventHooks.enterDownEvents.push(d)}r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3));function c(f){var d=u.default("<blockquote></blockquote>");return(0,s.default)(f).call(f,function(h){d.append(h.clone(!0))}),d}r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(24)),c=l.__importDefault(a(3)),f=a(6),d=function(h){l.__extends(v,h);function v(m){var p,g=this,y=c.default(`<div class="w-e-menu" data-title="背景色">
                <i class="w-e-icon-paint-brush"></i>
            </div>`),x={width:120,title:"背景颜色",type:"inline-block",list:(0,s.default)(p=m.config.colors).call(p,function(b){return{$elem:c.default('<i style="color:'+b+';" class="w-e-icon-paint-brush"></i>'),value:b}}),clickHandler:function(A){g.command(A)}};return g=h.call(this,y,m,x)||this,g}return v.prototype.command=function(m){var p,g=this.editor,y=g.selection.isSelectionEmpty(),x=(p=g.selection.getSelectionContainerElem())===null||p===void 0?void 0:p.elems[0];if(x!=null){var b=(x==null?void 0:x.nodeName.toLowerCase())!=="p",A=x==null?void 0:x.style.backgroundColor,S=f.hexToRgb(m)===A;if(y){if(b&&!S){var _=g.selection.getSelectionRangeTopNodes();g.selection.createRangeByElem(_[0]),g.selection.moveCursor(_[0].elems[0])}g.selection.createEmptyRange()}g.cmd.do("backColor",m),y&&(g.selection.collapseRange(),g.selection.restoreSelection())}},v.prototype.tryChangeActive=function(){},v}(u.default);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(24)),c=l.__importDefault(a(3)),f=function(d){l.__extends(h,d);function h(v){var m,p=this,g=c.default(`<div class="w-e-menu" data-title="文字颜色">
                <i class="w-e-icon-pencil2"></i>
            </div>`),y={width:120,title:"文字颜色",type:"inline-block",list:(0,s.default)(m=v.config.colors).call(m,function(x){return{$elem:c.default('<i style="color:'+x+';" class="w-e-icon-pencil2"></i>'),value:x}}),clickHandler:function(b){p.command(b)}};return p=d.call(this,g,v,y)||this,p}return h.prototype.command=function(v){var m,p=this.editor,g=p.selection.isSelectionEmpty(),y=(m=p.selection.getSelectionContainerElem())===null||m===void 0?void 0:m.elems[0];if(y!=null){var x=p.selection.getSelectionText();if(y.nodeName==="A"&&y.textContent===x){var b=c.default("<span>&#8203;</span>").getNode();y.appendChild(b)}p.cmd.do("foreColor",v),g&&(p.selection.collapseRange(),p.selection.restoreSelection())}},h.prototype.tryChangeActive=function(){},h}(u.default);r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(33)),c=s.__importDefault(a(38)),f=s.__importDefault(a(340)),d=s.__importDefault(a(346)),h=function(v){s.__extends(m,v);function m(p){var g=this,y=l.default(`<div class="w-e-menu" data-title="视频">
                <i class="w-e-icon-play"></i>
            </div>`);return g=v.call(this,y,p)||this,d.default(p),g}return m.prototype.clickHandler=function(){this.createPanel("")},m.prototype.createPanel=function(p){var g=f.default(this.editor,p),y=new u.default(this,g);y.create()},m.prototype.tryChangeActive=function(){},m}(c.default);r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(6),c=l.__importDefault(a(3)),f=l.__importDefault(a(341)),d=a(7);function h(v,m){var p=v.config,g=new f.default(v),y=u.getRandom("input-iframe"),x=u.getRandom("btn-ok"),b=u.getRandom("input-upload"),A=u.getRandom("btn-local-ok");function S(M){v.cmd.do("insertHTML",M+d.EMPTY_P),v.config.onlineVideoCallback(M)}function _(M){var T=v.config.onlineVideoCheck(M);return T===!0?!0:(typeof T=="string"&&v.config.customAlert(T,"error"),!1)}var w=[{title:v.i18next.t("menus.panelMenus.video.上传视频"),tpl:`<div class="w-e-up-video-container">
                    <div id="`+A+`" class="w-e-up-btn">
                        <i class="w-e-icon-upload2"></i>
                    </div>
                    <div style="display:none;">
                        <input id="`+b+`" type="file" accept="video/*"/>
                    </div>
                 </div>`,events:[{selector:"#"+A,type:"click",fn:function(){var T=c.default("#"+b),E=T.elems[0];if(E)E.click();else return!0}},{selector:"#"+b,type:"change",fn:function(){var T=c.default("#"+b),E=T.elems[0];if(!E)return!0;var P=E.files;return P.length&&g.uploadVideo(P),!0}}]},{title:v.i18next.t("menus.panelMenus.video.插入视频"),tpl:`<div>
                    <input 
                        id="`+y+`" 
                        type="text" 
                        class="block" 
                        placeholder="`+v.i18next.t("如")+`：<iframe src=... ></iframe>"/>
                    </td>
                    <div class="w-e-button-container">
                        <button type="button" id="`+x+`" class="right">
                            `+v.i18next.t("插入")+`
                        </button>
                    </div>
                </div>`,events:[{selector:"#"+x,type:"click",fn:function(){var T,E=c.default("#"+y),P=(0,s.default)(T=E.val()).call(T);if(P&&_(P))return S(P),!0},bindEnter:!0}]}],C={width:300,height:0,tabs:[]};return window.FileReader&&(p.uploadVideoServer||p.customUploadVideo)&&C.tabs.push(w[0]),p.showLinkVideo&&C.tabs.push(w[1]),C}r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(133)),l=i(a(57)),u=i(a(4)),c=i(a(27));(0,o.default)(r,"__esModule",{value:!0});var f=a(2),d=a(6),h=f.__importDefault(a(135)),v=f.__importDefault(a(136)),m=a(7),p=a(6),g=function(){function y(x){this.editor=x}return y.prototype.uploadVideo=function(x){var b=this;if(x.length){var A=this.editor,S=A.config,_="validate.",w=function(j){return A.i18next.t(_+j)},C=S.uploadVideoServer,M=S.uploadVideoMaxSize,T=M/1024,E=S.uploadVideoName,P=S.uploadVideoParams,R=S.uploadVideoParamsWithUrl,I=S.uploadVideoHeaders,D=S.uploadVideoHooks,B=S.uploadVideoTimeout,F=S.withVideoCredentials,G=S.customUploadVideo,z=S.uploadVideoAccept,N=[],U=[];if(d.arrForEach(x,function(H){var j=H.name,Y=H.size/1024/1024;if(!(!j||!Y)){if(!(z instanceof Array)){U.push("【"+z+"】"+w("uploadVideoAccept 不是Array"));return}if(!(0,s.default)(z).call(z,function(X){return X===j.split(".")[j.split(".").length-1]})){U.push("【"+j+"】"+w("不是视频"));return}if(T<Y){U.push("【"+j+"】"+w("大于")+" "+T+"M");return}N.push(H)}}),U.length){S.customAlert(w("视频验证未通过")+`: 
`+U.join(`
`),"warning");return}if(N.length===0){S.customAlert(w("传入的文件不合法"),"warning");return}if(G&&typeof G=="function"){var $;G(N,(0,l.default)($=this.insertVideo).call($,this));return}var k=new FormData;if((0,u.default)(N).call(N,function(H,j){var Y=E||H.name;N.length>1&&(Y=Y+(j+1)),k.append(Y,H)}),C){var V=C.split("#");C=V[0];var L=V[1]||"";(0,u.default)(d).call(d,P,function(H,j){R&&((0,c.default)(C).call(C,"?")>0?C+="&":C+="?",C=C+H+"="+j),k.append(H,j)}),L&&(C+="#"+L);var O=h.default(C,{timeout:B,formData:k,headers:I,withCredentials:!!F,beforeSend:function(j){if(D.before)return D.before(j,A,N)},onTimeout:function(j){S.customAlert(w("上传视频超时"),"error"),D.timeout&&D.timeout(j,A)},onProgress:function(j,Y){var X=new v.default(A);Y.lengthComputable&&(j=Y.loaded/Y.total,X.show(j))},onError:function(j){S.customAlert(w("上传视频错误"),"error",w("上传视频错误")+"，"+w("服务器返回状态")+": "+j.status),D.error&&D.error(j,A)},onFail:function(j,Y){S.customAlert(w("上传视频失败"),"error",w("上传视频返回结果错误")+("，"+w("返回结果")+": ")+Y),D.fail&&D.fail(j,A,Y)},onSuccess:function(j,Y){if(D.customInsert){var X;D.customInsert((0,l.default)(X=b.insertVideo).call(X,b),Y,A);return}if(Y.errno!="0"){S.customAlert(w("上传视频失败"),"error",w("上传视频返回结果错误")+"，"+w("返回结果")+" errno="+Y.errno),D.fail&&D.fail(j,A,Y);return}var Q=Y.data;b.insertVideo(Q.url),D.success&&D.success(j,A,Y)}});typeof O=="string"&&S.customAlert(O,"error")}}},y.prototype.insertVideo=function(x){var b=this.editor,A=b.config,S="validate.",_=function(M,T){return T===void 0&&(T=S),b.i18next.t(T+M)};if(!A.customInsertVideo)p.UA.isFirefox?b.cmd.do("insertHTML",'<p data-we-video-p="true"><video src="'+x+'" controls="controls" style="max-width:100%"></video></p><p>&#8203</p>'):b.cmd.do("insertHTML",'<video src="'+x+'" controls="controls" style="max-width:100%"></video>'+m.EMPTY_P);else{A.customInsertVideo(x);return}var w=document.createElement("video");w.onload=function(){w=null},w.onerror=function(){A.customAlert(_("插入视频错误"),"error","wangEditor: "+_("插入视频错误")+"，"+_("视频链接")+' "'+x+'"，'+_("下载链接失败")),w=null},w.onabort=function(){return w=null},w.src=x},y}();r.default=g},function(n,r,a){n.exports=a(343)},function(n,r,a){var i=a(344);n.exports=i},function(n,r,a){a(345);var i=a(9);n.exports=i.Date.now},function(n,r,a){var i=a(5);i({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(347)),u=s.__importDefault(a(349));function c(f){l.default(f),u.default(f)}r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.createShowHideFn=void 0;var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(39)),c=s.__importDefault(a(348));function f(h){var v,m=function(x,b){return b===void 0&&(b=""),h.i18next.t(b+x)};function p(y){var x=[{$elem:l.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(A,S){return S.remove(),!0}},{$elem:l.default("<span>100%</span>"),onClick:function(A,S){return S.attr("width","100%"),S.removeAttr("height"),!0}},{$elem:l.default("<span>50%</span>"),onClick:function(A,S){return S.attr("width","50%"),S.removeAttr("height"),!0}},{$elem:l.default("<span>30%</span>"),onClick:function(A,S){return S.attr("width","30%"),S.removeAttr("height"),!0}},{$elem:l.default("<span>"+m("重置")+"</span>"),onClick:function(A,S){return S.removeAttr("width"),S.removeAttr("height"),!0}},{$elem:l.default("<span>"+m("menus.justify.靠左")+"</span>"),onClick:function(A,S){return c.default(S,"left"),!0}},{$elem:l.default("<span>"+m("menus.justify.居中")+"</span>"),onClick:function(A,S){return c.default(S,"center"),!0}},{$elem:l.default("<span>"+m("menus.justify.靠右")+"</span>"),onClick:function(A,S){return c.default(S,"right"),!0}}];v=new u.default(h,y,x),v.create()}function g(){v&&(v.remove(),v=null)}return{showVideoTooltip:p,hideVideoTooltip:g}}r.createShowHideFn=f;function d(h){var v=f(h),m=v.showVideoTooltip,p=v.hideVideoTooltip;h.txt.eventHooks.videoClickEvents.push(m),h.txt.eventHooks.clickEvents.push(p),h.txt.eventHooks.keyupEvents.push(p),h.txt.eventHooks.toolbarClickEvents.push(p),h.txt.eventHooks.menuClickEvents.push(p),h.txt.eventHooks.textScrollEvents.push(p),h.txt.eventHooks.changeEvents.push(p)}r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(28));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3));function c(d,h){var v=["P"],m=f(d,v);m&&u.default(m).css("text-align",h)}r.default=c;function f(d,h){for(var v,m=d.elems[0];m!=null;){if((0,s.default)(h).call(h,m==null?void 0:m.nodeName))return m;if(((v=m==null?void 0:m.parentNode)===null||v===void 0?void 0:v.nodeName)==="BODY")return null;m=m.parentNode}return m}},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(6);function l(u){if(s.UA.isFirefox){var c=u.txt,f=u.selection,d=c.eventHooks.keydownEvents;d.push(function(h){var v=f.getSelectionContainerElem();if(v){var m=v.getNodeTop(u),p=m.length&&m.prev().length?m.prev():null;p&&p.attr("data-we-video-p")&&f.getCursorPos()===0&&h.keyCode===8&&p.remove()}})}}r.default=l},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(7),c=l.__importDefault(a(3)),f=l.__importDefault(a(33)),d=l.__importDefault(a(38)),h=l.__importDefault(a(351)),v=l.__importDefault(a(364)),m=function(p){l.__extends(g,p);function g(y){var x=this,b=c.default('<div class="w-e-menu" data-title="图片"><i class="w-e-icon-image"></i></div>'),A=v.default(y);if(A.onlyUploadConf){var S;b=A.onlyUploadConf.$elem,(0,s.default)(S=A.onlyUploadConf.events).call(S,function(_){var w=_.type,C=_.fn||u.EMPTY_FN;b.on(w,function(M){M.stopPropagation(),C(M)})})}return x=p.call(this,b,y)||this,x.imgPanelConfig=A,h.default(y),x}return g.prototype.clickHandler=function(){this.imgPanelConfig.onlyUploadConf||this.createPanel()},g.prototype.createPanel=function(){var y=this.imgPanelConfig,x=new f.default(this,y);this.setPanel(x),x.create()},g.prototype.tryChangeActive=function(){},g}(d.default);r.default=m},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(352)),u=s.__importDefault(a(353)),c=s.__importDefault(a(354)),f=s.__importDefault(a(362)),d=s.__importDefault(a(363));function h(v){l.default(v),u.default(v),c.default(v),f.default(v),d.default(v)}r.default=h},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=a(131),u=s.__importDefault(a(97));function c(v,m){var p=v.config,g=p.pasteFilterStyle,y=p.pasteIgnoreImg,x=l.getPasteHtml(m,g,y);if(x)return!0;var b=l.getPasteText(m);return!!b}function f(v,m){for(var p,g=((p=m.clipboardData)===null||p===void 0?void 0:p.types)||[],y=0;y<g.length;y++){var x=g[y];if(x==="Files")return!0}return!1}function d(v,m){if(!(!f(m,v)&&c(m,v))){var p=l.getPasteImgs(v);if(p.length){var g=new u.default(m);g.uploadImg(p)}}}function h(v){v.txt.eventHooks.pasteEvents.unshift(function(m){d(m,v)})}r.default=h},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(97));function u(c){function f(d){var h=d.dataTransfer&&d.dataTransfer.files;if(!(!h||!h.length)){var v=new l.default(c);v.uploadImg(h)}}c.txt.eventHooks.dropEvents.push(f)}r.default=u},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29)),l=i(a(355));(0,o.default)(r,"__esModule",{value:!0}),r.createShowHideFn=void 0;var u=a(2),c=u.__importDefault(a(3));a(360);var f=a(6);function d(g,y,x,b,A){g.attr("style","width:"+y+"px; height:"+x+"px; left:"+b+"px; top:"+A+"px;")}function h(g,y){var x=c.default(`<div class="w-e-img-drag-mask">
            <div class="w-e-img-drag-show-size"></div>
            <div class="w-e-img-drag-rb"></div>
         </div>`);return x.hide(),y.append(x),x}function v(g,y,x){var b=g.getBoundingClientRect(),A=x.getBoundingClientRect(),S=A.width.toFixed(2),_=A.height.toFixed(2);(0,s.default)(y).call(y,".w-e-img-drag-show-size").text(S+"px * "+_+"px"),d(y,(0,l.default)(S),(0,l.default)(_),A.left-b.left,A.top-b.top),y.show()}function m(g){var y=g.$textContainerElem,x,b=h(g,y);function A(w,C){w.on("click",function(M){M.stopPropagation()}),w.on("mousedown",".w-e-img-drag-rb",function(M){if(M.preventDefault(),!x)return;var T=M.clientX,E=M.clientY,P=C.getBoundingClientRect(),R=x.getBoundingClientRect(),I=R.width,D=R.height,B=R.left-P.left,F=R.top-P.top,G=I/D,z=I,N=D,U=c.default(document);function $(){U.off("mousemove",k),U.off("mouseup",V)}function k(L){L.stopPropagation(),L.preventDefault(),z=I+(L.clientX-T),N=D+(L.clientY-E),z/N!=G&&(N=z/G),z=(0,l.default)(z.toFixed(2)),N=(0,l.default)(N.toFixed(2)),(0,s.default)(w).call(w,".w-e-img-drag-show-size").text(z.toFixed(2).replace(".00","")+"px * "+N.toFixed(2).replace(".00","")+"px"),d(w,z,N,B,F)}U.on("mousemove",k);function V(){x.attr("width",z+""),x.attr("height",N+"");var L=x.getBoundingClientRect();d(w,z,N,L.left-P.left,L.top-P.top),$()}U.on("mouseup",V),U.on("mouseleave",$)})}function S(w){if(f.UA.isIE())return!1;w&&(x=w,v(y,b,x))}function _(){(0,s.default)(y).call(y,".w-e-img-drag-mask").hide()}return A(b,y),c.default(document).on("click",_),g.beforeDestroy(function(){c.default(document).off("click",_)}),{showDrag:S,hideDrag:_}}r.createShowHideFn=m;function p(g){var y=m(g),x=y.showDrag,b=y.hideDrag;g.txt.eventHooks.imgClickEvents.push(x),g.txt.eventHooks.textScrollEvents.push(b),g.txt.eventHooks.keyupEvents.push(b),g.txt.eventHooks.toolbarClickEvents.push(b),g.txt.eventHooks.menuClickEvents.push(b),g.txt.eventHooks.changeEvents.push(b)}r.default=p},function(n,r,a){n.exports=a(356)},function(n,r,a){var i=a(357);n.exports=i},function(n,r,a){a(358);var i=a(9);n.exports=i.parseFloat},function(n,r,a){var i=a(5),o=a(359);i({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(n,r,a){var i=a(8),o=a(90).trim,s=a(68),l=i.parseFloat,u=1/l(s+"-0")!==-1/0;n.exports=u?function(f){var d=o(String(f)),h=l(d);return h===0&&d.charAt(0)=="-"?-0:h}:l},function(n,r,a){var i=a(20),o=a(361);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-text-container {
  overflow: hidden;
}
.w-e-img-drag-mask {
  position: absolute;
  z-index: 1;
  border: 1px dashed #ccc;
  box-sizing: border-box;
}
.w-e-img-drag-mask .w-e-img-drag-rb {
  position: absolute;
  right: -5px;
  bottom: -5px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ccc;
  cursor: se-resize;
}
.w-e-img-drag-mask .w-e-img-drag-show-size {
  min-width: 110px;
  height: 22px;
  line-height: 22px;
  font-size: 14px;
  color: #999;
  position: absolute;
  left: 0;
  top: 0;
  background-color: #999;
  color: #fff;
  border-radius: 2px;
  padding: 0 5px;
}
`,""]),n.exports=r},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.createShowHideFn=void 0;var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(39));function c(d){var h,v=function(y,x){return x===void 0&&(x=""),d.i18next.t(x+y)};function m(g){var y=[{$elem:l.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(b,A){return b.selection.createRangeByElem(A),b.selection.restoreSelection(),b.cmd.do("delete"),!0}},{$elem:l.default("<span>30%</span>"),onClick:function(b,A){return A.attr("width","30%"),A.removeAttr("height"),!0}},{$elem:l.default("<span>50%</span>"),onClick:function(b,A){return A.attr("width","50%"),A.removeAttr("height"),!0}},{$elem:l.default("<span>100%</span>"),onClick:function(b,A){return A.attr("width","100%"),A.removeAttr("height"),!0}}];y.push({$elem:l.default("<span>"+v("重置")+"</span>"),onClick:function(b,A){return A.removeAttr("width"),A.removeAttr("height"),!0}}),g.attr("data-href")&&y.push({$elem:l.default("<span>"+v("查看链接")+"</span>"),onClick:function(b,A){var S=A.attr("data-href");return S&&(S=decodeURIComponent(S),window.open(S,"_target")),!0}}),h=new u.default(d,g,y),h.create()}function p(){h&&(h.remove(),h=null)}return{showImgTooltip:m,hideImgTooltip:p}}r.createShowHideFn=c;function f(d){var h=c(d),v=h.showImgTooltip,m=h.hideImgTooltip;d.txt.eventHooks.imgClickEvents.push(v),d.txt.eventHooks.clickEvents.push(m),d.txt.eventHooks.keyupEvents.push(m),d.txt.eventHooks.toolbarClickEvents.push(m),d.txt.eventHooks.menuClickEvents.push(m),d.txt.eventHooks.textScrollEvents.push(m),d.txt.eventHooks.imgDragBarMouseDownEvents.push(m),d.txt.eventHooks.changeEvents.push(m)}r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});function s(l){var u=l.txt,c=l.selection,f=u.eventHooks.keydownEvents;f.push(function(d){var h=c.getSelectionContainerElem(),v=c.getRange();if(!(!v||!h||d.keyCode!==8||!c.isSelectionEmpty())){var m=v.startContainer,p=v.startOffset,g=null;if(p===0)for(;m!==h.elems[0]&&h.elems[0].contains(m)&&m.parentNode&&!g;){if(m.previousSibling){g=m.previousSibling;break}m=m.parentNode}else m.nodeType!==3&&(g=m.childNodes[p-1]);if(g){for(var y=g;y.childNodes.length;)y=y.childNodes[y.childNodes.length-1];y instanceof HTMLElement&&y.tagName==="IMG"&&(y.remove(),d.preventDefault())}}})}r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26)),l=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=a(6),d=u.__importDefault(a(97));function h(v){var m,p=v.config,g=new d.default(v),y=f.getRandom("up-trigger-id"),x=f.getRandom("up-file-id"),b=f.getRandom("input-link-url"),A=f.getRandom("input-link-url-alt"),S=f.getRandom("input-link-url-href"),_=f.getRandom("btn-link"),w="menus.panelMenus.image.",C=function(G,z){return z===void 0&&(z=w),v.i18next.t(z+G)};function M(F,G,z){var N=p.linkImgCheck(F);return N===!0?!0:(typeof N=="string"&&p.customAlert(N,"error"),!1)}var T=p.uploadImgMaxLength===1?"":'multiple="multiple"',E=(0,s.default)(m=p.uploadImgAccept).call(m,function(F){return"image/"+F}).join(","),P=function(G,z,N){return'<div class="'+G+'" data-title="'+N+`">
            <div id="`+y+`" class="w-e-up-btn">
                <i class="`+z+`"></i>
            </div>
            <div style="display:none;">
                <input id="`+x+'" type="file" '+T+' accept="'+E+`"/>
            </div>
        </div>`},R=[{selector:"#"+y,type:"click",fn:function(){var G=p.uploadImgFromMedia;if(G&&typeof G=="function")return G(),!0;var z=c.default("#"+x),N=z.elems[0];if(N)N.click();else return!0}},{selector:"#"+x,type:"change",fn:function(){var G=c.default("#"+x),z=G.elems[0];if(!z)return!0;var N=z.files;return N!=null&&N.length&&g.uploadImg(N),z&&(z.value=""),!0}}],I=[`<input
            id="`+b+`"
            type="text"
            class="block"
            placeholder="`+C("图片地址")+'"/>'];p.showLinkImgAlt&&I.push(`
        <input
            id="`+A+`"
            type="text"
            class="block"
            placeholder="`+C("图片文字说明")+'"/>'),p.showLinkImgHref&&I.push(`
        <input
            id="`+S+`"
            type="text"
            class="block"
            placeholder="`+C("跳转链接")+'"/>');var D=[{title:C("上传图片"),tpl:P("w-e-up-img-container","w-e-icon-upload2",""),events:R},{title:C("网络图片"),tpl:`<div>
                    `+I.join("")+`
                    <div class="w-e-button-container">
                        <button type="button" id="`+_+'" class="right">'+C("插入","")+`</button>
                    </div>
                </div>`,events:[{selector:"#"+_,type:"click",fn:function(){var G,z=c.default("#"+b),N=(0,l.default)(G=z.val()).call(G);if(N){var U;if(p.showLinkImgAlt){var $;U=(0,l.default)($=c.default("#"+A).val()).call($)}var k;if(p.showLinkImgHref){var V;k=(0,l.default)(V=c.default("#"+S).val()).call(V)}if(M(N))return g.insertImg(N,U,k),!0}},bindEnter:!0}]}],B={width:300,height:0,tabs:[],onlyUploadConf:{$elem:c.default(P("w-e-menu","w-e-icon-image","图片")),events:R}};return window.FileReader&&(p.uploadImgShowBase64||p.uploadImgServer||p.customUploadImg||p.uploadImgFromMedia)&&B.tabs.push(D[0]),p.showLinkImg&&(B.tabs.push(D[1]),B.onlyUploadConf=void 0),B}r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=l.__importDefault(a(24)),f=l.__importDefault(a(366)),d=function(h){l.__extends(v,h);function v(m){var p=this,g=u.default(`<div class="w-e-menu" data-title="缩进">
                <i class="w-e-icon-indent-increase"></i>
            </div>`),y={width:130,title:"设置缩进",type:"list",list:[{$elem:u.default(`<p>
                            <i class="w-e-icon-indent-increase w-e-drop-list-item"></i>
                            `+m.i18next.t("menus.dropListMenu.indent.增加缩进")+`
                        <p>`),value:"increase"},{$elem:u.default(`<p>
                            <i class="w-e-icon-indent-decrease w-e-drop-list-item"></i>
                            `+m.i18next.t("menus.dropListMenu.indent.减少缩进")+`
                        <p>`),value:"decrease"}],clickHandler:function(b){p.command(b)}};return p=h.call(this,g,m,y)||this,p}return v.prototype.command=function(m){var p=this.editor,g=p.selection.getSelectionContainerElem();if(g&&p.$textElem.equal(g)){var y=p.selection.getSelectionRangeTopNodes();y.length>0&&(0,s.default)(y).call(y,function(x){f.default(u.default(x),m,p)})}else g&&g.length>0&&(0,s.default)(g).call(g,function(x){f.default(u.default(x),m,p)});p.selection.restoreSelection(),this.tryChangeActive()},v.prototype.tryChangeActive=function(){var m=this.editor,p=m.selection.getSelectionStartElem(),g=u.default(p).getNodeTop(m);g.length<=0||(g.elems[0].style.paddingLeft!=""?this.active():this.unActive())},v}(c.default);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(45)),l=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(367)),f=u.__importDefault(a(368)),d=/^(\d+)(\w+)$/,h=/^(\d+)%$/;function v(p){var g=p.config.indentation;if(typeof g=="string"){if(d.test(g)){var y,x=(0,s.default)(y=(0,l.default)(g).call(g).match(d)).call(y,1,3),b=x[0],A=x[1];return{value:Number(b),unit:A}}else if(h.test(g))return{value:Number((0,l.default)(g).call(g).match(h)[1]),unit:"%"}}else if(g.value!==void 0&&g.unit)return g;return{value:2,unit:"em"}}function m(p,g,y){var x=p.getNodeTop(y),b=/^(P|H[0-9]*)$/;b.test(x.getNodeName())&&(g==="increase"?c.default(x,v(y)):g==="decrease"&&f.default(x,v(y)))}r.default=m},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(45));(0,o.default)(r,"__esModule",{value:!0});function l(u,c){var f=u.elems[0];if(f.style.paddingLeft==="")u.css("padding-left",c.value+c.unit);else{var d=f.style.paddingLeft,h=(0,s.default)(d).call(d,0,d.length-c.unit.length),v=Number(h)+c.value;u.css("padding-left",""+v+c.unit)}}r.default=l},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(45));(0,o.default)(r,"__esModule",{value:!0});function l(u,c){var f=u.elems[0];if(f.style.paddingLeft!==""){var d=f.style.paddingLeft,h=(0,s.default)(d).call(d,0,d.length-c.unit.length),v=Number(h)-c.value;v>0?u.css("padding-left",""+v+c.unit):u.css("padding-left","")}}r.default=l},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(38)),c=s.__importDefault(a(33)),f=s.__importDefault(a(370)),d=function(h){s.__extends(v,h);function v(m){var p=this,g=l.default(`<div class="w-e-menu" data-title="表情">
                <i class="w-e-icon-happy"></i>
            </div>`);return p=h.call(this,g,m)||this,p}return v.prototype.createPanel=function(){var m=f.default(this.editor),p=new c.default(this,m);p.create()},v.prototype.clickHandler=function(){this.createPanel()},v.prototype.tryChangeActive=function(){},v}(u.default);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26)),l=i(a(70)),u=i(a(17));(0,o.default)(r,"__esModule",{value:!0});var c=a(2),f=c.__importDefault(a(3));function d(h){var v=h.config.emotions;function m(y){var x=[];if(y.type=="image"){var b;x=(0,s.default)(b=y.content).call(b,function(S){return typeof S=="string"?"":'<span  title="'+S.alt+`">
                    <img class="eleImg" data-emoji="`+S.alt+'" style src="'+S.src+'" alt="['+S.alt+`]">
                </span>`}),x=(0,l.default)(x).call(x,function(S){return S!==""})}else{var A;x=(0,s.default)(A=y.content).call(A,function(S){return'<span class="eleImg" title="'+S+'">'+S+"</span>"})}return x.join("").replace(/&nbsp;/g,"")}var p=(0,s.default)(v).call(v,function(y){return{title:h.i18next.t("menus.panelMenus.emoticon."+y.title),tpl:"<div>"+m(y)+"</div>",events:[{selector:".eleImg",type:"click",fn:function(b){var A=f.default(b.target),S=A.getNodeName(),_;if(S==="IMG"){var w;_=(0,u.default)(w=A.parent().html()).call(w)}else _="<span>"+A.html()+"</span>";return h.cmd.do("insertHTML",_),!0}}]}}),g={width:300,height:230,tabs:p};return g}r.default=d},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.createListHandle=r.ClassType=void 0;var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(372)),c=s.__importDefault(a(374)),f=s.__importDefault(a(375)),d=s.__importDefault(a(376)),h=s.__importDefault(a(377)),v;(function(y){y.Wrap="WrapListHandle",y.Join="JoinListHandle",y.StartJoin="StartJoinListHandle",y.EndJoin="EndJoinListHandle",y.Other="OtherListHandle"})(v=r.ClassType||(r.ClassType={}));var m={WrapListHandle:u.default,JoinListHandle:c.default,StartJoinListHandle:f.default,EndJoinListHandle:d.default,OtherListHandle:h.default};function p(y,x,b){if(y===v.Other&&b===void 0)throw new Error("other 类需要传入 range");return y!==v.Other?new m[y](x):new m[y](x,b)}r.createListHandle=p;var g=function(){function y(x){this.handle=x,this.handle.exec()}return y.prototype.getSelectionRangeElem=function(){return l.default(this.handle.selectionRangeElem.get())},y}();r.default=g},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(58),f=a(47),d=function(h){l.__extends(v,h);function v(m){return h.call(this,m)||this}return v.prototype.exec=function(){var m=this.options,p=m.listType,g=m.listTarget,y=m.$selectionElem,x=m.$startElem,b=m.$endElem,A,S=[],_=y==null?void 0:y.getNodeName(),w=x.prior,C=b.prior;if(!x.prior&&!b.prior||!(w!=null&&w.prev().length)&&!(C!=null&&C.next().length)){var M;(0,s.default)(M=y==null?void 0:y.children()).call(M,function(B){S.push(u.default(B))}),_===p?A=f.createElementFragment(S,f.createDocumentFragment(),"p"):(A=f.createElement(g),(0,s.default)(S).call(S,function(B){A.appendChild(B.elems[0])})),this.selectionRangeElem.set(A),f.insertBefore(y,A,y.elems[0]),y.remove()}else{for(var T=w;T.length;)S.push(T),C!=null&&C.equal(T)?T=u.default(void 0):T=T.next();var E=w.prev(),P=C.next();if(_===p?A=f.createElementFragment(S,f.createDocumentFragment(),"p"):(A=f.createElement(g),(0,s.default)(S).call(S,function(B){A.append(B.elems[0])})),E.length&&P.length){for(var R=[];P.length;)R.push(P),P=P.next();var I=f.createElement(_);(0,s.default)(R).call(R,function(B){I.append(B.elems[0])}),u.default(I).insertAfter(y),this.selectionRangeElem.set(A);var D=y.next();D.length?f.insertBefore(y,A,D.elems[0]):y.parent().elems[0].append(A)}else if(!E.length)this.selectionRangeElem.set(A),f.insertBefore(y,A,y.elems[0]);else{this.selectionRangeElem.set(A);var D=y.next();D.length?f.insertBefore(y,A,D.elems[0]):y.parent().elems[0].append(A)}}},v}(c.ListHandle);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=function(){function u(){this._element=null}return u.prototype.set=function(c){if(c instanceof DocumentFragment){var f,d=[];(0,s.default)(f=c.childNodes).call(f,function(h){d.push(h)}),c=d}this._element=c},u.prototype.get=function(){return this._element},u.prototype.clear=function(){this._element=null},u}();r.default=l},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(58),f=a(47),d=function(h){l.__extends(v,h);function v(m){return h.call(this,m)||this}return v.prototype.exec=function(){var m,p,g,y,x,b,A,S=this.options,_=S.editor,w=S.listType,C=S.listTarget,M=S.$startElem,T=S.$endElem,E,P=_.selection.getSelectionRangeTopNodes(),R=M==null?void 0:M.getNodeName(),I=T==null?void 0:T.getNodeName();if(R===I)if(P.length>2)if(P.shift(),P.pop(),E=f.createElementFragment(f.filterSelectionNodes(P),f.createDocumentFragment()),R===w)(m=T.children())===null||m===void 0||(0,s.default)(m).call(m,function(L){E.append(L)}),T.remove(),this.selectionRangeElem.set(E),M.elems[0].append(E);else{for(var D=document.createDocumentFragment(),B=document.createDocumentFragment(),F=f.getStartPoint(M);F.length;){var G=F.elems[0];F=F.next(),D.append(G)}for(var z=f.getEndPoint(T),N=[];z.length;)N.unshift(z.elems[0]),z=z.prev();(0,s.default)(N).call(N,function(L){B.append(L)});var U=f.createElement(C);U.append(D),U.append(E),U.append(B),E=U,this.selectionRangeElem.set(E),u.default(U).insertAfter(M),!(!((p=M.children())===null||p===void 0)&&p.length)&&M.remove(),!(!((g=T.children())===null||g===void 0)&&g.length)&&T.remove()}else{P.length=0;for(var F=f.getStartPoint(M);F.length;)P.push(F),F=F.next();for(var z=f.getEndPoint(T),N=[];z.length;)N.unshift(z),z=z.prev();P.push.apply(P,N),R===w?(E=f.createElementFragment(P,f.createDocumentFragment(),"p"),this.selectionRangeElem.set(E),f.insertBefore(M,E,T.elems[0])):(E=f.createElement(C),(0,s.default)(P).call(P,function(j){E.append(j.elems[0])}),this.selectionRangeElem.set(E),u.default(E).insertAfter(M)),!(!((y=M.children())===null||y===void 0)&&y.length)&&T.remove(),!(!((x=T.children())===null||x===void 0)&&x.length)&&T.remove()}else{for(var $=[],z=f.getEndPoint(T);z.length;)$.unshift(z),z=z.prev();for(var k=[],F=f.getStartPoint(M);F.length;)k.push(F),F=F.next();if(E=f.createDocumentFragment(),P.shift(),P.pop(),(0,s.default)(k).call(k,function(H){return E.append(H.elems[0])}),E=f.createElementFragment(f.filterSelectionNodes(P),E),(0,s.default)($).call($,function(H){return E.append(H.elems[0])}),this.selectionRangeElem.set(E),R===w)M.elems[0].append(E),!(!((b=T.children())===null||b===void 0)&&b.length)&&T.remove();else if(!((A=T.children())===null||A===void 0)&&A.length){var V=T.children();f.insertBefore(V,E,V.elems[0])}else T.elems[0].append(E)}},v}(c.ListHandle);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(58),f=a(47),d=function(h){l.__extends(v,h);function v(m){return h.call(this,m)||this}return v.prototype.exec=function(){var m,p=this.options,g=p.editor,y=p.listType,x=p.listTarget,b=p.$startElem,A,S=g.selection.getSelectionRangeTopNodes(),_=b==null?void 0:b.getNodeName();S.shift();for(var w=[],C=f.getStartPoint(b);C.length;)w.push(C),C=C.next();_===y?(A=f.createDocumentFragment(),(0,s.default)(w).call(w,function(M){return A.append(M.elems[0])}),A=f.createElementFragment(f.filterSelectionNodes(S),A),this.selectionRangeElem.set(A),b.elems[0].append(A)):(A=f.createElement(x),(0,s.default)(w).call(w,function(M){return A.append(M.elems[0])}),A=f.createElementFragment(f.filterSelectionNodes(S),A),this.selectionRangeElem.set(A),u.default(A).insertAfter(b),!(!((m=b.children())===null||m===void 0)&&m.length)&&b.remove())},v}(c.ListHandle);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(58),f=a(47),d=function(h){l.__extends(v,h);function v(m){return h.call(this,m)||this}return v.prototype.exec=function(){var m,p,g=this.options,y=g.editor,x=g.listType,b=g.listTarget,A=g.$endElem,S,_=y.selection.getSelectionRangeTopNodes(),w=A==null?void 0:A.getNodeName();_.pop();for(var C=[],M=f.getEndPoint(A);M.length;)C.unshift(M),M=M.prev();if(w===x)if(S=f.createElementFragment(f.filterSelectionNodes(_),f.createDocumentFragment()),(0,s.default)(C).call(C,function(P){return S.append(P.elems[0])}),this.selectionRangeElem.set(S),!((m=A.children())===null||m===void 0)&&m.length){var T=A.children();f.insertBefore(T,S,T.elems[0])}else A.elems[0].append(S);else{var E=f.filterSelectionNodes(_);E.push.apply(E,C),S=f.createElementFragment(E,f.createElement(b)),this.selectionRangeElem.set(S),u.default(S).insertBefore(A),!(!((p=A.children())===null||p===void 0)&&p.length)&&A.remove()}},v}(c.ListHandle);r.default=d},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=a(58),u=a(47),c=function(f){s.__extends(d,f);function d(h,v){var m=f.call(this,h)||this;return m.range=v,m}return d.prototype.exec=function(){var h=this.options,v=h.editor,m=h.listTarget,p=v.selection.getSelectionRangeTopNodes(),g=u.createElementFragment(u.filterSelectionNodes(p),u.createElement(m));this.selectionRangeElem.set(g),this.range.insertNode(g)},d}(l.ListHandle);r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(27));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(24)),f=u.__importDefault(a(3)),d=u.__importDefault(a(379)),h=function(v){u.__extends(m,v);function m(p){var g=this,y=f.default(`<div class="w-e-menu" data-title="行高">
                    <i class="w-e-icon-row-height"></i>
                </div>`),x=new d.default(p,p.config.lineHeights),b={width:100,title:"设置行高",type:"list",list:x.getItemList(),clickHandler:function(S){p.selection.saveRange(),g.command(S)}};return g=v.call(this,y,p,b)||this,g}return m.prototype.command=function(p){var g=this.editor;g.selection.restoreSelection();var y=f.default(g.selection.getSelectionContainerElem());if(y.elems.length){if(y&&g.$textElem.equal(y)){for(var x=!1,b=f.default(g.selection.getSelectionStartElem()).elems[0],A=f.default(g.selection.getSelectionEndElem()).elems[0],S=this.getDom(b),_=this.getDom(A),w=y.elems[0].children,C=0;C<w.length;C++){var M=w[C];if(f.default(M).getNodeName()==="P"&&(M===S&&(x=!0),x&&(f.default(M).css("line-height",p),M===_))){x=!1;return}}g.selection.createRangeByElems(b,A);return}var T=y.elems[0],E=this.getDom(T);f.default(E).getNodeName()==="P"&&(f.default(E).css("line-height",p),g.selection.createRangeByElems(E,E))}},m.prototype.getDom=function(p){var g=f.default(p).elems[0];if(!g.parentNode)return g;function y(x,b){var A=f.default(x.parentNode);return b.$textElem.equal(A)?x:y(A.elems[0],b)}return g=y(g,this.editor),g},m.prototype.styleProcessing=function(p){var g="";return(0,s.default)(p).call(p,function(y){y!==""&&(0,l.default)(y).call(y,"line-height")===-1&&(g=g+y+";")}),g},m.prototype.setRange=function(p,g){var y=this.editor,x=window.getSelection?window.getSelection():document.getSelection();x==null||x.removeAllRanges();var b=document.createRange(),A=p,S=g;b.setStart(A,0),b.setEnd(S,1),x==null||x.addRange(b),y.selection.saveRange(),x==null||x.removeAllRanges(),y.selection.restoreSelection()},m.prototype.tryChangeActive=function(){var p=this.editor,g=p.selection.getSelectionContainerElem();if(!(g&&p.$textElem.equal(g))){var y=f.default(p.selection.getSelectionStartElem());if(y.length!==0){y=this.getDom(y.elems[0]);var x=y.getAttribute("style")?y.getAttribute("style"):"";x&&(0,l.default)(x).call(x,"line-height")!==-1?this.active():this.unActive()}}},m}(c.default);r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=function(){function f(d,h){var v=this;this.itemList=[{$elem:u.default("<span>"+d.i18next.t("默认")+"</span>"),value:""}],(0,s.default)(h).call(h,function(m){v.itemList.push({$elem:u.default("<span>"+m+"</span>"),value:m})})}return f.prototype.getItemList=function(){return this.itemList},f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(23)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=l.default(`<div class="w-e-menu" data-title="撤销">
                <i class="w-e-icon-undo"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor;h.history.revoke();var v=h.$textElem.children();if(v!=null&&v.length){var m=v.last();h.selection.createRangeByElem(m,!1,!0),h.selection.restoreSelection()}},d.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[0]?this.active():this.unActive())},d}(u.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(23)),c=function(f){s.__extends(d,f);function d(h){var v=this,m=l.default(`<div class="w-e-menu" data-title="恢复">
                <i class="w-e-icon-redo"></i>
            </div>`);return v=f.call(this,m,h)||this,v}return d.prototype.clickHandler=function(){var h=this.editor;h.history.restore();var v=h.$textElem.children();if(v!=null&&v.length){var m=v.last();h.selection.createRangeByElem(m,!1,!0),h.selection.restoreSelection()}},d.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[1]?this.active():this.unActive())},d}(u.default);r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(38)),u=s.__importDefault(a(3)),c=s.__importDefault(a(383)),f=s.__importDefault(a(33)),d=s.__importDefault(a(392)),h=function(v){s.__extends(m,v);function m(p){var g=this,y=u.default('<div class="w-e-menu" data-title="表格"><i class="w-e-icon-table2"></i></div>');return g=v.call(this,y,p)||this,d.default(p),g}return m.prototype.clickHandler=function(){this.createPanel()},m.prototype.createPanel=function(){var p=c.default(this.editor),g=new f.default(this,p);g.create()},m.prototype.tryChangeActive=function(){},m}(l.default);r.default=h},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(384));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(6),c=l.__importDefault(a(3));a(389);var f=l.__importDefault(a(391));function d(v){return v>0&&(0,s.default)(v)}function h(v){var m=new f.default(v),p=u.getRandom("w-col-id"),g=u.getRandom("w-row-id"),y=u.getRandom("btn-link"),x="menus.panelMenus.table.",b=function(w){return v.i18next.t(w)},A=[{title:b(x+"插入表格"),tpl:`<div>
                    <div class="w-e-table">
                        <span>`+b("创建")+`</span>
                        <input id="`+g+`"  type="text" class="w-e-table-input" value="5"/></td>
                        <span>`+b(x+"行")+`</span>
                        <input id="`+p+`" type="text" class="w-e-table-input" value="5"/></td>
                        <span>`+(b(x+"列")+b(x+"的")+b(x+"表格"))+`</span>
                    </div>
                    <div class="w-e-button-container">
                        <button type="button" id="`+y+'" class="right">'+b("插入")+`</button>
                    </div>
                </div>`,events:[{selector:"#"+y,type:"click",fn:function(){var w=Number(c.default("#"+p).val()),C=Number(c.default("#"+g).val());return d(C)&&d(w)?(m.createAction(C,w),!0):(v.config.customAlert("表格行列请输入正整数","warning"),!1)},bindEnter:!0}]}],S={width:330,height:0,tabs:[]};return S.tabs.push(A[0]),S}r.default=h},function(n,r,a){n.exports=a(385)},function(n,r,a){var i=a(386);n.exports=i},function(n,r,a){a(387);var i=a(9);n.exports=i.Number.isInteger},function(n,r,a){var i=a(5),o=a(388);i({target:"Number",stat:!0},{isInteger:o})},function(n,r,a){var i=a(13),o=Math.floor;n.exports=function(l){return!i(l)&&isFinite(l)&&o(l)===l}},function(n,r,a){var i=a(20),o=a(390);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-table {
  display: flex;
}
.w-e-table .w-e-table-input {
  width: 40px;
  text-align: center!important;
  margin: 0 5px;
}
`,""]),n.exports=r},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=a(7),u=s.__importDefault(a(3)),c=function(){function f(d){this.editor=d}return f.prototype.createAction=function(d,h){var v=this.editor,m=u.default(v.selection.getSelectionContainerElem()),p=u.default(m.elems[0]).parentUntilEditor("UL",v),g=u.default(m.elems[0]).parentUntilEditor("OL",v);if(!(p||g)){var y=this.createTableHtml(d,h);v.cmd.do("insertHTML",y)}},f.prototype.createTableHtml=function(d,h){for(var v="",m="",p=0;p<d;p++){m="";for(var g=0;g<h;g++)p===0?m=m+"<th></th>":m=m+"<td></td>";v=v+"<tr>"+m+"</tr>"}var y='<table border="0" width="100%" cellpadding="0" cellspacing="0"><tbody>'+v+("</tbody></table>"+l.EMPTY_P);return y},f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(393)),u=a(400);function c(f){l.default(f),u.bindEventKeyboardEvent(f),u.bindClickEvent(f)}r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(39)),c=s.__importDefault(a(394)),f=s.__importDefault(a(399)),d=a(7);function h(g){var y;function x(A){var S=new f.default(g),_="menus.panelMenus.table.",w=function(T,E){return E===void 0&&(E=_),g.i18next.t(E+T)},C=[{$elem:l.default("<span>"+w("删除表格")+"</span>"),onClick:function(T,E){return T.selection.createRangeByElem(E),T.selection.restoreSelection(),T.cmd.do("insertHTML",d.EMPTY_P),!0}},{$elem:l.default("<span>"+w("添加行")+"</span>"),onClick:function(T,E){var P=v(T);if(P)return!0;var R=l.default(T.selection.getSelectionStartElem()),I=S.getRowNode(R.elems[0]);if(!I)return!0;var D=Number(S.getCurrentRowIndex(E.elems[0],I)),B=S.getTableHtml(E.elems[0]),F=S.getTableHtml(c.default.ProcessingRow(l.default(B),D).elems[0]);return F=p(E,F),T.selection.createRangeByElem(E),T.selection.restoreSelection(),T.cmd.do("insertHTML",F),!0}},{$elem:l.default("<span>"+w("删除行")+"</span>"),onClick:function(T,E){var P=v(T);if(P)return!0;var R=l.default(T.selection.getSelectionStartElem()),I=S.getRowNode(R.elems[0]);if(!I)return!0;var D=Number(S.getCurrentRowIndex(E.elems[0],I)),B=S.getTableHtml(E.elems[0]),F=c.default.DeleteRow(l.default(B),D).elems[0].children[0].children.length,G="";return T.selection.createRangeByElem(E),T.selection.restoreSelection(),F===0?G=d.EMPTY_P:G=S.getTableHtml(c.default.DeleteRow(l.default(B),D).elems[0]),G=p(E,G),T.cmd.do("insertHTML",G),!0}},{$elem:l.default("<span>"+w("添加列")+"</span>"),onClick:function(T,E){var P=v(T);if(P)return!0;var R=l.default(T.selection.getSelectionStartElem()),I=S.getCurrentColIndex(R.elems[0]),D=S.getTableHtml(E.elems[0]),B=S.getTableHtml(c.default.ProcessingCol(l.default(D),I).elems[0]);return B=p(E,B),T.selection.createRangeByElem(E),T.selection.restoreSelection(),T.cmd.do("insertHTML",B),!0}},{$elem:l.default("<span>"+w("删除列")+"</span>"),onClick:function(T,E){var P=v(T);if(P)return!0;var R=l.default(T.selection.getSelectionStartElem()),I=S.getCurrentColIndex(R.elems[0]),D=S.getTableHtml(E.elems[0]),B=c.default.DeleteCol(l.default(D),I),F=B.elems[0].children[0].children[0].children.length,G="";return T.selection.createRangeByElem(E),T.selection.restoreSelection(),F===0?G=d.EMPTY_P:G=S.getTableHtml(B.elems[0]),G=p(E,G),T.cmd.do("insertHTML",G),!0}},{$elem:l.default("<span>"+w("设置表头")+"</span>"),onClick:function(T,E){var P=v(T);if(P)return!0;var R=l.default(T.selection.getSelectionStartElem()),I=S.getRowNode(R.elems[0]);if(!I)return!0;var D=Number(S.getCurrentRowIndex(E.elems[0],I));D!==0&&(D=0);var B=S.getTableHtml(E.elems[0]),F=S.getTableHtml(c.default.setTheHeader(l.default(B),D,"th").elems[0]);return F=p(E,F),T.selection.createRangeByElem(E),T.selection.restoreSelection(),T.cmd.do("insertHTML",F),!0}},{$elem:l.default("<span>"+w("取消表头")+"</span>"),onClick:function(T,E){var P=l.default(T.selection.getSelectionStartElem()),R=S.getRowNode(P.elems[0]);if(!R)return!0;var I=Number(S.getCurrentRowIndex(E.elems[0],R));I!==0&&(I=0);var D=S.getTableHtml(E.elems[0]),B=S.getTableHtml(c.default.setTheHeader(l.default(D),I,"td").elems[0]);return B=p(E,B),T.selection.createRangeByElem(E),T.selection.restoreSelection(),T.cmd.do("insertHTML",B),!0}}];y=new u.default(g,A,C),y.create()}function b(){y&&(y.remove(),y=null)}return{showTableTooltip:x,hideTableTooltip:b}}function v(g){var y=g.selection.getSelectionStartElem(),x=g.selection.getSelectionEndElem();return(y==null?void 0:y.elems[0])!==(x==null?void 0:x.elems[0])}function m(g){var y=h(g),x=y.showTableTooltip,b=y.hideTableTooltip;g.txt.eventHooks.tableClickEvents.push(x),g.txt.eventHooks.clickEvents.push(b),g.txt.eventHooks.keyupEvents.push(b),g.txt.eventHooks.toolbarClickEvents.push(b),g.txt.eventHooks.menuClickEvents.push(b),g.txt.eventHooks.textScrollEvents.push(b)}r.default=m;function p(g,y){var x=g.elems[0].nextSibling;return(!x||x.innerHTML==="<br>")&&(y+=""+d.EMPTY_P),y}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(45)),l=i(a(91)),u=i(a(4)),c=i(a(138));(0,o.default)(r,"__esModule",{value:!0});var f=a(2),d=f.__importDefault(a(3));function h(b,A){for(var S=x(b),_=(0,s.default)(Array.prototype).apply(S.children),w=_[0].children.length,C=document.createElement("tr"),M=0;M<w;M++){var T=document.createElement("td");C.appendChild(T)}return(0,l.default)(_).call(_,A+1,0,C),y(S,_),d.default(S.parentNode)}function v(b,A){for(var S=x(b),_=(0,s.default)(Array.prototype).apply(S.children),w=function(T){var E,P=[];for((0,u.default)(E=(0,c.default)(_[T].children)).call(E,function(D){P.push(D)});_[T].children.length!==0;)_[T].removeChild(_[T].children[0]);var R=d.default(P[0]).getNodeName()!=="TH"?document.createElement("td"):document.createElement("th");(0,l.default)(P).call(P,A+1,0,R);for(var I=0;I<P.length;I++)_[T].appendChild(P[I])},C=0;C<_.length;C++)w(C);return y(S,_),d.default(S.parentNode)}function m(b,A){var S=x(b),_=(0,s.default)(Array.prototype).apply(S.children);return(0,l.default)(_).call(_,A,1),y(S,_),d.default(S.parentNode)}function p(b,A){for(var S=x(b),_=(0,s.default)(Array.prototype).apply(S.children),w=function(T){var E,P=[];for((0,u.default)(E=(0,c.default)(_[T].children)).call(E,function(I){P.push(I)});_[T].children.length!==0;)_[T].removeChild(_[T].children[0]);(0,l.default)(P).call(P,A,1);for(var R=0;R<P.length;R++)_[T].appendChild(P[R])},C=0;C<_.length;C++)w(C);return y(S,_),d.default(S.parentNode)}function g(b,A,S){for(var _=x(b),w=(0,s.default)(Array.prototype).apply(_.children),C=w[A].children,M=document.createElement("tr"),T=function(R){var I,D=document.createElement(S),B=C[R];(0,u.default)(I=(0,c.default)(B.childNodes)).call(I,function(F){D.appendChild(F)}),M.appendChild(D)},E=0;E<C.length;E++)T(E);return(0,l.default)(w).call(w,A,1,M),y(_,w),d.default(_.parentNode)}function y(b,A){for(;b.children.length!==0;)b.removeChild(b.children[0]);for(var S=0;S<A.length;S++)b.appendChild(A[S])}function x(b){var A=b.elems[0].children[0];return A.nodeName==="COLGROUP"&&(A=b.elems[0].children[b.elems[0].children.length-1]),A}r.default={ProcessingRow:h,ProcessingCol:v,DeleteRow:m,DeleteCol:p,setTheHeader:g}},function(n,r,a){var i=a(396);n.exports=i},function(n,r,a){a(50),a(397);var i=a(9);n.exports=i.Array.from},function(n,r,a){var i=a(5),o=a(398),s=a(115),l=!s(function(u){Array.from(u)});i({target:"Array",stat:!0,forced:l},{from:o})},function(n,r,a){var i=a(40),o=a(31),s=a(114),l=a(112),u=a(35),c=a(69),f=a(113);n.exports=function(h){var v=o(h),m=typeof this=="function"?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,y=g!==void 0,x=f(v),b=0,A,S,_,w,C,M;if(y&&(g=i(g,p>2?arguments[2]:void 0,2)),x!=null&&!(m==Array&&l(x)))for(w=x.call(v),C=w.next,S=new m;!(_=C.call(w)).done;b++)M=y?s(w,g,[_.value,b],!0):_.value,c(S,b,M);else for(A=u(v.length),S=new m(A);A>b;b++)M=y?g(v[b],b):v[b],c(S,b,M);return S.length=b,S}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(138));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(3)),f=function(){function d(h){this.editor=h}return d.prototype.getRowNode=function(h){var v,m=c.default(h).elems[0];return m.parentNode&&(m=(v=c.default(m).parentUntil("TR",m))===null||v===void 0?void 0:v.elems[0]),m},d.prototype.getCurrentRowIndex=function(h,v){var m,p=0,g=h.children[0];return g.nodeName==="COLGROUP"&&(g=h.children[h.children.length-1]),(0,s.default)(m=(0,l.default)(g.children)).call(m,function(y,x){y===v&&(p=x)}),p},d.prototype.getCurrentColIndex=function(h){var v,m,p=0,g=c.default(h).getNodeName()==="TD"||c.default(h).getNodeName()==="TH"?h:(m=c.default(h).parentUntil("TD",h))===null||m===void 0?void 0:m.elems[0],y=c.default(g).parent();return(0,s.default)(v=(0,l.default)(y.elems[0].children)).call(v,function(x,b){x===g&&(p=b)}),p},d.prototype.getTableHtml=function(h){var v='<table border="0" width="100%" cellpadding="0" cellspacing="0">'+c.default(h).html()+"</table>";return v},d}();r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.bindEventKeyboardEvent=r.bindClickEvent=void 0;var s=a(2),l=s.__importDefault(a(3));function u(d){if(!d.length)return!1;var h=d.elems[0];return h.nodeName==="P"&&h.innerHTML==="<br>"}function c(d){function h(v,m){if(m.detail>=3){var p=window.getSelection();if(p){var g=p.focusNode,y=p.anchorNode,x=l.default(y==null?void 0:y.parentElement);if(!v.isContain(l.default(g))){var b=x.elems[0].tagName==="TD"?x:x.parentUntilEditor("td",d);if(b){var A=d.selection.getRange();A==null||A.setEnd(b.elems[0],b.elems[0].childNodes.length),d.selection.restoreSelection()}}}}}d.txt.eventHooks.tableClickEvents.push(h)}r.bindClickEvent=c;function f(d){var h=d.txt,v=d.selection,m=h.eventHooks.keydownEvents;m.push(function(p){d.selection.saveRange();var g=v.getSelectionContainerElem();if(g){var y=g.getNodeTop(d),x=y.length&&y.prev().length?y.prev():null;if(x&&x.getNodeName()==="TABLE"&&v.isSelectionEmpty()&&v.getCursorPos()===0&&p.keyCode===8){var b=y.next(),A=!!b.length;A&&u(y)&&(y.remove(),d.selection.setRangeToElem(b.elems[0])),p.preventDefault()}}})}r.bindEventKeyboardEvent=f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26));(0,o.default)(r,"__esModule",{value:!0}),r.formatCodeHtml=void 0;var l=a(2),u=l.__importDefault(a(38)),c=l.__importDefault(a(3)),f=a(6),d=l.__importDefault(a(402)),h=l.__importDefault(a(139)),v=l.__importDefault(a(33)),m=l.__importDefault(a(403));function p(y,x){if(!x)return x;return x=A(x),x=b(x),x=f.replaceSpecialSymbol(x),x;function b(S){var _=S.match(/<pre[\s|\S]+?\/pre>/g);return _===null||(0,s.default)(_).call(_,function(w){S=S.replace(w,w.replace(/<\/code><code>/g,`
`).replace(/<br>/g,""))}),S}function A(S){var _,w=S.match(/<span\sclass="hljs[\s|\S]+?\/span>/gm);if(!w||!w.length)return S;for(var C=(0,s.default)(_=f.deepClone(w)).call(_,function(T){return T=T.replace(/<span\sclass="hljs[^>]+>/,""),T.replace(/<\/span>/,"")}),M=0;M<w.length;M++)S=S.replace(w[M],C[M]);return A(S)}}r.formatCodeHtml=p;var g=function(y){l.__extends(x,y);function x(b){var A=this,S=c.default('<div class="w-e-menu" data-title="代码"><i class="w-e-icon-terminal"></i></div>');return A=y.call(this,S,b)||this,m.default(b),A}return x.prototype.insertLineCode=function(b){var A=this.editor,S=c.default("<code>"+b+"</code>");A.cmd.do("insertElem",S),A.selection.createRangeByElem(S,!1),A.selection.restoreSelection()},x.prototype.clickHandler=function(){var b=this.editor,A=b.selection.getSelectionText();this.isActive||(b.selection.isSelectionEmpty()?this.createPanel("",""):this.insertLineCode(A))},x.prototype.createPanel=function(b,A){var S=d.default(this.editor,b,A),_=new v.default(this,S);_.create()},x.prototype.tryChangeActive=function(){var b=this.editor;h.default(b)?this.active():this.unActive()},x}(u.default);r.default=g},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(26));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=a(6),c=l.__importDefault(a(3)),f=l.__importDefault(a(139)),d=a(7);function h(v,m,p){var g,y=u.getRandom("input-iframe"),x=u.getRandom("select"),b=u.getRandom("btn-ok");function A(C,M){var T,E=f.default(v);E&&S();var P=(T=v.selection.getSelectionStartElem())===null||T===void 0?void 0:T.elems[0].innerHTML;P&&v.cmd.do("insertHTML",d.EMPTY_P);var R=M.replace(/</g,"&lt;").replace(/>/g,"&gt;");v.highlight&&(R=v.highlight.highlightAuto(R).value),v.cmd.do("insertHTML",'<pre><code class="'+C+'">'+R+"</code></pre>");var I=v.selection.getSelectionStartElem(),D=I==null?void 0:I.getNodeTop(v);(D==null?void 0:D.getNextSibling().elems.length)===0&&c.default(d.EMPTY_P).insertAfter(D)}function S(){if(f.default(v)){var C=v.selection.getSelectionStartElem(),M=C==null?void 0:C.getNodeTop(v);M&&(v.selection.createRangeByElem(M),v.selection.restoreSelection())}}var _=function(M){return v.i18next.t(M)},w={width:500,height:0,tabs:[{title:_("menus.panelMenus.code.插入代码"),tpl:`<div>
                        <select name="" id="`+x+`">
                            `+(0,s.default)(g=v.config.languageType).call(g,function(C){return"<option "+(p==C?"selected":"")+' value ="'+C+'">'+C+"</option>"})+`
                        </select>
                        <textarea id="`+y+'" type="text" class="wang-code-textarea" placeholder="" style="height: 160px">'+m.replace(/&quot;/g,'"')+`</textarea>
                        <div class="w-e-button-container">
                            <button type="button" id="`+b+'" class="right">'+(f.default(v)?_("修改"):_("插入"))+`</button>
                        </div>
                    </div>`,events:[{selector:"#"+b,type:"click",fn:function(){var M=document.getElementById(y),T=c.default("#"+x),E=T.val(),P=M.value;if(P)return f.default(v)?!1:(A(E,P),!0)}}]}]};return w}r.default=h},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(404)),u=s.__importDefault(a(405));function c(f){l.default(f),u.default(f)}r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.createShowHideFn=void 0;var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(39));function c(d){var h;function v(p){var g="menus.panelMenus.code.",y=function(A,S){return S===void 0&&(S=g),d.i18next.t(S+A)},x=[{$elem:l.default("<span>"+y("删除代码")+"</span>"),onClick:function(A,S){return S.remove(),!0}}];h=new u.default(d,p,x),h.create()}function m(){h&&(h.remove(),h=null)}return{showCodeTooltip:v,hideCodeTooltip:m}}r.createShowHideFn=c;function f(d){var h=c(d),v=h.showCodeTooltip,m=h.hideCodeTooltip;d.txt.eventHooks.codeClickEvents.push(v),d.txt.eventHooks.clickEvents.push(m),d.txt.eventHooks.toolbarClickEvents.push(m),d.txt.eventHooks.menuClickEvents.push(m),d.txt.eventHooks.textScrollEvents.push(m)}r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=a(7),u=s.__importDefault(a(3));function c(f){var d=f.$textElem,h=f.selection,v=f.txt,m=v.eventHooks.keydownEvents;m.push(function(p){var g;if(p.keyCode===40){var y=h.getSelectionContainerElem(),x=(g=d.children())===null||g===void 0?void 0:g.last();if((y==null?void 0:y.elems[0].tagName)==="XMP"&&(x==null?void 0:x.elems[0].tagName)==="PRE"){var b=u.default(l.EMPTY_P);d.append(b)}}}),m.push(function(p){f.selection.saveRange();var g=h.getSelectionContainerElem();if(g){var y=g.getNodeTop(f),x=y==null?void 0:y.prev(),b=y==null?void 0:y.getNextSibling();if(x.length&&(x==null?void 0:x.getNodeName())==="PRE"&&b.length===0&&h.getCursorPos()===0&&p.keyCode===8){var A=u.default(l.EMPTY_P);d.append(A)}}})}r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(23)),u=s.__importDefault(a(3)),c=s.__importDefault(a(407)),f=a(6),d=a(7),h=function(v){s.__extends(m,v);function m(p){var g=this,y=u.default('<div class="w-e-menu" data-title="分割线"><i class="w-e-icon-split-line"></i></div>');return g=v.call(this,y,p)||this,c.default(p),g}return m.prototype.clickHandler=function(){var p=this.editor,g=p.selection.getRange(),y=p.selection.getSelectionContainerElem();if(y!=null&&y.length){var x=u.default(y.elems[0]),b=x.parentUntil("TABLE",y.elems[0]),A=x.children();x.getNodeName()!=="CODE"&&(b&&u.default(b.elems[0]).getNodeName()==="TABLE"||A&&A.length!==0&&u.default(A.elems[0]).getNodeName()==="IMG"&&!(g!=null&&g.collapsed)||this.createSplitLine())}},m.prototype.createSplitLine=function(){var p="<hr/>"+d.EMPTY_P;f.UA.isFirefox&&(p="<hr/><p></p>"),this.editor.cmd.do("insertHTML",p)},m.prototype.tryChangeActive=function(){},m}(l.default);r.default=h},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(408));function u(c){l.default(c)}r.default=u},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=s.__importDefault(a(39));function c(d){var h;function v(p){var g=[{$elem:l.default("<span>"+d.i18next.t("menus.panelMenus.删除")+"</span>"),onClick:function(x,b){return x.selection.createRangeByElem(b),x.selection.restoreSelection(),x.cmd.do("delete"),!0}}];h=new u.default(d,p,g),h.create()}function m(){h&&(h.remove(),h=null)}return{showSplitLineTooltip:v,hideSplitLineTooltip:m}}function f(d){var h=c(d),v=h.showSplitLineTooltip,m=h.hideSplitLineTooltip;d.txt.eventHooks.splitLineEvents.push(v),d.txt.eventHooks.clickEvents.push(m),d.txt.eventHooks.keyupEvents.push(m),d.txt.eventHooks.toolbarClickEvents.push(m),d.txt.eventHooks.menuClickEvents.push(m),d.txt.eventHooks.textScrollEvents.push(m)}r.default=f},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=l.__importDefault(a(23)),f=a(98),d=l.__importDefault(a(415)),h=l.__importDefault(a(140)),v=function(m){l.__extends(p,m);function p(g){var y=this,x=u.default(`<div class="w-e-menu" data-title="待办事项">
                    <i class="w-e-icon-checkbox-checked"></i>
                </div>`);return y=m.call(this,x,g)||this,d.default(g),y}return p.prototype.clickHandler=function(){var g=this.editor;f.isAllTodo(g)?(this.cancelTodo(),this.tryChangeActive()):this.setTodo()},p.prototype.tryChangeActive=function(){f.isAllTodo(this.editor)?this.active():this.unActive()},p.prototype.setTodo=function(){var g=this.editor,y=g.selection.getSelectionRangeTopNodes();(0,s.default)(y).call(y,function(x){var b,A=x==null?void 0:x.getNodeName();if(A==="P"){var S=h.default(x),_=S.getTodo(),w=(b=_.children())===null||b===void 0?void 0:b.getNode();_.insertAfter(x),g.selection.moveCursor(w),x.remove()}}),this.tryChangeActive()},p.prototype.cancelTodo=function(){var g=this.editor,y=g.selection.getSelectionRangeTopNodes();(0,s.default)(y).call(y,function(x){var b,A,S,_=(A=(b=x.childNodes())===null||b===void 0?void 0:b.childNodes())===null||A===void 0?void 0:A.clone(!0),w=u.default("<p></p>");w.append(_),w.insertAfter(x),(S=w.childNodes())===null||S===void 0||S.get(0).remove(),g.selection.moveCursor(w.getNode()),x.remove()})},p}(c.default);r.default=v},function(n,r,a){n.exports=a(411)},function(n,r,a){var i=a(412);n.exports=i},function(n,r,a){var i=a(413),o=Array.prototype;n.exports=function(s){var l=s.every;return s===o||s instanceof Array&&l===o.every?i:l}},function(n,r,a){a(414);var i=a(15);n.exports=i("Array").every},function(n,r,a){var i=a(5),o=a(32).every,s=a(67),l=a(22),u=s("every"),c=l("every");i({target:"Array",proto:!0,forced:!u||!c},{every:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}})},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3)),c=a(98),f=l.__importDefault(a(140)),d=a(98),h=a(7);function v(m){function p(b){var A,S;if(c.isAllTodo(m)){b.preventDefault();var _=m.selection,w=_.getSelectionRangeTopNodes()[0],C=(A=w.childNodes())===null||A===void 0?void 0:A.get(0),M=(S=window.getSelection())===null||S===void 0?void 0:S.anchorNode,T=_.getRange();if(!(T!=null&&T.collapsed)){var E=T==null?void 0:T.commonAncestorContainer.childNodes,P=T==null?void 0:T.startContainer,R=T==null?void 0:T.endContainer,I=T==null?void 0:T.startOffset,D=T==null?void 0:T.endOffset,B=0,F=0,G=[];E==null||(0,s.default)(E).call(E,function(j,Y){j.contains(P)&&(B=Y),j.contains(R)&&(F=Y)}),F-B>1&&(E==null||(0,s.default)(E).call(E,function(j,Y){Y<=B||Y>=F||G.push(j)}),(0,s.default)(G).call(G,function(j){j.remove()})),d.dealTextNode(P,I),d.dealTextNode(R,D,!1),m.selection.moveCursor(R,0)}if(w.text()===""){var z=u.default(h.EMPTY_P);z.insertAfter(w),_.moveCursor(z.getNode()),w.remove();return}var N=_.getCursorPos(),U=c.getCursorNextNode(C==null?void 0:C.getNode(),M,N),$=f.default(u.default(U)),k=$.getInputContainer(),V=k.parent().getNode(),L=$.getTodo(),O=k.getNode().nextSibling;if((C==null?void 0:C.text())===""&&(C==null||C.append(u.default("<br>"))),L.insertAfter(w),!O||(O==null?void 0:O.textContent)===""){if((O==null?void 0:O.nodeName)!=="BR"){var H=u.default("<br>");H.insertAfter(k)}_.moveCursor(V,1)}else _.moveCursor(V)}}function g(b){var A,S;if(c.isAllTodo(m)){var _=m.selection,w=_.getSelectionRangeTopNodes()[0],C=(A=w.childNodes())===null||A===void 0?void 0:A.getNode(),M=u.default("<p></p>"),T=M.getNode(),E=(S=window.getSelection())===null||S===void 0?void 0:S.anchorNode,P=_.getCursorPos(),R=E.previousSibling;if(w.text()===""){b.preventDefault();var I=u.default(h.EMPTY_P);I.insertAfter(w),w.remove(),_.moveCursor(I.getNode(),0);return}if((R==null?void 0:R.nodeName)==="SPAN"&&R.childNodes[0].nodeName==="INPUT"&&P===0){var D;b.preventDefault(),C==null||(0,s.default)(D=C.childNodes).call(D,function(B,F){F!==0&&T.appendChild(B.cloneNode(!0))}),M.insertAfter(w),w.remove()}}}function y(){var b=m.selection,A=b.getSelectionRangeTopNodes()[0];A&&d.isTodo(A)&&A.text()===""&&(u.default(h.EMPTY_P).insertAfter(A),A.remove())}function x(b){b&&b.target instanceof HTMLInputElement&&b.target.type==="checkbox"&&(b.target.checked?b.target.setAttribute("checked","true"):b.target.removeAttribute("checked"))}m.txt.eventHooks.enterDownEvents.push(p),m.txt.eventHooks.deleteUpEvents.push(y),m.txt.eventHooks.deleteDownEvents.push(g),m.txt.eventHooks.clickEvents.push(x)}r.default=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.selectorValidator=void 0;var s=a(2),l=s.__importDefault(a(3)),u=a(6),c=a(7),f=s.__importDefault(a(130)),d={border:"1px solid #c9d8db",toolbarBgColor:"#FFF",toolbarBottomBorder:"1px solid #EEE"};function h(m){var p=m.toolbarSelector,g=l.default(p),y=m.textSelector,x=m.config,b=x.height,A=m.i18next,S=l.default("<div></div>"),_=l.default("<div></div>"),w,C,M=null;y==null?(C=g.children(),g.append(S).append(_),S.css("background-color",d.toolbarBgColor).css("border",d.border).css("border-bottom",d.toolbarBottomBorder),_.css("border",d.border).css("border-top","none").css("height",b+"px")):(g.append(S),M=l.default(y).children(),l.default(y).append(_),C=_.children()),w=l.default("<div></div>"),w.attr("contenteditable","true").css("width","100%").css("height","100%");var T,E=m.config.placeholder;E!==f.default.placeholder?T=l.default("<div>"+E+"</div>"):T=l.default("<div>"+A.t(E)+"</div>"),T.addClass("placeholder"),C&&C.length?(w.append(C),T.hide()):w.append(l.default(c.EMPTY_P)),M&&M.length&&(w.append(M),T.hide()),_.append(w),_.append(T),S.addClass("w-e-toolbar").css("z-index",m.zIndex.get("toolbar")),_.addClass("w-e-text-container"),_.css("z-index",m.zIndex.get()),w.addClass("w-e-text");var P=u.getRandom("toolbar-elem");S.attr("id",P);var R=u.getRandom("text-elem");w.attr("id",R);var I=_.getBoundingClientRect().height,D=w.getBoundingClientRect().height;I!==D&&w.css("min-height",I+"px"),m.$toolbarElem=S,m.$textContainerElem=_,m.$textElem=w,m.toolbarElemId=P,m.textElemId=R}r.default=h;function v(m){var p="data-we-id",g=/^wangEditor-\d+$/,y=m.textSelector,x=m.toolbarSelector,b={bar:l.default("<div></div>"),text:l.default("<div></div>")};if(x==null)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");if(b.bar=l.default(x),!b.bar.elems.length)throw new Error("无效的节点选择器："+x);if(g.test(b.bar.attr(p)))throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器");if(y){if(b.text=l.default(y),!b.text.elems.length)throw new Error("无效的节点选择器："+y);if(g.test(b.text.attr(p)))throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器")}b.bar.attr(p,m.id),b.text.attr(p,m.id),m.beforeDestroy(function(){b.bar.removeAttr(p),b.text.removeAttr(p)})}r.selectorValidator=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(3)),u=a(7);function c(f,d){var h=f.$textElem,v=h.children();if(!v||!v.length){h.append(l.default(u.EMPTY_P)),c(f);return}var m=v.last();if(d){var p=m.html().toLowerCase(),g=m.getNodeName();if(p!=="<br>"&&p!=="<br/>"||g!=="P"){h.append(l.default(u.EMPTY_P)),c(f);return}}f.selection.createRangeByElem(m,!1,!0),f.config.focus?f.selection.restoreSelection():f.selection.clearWindowSelectionRange()}r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3));function c(p){f(p),d(p),h(p)}function f(p){p.txt.eventHooks.changeEvents.push(function(){var g=p.config.onchange;if(g){var y=p.txt.html()||"";p.isFocus=!0,g(y)}p.txt.togglePlaceholder()})}function d(p){p.isFocus=!1;function g(y){var x=y.target,b=u.default(x),A=p.$textElem,S=p.$toolbarElem,_=A.isContain(b),w=S.isContain(b),C=S.elems[0]==y.target;if(_)p.isFocus||m(p),p.isFocus=!0;else{if(w&&!C||!p.isFocus)return;v(p),p.isFocus=!1}}document.activeElement===p.$textElem.elems[0]&&p.config.focus&&(m(p),p.isFocus=!0),u.default(document).on("click",g),p.beforeDestroy(function(){u.default(document).off("click",g)})}function h(p){p.$textElem.on("compositionstart",function(){p.isComposing=!0,p.txt.togglePlaceholder()}).on("compositionend",function(){p.isComposing=!1,p.txt.togglePlaceholder()})}function v(p){var g,y=p.config,x=y.onblur,b=p.txt.html()||"";(0,s.default)(g=p.txt.eventHooks.onBlurEvents).call(g,function(A){return A()}),x(b)}function m(p){var g=p.config,y=g.onfocus,x=p.txt.html()||"";y(x)}r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});function s(l){var u=l.config,c=u.lang,f=u.languages;if(l.i18next!=null){try{l.i18next.init({ns:"wangEditor",lng:c,defaultNS:"wangEditor",resources:f})}catch(d){throw new Error("i18next:"+d)}return}l.i18next={t:function(h){var v=h.split(".");return v[v.length-1]}}}r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29));(0,o.default)(r,"__esModule",{value:!0}),r.setUnFullScreen=r.setFullScreen=void 0;var l=a(2),u=l.__importDefault(a(3));a(421);var c="w-e-icon-fullscreen",f="w-e-icon-fullscreen_exit",d="w-e-full-screen-editor";r.setFullScreen=function(v){var m=u.default(v.toolbarSelector),p=v.$textContainerElem,g=v.$toolbarElem,y=(0,s.default)(g).call(g,"i."+c),x=v.config;y.removeClass(c),y.addClass(f),m.addClass(d),m.css("z-index",x.zIndexFullScreen);var b=g.getBoundingClientRect();p.css("height","calc(100% - "+b.height+"px)")},r.setUnFullScreen=function(v){var m=u.default(v.toolbarSelector),p=v.$textContainerElem,g=v.$toolbarElem,y=(0,s.default)(g).call(g,"i."+f),x=v.config;y.removeClass(f),y.addClass(c),m.removeClass(d),m.css("z-index","auto"),p.css("height",x.height+"px")};var h=function(m){if(!m.textSelector&&m.config.showFullScreen){var p=m.$toolbarElem,g=u.default(`<div class="w-e-menu" data-title="全屏">
            <i class="`+c+`"></i>
        </div>`);g.on("click",function(y){var x,b=(0,s.default)(x=u.default(y.currentTarget)).call(x,"i");b.hasClass(c)?(g.attr("data-title","取消全屏"),r.setFullScreen(m)):(g.attr("data-title","全屏"),r.setUnFullScreen(m))}),p.append(g)}};r.default=h},function(n,r,a){var i=a(20),o=a(422);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-full-screen-editor {
  position: fixed;
  width: 100%!important;
  height: 100%!important;
  left: 0;
  top: 0;
}
`,""]),n.exports=r},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29));(0,o.default)(r,"__esModule",{value:!0});var l=function(c,f){var d,h=c.isEnable?c.$textElem:(0,s.default)(d=c.$textContainerElem).call(d,".w-e-content-mantle"),v=(0,s.default)(h).call(h,"[id='"+f+"']"),m=v.getOffsetData().top;h.scrollTop(m)};r.default=l},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(129)),u={menu:2,panel:2,toolbar:1,tooltip:1,textContainer:1},c=function(){function f(){this.tier=u,this.baseZIndex=l.default.zIndex}return f.prototype.get=function(d){return d&&this.tier[d]?this.baseZIndex+this.tier[d]:this.baseZIndex},f.prototype.init=function(d){this.baseZIndex==l.default.zIndex&&(this.baseZIndex=d.config.zIndex)},f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(70)),l=i(a(4));(0,o.default)(r,"__esModule",{value:!0});var u=a(2),c=u.__importDefault(a(426)),f=a(6),d=a(7);function h(m,p){return(0,s.default)(m).call(m,function(g){var y=g.type,x=g.target,b=g.attributeName;return y!="attributes"||y=="attributes"&&(b=="contenteditable"||x!=p)})}var v=function(m){u.__extends(p,m);function p(g){var y=m.call(this,function(x,b){var A;if(x=h(x,b.target),(A=y.data).push.apply(A,x),g.isCompatibleMode)y.asyncSave();else if(!g.isComposing)return y.asyncSave()})||this;return y.editor=g,y.data=[],y.asyncSave=d.EMPTY_FN,y}return p.prototype.save=function(){this.data.length&&(this.editor.history.save(this.data),this.data.length=0,this.emit())},p.prototype.emit=function(){var g;(0,l.default)(g=this.editor.txt.eventHooks.changeEvents).call(g,function(y){return y()})},p.prototype.observe=function(){var g=this;m.prototype.observe.call(this,this.editor.$textElem.elems[0]);var y=this.editor.config.onchangeTimeout;this.asyncSave=f.debounce(function(){g.save()},y),this.editor.isCompatibleMode||this.editor.$textElem.on("compositionend",function(){g.asyncSave()})},p}(c.default);r.default=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=function(){function l(u,c){var f=this;this.options={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0},this.callback=function(d){u(d,f)},this.observer=new MutationObserver(this.callback),c&&(this.options=c)}return(0,o.default)(l.prototype,"target",{get:function(){return this.node},enumerable:!1,configurable:!0}),l.prototype.observe=function(u){this.node instanceof Node||(this.node=u,this.connect())},l.prototype.connect=function(){if(this.node)return this.observer.observe(this.node,this.options),this;throw new Error("还未初始化绑定，请您先绑定有效的 Node 节点")},l.prototype.disconnect=function(){var u=this.observer.takeRecords();u.length&&this.callback(u),this.observer.disconnect()},l}();r.default=s},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(428)),u=s.__importDefault(a(435)),c=s.__importDefault(a(436)),f=function(){function d(h){this.editor=h,this.content=new l.default(h),this.scroll=new u.default(h),this.range=new c.default(h)}return(0,o.default)(d.prototype,"size",{get:function(){return this.scroll.size},enumerable:!1,configurable:!0}),d.prototype.observe=function(){this.content.observe(),this.scroll.observe(),!this.editor.isCompatibleMode&&this.range.observe()},d.prototype.save=function(h){h.length&&(this.content.save(h),this.scroll.save(),!this.editor.isCompatibleMode&&this.range.save())},d.prototype.revoke=function(){this.editor.change.disconnect();var h=this.content.revoke();h&&(this.scroll.revoke(),this.editor.isCompatibleMode||(this.range.revoke(),this.editor.$textElem.focus())),this.editor.change.connect(),h&&this.editor.change.emit()},d.prototype.restore=function(){this.editor.change.disconnect();var h=this.content.restore();h&&(this.scroll.restore(),this.editor.isCompatibleMode||(this.range.restore(),this.editor.$textElem.focus())),this.editor.change.connect(),h&&this.editor.change.emit()},d}();r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(429)),u=s.__importDefault(a(433)),c=function(){function f(d){this.editor=d}return f.prototype.observe=function(){this.editor.isCompatibleMode?this.cache=new u.default(this.editor):this.cache=new l.default(this.editor),this.cache.observe()},f.prototype.save=function(d){this.editor.isCompatibleMode?this.cache.save():this.cache.compile(d)},f.prototype.revoke=function(){var d;return(d=this.cache)===null||d===void 0?void 0:d.revoke()},f.prototype.restore=function(){var d;return(d=this.cache)===null||d===void 0?void 0:d.restore()},f}();r.default=c},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(99)),u=s.__importDefault(a(431)),c=a(432),f=function(d){s.__extends(h,d);function h(v){var m=d.call(this,v.config.historyMaxSize)||this;return m.editor=v,m}return h.prototype.observe=function(){this.resetMaxSize(this.editor.config.historyMaxSize)},h.prototype.compile=function(v){return this.save(u.default(v)),this},h.prototype.revoke=function(){return d.prototype.revoke.call(this,function(v){c.revoke(v)})},h.prototype.restore=function(){return d.prototype.restore.call(this,function(v){c.restore(v)})},h}(l.default);r.default=f},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0}),r.CeilStack=void 0;var s=function(){function l(u){u===void 0&&(u=0),this.data=[],this.max=0,this.reset=!1,u=Math.abs(u),u&&(this.max=u)}return l.prototype.resetMax=function(u){u=Math.abs(u),!this.reset&&!isNaN(u)&&(this.max=u,this.reset=!0)},(0,o.default)(l.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),l.prototype.instack=function(u){return this.data.unshift(u),this.max&&this.size>this.max&&(this.data.length=this.max),this},l.prototype.outstack=function(){return this.data.shift()},l.prototype.clear=function(){return this.data.length=0,this},l}();r.CeilStack=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(27));(0,o.default)(r,"__esModule",{value:!0}),r.compliePosition=r.complieNodes=r.compileValue=r.compileType=void 0;var u=a(6);function c(g){switch(g){case"childList":return"node";case"attributes":return"attr";default:return"text"}}r.compileType=c;function f(g){switch(g.type){case"attributes":return g.target.getAttribute(g.attributeName)||"";case"characterData":return g.target.textContent;default:return""}}r.compileValue=f;function d(g){var y={};return g.addedNodes.length&&(y.add=u.toArray(g.addedNodes)),g.removedNodes.length&&(y.remove=u.toArray(g.removedNodes)),y}r.complieNodes=d;function h(g){var y;return g.previousSibling?y={type:"before",target:g.previousSibling}:g.nextSibling?y={type:"after",target:g.nextSibling}:y={type:"parent",target:g.target},y}r.compliePosition=h;var v=["UL","OL","H1","H2","H3","H4","H5","H6"];function m(g){var y=[],x=!1,b=[];return(0,s.default)(g).call(g,function(A,S){var _={type:c(A.type),target:A.target,attr:A.attributeName||"",value:f(A)||"",oldValue:A.oldValue||"",nodes:d(A),position:h(A)};if(y.push(_),!!u.UA.isFirefox){if(x&&A.addedNodes.length&&A.addedNodes[0].nodeType==1){var w=A.addedNodes[0],C={type:"node",target:w,attr:"",value:"",oldValue:"",nodes:{add:[x]},position:{type:"parent",target:w}};(0,l.default)(v).call(v,w.nodeName)!=-1?(C.nodes.add=u.toArray(w.childNodes),y.push(C)):x.nodeType==3?(p(w,b)&&(C.nodes.add=u.toArray(w.childNodes)),y.push(C)):(0,l.default)(v).call(v,A.target.nodeName)==-1&&p(w,b)&&(C.nodes.add=u.toArray(w.childNodes),y.push(C))}_.type=="node"&&A.removedNodes.length==1?(x=A.removedNodes[0],b.push(x)):(x=!1,b.length=0)}}),y}r.default=m;function p(g,y){for(var x=0,b=y.length-1;b>0&&g.contains(y[b]);b--)x++;return x}},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(4)),l=i(a(94));(0,o.default)(r,"__esModule",{value:!0}),r.restore=r.revoke=void 0;function u(b,A){var S=b.position.target;switch(b.position.type){case"before":S.nextSibling?(S=S.nextSibling,(0,s.default)(A).call(A,function(_){b.target.insertBefore(_,S)})):(0,s.default)(A).call(A,function(_){b.target.appendChild(_)});break;case"after":(0,s.default)(A).call(A,function(_){b.target.insertBefore(_,S)});break;default:(0,s.default)(A).call(A,function(_){S.appendChild(_)});break}}function c(b){for(var A=0,S=(0,l.default)(b.nodes);A<S.length;A++){var _=S[A],w=_[0],C=_[1];switch(w){case"add":(0,s.default)(C).call(C,function(M){b.target.removeChild(M)});break;default:{u(b,C);break}}}}function f(b){var A=b.target;b.oldValue==null?A.removeAttribute(b.attr):A.setAttribute(b.attr,b.oldValue)}function d(b){b.target.textContent=b.oldValue}var h={node:c,text:d,attr:f};function v(b){for(var A=b.length-1;A>-1;A--){var S=b[A];h[S.type](S)}}r.revoke=v;function m(b){for(var A=0,S=(0,l.default)(b.nodes);A<S.length;A++){var _=S[A],w=_[0],C=_[1];switch(w){case"add":{u(b,C);break}default:{(0,s.default)(C).call(C,function(M){M.parentNode.removeChild(M)});break}}}}function p(b){b.target.textContent=b.value}function g(b){b.target.setAttribute(b.attr,b.value)}var y={node:m,text:p,attr:g};function x(b){for(var A=0,S=b;A<S.length;A++){var _=S[A];y[_.type](_)}}r.restore=x},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(434),l=function(){function u(c){this.editor=c,this.data=new s.TailChain}return u.prototype.observe=function(){this.data.resetMax(this.editor.config.historyMaxSize),this.data.insertLast(this.editor.$textElem.html())},u.prototype.save=function(){return this.data.insertLast(this.editor.$textElem.html()),this},u.prototype.revoke=function(){var c=this.data.prev();return c?(this.editor.$textElem.html(c),!0):!1},u.prototype.restore=function(){var c=this.data.next();return c?(this.editor.$textElem.html(c),!0):!1},u}();r.default=l},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(91));(0,o.default)(r,"__esModule",{value:!0}),r.TailChain=void 0;var l=function(){function u(){this.data=[],this.max=0,this.point=0,this.isRe=!1}return u.prototype.resetMax=function(c){c=Math.abs(c),c&&(this.max=c)},(0,o.default)(u.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),u.prototype.insertLast=function(c){if(this.isRe){var f;(0,s.default)(f=this.data).call(f,this.point+1),this.isRe=!1}for(this.data.push(c);this.max&&this.size>this.max;)this.data.shift();return this.point=this.size-1,this},u.prototype.current=function(){return this.data[this.point]},u.prototype.prev=function(){if(!this.isRe&&(this.isRe=!0),this.point--,this.point<0){this.point=0;return}return this.current()},u.prototype.next=function(){if(!this.isRe&&(this.isRe=!0),this.point++,this.point>=this.size){this.point=this.size-1;return}return this.current()},u}();r.TailChain=l},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(99)),u=function(c){s.__extends(f,c);function f(d){var h=c.call(this,d.config.historyMaxSize)||this;return h.editor=d,h.last=0,h.target=d.$textElem.elems[0],h}return f.prototype.observe=function(){var d=this;this.target=this.editor.$textElem.elems[0],this.editor.$textElem.on("scroll",function(){d.last=d.target.scrollTop}),this.resetMaxSize(this.editor.config.historyMaxSize)},f.prototype.save=function(){return c.prototype.save.call(this,[this.last,this.target.scrollTop]),this},f.prototype.revoke=function(){var d=this;return c.prototype.revoke.call(this,function(h){d.target.scrollTop=h[0]})},f.prototype.restore=function(){var d=this;return c.prototype.restore.call(this,function(h){d.target.scrollTop=h[1]})},f}(l.default);r.default=u},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=a(2),l=s.__importDefault(a(99)),u=s.__importDefault(a(3)),c=a(6);function f(h){return{start:[h.startContainer,h.startOffset],end:[h.endContainer,h.endOffset],root:h.commonAncestorContainer,collapsed:h.collapsed}}var d=function(h){s.__extends(v,h);function v(m){var p=h.call(this,m.config.historyMaxSize)||this;return p.editor=m,p.lastRange=f(document.createRange()),p.root=m.$textElem.elems[0],p.updateLastRange=c.debounce(function(){p.lastRange=f(p.rangeHandle)},m.config.onchangeTimeout),p}return(0,o.default)(v.prototype,"rangeHandle",{get:function(){var p=document.getSelection();return p&&p.rangeCount?p.getRangeAt(0):document.createRange()},enumerable:!1,configurable:!0}),v.prototype.observe=function(){var m=this;this.root=this.editor.$textElem.elems[0],this.resetMaxSize(this.editor.config.historyMaxSize);function p(){var y=m.rangeHandle;(m.root===y.commonAncestorContainer||m.root.contains(y.commonAncestorContainer))&&(m.editor.isComposing||m.updateLastRange())}function g(y){(y.key=="Backspace"||y.key=="Delete")&&m.updateLastRange()}u.default(document).on("selectionchange",p),this.editor.beforeDestroy(function(){u.default(document).off("selectionchange",p)}),m.editor.$textElem.on("keydown",g)},v.prototype.save=function(){var m=f(this.rangeHandle);return h.prototype.save.call(this,[this.lastRange,m]),this.lastRange=m,this},v.prototype.set=function(m){try{if(m){var p=this.rangeHandle;return p.setStart.apply(p,m.start),p.setEnd.apply(p,m.end),this.editor.menus.changeActive(),!0}}catch{return!1}return!1},v.prototype.revoke=function(){var m=this;return h.prototype.revoke.call(this,function(p){m.set(p[0])})},v.prototype.restore=function(){var m=this;return h.prototype.restore.call(this,function(p){m.set(p[1])})},v}(l.default);r.default=d},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(29));(0,o.default)(r,"__esModule",{value:!0});var l=a(2),u=l.__importDefault(a(3));a(438);function c(f){var d=!1,h,v;f.txt.eventHooks.changeEvents.push(function(){d&&(0,s.default)(h).call(h,".w-e-content-preview").html(f.$textElem.html())});function m(){if(!d){f.$textElem.hide();var g=f.zIndex.get("textContainer"),y=f.txt.html();h=u.default('<div class="w-e-content-mantle" style="z-index:'+g+`">
                <div class="w-e-content-preview w-e-text">`+y+`</div>
            </div>`),f.$textContainerElem.append(h);var x=f.zIndex.get("menu");v=u.default('<div class="w-e-menue-mantle" style="z-index:'+x+'"></div>'),f.$toolbarElem.append(v),d=!0,f.isEnable=!1}}function p(){d&&(h.remove(),v.remove(),f.$textElem.show(),d=!1,f.isEnable=!0)}return{disable:m,enable:p}}r.default=c},function(n,r,a){var i=a(20),o=a(439);o=o.__esModule?o.default:o,typeof o=="string"&&(o=[[n.i,o,""]]);var s={};s.insert="head",s.singleton=!1,i(o,s),n.exports=o.locals||{}},function(n,r,a){var i=a(21);r=i(!1),r.push([n.i,`.w-e-content-mantle {
  width: 100%;
  height: 100%;
  overflow-y: auto;
}
.w-e-content-mantle .w-e-content-preview {
  width: 100%;
  min-height: 100%;
  padding: 0 10px;
  line-height: 1.5;
}
.w-e-content-mantle .w-e-content-preview img {
  cursor: default;
}
.w-e-content-mantle .w-e-content-preview img:hover {
  box-shadow: none;
}
.w-e-menue-mantle {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
`,""]),n.exports=r},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0});var s=function(){function l(u){var c=this;this.editor=u;var f=function(){var h=document.activeElement;h===u.$textElem.elems[0]&&c.emit()};window.document.addEventListener("selectionchange",f),this.editor.beforeDestroy(function(){window.document.removeEventListener("selectionchange",f)})}return l.prototype.emit=function(){var u,c=this.editor.config.onSelectionChange;if(c){var f=this.editor.selection;f.saveRange(),f.isSelectionEmpty()||c({text:f.getSelectionText(),html:(u=f.getSelectionContainerElem())===null||u===void 0?void 0:u.elems[0].innerHTML,selection:f})}},l}();r.default=s},function(n,r,a){var i=a(0),o=i(a(1)),s=i(a(128)),l=i(a(94)),u=i(a(4));(0,o.default)(r,"__esModule",{value:!0}),r.registerPlugin=void 0;var c=a(2),f=c.__importDefault(a(87)),d=a(6);function h(m,p,g){if(!m)throw new TypeError("name is not define");if(!p)throw new TypeError("options is not define");if(!p.intention)throw new TypeError("options.intention is not define");if(p.intention&&typeof p.intention!="function")throw new TypeError("options.intention is not function");g[m]&&console.warn("plugin "+m+" 已存在，已覆盖。"),g[m]=p}r.registerPlugin=h;function v(m){var p=(0,s.default)({},d.deepClone(f.default.globalPluginsFunctionList),d.deepClone(m.pluginsFunctionList)),g=(0,l.default)(p);(0,u.default)(g).call(g,function(y){var x=y[0],b=y[1];console.info("plugin "+x+" initializing");var A=b.intention,S=b.config;A(m,S),console.info("plugin "+x+" initialization complete")})}r.default=v},function(n,r,a){var i=a(0),o=i(a(1));(0,o.default)(r,"__esModule",{value:!0})}]).default})})(K$);var aJ=K$.exports;const Cf=my(aJ);var iJ={614:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),i=n(645),o=n.n(i)()(a());o.push([e.id,`:root {
  --me-theme: #bcd4e7;
  --me-theme-light: #d0e3f2;
  --me-hover: #f1f2f4;
  --me-border: #ddd;
  --me-gray: ##666;
}
.math-editor {
  color: #000;
  font-size: 18px;
  text-align: left;
  border: 1px solid #ccc;
  overflow: hidden;
}
.math-editor * {
  margin: 0;
  padding: 0;
}
.math-editor div {
  box-sizing: border-box;
}
.math-editor .me-menu {
  width: 100%;
  padding: 0 10px;
  background: var(--me-theme);
  border-bottom: 1px solid var(--me-border);
}
.math-editor .me-menu-item {
  float: left;
  position: relative;
  width: 50px;
  padding: 5px;
  text-align: center;
  cursor: pointer;
}
.math-editor .me-menu-item .icon {
  display: block;
  height: 22px;
  margin-bottom: 5px;
  line-height: 28px;
}
.math-editor .me-menu-item.active {
  background: var(--me-theme-light);
}
.math-editor .me-latex,
.math-editor .me-svg {
  float: left;
  width: 50%;
  height: calc(100% - 1px);
  padding: 10px 12px;
}
.math-editor .me-latex {
  font-size: 14px;
  letter-spacing: 1px;
  overflow-y: auto;
}
.math-editor .me-svg {
  display: flex;
  align-items: center;
  background: #f6f7f8;
  overflow-x: auto;
}
.math-editor .me-droplist {
  position: absolute;
  left: 0;
  text-align: left;
  background: #fff;
  border: 1px solid var(--me-border);
  border-radius: 3px;
}
.math-editor .me-droplist .me-dp-title {
  height: 25px;
  padding-left: 12px;
  font-size: 12px;
  line-height: 29px;
  background: var(--me-theme-light);
  border-bottom: 1px solid var(--me-border);
}
.math-editor .me-droplist .me-item:hover {
  background: var(--me-hover);
}
.math-editor .me-droplist .me-list {
  padding: 5px 0;
  list-style: none;
  line-height: 1.36;
}
.math-editor .me-droplist .me-list .me-item {
  font-size: 16px;
  padding: 5px 12px;
}
.math-editor .me-droplist .me-list .me-item .title {
  margin-bottom: 8px;
  font-size: 12px;
  color: var(--me-gray);
}
.math-editor .me-droplist .me-block {
  list-style: none;
  padding: 5px;
}
.math-editor .me-droplist .me-block .me-item {
  box-sizing: border-box;
  display: inline-block;
  min-width: 32px;
  min-height: 32px;
  margin: 5px;
  padding: 2px;
  line-height: 30px;
  text-align: center;
  border: 1px solid var(--me-border);
  border-radius: 3px;
}
.math-editor .clearfix:after {
  content: '';
  display: block;
  height: 0;
  visibility: hidden;
  clear: both;
}
`,""]);const s=o},645:e=>{e.exports=function(t){var n=[];return n.toString=function(){return this.map(function(r){var a="",i=r[5]!==void 0;return r[4]&&(a+="@supports (".concat(r[4],") {")),r[2]&&(a+="@media ".concat(r[2]," {")),i&&(a+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),a+=t(r),i&&(a+="}"),r[2]&&(a+="}"),r[4]&&(a+="}"),a}).join("")},n.i=function(r,a,i,o,s){typeof r=="string"&&(r=[[null,r,void 0]]);var l={};if(i)for(var u=0;u<this.length;u++){var c=this[u][0];c!=null&&(l[c]=!0)}for(var f=0;f<r.length;f++){var d=[].concat(r[f]);i&&l[d[0]]||(s!==void 0&&(d[5]===void 0||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),a&&(d[2]&&(d[1]="@media ".concat(d[2]," {").concat(d[1],"}")),d[2]=a),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},81:e=>{e.exports=function(t){return t[1]}},379:e=>{var t=[];function n(i){for(var o=-1,s=0;s<t.length;s++)if(t[s].identifier===i){o=s;break}return o}function r(i,o){for(var s={},l=[],u=0;u<i.length;u++){var c=i[u],f=o.base?c[0]+o.base:c[0],d=s[f]||0,h="".concat(f," ").concat(d);s[f]=d+1;var v=n(h),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(v!==-1)t[v].references++,t[v].updater(m);else{var p=a(m,o);o.byIndex=u,t.splice(u,0,{identifier:h,updater:p,references:1})}l.push(h)}return l}function a(i,o){var s=o.domAPI(o);return s.update(i),function(l){if(l){if(l.css===i.css&&l.media===i.media&&l.sourceMap===i.sourceMap&&l.supports===i.supports&&l.layer===i.layer)return;s.update(i=l)}else s.remove()}}e.exports=function(i,o){var s=r(i=i||[],o=o||{});return function(l){l=l||[];for(var u=0;u<s.length;u++){var c=n(s[u]);t[c].references--}for(var f=r(l,o),d=0;d<s.length;d++){var h=n(s[d]);t[h].references===0&&(t[h].updater(),t.splice(h,1))}s=f}}},569:e=>{var t={};e.exports=function(n,r){var a=function(i){if(t[i]===void 0){var o=document.querySelector(i);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch{o=null}t[i]=o}return t[i]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},216:e=>{e.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(e,t,n)=>{e.exports=function(r){var a=n.nc;a&&r.setAttribute("nonce",a)}},795:e=>{e.exports=function(t){var n=t.insertStyleElement(t);return{update:function(r){(function(a,i,o){var s="";o.supports&&(s+="@supports (".concat(o.supports,") {")),o.media&&(s+="@media ".concat(o.media," {"));var l=o.layer!==void 0;l&&(s+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),s+=o.css,l&&(s+="}"),o.media&&(s+="}"),o.supports&&(s+="}");var u=o.sourceMap;u&&typeof btoa<"u"&&(s+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),i.styleTagTransform(s,a,i.options)})(n,t,r)},remove:function(){(function(r){if(r.parentNode===null)return!1;r.parentNode.removeChild(r)})(n)}}}},589:e=>{e.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},sD={};function qn(e){var t=sD[e];if(t!==void 0)return t.exports;var n=sD[e]={id:e,exports:{}};return iJ[e](n,n.exports,qn),n.exports}qn.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return qn.d(t,{a:t}),t},qn.d=(e,t)=>{for(var n in t)qn.o(t,n)&&!qn.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},qn.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Jh={};(()=>{qn.d(Jh,{ZP:()=>k,c1:()=>m,Vl:()=>v,UW:()=>p});var e=qn(379),t=qn.n(e),n=qn(795),r=qn.n(n),a=qn(569),i=qn.n(a),o=qn(565),s=qn.n(o),l=qn(216),u=qn.n(l),c=qn(589),f=qn.n(c),d=qn(614),h={};function v(V){if(window.MathJax)return;const L=document.createElement("script");L.src=V,L.async=!0,document.head.appendChild(L)}function m(V){window.MathJax?V&&V():window.MathJax={tex:{inlineMath:[["$","$"]],processEnvironments:!0,processRefs:!0},options:{skipHtmlTags:["noscript","style","textarea","pre","code"],ignoreHtmlClass:"tex2jax_ignore"},startup:{pageReady:()=>V&&V()},svg:{fontCache:"global"}}}function p(V){return window.MathJax&&window.MathJax.typesetPromise?(V&&!Array.isArray(V)&&(V=[V]),window.MathJax.typesetPromise(V)):Promise.reject()}function g(){}h.styleTagTransform=f(),h.setAttributes=s(),h.insert=i().bind(null,"head"),h.domAPI=r(),h.insertStyleElement=u(),t()(d.Z,h),d.Z&&d.Z.locals&&d.Z.locals;const y='<p data-we-empty-p=""><br></p>',x=["Control","Escape","Tab","CapsLock","Shift","Meta","Alt","ArrowLeft","ArrowUp","ArrowDown","ArrowRight","Enter","Backspace","Delete","Insert"],b=[" ","{","}"];function A(V){return Array.prototype.slice.call(V)}function S(V){return`<span>${V=V.replace(/[A-Za-z0-9]+/g,L=>`<span style="color: #ee7959">${L}</span>`)}</span>&nbsp;`}function _(V){return`<div class="me-menu-item"><span class="icon">$${V}$</span></div>`}const w=new class{constructor(){this._ua=navigator.userAgent;const V=this._ua.match(/(Edge?)\/(\d+)/);this.isOldEdge=!!(V&&V[1]==="Edge"&&parseInt(V[2])<19),this.isFirefox=!(!/Firefox\/\d+/.test(this._ua)||/Seamonkey\/\d+/.test(this._ua))}isIE(){return"ActiveXObject"in window}isWebkit(){return/webkit/i.test(this._ua)}},C=[];function M(V){let L=[];const O=[];return L=Array.isArray(V)?V:V.split(";"),L.forEach(H=>{const j=H.split(":").map(Y=>Y.trim());j.length===2&&O.push(j[0]+":"+j[1])}),O}class T{constructor(L){if(this.elems=[],this.length=this.elems.length,this.dataSource=new Map,!L)return;if(L instanceof T)return L;let O=[];const H=L instanceof Node?L.nodeType:-1;if(this.selector=L,H===1||H===9)O=[L];else if(function(X){return!!X&&(X instanceof HTMLCollection||X instanceof NodeList)}(L))O=A(L);else if(L instanceof Array)O=L;else if(typeof L=="string"){const X=L.replace(`/
/mg`,"").trim();O=X.indexOf("<")===0?function(Q){const K=document.createElement("div");return K.innerHTML=Q,A(K.children)}(X):function(Q){return A(document.querySelectorAll(Q))}(X)}const j=O.length;if(!j)return this;let Y=0;for(;Y<j;Y++)this.elems.push(O[Y]);this.length=j}get id(){return this.elems[0].id}forEach(L){for(let O=0;O<this.length;O++){const H=this.elems[O];if(L.call(H,H,O)===!1)break}return this}clone(L=!1){const O=[];return this.elems.forEach(H=>{O.push(H.cloneNode(!!L))}),E(O)}get(L=0){const O=this.length;return L>=O&&(L%=O),E(this.elems[L])}first(){return this.get(0)}last(){const L=this.length;return this.get(L-1)}on(L,O,H){return L?(typeof O=="function"&&(H=O,O=""),this.forEach(j=>{if(!O)return void j.addEventListener(L,H);const Y=function(X){const Q=X.target;Q.matches(O)&&H.call(Q,X)};j.addEventListener(L,Y),C.push({elem:j,selector:O,fn:H,agentFn:Y})})):this}off(L,O,H){return L?(typeof O=="function"&&(H=O,O=""),this.forEach(function(j){if(O){let Y=-1;for(let X=0;X<C.length;X++){const Q=C[X];if(Q.selector===O&&Q.fn===H&&Q.elem===j){Y=X;break}}if(Y!==-1){const{agentFn:X}=C.splice(Y,1)[0];j.removeEventListener(L,X)}}else j.removeEventListener(L,H)})):this}attr(L,O){return O===void 0?this.elems[0].getAttribute(L)||"":this.forEach(function(H){H.setAttribute(L,O)})}removeAttr(L){this.forEach(function(O){O.removeAttribute(L)})}addClass(L){return L?this.forEach(function(O){if(O.className){let H=O.className.split(/\s/);H=H.filter(j=>!!j.trim()),H.indexOf(L)<0&&H.push(L),O.className=H.join(" ")}else O.className=L}):this}removeClass(L){return L?this.forEach(function(O){if(!O.className)return;let H=O.className.split(/\s/);H=H.filter(j=>!(!(j=j.trim())||j===L)),O.className=H.join(" ")}):this}hasClass(L){if(!L)return!1;const O=this.elems[0];return!!O.className&&O.className.split(/\s/).includes(L)}css(L,O){let H;return H=O===""?"":`${L}:${O};`,this.forEach(j=>{const Y=(j.getAttribute("style")||"").trim();if(Y){let X=M(Y);X=X.map(Q=>Q.indexOf(L)===0?H:Q),H!==""&&X.indexOf(H)<0&&X.push(H),H===""&&(X=M(X)),j.setAttribute("style",X.join("; "))}else j.setAttribute("style",H)})}getBoundingClientRect(){return this.elems[0].getBoundingClientRect()}show(){return this.css("display","block")}hide(){return this.css("display","none")}children(){const L=this.elems[0];return L?E(L.children):null}childNodes(){const L=this.elems[0];return L?E(L.childNodes):null}replaceChildAll(L){const O=this.getNode(),H=this.elems[0];for(;H.hasChildNodes();)O.firstChild&&H.removeChild(O.firstChild);this.append(L)}append(L){return this.forEach(O=>{L.forEach(function(H){O.appendChild(H)})})}remove(){return this.forEach(L=>{if(L.remove)L.remove();else{const O=L.parentElement;O&&O.removeChild(L)}})}isContain(L){const O=this.elems[0],H=L.elems[0];return O.contains(H)}getNodeName(){return this.elems[0].nodeName}getNode(L=0){return this.elems[L]}find(L){return E(this.elems[0].querySelectorAll(L))}text(L){return L===void 0?this.elems[0].innerHTML.replace(/<[^>]+>/g,()=>""):this.forEach(function(O){O.innerHTML=L})}html(L){const O=this.elems[0];return L===void 0?O.innerHTML:(O.innerHTML=L,this)}val(){return this.elems[0].value.trim()}focus(){return this.forEach(L=>{L.focus()})}prev(){return E(this.elems[0].previousElementSibling)}next(){return E(this.elems[0].nextElementSibling)}getNextSibling(){return E(this.elems[0].nextSibling)}parent(){return E(this.elems[0].parentElement)}parentUntil(L,O){const H=O||this.elems[0];if(H.nodeName==="BODY")return null;const j=H.parentElement;return j?j.matches(L)?E(j):this.parentUntil(L,j):null}equal(L){return L instanceof T?this.elems[0]===L.elems[0]:L instanceof HTMLElement&&this.elems[0]===L}insertBefore(L){const O=E(L).elems[0];return O?this.forEach(H=>{const j=O.parentNode;j==null||j.insertBefore(H,O)}):this}insertAfter(L){const O=E(L).elems[0],H=O&&O.nextSibling;return O?this.forEach(function(j){const Y=O.parentNode;H?Y.insertBefore(j,H):Y.appendChild(j)}):this}data(L,O){if(O===void 0)return this.dataSource.get(L);this.dataSource.set(L,O)}getNodeTop(L){if(this.length<1)return this;const O=this.parent();return L.$textLatexElem.equal(this)||L.$textLatexElem.equal(O)?this:(O.prior=this,O.getNodeTop(L))}getOffsetData(){const L=this.elems[0];return{top:L.offsetTop,left:L.offsetLeft,width:L.offsetWidth,height:L.offsetHeight,parent:L.offsetParent}}scrollTop(L){this.elems[0].scrollTo({top:L})}renderFormula(){return p(this.elems)}}function E(...V){return new T(...V)}const P=E,R={width:620,height:272,menuHeight:38,mathJaxUrl:"https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/mathjax/3.2.0/es5/tex-svg.min.js"},I={menus:["presets","operators","greekLetters","inequation","AdvancedMath","LinearAlgebra","arrows","Trigonometric"],presets:V=>[{label:V("fe.pt"),value:"a^2+b^2=c^2"},{label:V("fe.h"),value:"\\frac{x^2}{a^2}-\\frac{y^2}{b^2}=1"},{label:V("fe.tfr"),value:"\\sin^2\\theta +\\cos^2\\theta = 1"},{label:V("fe.d"),value:"\\left( e^x \\right) ' = e^x"},{label:V("fe.nl"),value:"\\int_a^b f(x) dx = F(b) - F(a)"}],operators:["+","-","\\pm","\\mp","\\times","\\div","\\ast","\\cdot","\\cap","\\cup","\\aleph","\\Re","\\top","\\bot","\\infty","\\partial","\\forall","\\exists","\\neg","\\because","\\therefore","\\varnothing","\\frac{b}{a}","\\circ","\\bullet","\\prime","\\triangle","\\angle","\\surd","\\barwedge","\\veebar","\\odot","\\oplus","\\otimes","\\oslash","\\circledcirc","\\boxdot","\\bigtriangledown","\\dagger","\\diamond","\\star","\\triangleleft","\\triangleright"],greekLetters:["\\alpha","\\beta","\\gamma","\\delta","\\epsilon","\\zeta","\\eta","\\theta","\\iota","\\kappa","\\lambda","\\mu","\\nu","\\xi","\\omicron","\\pi","\\rho","\\sigma","\\tau","\\upsilon","\\phi","\\chi","\\psi","\\omega","\\varepsilon","\\vartheta","\\varpi","\\varrho","\\varsigma","\\varphi","\\Gamma","\\Delta","\\Theta","\\Lambda","\\Xi","\\Pi","\\Sigma","\\Upsilon","\\Phi","\\Psi","\\Omega"],inequation:["=","\\leq","\\geq","\\prec","\\succ","\\preceq","\\succeq","\\ll","\\gg","\\equiv","\\sim","\\simeq","\\asymp","\\approx","\\ne","\\subset","\\supset","\\subseteq","\\supseteq","\\nsubseteq","\\nsupseteq","\\in","\\ni","\\notin"],AdvancedMath:["x_{a}","x^{b}","x_{a}^{b}","\\sqrt{x}","\\sqrt[n]{x}","\\bigcap_{a}^{b}","\\bigcup_{a}^{b}","\\prod_{a}^{b}","\\coprod_{a}^{b}","\\int_{a}^{b}","\\oint_{a}^{b}","\\sum_{a}^{b}{x}","\\lim_{a  \\rightarrow b}{x}","\\frac{dy}{dx}|_{t=0}","\\vec{a}","\\bar{a}","\\tilde{a}","\\dot{a}","\\ddot{a}","\\hat{a}","\\overleftarrow{ab}","\\overline{ab}","\\overrightarrow{ab}","\\underline{ab}","\\overbrace{ab}","\\underbrace{ab}"],LinearAlgebra:["A^{*}","A^{T}","A^{-1}","\\left( x  \\right)","\\left[ x  \\right]","\\left \\{ x  \\right \\}","\\left| x  \\right|","\\begin{pmatrix}a&b\\\\c&d\\\\ \\end{pmatrix}","\\begin{bmatrix}a&b\\\\c&d\\\\ \\end{bmatrix}","\\begin{Bmatrix}a&b\\\\c&d\\\\ \\end{Bmatrix}","\\begin{vmatrix}a&b\\\\c&d\\\\ \\end{vmatrix}"],arrows:["\\leftarrow","\\rightarrow","\\leftrightarrow","\\Leftarrow","\\Rightarrow","\\Leftrightarrow","\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow"],trigonometric:["\\sin \\theta","\\cos \\theta","\\tan \\theta","\\csc \\theta","\\sec \\theta","\\cot \\theta","\\arcsin \\theta","\\arccos \\theta"]},D=function V(L,O){const H=L.$textLatexElem,j=H.children();if(!j||!j.length)return H.append(P(y)),void V(L);const Y=j.last();if(O){const X=Y.html().toLowerCase(),Q=Y.getNodeName();if(X!=="<br>"&&X!=="<br/>"||Q!=="P")return H.append(P(y)),void V(L)}L.selection.createRangeByElem(Y,!1,!0),L.selection.restoreSelection()},B=class extends class{constructor(V,L){this.$elem=V,this.editor=L,this._active=!1,V.on("click",O=>{O.stopPropagation(),L.selection.getRange()&&(V.addClass("active"),this.clickHandler())})}clickHandler(){}active(){this._active=!0,this.$elem.addClass("me-active")}unActive(){this._active=!1,this.$elem.removeClass("me-active")}get isActive(){return this._active}}{constructor(V,L,O){super(V,L);const H=new class{constructor(j,Y){this.hideTimeoutId=0,this.menu=j,this.conf=Y;const{height:X,menuHeight:Q,zIndex:K=0}=this.menu.editor.config,Z=P(`<p>${Y.title}</p>`).addClass("me-dp-title"),te=P('<div class="me-droplist"></div>').append(Z).css("z-index",K+1),oe=Y.list||[],ue=Y.type||"block",se=Y.clickHandler||g,me=P(`<ul class="${ue==="list"?"me-list":"me-block"}"></ul>`).css("max-height",X-Q-76+"px").css("overflow-y","auto");oe.forEach(re=>{const q=re.$elem,ae=re.value,ce=P('<li class="me-item"></li>');q&&(ce.append(q),me.append(ce),ce.on("click",ee=>{se(ae),ee.stopPropagation(),this.hideTimeoutId=window.setTimeout(()=>{this.hide()})}))}),te.append(me),te.on("mouseleave",()=>{this.hideTimeoutId=window.setTimeout(()=>{this.hide()})}),this.$container=te,this.rendered=!1,this._show=!1}show(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);const j=this.menu.$elem,Y=this.$container;if(!this._show){if(this.rendered)Y.show();else{const{menuHeight:X}=this.menu.editor.config,Q=this.conf.width||232;Y.css("top",X-1+"px").css("width",Q+"px"),j.append(Y),this.rendered=!0,j.renderFormula()}this._show=!0}}hide(){const j=this.$container;this._show&&(j.hide(),this._show=!1)}get isShow(){return this._show}}(this,O);this.dropList=H,V.on("mouseover",()=>{L.selection.getRange()&&(V.addClass("active"),H.show())}).on("mouseleave",()=>{V.removeClass("active"),H.hideTimeoutId=window.setTimeout(()=>{H.hide()})})}command(V){var L;const O=this.editor,H=O.selection.isSelectionEmpty();if(!(!((L=O.selection.getSelectionContainerElem())===null||L===void 0)&&L.elems[0]))return;const j=S(V);O.cmd.do(j),H&&(O.selection.collapseRange(),O.selection.restoreSelection())}},F=class{constructor(V){this.itemList=V.map(L=>({$elem:P(`<span>$${L}$</span>`),value:L}))}getItemList(){return this.itemList}},G={presets:class extends B{constructor(V){const L=P(_("f_{(x)}")),O=new class{constructor(j){this.itemList=j.map(({label:Y,value:X})=>({$elem:P(`<p class="title">${Y}：</p><p>$ ${X} $</p>`),value:X}))}getItemList(){return this.itemList}}(V.menusConfig.presets(V.t)),H={width:252,title:V.t("fe.p"),type:"list",list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},operators:class extends B{constructor(V){const L=P(_("+")),O=new F(V.menusConfig.operators),H={title:V.t("fe.o"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},greekLetters:class extends B{constructor(V){const L=P(_("\\alpha")),O=new F(V.menusConfig.greekLetters),H={title:V.t("fe.gl"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},inequation:class extends B{constructor(V){const L=P(_("\\approx")),O=new F(V.menusConfig.inequation),H={title:V.t("fe.i"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},AdvancedMath:class extends B{constructor(V){const L=P(_("\\Sigma")),O=new F(V.menusConfig.AdvancedMath),H={width:244,title:V.t("fe.am"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},LinearAlgebra:class extends B{constructor(V){const L=P(_("\\left|x\\right|")),O=new F(V.menusConfig.LinearAlgebra),H={width:244,title:V.t("fe.lg"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},arrows:class extends B{constructor(V){const L=P(_("\\rightarrow")),O=new F(V.menusConfig.arrows),H={title:V.t("fe.a"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}},Trigonometric:class extends B{constructor(V){const L=P(_("\\theta")),O=new F(V.menusConfig.trigonometric),H={title:V.t("fe.t"),list:O.getItemList(),clickHandler:j=>{this.command(j)}};super(L,V,H)}}},z={"fe.a":"箭头符号","fe.am":"高数","fe.lg":"线代","fe.gl":"希腊字母","fe.i":"不等式","fe.o":"运算符","fe.p":"预设公式","fe.t":"三角函数","fe.l":"资源加载中...","fe.pt":"勾股定理","fe.h":"双曲线","fe.tfr":"三角函数关系","fe.d":"导数","fe.nl":"牛莱公式"};function N(V){return z[V]||V}class U{constructor(){this.config=R,this.menusConfig=I,this.$editorRootElem=P('<div class="math-editor"></div>'),this.$toolbarElem=P('<div class="me-menu"></div>'),this.$textLatexElem=P('<div class="me-latex"></div>'),this.$textSvgElem=P('<div class="me-svg"></div>'),this.cmd=new class{constructor(L){this.editor=L}do(L){const O=this.editor.selection;O.getRange()&&(O.restoreSelection(),this.insertHtml(L),this.renderFormula(),O.saveRange(),O.restoreSelection())}insert(L,O){if(O){const Y=this.editor.selection.getRange();if(Y){const X=Y.startContainer;Y.setStart(X,Y.endOffset),Y.setEnd(X,Y.endOffset),Y.deleteContents()}return void this.insertHtml(L===" "?"&nbsp;":L)}const H=`<span style="color: #ee7959">${(j=L)!==" "?j:"&nbsp;"}</span>`;var j;this.do(H)}renderFormula(){const L=this.editor;let O=L.latex.text();const H=L.$textSvgElem;if(!O.replace(/(&nbsp;)|( )/g,""))return void H.html("<p></p>");if(O=O.replace(/&nbsp;/g," ").trim(),H.attr("data-latex")===O)return;const j=`$ ${O} $`;H.attr("data-latex",O),H.html(j),H.renderFormula()}insertHtml(L){const O=this.editor,H=O.selection.getRange();if(H){if(this.queryCommandSupported("insertHTML"))this.execCommand("insertHTML",L);else if(H.insertNode){if(H.deleteContents(),P(L).elems.length>0)H.insertNode(P(L).elems[0]);else{const j=document.createElement("p");j.appendChild(document.createTextNode(L)),H.insertNode(j)}O.selection.collapseRange()}}}execCommand(L,O){document.execCommand(L,!1,O)}queryCommandSupported(L){return document.queryCommandSupported(L)}}(this),this.selection=new class{constructor(L){this._currentRange=null,this.editor=L}getRange(){return this._currentRange}saveRange(L){if(L)return void(this._currentRange=L);const O=window.getSelection();if(O.rangeCount===0)return;const H=O.getRangeAt(0),j=this.getSelectionContainerElem(H);if(!(j!=null&&j.length))return;const Y=this.editor,X=Y.$textLatexElem;if(X.isContain(j)){if(X.elems[0]===j.elems[0]&&X.html().trim()===y){const Q=X.children(),K=Q==null?void 0:Q.last();Y.selection.createRangeByElem(K,!0,!0),Y.selection.restoreSelection()}this._currentRange=H}}collapseRange(L=!1){const O=this._currentRange;O&&O.collapse(L)}getSelectionText(){const L=this._currentRange;return L?L.toString():""}getSelectionContainerElem(L){const O=L||this._currentRange;if(O){const H=O.commonAncestorContainer;return P(H.nodeType===1?H:H.parentNode)}}getSelectionStartElem(L){const O=L||this._currentRange;if(O){const H=O.startContainer;return P(H.nodeType===1?H:H.parentNode)}}getSelectionEndElem(L){const O=L||this._currentRange;if(O){const H=O.endContainer;return P(H.nodeType===1?H:H.parentNode)}}isSelectionEmpty(){const L=this._currentRange;return!(!L||!L.startContainer||L.startContainer!==L.endContainer||L.startOffset!==L.endOffset)}restoreSelection(){const L=window.getSelection(),O=this._currentRange;L&&O&&(L.removeAllRanges(),L.addRange(O))}createRangeByElems(L,O){const H=window.getSelection?window.getSelection():document.getSelection();H==null||H.removeAllRanges();const j=document.createRange();j.setStart(L,0),j.setEnd(O,O.childNodes.length||1),this.saveRange(j),this.restoreSelection()}createRangeByElem(L,O,H){if(!L.length)return;const j=L.elems[0],Y=document.createRange();H?Y.selectNodeContents(j):Y.selectNode(j),O!=null&&(Y.collapse(O),O||(this.saveRange(Y),this.editor.selection.moveCursor(j))),this.saveRange(Y)}getSelectionRangeTopNodes(){var L,O;const H=(L=this.getSelectionStartElem())===null||L===void 0?void 0:L.getNodeTop(this.editor),j=(O=this.getSelectionEndElem())===null||O===void 0?void 0:O.getNodeTop(this.editor);return this.recordSelectionNodes(P(H),P(j))}moveCursor(L,O){var H;const j=this.getRange();let Y=L.nodeType===3?(H=L.nodeValue)===null||H===void 0?void 0:H.length:L.childNodes.length;(w.isFirefox||w.isIE())&&Y!==0&&(L.nodeType!==3&&L.childNodes[Y-1].nodeName!=="BR"||(Y-=1));const X=O??Y;j&&L&&(j.setStart(L,X),j.setEnd(L,X),this.restoreSelection())}getCursorPos(){const L=window.getSelection();return L==null?void 0:L.anchorOffset}clearWindowSelectionRange(){const L=window.getSelection();L&&L.removeAllRanges()}recordSelectionNodes(L,O){const H=[];let j=!0;try{let Y=L;const X=this.editor.$textLatexElem;for(;j;){const Q=Y==null?void 0:Y.getNodeTop(this.editor);Q.getNodeName()==="BODY"&&(j=!1),Q.length>0&&(H.push(P(Y)),O!=null&&O.equal(Q)||X.equal(Q)?j=!1:Y=Q.getNextSibling())}}catch{j=!1}return H}setRangeToElem(L){const O=this.getRange();O==null||O.setStart(L,0),O==null||O.setEnd(L,0)}}(this),this.menus=new class{constructor(L){this.editor=L,this.menuList=[],this.constructorList=G}extend(L,O){O&&typeof O=="function"&&(this.constructorList[L]=O)}init(){this.editor.menusConfig.menus.forEach(L=>{const O=this.constructorList[L];this._initMenuList(L,O)}),this._addToToolbar()}_initMenuList(L,O){if(typeof O=="function")if(this.menuList.some(H=>H.key===L))console.warn("Duplicate menu name:"+L);else{const H=new O(this.editor);H.key=L,this.menuList.push(H)}}_addToToolbar(){const L=this.editor.$toolbarElem;L.addClass("clearfix"),this.menuList.forEach(O=>{const H=O.$elem;H&&L.append(H)})}menuFind(L){const O=this.menuList;for(let H=0,j=O.length;H<j;H++)if(O[H].key===L)return O[H];return O[0]}}(this),this.latex=new class{constructor(L){this.editor=L}init(){this._saveRange()}clear(){this.editor.$textLatexElem.replaceChildAll(P(y))}text(){return this.editor.$textLatexElem.text().replace(/&nbsp;/g," ")}_saveRange(){const L=this.editor,O=L.$textLatexElem,H=P(document);function j(){L.selection.saveRange()}function Y(){j(),H.off("mouseup",Y)}function X(){H.on("mouseup",Y),O.off("mouseleave",X)}O.on("keyup",function(Q,K=200){let Z=0;return function(...te){Z&&window.clearTimeout(Z),Z=window.setTimeout(()=>{Z=0,Q.call(this,...te)},K)}}(function(){j(),L.cmd.renderFormula()})),O.on("keydown",function(Q){const K=Q.key,Z=Q.ctrlKey&&!x.includes(K),te=b.includes(K);(Z||te)&&(Q.preventDefault(),j(),L.cmd.insert(K,te))}),O.on("click",function Q(){j(),O.off("click",Q)}),O.on("mousedown",()=>{O.on("mouseleave",X)}),O.on("mouseup",()=>{O.off("mouseleave",X),setTimeout(()=>{L.selection.getRange()&&j()},0)})}}(this),this.t=N}create(L,O){v(this.config.mathJaxUrl),this.menus.init(),this.latex.init(),function(j){const{$editorRootElem:Y,$toolbarElem:X,$textLatexElem:Q,$textSvgElem:K,config:Z}=j;Y.append(X);const te=P("<div></div>");te.addClass("clearfix").css("width","100%").css("height",Z.height-Z.menuHeight+"px").css("overflow","hidden"),Q.attr("contenteditable","true").css("outline","none").css("border-right","1px solid #ccc"),te.append(Q).append(K),Y.css("width",Z.width+"px").css("height",Z.height+"px"),Y.append(te)}(this);const H=P(L);H.text(this.t("fe.l")),m(()=>{H.text("").append(this.$editorRootElem),this.initSelection(),this.$toolbarElem.renderFormula(),O&&O()})}append(L){const O=S(L);this.cmd.do(O)}initSelection(){D(this)}destoryDom(){this.$editorRootElem.remove()}}U.$=P;const $=U;try{}catch{throw new Error("Please run in the browser environment!")}const k=$})();var Z$=Jh.ZP;Jh.c1;Jh.Vl;Jh.UW;function oJ(e,t){const n="btn-ok";function r(){const i=t.$textSvgElem.html();return e.cmd.do("insertHTML","<span>&nbsp;</span>"+i+"<span>&nbsp;</span>"),t.destoryDom(),!0}return{width:660,height:0,tabs:[{title:"插入数学公式",tpl:`<div>
              <div id="edit-content"></div>
              <div class="w-e-button-container">
                <button type="button" id="${n}" class="right">插入</button>
              </div>
            </div>`,events:[{selector:"#"+n,type:"click",fn:r,bindEnter:!0}]}]}}const{PanelMenu:sJ,Panel:lJ}=Cf;let uJ=class extends sJ{constructor(t){const n=Cf.$(`<div class="w-e-menu" data-title="数学公式">
        <span>公式</span>
      </div>`);super(n,t)}clickHandler(){const t=new Z$,n=oJ(this.editor,t);new lJ(this,n).create(),t.create("#edit-content")}tryChangeActive(){}};const cJ=e=>(po("data-v-3da3e6c1"),e=e(),go(),e),fJ={class:"formula-container"},dJ=cJ(()=>Ye("div",{class:"editor-area"},[Ye("div",{id:"wang-editor-area",class:"editor"})],-1)),hJ=[dJ],vJ={__name:"NotesEditableArea",props:{initMessage:{type:String,default:""}},setup(e){const t=e;Fn(()=>{t.initMessage});const n=Oe(null),r=Oe("");function a(){localStorage.setItem("Notes",r.value)}function i(){r.value=n.value.txt.html(),Ht(a)}return gn(()=>{n.value=new Cf("#wang-editor-area"),n.value.menus.extend("LatexSvgRender",uJ),n.value.config.height=400,n.value.config.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","LatexSvgRender","undo","redo"],n.value.config.onchange=i,n.value.config.onchangeTimeout=500,n.value.create(),n.value.txt.html(t.initMessage)}),(o,s)=>(at(),gt("div",fJ,hJ))}},pJ=lr(vJ,[["__scopeId","data-v-3da3e6c1"]]);function Q$(e,t){return function(){return e.apply(t,arguments)}}const{toString:gJ}=Object.prototype,{getPrototypeOf:JT}=Object,yy=(e=>t=>{const n=gJ.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yo=e=>(e=e.toLowerCase(),t=>yy(t)===e),xy=e=>t=>typeof t===e,{isArray:Mf}=Array,bh=xy("undefined");function mJ(e){return e!==null&&!bh(e)&&e.constructor!==null&&!bh(e.constructor)&&ni(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const J$=yo("ArrayBuffer");function yJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&J$(e.buffer),t}const xJ=xy("string"),ni=xy("function"),eG=xy("number"),by=e=>e!==null&&typeof e=="object",bJ=e=>e===!0||e===!1,Mg=e=>{if(yy(e)!=="object")return!1;const t=JT(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},SJ=yo("Date"),_J=yo("File"),AJ=yo("Blob"),wJ=yo("FileList"),CJ=e=>by(e)&&ni(e.pipe),MJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ni(e.append)&&((t=yy(e))==="formdata"||t==="object"&&ni(e.toString)&&e.toString()==="[object FormData]"))},TJ=yo("URLSearchParams"),EJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ev(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Mf(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(r=0;r<o;r++)s=i[r],t.call(null,e[s],s,e)}}function tG(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const nG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rG=e=>!bh(e)&&e!==nG;function yC(){const{caseless:e}=rG(this)&&this||{},t={},n=(r,a)=>{const i=e&&tG(t,a)||a;Mg(t[i])&&Mg(r)?t[i]=yC(t[i],r):Mg(r)?t[i]=yC({},r):Mf(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ev(arguments[r],n);return t}const PJ=(e,t,n,{allOwnKeys:r}={})=>(ev(t,(a,i)=>{n&&ni(a)?e[i]=Q$(a,n):e[i]=a},{allOwnKeys:r}),e),RJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),IJ=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},DJ=(e,t,n,r)=>{let a,i,o;const s={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&JT(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},LJ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},OJ=e=>{if(!e)return null;if(Mf(e))return e;let t=e.length;if(!eG(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},NJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&JT(Uint8Array)),kJ=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},BJ=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},FJ=yo("HTMLFormElement"),VJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),lD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zJ=yo("RegExp"),aG=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ev(n,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},UJ=e=>{aG(e,(t,n)=>{if(ni(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ni(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HJ=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return Mf(e)?r(e):r(String(e).split(t)),n},$J=()=>{},GJ=(e,t)=>(e=+e,Number.isFinite(e)?e:t),sx="abcdefghijklmnopqrstuvwxyz",uD="0123456789",iG={DIGIT:uD,ALPHA:sx,ALPHA_DIGIT:sx+sx.toUpperCase()+uD},WJ=(e=16,t=iG.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function jJ(e){return!!(e&&ni(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const YJ=e=>{const t=new Array(10),n=(r,a)=>{if(by(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const i=Mf(r)?[]:{};return ev(r,(o,s)=>{const l=n(o,a+1);!bh(l)&&(i[s]=l)}),t[a]=void 0,i}}return r};return n(e,0)},XJ=yo("AsyncFunction"),qJ=e=>e&&(by(e)||ni(e))&&ni(e.then)&&ni(e.catch),qe={isArray:Mf,isArrayBuffer:J$,isBuffer:mJ,isFormData:MJ,isArrayBufferView:yJ,isString:xJ,isNumber:eG,isBoolean:bJ,isObject:by,isPlainObject:Mg,isUndefined:bh,isDate:SJ,isFile:_J,isBlob:AJ,isRegExp:zJ,isFunction:ni,isStream:CJ,isURLSearchParams:TJ,isTypedArray:NJ,isFileList:wJ,forEach:ev,merge:yC,extend:PJ,trim:EJ,stripBOM:RJ,inherits:IJ,toFlatObject:DJ,kindOf:yy,kindOfTest:yo,endsWith:LJ,toArray:OJ,forEachEntry:kJ,matchAll:BJ,isHTMLForm:FJ,hasOwnProperty:lD,hasOwnProp:lD,reduceDescriptors:aG,freezeMethods:UJ,toObjectSet:HJ,toCamelCase:VJ,noop:$J,toFiniteNumber:GJ,findKey:tG,global:nG,isContextDefined:rG,ALPHABET:iG,generateString:WJ,isSpecCompliantForm:jJ,toJSONObject:YJ,isAsyncFn:XJ,isThenable:qJ};function Jt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}qe.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const oG=Jt.prototype,sG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sG[e]={value:e}});Object.defineProperties(Jt,sG);Object.defineProperty(oG,"isAxiosError",{value:!0});Jt.from=(e,t,n,r,a,i)=>{const o=Object.create(oG);return qe.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Jt.call(o,e.message,t,n,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const KJ=null;function xC(e){return qe.isPlainObject(e)||qe.isArray(e)}function lG(e){return qe.endsWith(e,"[]")?e.slice(0,-2):e}function cD(e,t,n){return e?e.concat(t).map(function(a,i){return a=lG(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function ZJ(e){return qe.isArray(e)&&!e.some(xC)}const QJ=qe.toFlatObject(qe,{},null,function(t){return/^is[A-Z]/.test(t)});function Sy(e,t,n){if(!qe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=qe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,p){return!qe.isUndefined(p[m])});const r=n.metaTokens,a=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(t);if(!qe.isFunction(a))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(qe.isDate(v))return v.toISOString();if(!l&&qe.isBlob(v))throw new Jt("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(v)||qe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,m,p){let g=v;if(v&&!p&&typeof v=="object"){if(qe.endsWith(m,"{}"))m=r?m:m.slice(0,-2),v=JSON.stringify(v);else if(qe.isArray(v)&&ZJ(v)||(qe.isFileList(v)||qe.endsWith(m,"[]"))&&(g=qe.toArray(v)))return m=lG(m),g.forEach(function(x,b){!(qe.isUndefined(x)||x===null)&&t.append(o===!0?cD([m],b,i):o===null?m:m+"[]",u(x))}),!1}return xC(v)?!0:(t.append(cD(p,m,i),u(v)),!1)}const f=[],d=Object.assign(QJ,{defaultVisitor:c,convertValue:u,isVisitable:xC});function h(v,m){if(!qe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(v),qe.forEach(v,function(g,y){(!(qe.isUndefined(g)||g===null)&&a.call(t,g,qe.isString(y)?y.trim():y,m,d))===!0&&h(g,m?m.concat(y):[y])}),f.pop()}}if(!qe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function fD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function eE(e,t){this._pairs=[],e&&Sy(e,this,t)}const uG=eE.prototype;uG.append=function(t,n){this._pairs.push([t,n])};uG.toString=function(t){const n=t?function(r){return t.call(this,r,fD)}:fD;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function JJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cG(e,t,n){if(!t)return e;const r=n&&n.encode||JJ,a=n&&n.serialize;let i;if(a?i=a(t,n):i=qe.isURLSearchParams(t)?t.toString():new eE(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){qe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const fG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eee=typeof URLSearchParams<"u"?URLSearchParams:eE,tee=typeof FormData<"u"?FormData:null,nee=typeof Blob<"u"?Blob:null,ree={isBrowser:!0,classes:{URLSearchParams:eee,FormData:tee,Blob:nee},protocols:["http","https","file","blob","url","data"]},dG=typeof window<"u"&&typeof document<"u",aee=(e=>dG&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),iee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dG,hasStandardBrowserEnv:aee,hasStandardBrowserWebWorkerEnv:iee},Symbol.toStringTag,{value:"Module"})),Ji={...oee,...ree};function see(e,t){return Sy(e,new Ji.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,i){return Ji.isNode&&qe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function lee(e){return qe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uee(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function hG(e){function t(n,r,a,i){let o=n[i++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=i>=n.length;return o=!o&&qe.isArray(a)?a.length:o,l?(qe.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!s):((!a[o]||!qe.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],i)&&qe.isArray(a[o])&&(a[o]=uee(a[o])),!s)}if(qe.isFormData(e)&&qe.isFunction(e.entries)){const n={};return qe.forEachEntry(e,(r,a)=>{t(lee(r),a,n,0)}),n}return null}function cee(e,t,n){if(qe.isString(e))try{return(t||JSON.parse)(e),qe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const tE={transitional:fG,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=qe.isObject(t);if(i&&qe.isHTMLForm(t)&&(t=new FormData(t)),qe.isFormData(t))return a?JSON.stringify(hG(t)):t;if(qe.isArrayBuffer(t)||qe.isBuffer(t)||qe.isStream(t)||qe.isFile(t)||qe.isBlob(t))return t;if(qe.isArrayBufferView(t))return t.buffer;if(qe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return see(t,this.formSerializer).toString();if((s=qe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sy(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),cee(t)):t}],transformResponse:[function(t){const n=this.transitional||tE.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(t&&qe.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Jt.from(s,Jt.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ji.classes.FormData,Blob:Ji.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],e=>{tE.headers[e]={}});const nE=tE,fee=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dee=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&fee[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},hD=Symbol("internals");function id(e){return e&&String(e).trim().toLowerCase()}function Tg(e){return e===!1||e==null?e:qe.isArray(e)?e.map(Tg):String(e)}function hee(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const vee=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lx(e,t,n,r,a){if(qe.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!qe.isString(t)){if(qe.isString(r))return t.indexOf(r)!==-1;if(qe.isRegExp(r))return r.test(t)}}function pee(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gee(e,t){const n=qe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}class _y{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(s,l,u){const c=id(l);if(!c)throw new Error("header name must be a non-empty string");const f=qe.findKey(a,c);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||l]=Tg(s))}const o=(s,l)=>qe.forEach(s,(u,c)=>i(u,c,l));return qe.isPlainObject(t)||t instanceof this.constructor?o(t,n):qe.isString(t)&&(t=t.trim())&&!vee(t)?o(dee(t),n):t!=null&&i(n,t,r),this}get(t,n){if(t=id(t),t){const r=qe.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return hee(a);if(qe.isFunction(n))return n.call(this,a,r);if(qe.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=id(t),t){const r=qe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||lx(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(o){if(o=id(o),o){const s=qe.findKey(r,o);s&&(!n||lx(r,r[s],s,n))&&(delete r[s],a=!0)}}return qe.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||lx(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return qe.forEach(this,(a,i)=>{const o=qe.findKey(r,i);if(o){n[o]=Tg(a),delete n[i];return}const s=t?pee(i):String(i).trim();s!==i&&delete n[i],n[s]=Tg(a),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return qe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&qe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[hD]=this[hD]={accessors:{}}).accessors,a=this.prototype;function i(o){const s=id(o);r[s]||(gee(a,o),r[s]=!0)}return qe.isArray(t)?t.forEach(i):i(t),this}}_y.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(_y.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});qe.freezeMethods(_y);const Zo=_y;function ux(e,t){const n=this||nE,r=t||n,a=Zo.from(r.headers);let i=r.data;return qe.forEach(e,function(s){i=s.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function vG(e){return!!(e&&e.__CANCEL__)}function tv(e,t,n){Jt.call(this,e??"canceled",Jt.ERR_CANCELED,t,n),this.name="CanceledError"}qe.inherits(tv,Jt,{__CANCEL__:!0});function mee(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Jt("Request failed with status code "+n.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const yee=Ji.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const o=[e+"="+encodeURIComponent(t)];qe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),qe.isString(r)&&o.push("path="+r),qe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xee(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bee(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pG(e,t){return e&&!xee(t)?bee(e,t):t}const See=Ji.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function a(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=a(window.location.href),function(o){const s=qe.isString(o)?a(o):o;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function _ee(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Aee(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[a]=l,r[a]=u;let f=i,d=0;for(;f!==a;)d+=n[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function vD(e,t){let n=0;const r=Aee(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,s=i-n,l=r(s),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:a};c[t?"download":"upload"]=!0,e(c)}}const wee=typeof XMLHttpRequest<"u",Cee=wee&&function(e){return new Promise(function(n,r){let a=e.data;const i=Zo.from(e.headers).normalize();let{responseType:o,withXSRFToken:s}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(qe.isFormData(a)){if(Ji.hasStandardBrowserEnv||Ji.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[m,...p]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...p].join("; "))}}let f=new XMLHttpRequest;if(e.auth){const m=e.auth.username||"",p=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+p))}const d=pG(e.baseURL,e.url);f.open(e.method.toUpperCase(),cG(d,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function h(){if(!f)return;const m=Zo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:m,config:e,request:f};mee(function(x){n(x),u()},function(x){r(x),u()},g),f=null}if("onloadend"in f?f.onloadend=h:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(h)},f.onabort=function(){f&&(r(new Jt("Request aborted",Jt.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Jt("Network Error",Jt.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let p=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const g=e.transitional||fG;e.timeoutErrorMessage&&(p=e.timeoutErrorMessage),r(new Jt(p,g.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,e,f)),f=null},Ji.hasStandardBrowserEnv&&(s&&qe.isFunction(s)&&(s=s(e)),s||s!==!1&&See(d))){const m=e.xsrfHeaderName&&e.xsrfCookieName&&yee.read(e.xsrfCookieName);m&&i.set(e.xsrfHeaderName,m)}a===void 0&&i.setContentType(null),"setRequestHeader"in f&&qe.forEach(i.toJSON(),function(p,g){f.setRequestHeader(g,p)}),qe.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),o&&o!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",vD(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",vD(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=m=>{f&&(r(!m||m.type?new tv(null,e,f):m),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const v=_ee(d);if(v&&Ji.protocols.indexOf(v)===-1){r(new Jt("Unsupported protocol "+v+":",Jt.ERR_BAD_REQUEST,e));return}f.send(a||null)})},bC={http:KJ,xhr:Cee};qe.forEach(bC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pD=e=>`- ${e}`,Mee=e=>qe.isFunction(e)||e===null||e===!1,gG={getAdapter:e=>{e=qe.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Mee(n)&&(r=bC[(o=String(n)).toLowerCase()],r===void 0))throw new Jt(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(pD).join(`
`):" "+pD(i[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:bC};function cx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tv(null,e)}function gD(e){return cx(e),e.headers=Zo.from(e.headers),e.data=ux.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gG.getAdapter(e.adapter||nE.adapter)(e).then(function(r){return cx(e),r.data=ux.call(e,e.transformResponse,r),r.headers=Zo.from(r.headers),r},function(r){return vG(r)||(cx(e),r&&r.response&&(r.response.data=ux.call(e,e.transformResponse,r.response),r.response.headers=Zo.from(r.response.headers))),Promise.reject(r)})}const mD=e=>e instanceof Zo?e.toJSON():e;function Jc(e,t){t=t||{};const n={};function r(u,c,f){return qe.isPlainObject(u)&&qe.isPlainObject(c)?qe.merge.call({caseless:f},u,c):qe.isPlainObject(c)?qe.merge({},c):qe.isArray(c)?c.slice():c}function a(u,c,f){if(qe.isUndefined(c)){if(!qe.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!qe.isUndefined(c))return r(void 0,c)}function o(u,c){if(qe.isUndefined(c)){if(!qe.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,f){if(f in t)return r(u,c);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>a(mD(u),mD(c),!0)};return qe.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=l[c]||a,d=f(e[c],t[c],c);qe.isUndefined(d)&&f!==s||(n[c]=d)}),n}const mG="1.6.7",rE={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rE[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const yD={};rE.transitional=function(t,n,r){function a(i,o){return"[Axios v"+mG+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(t===!1)throw new Jt(a(o," has been removed"+(n?" in "+n:"")),Jt.ERR_DEPRECATED);return n&&!yD[o]&&(yD[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,s):!0}};function Tee(e,t,n){if(typeof e!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const s=e[i],l=s===void 0||o(s,i,e);if(l!==!0)throw new Jt("option "+i+" must be "+l,Jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Jt("Unknown option "+i,Jt.ERR_BAD_OPTION)}}const SC={assertOptions:Tee,validators:rE},Ss=SC.validators;let tm=class{constructor(t){this.defaults=t,this.interceptors={request:new dD,response:new dD}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Jc(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&SC.assertOptions(r,{silentJSONParsing:Ss.transitional(Ss.boolean),forcedJSONParsing:Ss.transitional(Ss.boolean),clarifyTimeoutError:Ss.transitional(Ss.boolean)},!1),a!=null&&(qe.isFunction(a)?n.paramsSerializer={serialize:a}:SC.assertOptions(a,{encode:Ss.function,serialize:Ss.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&qe.merge(i.common,i[n.method]);i&&qe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Zo.concat(o,i);const s=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,f=0,d;if(!l){const v=[gD.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),d=v.length,c=Promise.resolve(n);f<d;)c=c.then(v[f++],v[f++]);return c}d=s.length;let h=n;for(f=0;f<d;){const v=s[f++],m=s[f++];try{h=v(h)}catch(p){m.call(this,p);break}}try{c=gD.call(this,h)}catch(v){return Promise.reject(v)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Jc(this.defaults,t);const n=pG(t.baseURL,t.url);return cG(n,t.params,t.paramsSerializer)}};qe.forEach(["delete","get","head","options"],function(t){tm.prototype[t]=function(n,r){return this.request(Jc(r||{},{method:t,url:n,data:(r||{}).data}))}});qe.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,s){return this.request(Jc(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tm.prototype[t]=n(),tm.prototype[t+"Form"]=n(!0)});const Eg=tm;class aE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(s=>{r.subscribe(s),i=s}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,s){r.reason||(r.reason=new tv(i,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new aE(function(a){t=a}),cancel:t}}}const Eee=aE;function Pee(e){return function(n){return e.apply(null,n)}}function Ree(e){return qe.isObject(e)&&e.isAxiosError===!0}const _C={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_C).forEach(([e,t])=>{_C[t]=e});const Iee=_C;function yG(e){const t=new Eg(e),n=Q$(Eg.prototype.request,t);return qe.extend(n,Eg.prototype,t,{allOwnKeys:!0}),qe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return yG(Jc(e,a))},n}const sr=yG(nE);sr.Axios=Eg;sr.CanceledError=tv;sr.CancelToken=Eee;sr.isCancel=vG;sr.VERSION=mG;sr.toFormData=Sy;sr.AxiosError=Jt;sr.Cancel=sr.CanceledError;sr.all=function(t){return Promise.all(t)};sr.spread=Pee;sr.isAxiosError=Ree;sr.mergeConfig=Jc;sr.AxiosHeaders=Zo;sr.formToJSON=e=>hG(qe.isHTMLForm(e)?new FormData(e):e);sr.getAdapter=gG.getAdapter;sr.HttpStatusCode=Iee;sr.default=sr;const Dee="127.0.0.1",Lee="8011",Di="http://"+Dee+(":"+Lee),An=sr.create({baseURL:Di,timeout:1e3*1e3});An.interceptors.response.use(e=>(console.log(e),localStorage.getItem("token")==null&&e.data&&e.data.status===0&&(Ze.showModal=!0),e.data.msg=="请先登录"&&e.data.status===0&&(Ze.showModal=!0),e),e=>Promise.reject(e));An.defaults.withCredentials=!0;const Oee=["innerHTML"],Nee=Ye("img",{src:QT,style:{height:"50%"}},null,-1),kee=Ye("div",{class:"text-font"},"点击任意处创建笔记",-1),Bee=[Nee,kee],Fee={__name:"NotesCard",setup(e){const t=Oe(!1),n=Oe(""),r=Oe(!1);gn(()=>{localStorage.setItem("Notes",""),Fe.history.length!==0&&An({method:"post",url:"/api/student/question/getnote",data:{qid:Fe.history[0].qid}}).then(i=>{n.value=i.data.data,r.value=i.data.data!=="",localStorage.setItem("Notes",i.data.data)})}),nt(()=>t.value,()=>{Fe.history.length!==0&&t.value===!1&&(n.value=localStorage.getItem("Notes"),An({method:"post",url:"/api/student/question/note",data:{qid:Fe.history[0].qid,note:n.value}}).then(i=>{n.value=i.data.data,r.value=i.data.data!=="",localStorage.setItem("Notes",n.value)}))}),Fn(()=>{t.value,n.value=localStorage.getItem("Notes"),r.value=localStorage.getItem("Notes")!==""});function a(){t.value=!0}return(i,o)=>{const s=We("v-card"),l=We("v-dialog");return at(),gt(tt,null,[r.value?(at(),gt("div",{key:0,class:"text-area",onClick:a},[Ye("div",{innerHTML:n.value},null,8,Oee)])):(at(),gt("div",{key:1,class:"text-area empty-area",onClick:a},Bee)),W(l,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=u=>t.value=u),width:"auto"},{default:ke(()=>[W(s,null,{default:ke(()=>[W(pJ,{initMessage:n.value},null,8,["initMessage"])]),_:1})]),_:1},8,["modelValue"])],64)}}},Vee={class:"tab-cards"},zee={__name:"SearchResultComponent",setup(e){const t=Oe(Math.random());Fn(()=>{Fe.Analyserdata,t.value=Math.random()});const n=Oe([{color:"#D0E4F1",width:"120px",height:"34px",elevation:"0",isActive:!1,title:"题目解析"},{color:"#D0E4F1",width:"120px",height:"34px",elevation:"0",isActive:!0,title:"解题步骤"},{color:"#D0E4F1",width:"120px",height:"34px",elevation:"0",isActive:!1,title:"做题笔记"}]);var r=1;const a=i=>{n.value.forEach((o,s)=>{o.isActive=s===i,r=i})};return(i,o)=>{const s=We("v-card");return at(),gt(tt,null,[Ye("div",Vee,[(at(!0),gt(tt,null,ir(n.value,(l,u)=>(at(),tn(s,{key:u,class:"color-card",color:l.isActive?"#FFFFFF":l.color,width:l.width,height:l.isActive?"39px":l.height,onClick:c=>a(u)},{default:ke(()=>[Ye("div",{class:"custom-style",style:Ii({color:l.isActive?"#000":"#8F9CA6"})},Qt(l.title),5)]),_:2},1032,["color","width","height","onClick"]))),128))]),_n((at(),tn(s,{class:"content-cards",color:"#FFFFFF",elevation:"0",key:t.value},{default:ke(()=>[W(Y$)]),_:1})),[[Ta,ft(r)===0]]),_n(W(s,{class:"content-cards",color:"#FFFFFF",elevation:"0"},{default:ke(()=>[W(q$)]),_:1},512),[[Ta,ft(r)===1]]),ft(r)===2?(at(),tn(s,{key:0,class:"content-cards",color:"#FFFFFF",elevation:"0"},{default:ke(()=>[W(Fee)]),_:1})):rl("",!0)],64)}}},Uee=lr(zee,[["__scopeId","data-v-649963fa"]]);var xG="M13,18V10L16.5,13.5L17.92,12.08L12,6.16L6.08,12.08L7.5,13.5L11,10V18H13M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z",Hee="M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z",$ee="M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z",Gee="M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z",Wee="M5,9.5L7.5,14H2.5L5,9.5M3,4H7V8H3V4M5,20A2,2 0 0,0 7,18A2,2 0 0,0 5,16A2,2 0 0,0 3,18A2,2 0 0,0 5,20M9,5V7H21V5H9M9,19H21V17H9V19M9,13H21V11H9V13Z",bG="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z",jee="M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z",Yee="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9";async function nm(){try{const r=(await An({method:"get",url:"/api/student/question/base/order"})).data.data.filter(a=>a.path!==null).slice(0,4);if(Fe.history=r,Fe.history.length>0){const i=(await An({method:"post",url:"/api/student/question/concrete",data:{qid:Fe.history[0].qid}})).data.data;Fe.title=i.questionAnswer,Fe.Analyserdata=i.questionAnswer,Fe.steps=i.questionSteps.filter(o=>o!==""),Fe.questionText=i.questionText,Fe.knowledges=i.knowledges,await SG()}}catch(e){console.log("获取历史信息失败",e)}}async function Xee(){const t=(await An({method:"post",url:"/api/student/question/concrete",data:{qid:Fe.history[0].qid}})).data.data;console.log("concreteInfo",t),Fe.title=t.questionAnswer,Fe.Analyserdata=t.questionAnswer,Fe.steps=t.questionSteps.filter(n=>n!==""),Fe.questionText=t.questionText,Fe.knowledges=t.knowledges}async function SG(){An({method:"get",url:"/api/student/question/communication",params:{qid:Fe.history[0].qid}}).then(function(e){Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}})}).catch(function(e){console.error("发送失败",e)}),localStorage.setItem("renderedFormula","")}const qee=async e=>An({method:"post",url:"/api/student/bigModel",data:e,headers:{"Content-Type":"multipart/form-data"}}).then(t=>{if(t.data.status===1){const n=t.data.data;Fe.qid=n.basicQuestion.qid,Fe.title=n.basicQuestion.questionText,Fe.Analyserdata=n.concreteQuestion.questionAnalysis,Fe.questionAnswer=n.concreteQuestion.questionAnswer,Fe.steps=n.concreteQuestion.questionSteps,Fe.knowledges=n.concreteQuestion.knowledges,Fe.dialogueArray=[]}return console.log(Fe),Ze.dialogVisible=!1,nm()}).catch(t=>{console.error(t),Ze.dialogVisible=!1}),Kee=async e=>An({method:"post",url:"/api/student/bigModel/wrongAnswer",data:e,headers:{"Content-Type":"multipart/form-data"}}).then(()=>{Ze.dialogVisible=!1}).catch(t=>{console.error(t),Ze.dialogVisible=!1}),xD={mdi:{size:24,viewbox:"0 0 24 24"},"simple-icons":{size:24,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},Zee={name:"icon",props:{type:String,path:{type:String,required:!0},size:{type:[String,Number],default:24},viewbox:String,flip:{type:String,validator:e=>["horizontal","vertical","both","none"].includes(e)},rotate:{type:Number,default:0}},computed:{styles(){return{"--sx":["both","horizontal"].includes(this.flip)?"-1":"1","--sy":["both","vertical"].includes(this.flip)?"-1":"1","--r":isNaN(this.rotate)?this.rotate:this.rotate+"deg"}},defaults(){return xD[this.type]||xD.default},sizeValue(){return this.size||this.defaults.size},viewboxValue(){return this.viewbox||this.defaults.viewbox}}},Qee=["width","height","viewBox"],Jee=["d"];function ete(e,t,n,r,a,i){return at(),gt("svg",{width:i.sizeValue,height:i.sizeValue,viewBox:i.viewboxValue,style:Ii(i.styles)},[Ye("path",{d:n.path},null,8,Jee)],12,Qee)}const Qo=lr(Zee,[["render",ete],["__scopeId","data-v-76aa6b74"]]),tte=["onClick"],nte={class:"card-content"},rte={__name:"UploadPicComponent",setup(e){const t=Oe(null),n=Oe(null),r=Oe("@/images/empty-picture/no_data.svg"),a=ie(()=>Fe.history.length===0?[{path:"/src/images/empty-picture/no_search.svg"},{path:"/src/images/empty-picture/no_search.svg"},{path:"/src/images/empty-picture/no_search.svg"}]:Fe.history.slice(1,4)),i=ie(()=>Fe.history.length===0?{path:"/src/images/empty-picture/no_search.svg"}:Fe.history[0]);function o(f){Fe.history.unshift(Fe.history.splice(f+1,1)[0]),SG(),Xee()}function s(){t.value.click()}function l(){Ze.DraggableDialogVisible=!0,An({method:"get",url:"/api/student/question/position/details",data:{position:Fe.position},headers:{"Content-Type":"multipart/form-data"}}).then(f=>{f.data.status===1&&f.data.data.forEach(d=>{d.classification&&console.log("找到了classification属性:",d.classification)})}).catch(f=>{console.error(f)})}function u(f){n.value=f.target.files[0],c()}function c(){let f=new FormData;f.append("question",n.value);let d=new FormData;switch(d.append("wrongAnswer",n.value),d.append("qid",Fe.history[0].qid),Ze.dialogVisible=!0,Ze.warntitle="让小沐想想看哈~",console.log(Ze.chatModel),Ze.chatModel){case 2:Kee(d);break;default:qee(f);break}}return(f,d)=>{const h=We("v-img"),v=We("v-card"),m=We("v-btn");return at(),gt(tt,null,[W(v,{class:"card-small",elevation:"0",color:"#F7F9F9"},{default:ke(()=>[(at(!0),gt(tt,null,ir(a.value,(p,g)=>(at(),gt("div",{class:"card-grid",key:g,onClick:y=>o(g),style:{height:"33%"}},[W(h,{class:"grid-image",cover:"",src:p.path,"lazy-src":r.value,"max-width":"500"},null,8,["src","lazy-src"])],8,tte))),128))]),_:1}),W(v,{class:"card-large",elevation:"0"},{default:ke(()=>[Ye("div",nte,[W(h,{class:"large-image",cover:"",src:i.value.path,"lazy-src":r.value,"max-width":"500"},null,8,["src","lazy-src"]),W(m,{class:Ja(["compact-button","icon-button"]),icon:"mdi-format-list-bulleted",style:{position:"absolute",bottom:"20px",right:"20px"},size:"small",onClick:d[0]||(d[0]=p=>s())},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft($ee),class:"icon-svg",color:"rgb(32, 129, 195)"},null,8,["path"])]),_:1}),W(m,{class:Ja(["compact-button","icon-button"]),icon:"mdi-format-list-bulleted",style:{position:"absolute",bottom:"20px",right:"75px"},size:"small",onClick:d[1]||(d[1]=p=>l())},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(Hee),class:"icon-svg",color:"rgb(32, 129, 195)"},null,8,["path"])]),_:1})])]),_:1}),Ye("input",{type:"file",accept:"image/*",ref_key:"docFileUploader",ref:t,name:"docFileUploader",onChange:u,hidden:""},null,544)],64)}}},fx=lr(rte,[["__scopeId","data-v-d89083ca"]]),ate={class:"prompts_container"},ite={key:0,class:"prompts_btn"},ote={class:"chip-around"},ste={key:0,class:"prompts_btn2"},lte={class:"chip-around"},ute={__name:"ChipGroupComponent",emits:["addToTextArea"],setup(e,{emit:t}){const n=t,r=ie(()=>[...Fe.knowledges,...Fe.knowledges]);function a(s){n("addToTextArea",s)}function i(s){return"#"+o[s%o.length]}var o=["A1C9E3","2081C3","BED8D4"];return(s,l)=>{const u=We("v-btn"),c=We("v-chip-group"),f=We("v-sheet"),d=We("v-col"),h=We("v-row");return at(),gt("div",ate,[W(h,{justify:"space-around"},{default:ke(()=>[W(d,{cols:"auto"},{default:ke(()=>[W(f,{elevation:"0",class:"py-4 px-1",style:{padding:"0 !important"}},{default:ke(()=>[W(c,{elevation:"0",class:"py-4 px-1",style:{"padding-bottom":"0 !important"}},{default:ke(()=>[r.value!=null?(at(),gt("div",ite,[(at(!0),gt(tt,null,ir(r.value,(v,m)=>(at(),tn(u,{color:i(m),elevation:"0",rounded:"",style:{margin:"0 10px"},onClick:p=>a(v)},{default:ke(()=>[Ye("span",ote,Qt(v),1)]),_:2},1032,["color","onClick"]))),256))])):rl("",!0)]),_:1})]),_:1}),W(f,{elevation:"0",class:"py-4 px-1",style:{padding:"0 !important"}},{default:ke(()=>[W(c,{elevation:"0",class:"py-4 px-1",style:{"padding-bottom":"0 !important"}},{default:ke(()=>[r.value!=null?(at(),gt("div",ste,[(at(!0),gt(tt,null,ir(r.value,(v,m)=>(at(),tn(u,{color:i(m),elevation:"0",rounded:"",style:{margin:"0 10px"},onClick:p=>a(v)},{default:ke(()=>[Ye("span",lte,Qt(v),1)]),_:2},1032,["color","onClick"]))),256))])):rl("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])}}},_G=lr(ute,[["__scopeId","data-v-9bad0df8"]]),cte={},fte={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 120 120",fill:"none"},dte=C$('<path d="M45.9502 69.85V33.85L73.9252 17.7C89.4252 8.75 117.175 30.825 105.525 51.025" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path><path d="M45.9502 52.35L77.1252 34.35L105.1 50.5C120.6 59.45 115.35 94.525 92.0252 94.525" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path><path d="M61.1 43.6L92.275 61.6V93.925C92.275 111.825 59.275 124.825 47.625 104.625" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path><path d="M76.2499 53V88.35L48.2749 104.5C32.7749 113.45 5.02489 91.375 16.6749 71.175" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path><path d="M76.25 69.85L45.075 87.85L17.1 71.7C1.57497 62.725 6.82497 27.675 30.15 27.675" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path><path d="M61.0998 78.6L29.9248 60.6V28.275C29.9248 10.375 62.9248 -2.625 74.5748 17.575" stroke="#2081C3" stroke-opacity="0.89" stroke-width="6" stroke-linejoin="round"></path>',6),hte=[dte];function vte(e,t){return at(),gt("svg",fte,hte)}const Ay=lr(cte,[["render",vte]]);function pte(e,t){const n="btn-ok";function r(){const i=t.latex.text();return e.txt.append("<p>"+i+"</p>"),!0}return{width:660,height:0,tabs:[{title:"插入数学公式",tpl:`<div>
                <div id="edit-content"></div>
                <div class="w-e-button-container">
                  <button type="button" id="${n}" class="right">插入</button>
                </div>
              </div>`,events:[{selector:"#"+n,type:"click",fn:r,bindEnter:!0}]}]}}const{PanelMenu:gte,Panel:mte}=Cf;class yte extends gte{constructor(t){const n=Cf.$(`<div class="w-e-menu" data-title="数学公式">
        <span>公式</span>
      </div>`);super(n,t)}clickHandler(){const t=new Z$,n=pte(this.editor,t);new mte(this,n).create(),t.create("#edit-content")}tryChangeActive(){}}const xte=e=>(po("data-v-eb93b636"),e=e(),go(),e),bte={class:"formula-container"},Ste={id:"formula",class:"formula-content"},_te=xte(()=>Ye("div",{class:"editor-area"},[Ye("div",{id:"wang-editor",class:"editor"})],-1)),Ate={__name:"EditableArea",props:{initMessage:{type:String,default:""}},setup(e){const t=e;Fn(()=>{t.initMessage});const n=Oe(null),r=Oe("");function a(){localStorage.setItem("renderedFormula",r.value)}function i(){r.value=n.value.txt.text(),Ht(a)}return gn(()=>{n.value=new Cf("#wang-editor"),n.value.menus.extend("LatexTextRender",yte),n.value.config.height=360,n.value.config.menus=["head","bold","underline","strikeThrough","emoticon","undo","redo","LatexTextRender"],n.value.config.onchange=i,n.value.config.onchangeTimeout=500,n.value.create(),n.value.txt.html(t.initMessage)}),(o,s)=>{const l=We("v-card");return at(),gt("div",bte,[W(l,{elevation:"0",class:"formula-card",title:"输出区域",subtitle:"Output"},{default:ke(()=>[Ye("div",Ste,Qt(r.value?`$${r.value}$`:""),1)]),_:1}),_te])}}},AG=lr(Ate,[["__scopeId","data-v-eb93b636"]]),rm={__name:"ChatComponent",props:{userMessage:{type:String,default:""},userName:{type:String,default:""},userInfo:{type:String,default:""},avatarSrc:{type:String,default:""}},setup(e){const t=e;return(n,r)=>{const a=We("v-avatar"),i=We("v-list-item-title"),o=We("v-list-item-subtitle"),s=We("v-list-item"),l=We("v-card-actions"),u=We("v-card-subtitle"),c=We("v-card");return at(),tn(c,{class:"card-container inner-card-1",color:"#FFF",elevation:"0"},{default:ke(()=>[W(l,null,{default:ke(()=>[W(s,{class:"w-100"},{prepend:ke(()=>[t.userName=="user"?(at(),tn(a,{key:0,color:"grey-darken-3",image:"https://avataaars.io/?avatarStyle=Transparent&topType=ShortHairShortCurly&accessoriesType=Prescription02&hairColor=Black&facialHairType=Blank&clotheType=Hoodie&clotheColor=White&eyeType=Default&eyebrowType=DefaultNatural&mouthType=Default&skinColor=Light"})):(at(),tn(a,{key:1,color:"grey-lignt-3"},{default:ke(()=>[W(Ay)]),_:1}))]),default:ke(()=>[W(i,null,{default:ke(()=>[Lt(Qt(t.userName=="user"?t.userName:"ChatGPT"),1)]),_:1}),W(o,null,{default:ke(()=>[Lt(Qt(t.userName=="user"?t.userInfo:"沐斯慧教AI大模型"),1)]),_:1})]),_:1})]),_:1}),W(u,{style:{"white-space":"normal","font-size":"1.1rem","line-height":"2rem"}},{default:ke(()=>[Lt(Qt(t.userMessage),1)]),_:1})]),_:1})}}};var wG={exports:{}};(function(e){(function(t){var n=typeof window=="object"&&!!window.document,r=n?window:Object;t(r,n),e.exports&&(e.exports=r.Recorder)})(function(t,n){var r=function(){},a=function(k){return typeof k=="number"},i=function(k){return new I(k)},o=i.LM="2024-04-09 19:15",s="https://github.com/xiangyuecn/Recorder",l="Recorder",u="getUserMedia",c="srcSampleRate",f="sampleRate",d="bitRate",h="catch",v=t[l];if(v&&v.LM==o){v.CLog(v.i18n.$T("K8zP::重复导入{1}",0,l),3);return}i.IsOpen=function(){var k=i.Stream;if(k){var V=k.getTracks&&k.getTracks()||k.audioTracks||[],L=V[0];if(L){var O=L.readyState;return O=="live"||O==L.LIVE}}return!1},i.BufferSize=4096,i.Destroy=function(){E(l+" Destroy"),M();for(var k in m)m[k]()};var m={};i.BindDestroy=function(k,V){m[k]=V},i.Support=function(){if(!n)return!1;var k=navigator.mediaDevices||{};return k[u]||(k=navigator,k[u]||(k[u]=k.webkitGetUserMedia||k.mozGetUserMedia||k.msGetUserMedia)),!(!k[u]||(i.Scope=k,!i.GetContext()))},i.GetContext=function(k){if(!n)return null;var V=window.AudioContext;if(V||(V=window.webkitAudioContext),!V)return null;var L=i.Ctx;if((!L||L.state=="closed")&&(L=i.Ctx=new V,i.NewCtxs=i.NewCtxs||[],i.BindDestroy("Ctx",function(){var O=i.Ctx;O&&O.close&&(p(O),i.Ctx=0);var H=i.NewCtxs;i.NewCtxs=[];for(var j=0;j<H.length;j++)p(H[j])})),k&&L.close)try{L=new V,i.NewCtxs.push(L)}catch(O){E("GetContext tryNew Error",1,O)}return L},i.CloseNewCtx=function(k){if(k&&k!=i.Ctx){p(k);for(var V=i.NewCtxs||[],L=V.length,O=0;O<V.length;O++)if(V[O]==k){V.splice(O,1);break}E(U("mSxV::剩{1}个GetContext未close",0,L+"-1="+V.length),V.length?3:0)}};var p=function(k){if(k&&k.close){k._isC=1;try{k.close()}catch(V){E("ctx close err",1,V)}}},g=i.ResumeCtx=function(k,V,L,O){var H=0,j=0,Y=0,X=0,Q="EventListener",K="ResumeCtx ",Z=function(ue,se){j&&te(),H||(H=1,ue&&O(ue,X),se&&L(X)),se&&(!k._LsSC&&k["add"+Q]&&k["add"+Q]("statechange",oe),k._LsSC=1,Y=1)},te=function(ue){if(!(ue&&j)){j=ue?1:0;for(var se=["focus","mousedown","mouseup","touchstart","touchend"],me=0;me<se.length;me++)window[(ue?"add":"remove")+Q](se[me],oe,!0)}},oe=function(){var ue=k.state,se=y(ue);if(!H&&!V(se?++X:X))return Z();se?(Y&&E(K+"sc "+ue,3),te(1),k.resume().then(function(){Y&&E(K+"sc "+k.state),Z(0,1)})[h](function(me){E(K+"error",1,me),y(k.state)||Z(me.message||"error")})):ue=="closed"?(Y&&!k._isC&&E(K+"sc "+ue,1),Z("ctx closed")):Z(0,1)};oe()},y=i.CtxSpEnd=function(k){return k=="suspended"||k=="interrupted"},x=function(k){var V=k.state,L="ctx.state="+V;return y(V)&&(L+=U("nMIy::（注意：ctx不是running状态，rec.open和start至少要有一个在用户操作(触摸、点击等)时进行调用，否则将在rec.start时尝试进行ctx.resume，可能会产生兼容性问题(仅iOS)，请参阅文档中runningContext配置）")),L},b="ConnectEnableWebM";i[b]=!0;var A="ConnectEnableWorklet";i[A]=!1;var S=function(k,V){var L=k.BufferSize||i.BufferSize,O=k.Stream,H=O._RC||O._c||i.GetContext(!0);O._c=H;var j=function(he){var pe=O._m=H.createMediaStreamSource(O),ye=H.destination,ge="createMediaStreamDestination";H[ge]&&(ye=O._d=H[ge]()),pe.connect(he),he.connect(ye)},Y,X,Q,K="",Z=O._call,te=function(he){for(var pe in Z){for(var ye=he.length,ge=new Int16Array(ye),Ce=0,xe=0;xe<ye;xe++){var be=Math.max(-1,Math.min(1,he[xe]));be=be<0?be*32768:be*32767,ge[xe]=be,Ce+=Math.abs(be)}for(var _e in Z)Z[_e](ge,Ce);return}},oe="ScriptProcessor",ue="audioWorklet",se=l+" "+ue,me="RecProc",re="MediaRecorder",q=re+".WebM.PCM",ae=H.createScriptProcessor||H.createJavaScriptNode,ce=U("ZGlf::。由于{1}内部1秒375次回调，在移动端可能会有性能问题导致回调丢失录音变短，PC端无影响，暂不建议开启{1}。",0,ue),ee=function(){X=O.isWorklet=!1,w(O),E(U("7TU0::Connect采用老的{1}，",0,oe)+N.get(i[A]?U("JwCL::但已设置{1}尝试启用{2}",2):U("VGjB::可设置{1}尝试启用{2}",2),[l+"."+A+"=true",ue])+K+ce,3);var he=O._p=ae.call(H,L,1,1);j(he),he.onaudioprocess=function(pe){var ye=pe.inputBuffer.getChannelData(0);te(ye)}},ne=function(){Y=O.isWebM=!1,C(O),X=O.isWorklet=!ae||i[A];var he=window.AudioWorkletNode;if(!(X&&H[ue]&&he)){ee();return}var pe=function(){var be=function(Ee){return Ee.toString().replace(/^function|DEL_/g,"").replace(/\$RA/g,se)},_e="class "+me+" extends AudioWorkletProcessor{";return _e+="constructor "+be(function(Ee){DEL_super(Ee);var Pe=this,Ne=Ee.processorOptions.bufferSize;Pe.bufferSize=Ne,Pe.buffer=new Float32Array(Ne*2),Pe.pos=0,Pe.port.onmessage=function(J){J.data.kill&&(Pe.kill=!0,$C.log("$RA kill call"))},$C.log("$RA .ctor call",Ee)}),_e+="process "+be(function(Ee,Pe,Ne){var J=this,Ae=J.bufferSize,Se=J.buffer,Te=J.pos;if(Ee=(Ee[0]||[])[0]||[],Ee.length){Se.set(Ee,Te),Te+=Ee.length;var De=~~(Te/Ae)*Ae;if(De){this.port.postMessage({val:Se.slice(0,De)});var Ke=Se.subarray(De,Te);Se=new Float32Array(Ae*2),Se.set(Ke),Te=Ke.length,J.buffer=Se}J.pos=Te}return!J.kill}),_e+='}try{registerProcessor("'+me+'", '+me+')}catch(e){$C.error("'+se+' Reg Error",e)}',_e=_e.replace(/\$C\./g,"console."),"data:text/javascript;base64,"+btoa(unescape(encodeURIComponent(_e)))},ye=function(){return X&&O._na},ge=O._na=function(){Q!==""&&(clearTimeout(Q),Q=setTimeout(function(){Q=0,ye()&&(E(U("MxX1::{1}未返回任何音频，恢复使用{2}",0,ue,oe),3),ae&&ee())},500))},Ce=function(){if(ye()){var be=O._n=new he(H,me,{processorOptions:{bufferSize:L}});j(be),be.port.onmessage=function(_e){Q&&(clearTimeout(Q),Q=""),ye()?te(_e.data.val):X||E(U("XUap::{1}多余回调",0,ue),3)},E(U("yOta::Connect采用{1}，设置{2}可恢复老式{3}",0,ue,l+"."+A+"=false",oe)+K+ce,3)}},xe=function(){if(ye()){if(H[me]){Ce();return}var be=pe();H[ue].addModule(be).then(function(_e){ye()&&(H[me]=1,Ce(),Q&&ge())})[h](function(_e){E(ue+".addModule Error",1,_e),ye()&&ee()})}};g(H,function(){return ye()},xe,xe)},le=function(){var he=window[re],pe="ondataavailable",ye="audio/webm; codecs=pcm";Y=O.isWebM=i[b];var ge=he&&pe in he.prototype&&he.isTypeSupported(ye);if(K=ge?"":U("VwPd::（此浏览器不支持{1}）",0,q),!V||!Y||!ge){ne();return}var Ce=function(){return Y&&O._ra};O._ra=function(){Q!==""&&(clearTimeout(Q),Q=setTimeout(function(){Ce()&&(E(U("vHnb::{1}未返回任何音频，降级使用{2}",0,re,ue),3),ne())},500))};var xe=Object.assign({mimeType:ye},i.ConnectWebMOptions),be=O._r=new he(O,xe),_e=O._rd={sampleRate:H[f]};be[pe]=function(Ee){var Pe=new FileReader;Pe.onloadend=function(){if(Ce()){var Ne=D(new Uint8Array(Pe.result),_e);if(!Ne)return;if(Ne==-1){ne();return}Q&&(clearTimeout(Q),Q=""),te(Ne)}else Y||E(U("O9P7::{1}多余回调",0,re),3)},Pe.readAsArrayBuffer(Ee.data)},be.start(~~(L/48)),E(U("LMEm::Connect采用{1}，设置{2}可恢复使用{3}或老式{4}",0,q,l+"."+b+"=false",ue,oe))};le()},_=function(k){k._na&&k._na(),k._ra&&k._ra()},w=function(k){k._na=null,k._n&&(k._n.port.postMessage({kill:!0}),k._n.disconnect(),k._n=null)},C=function(k){if(k._ra=null,k._r){try{k._r.stop()}catch(V){E("mr stop err",1,V)}k._r=null}},M=function(k){k=k||i;var V=k==i,L=k.Stream;L&&(L._m&&(L._m.disconnect(),L._m=null),!L._RC&&L._c&&i.CloseNewCtx(L._c),L._RC=null,L._c=null,L._d&&(T(L._d.stream),L._d=null),L._p&&(L._p.disconnect(),L._p.onaudioprocess=L._p=null),w(L),C(L),V&&T(L)),k.Stream=0},T=i.StopS_=function(k){for(var V=k.getTracks&&k.getTracks()||k.audioTracks||[],L=0;L<V.length;L++){var O=V[L];O.stop&&O.stop()}k.stop&&k.stop()};i.SampleData=function(k,V,L,O,H){var j="SampleData";O||(O={});var Y=O.index||0,X=O.offset||0,Q=O.filter;if(Q&&Q.fn&&Q.sr!=V&&(Q=null,E(U("d48C::{1}的filter采样率变了，重设滤波",0,j),3)),!Q){var K=L>V*3/4?0:L/2*3/4;Q={fn:K?i.IIRFilter(!0,V,K):0}}Q.sr=V;var Z=Q.fn,te=O.frameNext||[];H||(H={});var oe=H.frameSize||1;H.frameType&&(oe=H.frameType=="mp3"?1152:1);var ue=k.length;Y>ue+1&&E(U("tlbC::{1}似乎传入了未重置chunk {2}",0,j,Y+">"+ue),3);for(var se=0,me=Y;me<ue;me++)se+=k[me].length;se=Math.max(0,se-Math.floor(X));var re=V/L;re>1?se=Math.floor(se/re):(re=1,L=V),se+=te.length;for(var q=new Int16Array(se),ae=0,me=0;me<te.length;me++)q[ae]=te[me],ae++;for(;Y<ue;Y++){for(var ce=k[Y],me=X,ee=ce.length,ne=Z&&Z.Embed,le=0,he=0,pe=0,ye=0,ge=0,Ce=0;ge<ee;ge++,Ce++){if(Ce<ee&&(ne?(pe=ce[Ce],ye=ne.b0*pe+ne.b1*ne.x1+ne.b0*ne.x2-ne.a1*ne.y1-ne.a2*ne.y2,ne.x2=ne.x1,ne.x1=pe,ne.y2=ne.y1,ne.y1=ye):ye=Z?Z(ce[Ce]):ce[Ce]),le=he,he=ye,Ce==0){ge--;continue}var xe=Math.floor(me);if(ge==xe){var be=Math.ceil(me),_e=me-xe,Ee=le,Pe=be<ee?he:Ee,Ne=Ee+(Pe-Ee)*_e;Ne>32767?Ne=32767:Ne<-32768&&(Ne=-32768),q[ae]=Ne,ae++,me+=re}}X=Math.max(0,me-ee)}te=null;var J=q.length%oe;if(J>0){var Ae=(q.length-J)*2;te=new Int16Array(q.buffer.slice(Ae)),q=new Int16Array(q.buffer.slice(0,Ae))}return{index:Y,offset:X,filter:Q,frameNext:te,sampleRate:L,data:q}},i.IIRFilter=function(k,V,L){var O=2*Math.PI*L/V,H=Math.sin(O),j=Math.cos(O),Y=H/2,X=1+Y,Q=-2*j/X,K=(1-Y)/X;if(k)var Z=(1-j)/2/X,te=(1-j)/X;else var Z=(1+j)/2/X,te=-(1+j)/X;var oe=0,ue=0,se=0,me=0,re=0,q=function(ae){return se=Z*ae+te*oe+Z*ue-Q*me-K*re,ue=oe,oe=ae,re=me,me=se,se};return q.Embed={x1:0,x2:0,y1:0,y2:0,b0:Z,b1:te,a1:Q,a2:K},q},i.PowerLevel=function(k,V){var L=k/V||0,O;return L<1251?O=Math.round(L/1250*10):O=Math.round(Math.min(100,Math.max(0,(1+Math.log(L/1e4)/Math.log(10))*100))),O},i.PowerDBFS=function(k){var V=Math.max(.1,k||0),L=32767;return V=Math.min(V,L),V=20*Math.log(V/L)/Math.log(10),Math.max(-100,Math.round(V))},i.CLog=function(k,V){if(typeof console=="object"){var L=new Date,O=("0"+L.getMinutes()).substr(-2)+":"+("0"+L.getSeconds()).substr(-2)+"."+("00"+L.getMilliseconds()).substr(-3),H=this&&this.envIn&&this.envCheck&&this.id,j=["["+O+" "+l+(H?":"+H:"")+"]"+k],Y=arguments,X=i.CLog,Q=2,K=X.log||console.log;for(a(V)?K=V==1?X.error||console.error:V==3?X.warn||console.warn:K:Q=1;Q<Y.length;Q++)j.push(Y[Q]);P?K&&K("[IsLoser]"+j[0],j.length>1?j:""):K.apply(console,j)}};var E=function(){i.CLog.apply(this,arguments)},P=!0;try{P=!console.log.apply}catch{}var R=0;function I(k){var V=this;V.id=++R,$();var L={type:"mp3",onProcess:r};for(var O in k)L[O]=k[O];V.set=L;var H=L[d],j=L[f];(H&&!a(H)||j&&!a(j))&&V.CLog(U.G("IllegalArgs-1",[U("VtS4::{1}和{2}必须是数值",0,f,d)]),1,k),L[d]=+H||16,L[f]=+j||16e3,V.state=0,V._S=9,V.Sync={O:9,C:9}}i.Sync={O:9,C:9},i.prototype=I.prototype={CLog:E,_streamStore:function(){return this.set.sourceStream?this:i},_streamCtx:function(){var k=this._streamStore().Stream;return k&&k._c},open:function(k,V){var L=this,O=L.set,H=L._streamStore(),j=0;k=k||r;var Y=function(ne,le){le=!!le,L.CLog(U("5tWi::录音open失败：")+ne+",isUserNotAllow:"+le,1),j&&i.CloseNewCtx(j),V&&V(ne,le)};L._streamTag=u;var X=function(){L.CLog("open ok, id:"+L.id+" stream:"+L._streamTag),k(),L._SO=0},Q=H.Sync,K=++Q.O,Z=Q.C;L._O=L._O_=K,L._SO=L._S;var te=function(){if(Z!=Q.C||!L._O){var ne=U("dFm8::open被取消");return K==Q.O?L.close():ne=U("VtJO::open被中断"),Y(ne),!0}};if(!n){Y(U.G("NonBrowser-1",["open"])+U("EMJq::，可尝试使用RecordApp解决方案")+"("+s+"/tree/master/app-support-sample)");return}var oe=L.envCheck({envName:"H5",canProcess:!0});if(oe){Y(U("A5bm::不能录音：")+oe);return}if(O.sourceStream){if(L._streamTag="set.sourceStream",!i.GetContext()){Y(U("1iU7::不支持此浏览器从流中获取录音"));return}M(H);var ue=L.Stream=O.sourceStream;ue._RC=O.runningContext,ue._call={};try{S(H)}catch(ne){M(H),Y(U("BTW2::从流中打开录音失败：")+ne.message);return}X();return}var se=function(ne,le){try{window.top.a}catch{Y(U("Nclz::无权录音(跨域，请尝试给iframe添加麦克风访问策略，如{1})",0,'allow="camera;microphone"'));return}/Permission|Allow/i.test(ne)?Y(U("gyO5::用户拒绝了录音权限"),!0):window.isSecureContext===!1?Y(U("oWNo::浏览器禁止不安全页面录音，可开启https解决")):/Found/i.test(ne)?Y(le+U("jBa9::，无可用麦克风")):Y(le)};if(i.IsOpen()){X();return}if(!i.Support()){se("",U("COxc::此浏览器不支持录音"));return}var me=O.runningContext;me||(me=j=i.GetContext(!0));var re=function(ne){setTimeout(function(){ne._call={};var le=i.Stream;le&&(M(),ne._call=le._call),i.Stream=ne,ne._c=me,ne._RC=O.runningContext,!te()&&(i.IsOpen()?(le&&L.CLog(U("upb8::发现同时多次调用open"),1),S(H,1),X()):Y(U("Q1GA::录音功能无效：无音频流")))},100)},q=function(ne){var le=ne.name||ne.message||ne.code+":"+ne;L.CLog(U("xEQR::请求录音权限错误"),1,ne),se(le,U("bDOG::无法录音：")+le)},ae=O.audioTrackSet||{};ae[f]=me[f];var ce={audio:ae};try{var ee=i.Scope[u](ce,re,q)}catch(ne){L.CLog(u,3,ne),ce={audio:!0},ee=i.Scope[u](ce,re,q)}L.CLog(u+"("+JSON.stringify(ce)+") "+x(me)+U("RiWe::，未配置noiseSuppression和echoCancellation时浏览器可能会自动打开降噪和回声消除，移动端可能会降低系统播放音量（关闭录音后可恢复），请参阅文档中audioTrackSet配置")+"("+s+") LM:"+o+" UA:"+navigator.userAgent),ee&&ee.then&&ee.then(re)[h](q)},close:function(k){k=k||r;var V=this,L=V._streamStore();V._stop();var O=" stream:"+V._streamTag,H=L.Sync;if(V._O=0,V._O_!=H.O){V.CLog(U("hWVz::close被忽略（因为同时open了多个rec，只有最后一个会真正close）")+O,3),k();return}H.C++,M(L),V.CLog("close,"+O),k()},mock:function(k,V){var L=this;return L._stop(),L.isMock=1,L.mockEnvInfo=null,L.buffers=[k],L.recSize=k.length,L._setSrcSR(V),L._streamTag="mock",L},_setSrcSR:function(k){var V=this,L=V.set,O=L[f];O>k?L[f]=k:O=0,V[c]=k,V.CLog(c+": "+k+" set."+f+": "+L[f]+(O?" "+U("UHvm::忽略")+": "+O:""),O?3:0)},envCheck:function(k){var V,L=this,O=L.set,H="CPU_BE";if(!V&&!i[H]&&typeof Int8Array=="function"&&!new Int8Array(new Int32Array([1]).buffer)[0]&&($(H),V=U("Essp::不支持{1}架构",0,H)),!V){var j=O.type,Y=L[j+"_envCheck"];O.takeoffEncodeChunk&&(Y?k.canProcess||(V=U("7uMV::{1}环境不支持实时处理",0,k.envName)):V=U("2XBl::{1}类型不支持设置takeoffEncodeChunk",0,j)+(L[j]?"":U("LG7e::(未加载编码器)"))),!V&&Y&&(V=L[j+"_envCheck"](k,O))}return V||""},envStart:function(k,V){var L=this,O=L.set;if(L.isMock=k?1:0,L.mockEnvInfo=k,L.buffers=[],L.recSize=0,k&&(L._streamTag="env$"+k.envName),L.state=1,L.envInLast=0,L.envInFirst=0,L.envInFix=0,L.envInFixTs=[],L._setSrcSR(V),L.engineCtx=0,L[O.type+"_start"]){var H=L.engineCtx=L[O.type+"_start"](O);H&&(H.pcmDatas=[],H.pcmSize=0)}},envResume:function(){this.envInFixTs=[]},envIn:function(k,V){var L=this,O=L.set,H=L.engineCtx;if(L.state!=1){L.state||L.CLog("envIn at state=0",3);return}var j=L[c],Y=k.length,X=i.PowerLevel(V,Y),Q=L.buffers,K=Q.length;Q.push(k);var Z=Q,te=K,oe=Date.now(),ue=Math.round(Y/j*1e3);L.envInLast=oe,L.buffers.length==1&&(L.envInFirst=oe-ue);var se=L.envInFixTs;se.splice(0,0,{t:oe,d:ue});for(var me=oe,re=0,q=0;q<se.length;q++){var ae=se[q];if(oe-ae.t>3e3){se.length=q;break}me=ae.t,re+=ae.d}var ce=se[1],ee=oe-me,ne=ee-re;if(ne>ee/3&&(ce&&ee>1e3||se.length>=6)){var le=oe-ce.t-ue;if(le>ue/5){var he=!O.disableEnvInFix;if(L.CLog("["+oe+"]"+N.get(U(he?"4Kfd::补偿{1}ms":"bM5i::未补偿{1}ms",1),[le]),3),L.envInFix+=le,he){var pe=new Int16Array(le*j/1e3);Y+=pe.length,Q.push(pe)}}}var ye=L.recSize,ge=Y,Ce=ye+ge;if(L.recSize=Ce,H){var xe=i.SampleData(Q,j,O[f],H.chunkInfo);H.chunkInfo=xe,ye=H.pcmSize,ge=xe.data.length,Ce=ye+ge,H.pcmSize=Ce,Q=H.pcmDatas,K=Q.length,Q.push(xe.data),j=xe[f]}var be=Math.round(Ce/j*1e3),_e=Q.length,Ee=Z.length,Pe=function(){for(var Te=Ne?0:-ge,De=Q[0]==null,Ke=K;Ke<_e;Ke++){var rt=Q[Ke];rt==null?De=1:(Te+=rt.length,H&&rt.length&&L[O.type+"_encode"](H,rt))}if(De&&H){var Ke=te;for(Z[0]&&(Ke=0);Ke<Ee;Ke++)Z[Ke]=null}De&&(Te=Ne?ge:0,Q[0]=null),H?H.pcmSize+=Te:L.recSize+=Te},Ne=0,J="rec.set.onProcess";try{Ne=O.onProcess(Q,X,be,j,K,Pe)}catch(Te){console.error(J+U("gFUF::回调出错是不允许的，需保证不会抛异常"),Te)}var Ae=Date.now()-oe;if(Ae>10&&L.envInFirst-oe>1e3&&L.CLog(J+U("2ghS::低性能，耗时{1}ms",0,Ae),3),Ne===!0){for(var Se=0,q=K;q<_e;q++)Q[q]==null?Se=1:Q[q]=new Int16Array(0);Se?L.CLog(U("ufqH::未进入异步前不能清除buffers"),3):H?H.pcmSize-=ge:L.recSize-=ge}else Pe()},start:function(){var k=this,V=1;if(k.set.sourceStream?k.Stream||(V=0):i.IsOpen()||(V=0),!V){k.CLog(U("6WmN::start失败：未open"),1);return}var L=k._streamCtx();if(k.CLog(U("kLDN::start 开始录音，")+x(L)+" stream:"+k._streamTag),k._stop(),k.envStart(null,L[f]),k.state=3,k._SO&&k._SO+1!=k._S){k.CLog(U("Bp2y::start被中断"),3);return}k._SO=0;var O=function(){k.state==3&&(k.state=1,k.resume())},H="AudioContext resume: ";g(L,function(j){return j&&k.CLog(H+"wait..."),k.state==3},function(j){j&&k.CLog(H+L.state),O()},function(j){k.CLog(H+L.state+U("upkE::，可能无法录音：")+j,1),O()})},pause:function(){var k=this,V=k._streamStore().Stream;k.state&&(k.state=2,k.CLog("pause"),V&&delete V._call[k.id])},resume:function(){var k=this,V=k._streamStore().Stream,L="resume",O=L+"(wait ctx)";if(k.state==3)k.CLog(O);else if(k.state){k.state=1,k.CLog(L),k.envResume(),V&&(V._call[k.id]=function(j,Y){k.state==1&&k.envIn(j,Y)},_(V));var H=k._streamCtx();H&&g(H,function(j){return j&&k.CLog(O+"..."),k.state==1},function(j){j&&k.CLog(O+H.state),_(V)},function(j){k.CLog(O+H.state+"[err]"+j,1)})}},_stop:function(k){var V=this,L=V.set;V.isMock||V._S++,V.state&&(V.pause(),V.state=0),!k&&V[L.type+"_stop"]&&(V[L.type+"_stop"](V.engineCtx),V.engineCtx=0)},stop:function(k,V,L){var O=this,H=O.set,j,Y=O.envInLast-O.envInFirst,X=Y&&O.buffers.length;O.CLog(U("Xq4s::stop 和start时差:")+(Y?Y+"ms "+U("3CQP::补偿:")+O.envInFix+"ms envIn:"+X+" fps:"+(X/Y*1e3).toFixed(1):"-")+" stream:"+O._streamTag+" ("+s+") LM:"+o);var Q=function(){O._stop(),L&&O.close()},K=function(ae){O.CLog(U("u8JG::结束录音失败：")+ae,1),V&&V(ae),Q()},Z=function(ae,ce,ee){var ne="blob",le="arraybuffer",he="dataType",pe="DefaultDataType",ye=O[he]||i[pe]||ne,ge=he+"="+ye,Ce=ae instanceof ArrayBuffer,xe=0,be=Ce?ae.byteLength:ae.size;if(ye==le?Ce||(xe=1):ye==ne?typeof Blob!="function"?xe=U.G("NonBrowser-1",[ge])+U("1skY::，请设置{1}",0,l+"."+pe+'="'+le+'"'):(Ce&&(ae=new Blob([ae],{type:ce})),ae instanceof Blob||(xe=1),ce=ae.type||ce):xe=U.G("NotSupport-1",[ge]),O.CLog(U("Wv7l::结束录音 编码花{1}ms 音频时长{2}ms 文件大小{3}b",0,Date.now()-j,ee,be)+" "+ge+","+ce),xe){K(xe!=1?xe:U("Vkbd::{1}编码器返回的不是{2}",0,H.type,ye)+", "+ge);return}if(H.takeoffEncodeChunk)O.CLog(U("QWnr::启用takeoffEncodeChunk后stop返回的blob长度为0不提供音频数据"),3);else if(be<Math.max(50,ee/5)){K(U("Sz2H::生成的{1}无效",0,H.type));return}k&&k(ae,ee,ce),Q()};if(!O.isMock){var te=O.state==3;if(!O.state||te){K(U("wf9t::未开始录音")+(te?U("Dl2c::，开始录音前无用户交互导致AudioContext未运行"):""));return}}O._stop(!0);var oe=O.recSize;if(!oe){K(U("Ltz3::未采集到录音"));return}if(!O[H.type]){K(U("xGuI::未加载{1}编码器，请尝试到{2}的src/engine内找到{1}的编码器并加载",0,H.type,l));return}if(O.isMock){var ue=O.envCheck(O.mockEnvInfo||{envName:"mock",canProcess:!1});if(ue){K(U("AxOH::录音错误：")+ue);return}}var se=O.engineCtx;if(O[H.type+"_complete"]&&se){var q=Math.round(se.pcmSize/H[f]*1e3);j=Date.now(),O[H.type+"_complete"](se,function(ce,ee){Z(ce,ee,q)},K);return}if(j=Date.now(),!O.buffers[0]){K(U("xkKd::音频buffers被释放"));return}var me=i.SampleData(O.buffers,O[c],H[f]);H[f]=me[f];var re=me.data,q=Math.round(re.length/H[f]*1e3);O.CLog(U("CxeT::采样:{1} 花:{2}ms",0,oe+"->"+re.length,Date.now()-j)),setTimeout(function(){j=Date.now(),O[H.type](re,function(ae,ce){Z(ae,ce,q)},function(ae){K(ae)})})}};var D=function(k,V){V.pos||(V.pos=[0],V.tracks={},V.bytes=[]);var L=V.tracks,O=[V.pos[0]],H=function(){V.pos[0]=O[0]},j=V.bytes.length,Y=new Uint8Array(j+k.length);if(Y.set(V.bytes),Y.set(k,j),V.bytes=Y,!V._ht){if(G(Y,O),z(Y,O),!B(G(Y,O),[24,83,128,103]))return;for(G(Y,O);O[0]<Y.length;){var X=G(Y,O),Q=z(Y,O),K=[0],Z=0;if(!Q)return;if(B(X,[22,84,174,107])){for(;K[0]<Q.length;){var te=G(Q,K),oe=z(Q,K),ue=[0],se={channels:0,sampleRate:0};if(B(te,[174]))for(;ue[0]<oe.length;){var me=G(oe,ue),re=z(oe,ue),q=[0];if(B(me,[215])){var ae=F(re);se.number=ae,L[ae]=se}else if(B(me,[131])){var ae=F(re);ae==1?se.type="video":ae==2?(se.type="audio",Z||(V.track0=se),se.idx=Z++):se.type="Type-"+ae}else if(B(me,[134])){for(var ce="",ee=0;ee<re.length;ee++)ce+=String.fromCharCode(re[ee]);se.codec=ce}else if(B(me,[225]))for(;q[0]<re.length;){var ne=G(re,q),le=z(re,q);if(B(ne,[181])){var ae=0,he=new Uint8Array(le.reverse()).buffer;le.length==4?ae=new Float32Array(he)[0]:le.length==8?ae=new Float64Array(he)[0]:E("WebM Track !Float",1,le),se[f]=Math.round(ae)}else B(ne,[98,100])?se.bitDepth=F(le):B(ne,[159])&&(se.channels=F(le))}}}V._ht=1,E("WebM Tracks",L),H();break}}}var pe=V.track0;if(pe){if(pe.bitDepth==16&&/FLOAT/i.test(pe.codec)&&(pe.bitDepth=32,E("WebM 16->32 bit",3)),pe[f]!=V[f]||pe.bitDepth!=32||pe.channels<1||!/(\b|_)PCM\b/i.test(pe.codec))return V.bytes=[],V.bad||E("WebM Track Unexpected",3,V),V.bad=1,-1;for(var ye=[],ge=0;O[0]<Y.length;){var te=G(Y,O),oe=z(Y,O);if(!oe)break;if(B(te,[163])){var Ce=oe[0]&15,se=L[Ce];if(!se)E("WebM !Track"+Ce,1,L);else if(se.idx===0){for(var xe=new Uint8Array(oe.length-4),ee=4;ee<oe.length;ee++)xe[ee-4]=oe[ee];ye.push(xe),ge+=xe.length}}H()}if(ge){var be=new Uint8Array(Y.length-V.pos[0]);be.set(Y.subarray(V.pos[0])),V.bytes=be,V.pos[0]=0;for(var xe=new Uint8Array(ge),ee=0,_e=0;ee<ye.length;ee++)xe.set(ye[ee],_e),_e+=ye[ee].length;var he=new Float32Array(xe.buffer);if(pe.channels>1){for(var Ee=[],ee=0;ee<he.length;)Ee.push(he[ee]),ee+=pe.channels;he=new Float32Array(Ee)}return he}}},B=function(k,V){if(!k||k.length!=V.length)return!1;if(k.length==1)return k[0]==V[0];for(var L=0;L<k.length;L++)if(k[L]!=V[L])return!1;return!0},F=function(k){for(var V="",L=0;L<k.length;L++){var O=k[L];V+=(O<16?"0":"")+O.toString(16)}return parseInt(V,16)||0},G=function(k,V,L){var O=V[0];if(!(O>=k.length)){var H=k[O],j=("0000000"+H.toString(2)).substr(-8),Y=/^(0*1)(\d*)$/.exec(j);if(Y){var X=Y[1].length,Q=[];if(!(O+X>k.length)){for(var K=0;K<X;K++)Q[K]=k[O],O++;return L&&(Q[0]=parseInt(Y[2]||"0",2)),V[0]=O,Q}}}},z=function(k,V){var L=G(k,V,1);if(L){var O=F(L),H=V[0],j=[];if(O<2147483647){if(H+O>k.length)return;for(var Y=0;Y<O;Y++)j[Y]=k[H],H++}return V[0]=H,j}},N=i.i18n={lang:"zh-CN",alias:{"zh-CN":"zh","en-US":"en"},locales:{},data:{},put:function(k,V){var L=l+".i18n.put: ",O=k.overwrite;O=O==null||O;var H=k.lang;if(H=N.alias[H]||H,!H)throw new Error(L+"set.lang?");var j=N.locales[H];j||(j={},N.locales[H]=j);for(var Y=/^([\w\-]+):/,X,Q=0;Q<V.length;Q++){var Z=V[Q];if(X=Y.exec(Z),!X){E(L+"'key:'? "+Z,3,k);continue}var K=X[1],Z=Z.substr(K.length+1);!O&&j[K]||(j[K]=Z)}},get:function(){return N.v_G.apply(null,arguments)},v_G:function(k,V,L){V=V||[],L=L||N.lang,L=N.alias[L]||L;var O=N.locales[L],H=O&&O[k]||"";return!H&&L!="zh"?L=="en"?N.v_G(k,V,"zh"):N.v_G(k,V,"en"):(N.lastLang=L,H=="=Empty"?"":H.replace(/\{(\d+)(\!?)\}/g,function(j,Y,X){return Y=+Y||0,j=V[Y-1],(Y<1||Y>V.length)&&(j="{?}",E("i18n["+k+"] no {"+Y+"}: "+H,3)),X?"":j}))},$T:function(){return N.v_T.apply(null,arguments)},v_T:function(){for(var k=arguments,V="",L=[],O=0,H=l+".i18n.$T:",j=/^([\w\-]*):/,Y,X=0;X<k.length;X++){var Q=k[X];if(X==0){if(Y=j.exec(Q),V=Y&&Y[1],!V)throw new Error(H+"0 'key:'?");Q=Q.substr(V.length+1)}if(O===-1)L.push(Q);else{if(O)throw new Error(H+" bad args");if(Q===0)O=-1;else if(a(Q)){if(Q<1)throw new Error(H+" bad args");O=Q}else{var K=X==1?"en":X?"":"zh";if(Y=j.exec(Q),Y&&(K=Y[1]||K,Q=Q.substr(Y[1].length+1)),!Y||!K)throw new Error(H+X+" 'lang:'?");N.put({lang:K,overwrite:!1},[V+":"+Q])}}}return V?O>0?V:N.v_G(V,L):""}},U=N.$T;U.G=N.get,U("NonBrowser-1::非浏览器环境，不支持{1}",1),U("IllegalArgs-1::参数错误：{1}",1),U("NeedImport-2::调用{1}需要先导入{2}",2),U("NotSupport-1::不支持：{1}",1),i.TrafficImgUrl="//ia.51.la/go1?id=20469973&pvFlag=1";var $=i.Traffic=function(k){if(n){k=k?"/"+l+"/Report/"+k:"";var V=i.TrafficImgUrl;if(V){var L=i.Traffic,O=/^(https?:..[^\/#]*\/?)[^#]*/i.exec(location.href)||[],H=O[1]||"http://file/",j=(O[0]||H)+k;if(V.indexOf("//")==0&&(/^https:/i.test(j)?V="https:"+V:V="http:"+V),k&&(V=V+"&cu="+encodeURIComponent(H+k)),!L[j]){L[j]=1;var Y=new Image;Y.src=V,E("Traffic Analysis Image: "+(k||l+".TrafficImgUrl="+i.TrafficImgUrl))}}}};v&&(E(U("8HO5::覆盖导入{1}",0,l),1),v.Destroy()),t[l]=i})})(wG);var wte=wG.exports;const dx=my(wte);(function(e){var t=typeof window=="object"&&!!window.document,n=t?window:Object,r=n.Recorder,a=r.i18n;e(r,a,a.$T,t)})(function(e,t,n,r){e.prototype.enc_pcm={stable:!0,fast:!0,getTestMsg:function(){return n("fWsN::pcm为未封装的原始音频数据，pcm音频文件无法直接播放，可用Recorder.pcm2wav()转码成wav播放；支持位数8位、16位（填在比特率里面），采样率取值无限制")}};var a=function(s){var l=s.bitRate,u=l==8?8:16;l!=u&&e.CLog(n("uMUJ::PCM Info: 不支持{1}位，已更新成{2}位",0,l,u),3),s.bitRate=u};e.prototype.pcm=function(s,l,u){var c=this.set;a(c);var f=i(s,c.bitRate);l(f.buffer,"audio/pcm")};var i=function(s,l){if(l==8)for(var u=s.length,c=new Uint8Array(u),f=0;f<u;f++){var d=(s[f]>>8)+128;c[f]=d}else{s=new Int16Array(s);var c=new Uint8Array(s.buffer)}return c};e.pcm2wav=function(s,l,u){s.blob||(s={blob:s});var c=s.blob,f=s.sampleRate||16e3,d=s.bitRate||16;if((!s.sampleRate||!s.bitRate)&&e.CLog(n("KmRz::pcm2wav必须提供sampleRate和bitRate"),3),!e.prototype.wav){u(n.G("NeedImport-2",["pcm2wav","src/engine/wav.js"]));return}var h=function(m,p){var g;if(d==8){var y=new Uint8Array(m);g=new Int16Array(y.length);for(var x=0;x<y.length;x++)g[x]=y[x]-128<<8}else g=new Int16Array(m);var b=e({type:"wav",sampleRate:f,bitRate:d});p&&(b.dataType="arraybuffer"),b.mock(g,f).stop(function(A,S,_){l(A,S,_)},u)};if(c instanceof ArrayBuffer)h(c,1);else{var v=new FileReader;v.onloadend=function(){h(v.result)},v.readAsArrayBuffer(c)}},e.prototype.pcm_envCheck=function(s,l){return""},e.prototype.pcm_start=function(s){return a(s),{set:s,memory:new Uint8Array(5e5),mOffset:0}};var o=function(s,l){var u=l.length;if(s.mOffset+u>s.memory.length){var c=new Uint8Array(s.memory.length+Math.max(5e5,u));c.set(s.memory.subarray(0,s.mOffset)),s.memory=c}s.memory.set(l,s.mOffset),s.mOffset+=u};e.prototype.pcm_stop=function(s){s&&s.memory&&(s.memory=null)},e.prototype.pcm_encode=function(s,l){if(s&&s.memory){var u=s.set,c=i(l,u.bitRate);u.takeoffEncodeChunk?u.takeoffEncodeChunk(c):o(s,c)}},e.prototype.pcm_complete=function(s,l,u,c){if(s&&s.memory){c&&this.pcm_stop(s);var f=s.memory.buffer.slice(0,s.mOffset);l(f,"audio/pcm")}else u(n("sDkA::pcm编码器未start"))}});const Cte=e=>{Rte().then(function(t){const n=Fe.history[0].qid,r=localStorage.getItem("sid"),i=fetch(`${Di}/api/student/chat/inspiration/audio?qid=${n}&sid=${r}`,{method:"POST",body:e}).body.getReader();let o=new TextDecoder,s="";return i.read().then(function l({done:u,value:c}){if(u){console.log("Stream completed");return}s+=o.decode(c,{stream:!0});let f=s.indexOf(`

`);for(;f!==-1;){let d=s.substring(0,f);console.log("Received message:",d),s=s.substring(f+2),f=s.indexOf(`

`)}return i.read().then(l)})}).catch(function(t){console.error("发送失败",t)})},Mte=e=>{Ite().then(function(t){const n=Fe.history[0].qid,r=localStorage.getItem("sid"),i=fetch(`${Di}/api/student/question/communicationWithUser/wrongAnswer/audio?qid=${n}&sid=${r}`,{method:"POST",body:e}).body.getReader();let o=new TextDecoder,s="";return i.read().then(function l({done:u,value:c}){if(u){console.log("Stream completed");return}s+=o.decode(c,{stream:!0});let f=s.indexOf(`

`);for(;f!==-1;){let d=s.substring(0,f);console.log("Received message:",d),s=s.substring(f+2),f=s.indexOf(`

`)}return i.read().then(l)})}).catch(function(t){console.error("发送失败",t)})},Tte=e=>{Dte().then(function(t){const n=Fe.history[0].qid,r=localStorage.getItem("sid"),i=fetch(`${Di}/api/student/chat/inspiration/audio?qid=${n}&sid=${r}`,{method:"POST",body:e}).body.getReader();let o=new TextDecoder,s="";return i.read().then(function l({done:u,value:c}){if(u){console.log("Stream completed");return}s+=o.decode(c,{stream:!0});let f=s.indexOf(`

`);for(;f!==-1;){let d=s.substring(0,f);console.log("Received message:",d),s=s.substring(f+2),f=s.indexOf(`

`)}return i.read().then(l)})}).catch(function(t){console.error("发送失败",t)})},Ete=e=>{Ote().then(function(t){const n=Fe.history[0].qid,r=localStorage.getItem("sid"),i=fetch(`${Di}/api/student/chat/feiman/audio?qid=${n}&sid=${r}`,{method:"POST",body:e}).body.getReader();let o=new TextDecoder,s="";return i.read().then(function l({done:u,value:c}){if(u){console.log("Stream completed");return}s+=o.decode(c,{stream:!0});let f=s.indexOf(`

`);for(;f!==-1;){let d=s.substring(0,f);console.log("Received message:",d),s=s.substring(f+2),f=s.indexOf(`

`)}return i.read().then(l)})}).catch(function(t){console.error("发送失败",t)})},Pte=e=>{Lte().then(function(t){const n=Fe.history[0].qid,r=localStorage.getItem("sid"),i=fetch(`${Di}/api/student/chat/explanation/audio?qid=${n}&sid=${r}`,{method:"POST",body:e}).body.getReader();let o=new TextDecoder,s="";return i.read().then(function l({done:u,value:c}){if(u){console.log("Stream completed");return}s+=o.decode(c,{stream:!0});let f=s.indexOf(`

`);for(;f!==-1;){let d=s.substring(0,f);console.log("Received message:",d),s=s.substring(f+2),f=s.indexOf(`

`)}return i.read().then(l)})}).catch(function(t){console.error("发送失败",t)})},Rte=()=>An({method:"get",url:"/api/student/question/communication",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),Ite=()=>An({method:"get",url:"/api/student/question/communication/wrongAnswer",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}))}).catch(function(e){console.error("发送失败",e)}),Dte=()=>An({method:"get",url:"/api/student/chat/inspiration/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),Lte=()=>An({method:"get",url:"/api/student/chat/explanation/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),Ote=()=>An({method:"get",url:"/api/student/chat/feiman/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),Nte={class:"btn-area"},kte={__name:"ConversationComponents",props:{overlay:{type:Boolean,default:!1}},emits:["update:overlay"],setup(e,{emit:t}){const n=Oe(0),r=e,a=t,i=Oe(r.overlay),o=Oe(200),s=Oe(!1);var l,u,c=function(y){l=dx({type:"pcm",sampleRate:16e3,bitRate:16,onProcess:function(x,b,A,S,_,w){u&&u.input(x[x.length-1],b,S)}}),l.open(function(){s.value=!0,dx.WaveView&&(u=dx.WaveView({elem:".recwave"})),y&&y()},function(x,b){console.log((b?"UserNotAllow，":"")+"无法录音:"+x)})};function f(){l.start()}function d(){l.stop(function(y,x){s.value=!1;var b=(window.URL||webkitURL).createObjectURL(y);console.log(y,b,"时长:"+x+"ms"),l.close(),l=null,h(y);const A=document.createElement("a");A.href=b,A.download="recorded_audio.pcm",document.body.appendChild(A),A.click(),document.body.removeChild(A)},function(y){console.log("录音失败:"+y),l.close(),l=null})}function h(y){const x=new FormData;switch(x.append("file",y,"recorded_audio.pcm"),Ze.warntitle="小沐正在努力思考~",Ze.dialogVisible=!0,Ze.chatModel){case 0:Cte(x);break;case 1:Tte(x);break;case 2:Mte(x);break;case 3:Ete(x);break;case 4:Pte(x);break}}function v(){c(function(){f()})}function m(){s.value?d():c(function(){f()})}let p=null;gn(()=>{let y=!0;p=setInterval(()=>{o.value>=200?y=!1:o.value<=100&&(y=!0),y?o.value+=5:o.value-=5},33.33)}),fy(()=>{p&&clearInterval(p)}),nt(()=>r.overlay,y=>{i.value=y,y?v():m()});function g(){i.value=!i.value,a("update:overlay",i.value)}return(y,x)=>{const b=We("v-btn"),A=We("v-card"),S=We("v-expand-transition");return at(),tn(S,{class:"conversation-container"},{default:ke(()=>[i.value?(at(),tn(A,{key:0,class:"v-card--reveal"},{default:ke(()=>[W(Ay,{class:"svg-display",style:Ii({width:o.value+"px"})},null,8,["style"]),Lt(" "+Qt(n.value)+" ",1),Ye("div",Nte,[Ye("div",null,[W(b,{class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:g,color:"#2081C3",style:{margin:"10px 10px"}},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(Gee),class:"expand-icon"},null,8,["path"])]),_:1})]),Ye("div",null,[W(b,{icon:"mdi-arrow-up-circle",onClick:m,color:"#2081C3",style:{margin:"10px 10px"}},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:s.value?ft(Yee):ft(jee),class:"expand-icon"},null,8,["path"])]),_:1})])])]),_:1})):rl("",!0)]),_:1})}}},CG=lr(kte,[["__scopeId","data-v-f07fb99c"]]),MG=e=>{iE().then(function(t){Fe.dialogueArray.push({speaker:"user",message:e,avatarSrc:"user-avatar.jpg",timestamp:new Date().toLocaleString()}),Fe.dialogueArray.push({speaker:"assistant",message:"",avatarSrc:"assistant-avatar.jpg",timestamp:new Date().toLocaleString()});const n=encodeURIComponent(e),r=Fe.history[0].qid,a=localStorage.getItem("sid");Fe.eventSource||(Fe.eventSource=new EventSource(`${Di}/api/student/question/communicationWithUser/?content=${n}&qid=${r}&sid=${a}`),Fe.eventSource.onmessage=i=>{Fe.dialogueArray[Fe.dialogueArray.length-1].message+=i.data,Ze.dialogVisible=!1},Fe.eventSource.onerror=i=>{Ze.dialogVisible=!1,Fe.eventSource.close(),Fe.eventSource=null})}).catch(function(t){console.error("发送失败",t)})},am=e=>{oE().then(function(t){Fe.dialogueArray.push({speaker:"user",message:e,avatarSrc:"user-avatar.jpg",timestamp:new Date().toLocaleString()}),Fe.dialogueArray.push({speaker:"assistant",message:"",avatarSrc:"assistant-avatar.jpg",timestamp:new Date().toLocaleString()});const n=encodeURIComponent(e),r=Fe.history[0].qid,a=localStorage.getItem("sid");Fe.eventSource||(Fe.eventSource=new EventSource(`${Di}/api/student/question/communicationWithUser/wrongAnswer?content=${n}&qid=${r}&sid=${a}`),Fe.eventSource.onmessage=i=>{Fe.dialogueArray[Fe.dialogueArray.length-1].message+=i.data,Ze.dialogVisible=!1},Fe.eventSource.onerror=i=>{Ze.dialogVisible=!1,Fe.eventSource.close(),Fe.eventSource=null}),Ze.btnflag=!1}).catch(function(t){console.error("发送失败",t)})},im=e=>{sE().then(function(t){Fe.dialogueArray.push({speaker:"user",message:e,avatarSrc:"user-avatar.jpg",timestamp:new Date().toLocaleString()}),Fe.dialogueArray.push({speaker:"assistant",message:"",avatarSrc:"assistant-avatar.jpg",timestamp:new Date().toLocaleString()});const n=encodeURIComponent(e),r=Fe.history[0].qid,a=localStorage.getItem("sid");Fe.eventSource||(Fe.eventSource=new EventSource(`${Di}/api/student/chat/inspiration?content=${n}&qid=${r}&sid=${a}`),Fe.eventSource.onmessage=i=>{const o=JSON.parse(i.data);Fe.dialogueArray[Fe.dialogueArray.length-1].message+=o.choices[0].delta.content,Ze.dialogVisible=!1},Fe.eventSource.onerror=i=>{Ze.dialogVisible=!1,Fe.eventSource.close(),Fe.eventSource=null}),Ze.btnflag=!1}).catch(function(t){console.error("发送失败",t)})},TG=e=>{uE().then(function(t){Fe.dialogueArray.push({speaker:"user",message:e,avatarSrc:"user-avatar.jpg",timestamp:new Date().toLocaleString()}),Fe.dialogueArray.push({speaker:"assistant",message:"",avatarSrc:"assistant-avatar.jpg",timestamp:new Date().toLocaleString()});const n=encodeURIComponent(e),r=Fe.history[0].qid,a=localStorage.getItem("sid");Fe.eventSource||(Fe.eventSource=new EventSource(`${Di}/api/student/chat/feiman?content=${n}&qid=${r}&sid=${a}`),Fe.eventSource.onmessage=i=>{const o=JSON.parse(i.data);Fe.dialogueArray[Fe.dialogueArray.length-1].message+=o.choices[0].delta.content,Ze.dialogVisible=!1},Fe.eventSource.onerror=i=>{Ze.dialogVisible=!1,Fe.eventSource.close(),Fe.eventSource=null}),Ze.btnflag=!1}).catch(function(t){console.error("发送失败",t)})},om=e=>{lE().then(function(t){Fe.dialogueArray.push({speaker:"user",message:e,avatarSrc:"user-avatar.jpg",timestamp:new Date().toLocaleString()}),Fe.dialogueArray.push({speaker:"assistant",message:"",avatarSrc:"assistant-avatar.jpg",timestamp:new Date().toLocaleString()});const n=encodeURIComponent(e),r=Fe.history[0].qid,a=localStorage.getItem("sid");Fe.eventSource||(Fe.eventSource=new EventSource(`${Di}/api/student/chat/explanation?content=${n}&qid=${r}&sid=${a}`),Fe.eventSource.onmessage=i=>{const o=JSON.parse(i.data);Fe.dialogueArray[Fe.dialogueArray.length-1].message+=o.choices[0].delta.content,Ze.dialogVisible=!1},Fe.eventSource.onerror=i=>{Ze.dialogVisible=!1,Fe.eventSource.close(),Fe.eventSource=null}),Ze.btnflag=!1}).catch(function(t){console.error("发送失败",t)})},iE=()=>An({method:"get",url:"/api/student/question/communication",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),oE=()=>An({method:"get",url:"/api/student/question/communication/wrongAnswer",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}))}).catch(function(e){console.error("发送失败",e)}),sE=()=>An({method:"get",url:"/api/student/chat/inspiration/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),lE=()=>An({method:"get",url:"/api/student/chat/explanation/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(Ze.btnflag=!1,console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),uE=()=>An({method:"get",url:"/api/student/chat/feiman/history",params:{qid:Fe.history[0].qid}}).then(function(e){e.data.data===void 0?(Ze.btnflag=!0,Fe.dialogueArray=[]):(console.log("发送成功",e),Fe.dialogueArray=e.data.data.wenxinChatHistory.map((t,n)=>{const r=n%2===0?"user":"assistant";return{speaker:r,message:r==="user"?t.user:t.assistant,avatarSrc:r==="user"?"user-avatar.jpg":"assistant-avatar.jpg",timestamp:new Date().toLocaleString()}}),Ze.dialogVisible=!1)}).catch(function(e){console.error("发送失败",e)}),Bte={class:"flex-container"},Fte={class:"menu-container"},Vte={class:"switch-container"},zte={key:0,style:{height:"70vh"}},Ute={class:"svg-container"},Hte={class:"prompts_btn"},$te={class:"tags-section"},Gte={key:2,class:"textarea-container"},Wte={__name:"XChatGPTComponent",setup(e){const t=Oe(""),n=Oe(!1),r=Oe(!1),a=[{title:"默认配置"},{title:"引导式问答"},{title:"错题分析"},{title:"费曼学习法"},{title:"个性化解析"}],i=Oe({userName:"测试01",avatarSrc:"user-avatar.jpg",userInfo:"别人能做到的事情，我也能做到。"}),o=Oe(null);gn(()=>{l(),t.value="",localStorage.setItem("renderedFormula",""),i.username=localStorage.getItem("username")});function s(){MathJax.texReset(),MathJax.typesetClear(),MathJax.typesetPromise()}function l(){setTimeout(()=>{Ht(s)},0)}Fn(()=>{r.value,t.value=localStorage.getItem("renderedFormula")}),nt(Fe.dialogueArray,()=>{u()}),Kh(()=>{u()});function u(){Ht(()=>{const b=o.value;b&&(b.scrollTop=b.scrollHeight)})}function c(b){Ze.chatModel=b,Ze.chatModel==2&&(Ze.warntitle="该模式请上传错解后进行问答",Ze.dialogVisible=!0,setTimeout(()=>{Ze.dialogVisible=!1},2e3)),Fe.dialogueArray.splice(0,Fe.dialogueArray.length),v()}function f(b){t.value+=b,localStorage.setItem("renderedFormula",t.value)}function d(){switch(Ze.warntitle="小沐正在努力思考~",Ze.dialogVisible=!0,console.log("textValue.value",t.value),Ze.chatModel){case 0:MG(t.value);break;case 1:im(t.value);break;case 2:am(t.value);break;case 3:TG(t.value);break;case 4:om(t.value);break}t.value="",localStorage.setItem("renderedFormula","")}function h(){switch(Ze.chatModel){case 1:im(t.value);break;case 2:am(t.value);break;case 4:om(t.value);break}t.value="",Ze.warntitle="小沐正在思考中~",Ze.dialogVisible=!0,Ze.btnflag=!1}function v(){switch(Ze.chatModel){case 0:iE();break;case 1:sE();break;case 2:oE();break;case 3:uE();break;case 4:lE();break}}function m(){n.value=!0}function p(b){n.value=b}function g(b){t.value+=b,localStorage.setItem("renderedFormula",t.value)}function y(){r.value=!0}var x=Fe.steps.map((b,A)=>`步骤${A+1}`);return(b,A)=>{const S=We("v-btn"),_=We("v-list-item-title"),w=We("v-list-item"),C=We("v-list"),M=We("v-menu"),T=We("v-switch"),E=We("v-icon"),P=We("v-chip"),R=We("v-chip-group"),I=We("v-sheet"),D=We("v-text-field"),B=We("v-card"),F=We("v-dialog");return at(),gt(tt,null,[W(B,{class:"card"},{default:ke(()=>[Ye("div",Bte,[Ye("div",Fte,[W(M,null,{activator:ke(({props:G})=>[W(S,je({class:["compact-button","icon-button"],icon:"mdi-format-list-bulleted",color:"rgb(32, 129, 195)"},G),{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(Wee),class:"icon-svg",color:"#FFF"},null,8,["path"])]),_:2},1040)]),default:ke(()=>[W(C,null,{default:ke(()=>[(at(),gt(tt,null,ir(a,(G,z)=>W(w,{key:z,value:z,onClick:N=>c(z),style:Ii({backgroundColor:z==ft(Ze).chatModel?"rgb(32, 129, 195)":"white"})},{default:ke(()=>[W(_,null,{default:ke(()=>[Lt(Qt(G.title),1)]),_:2},1024)]),_:2},1032,["value","onClick","style"])),64))]),_:1})]),_:1})]),Ye("div",Vte,[W(T,{modelValue:ft(Ze).globalModel,"onUpdate:modelValue":A[0]||(A[0]=G=>ft(Ze).globalModel=G),label:"沉浸式","hide-details":"",inset:"",color:"rgb(32, 129, 195)"},null,8,["modelValue"])])]),ft(Fe).dialogueArray.length===0?(at(),gt("div",zte,[Ye("div",Ute,[W(Ay),Ye("div",Hte,[W(S,{style:{background:"rgb(161, 201, 227)",height:"25px","background-image":"url('../assets/flash.png')",color:"white","font-weight":"bold"}},{default:ke(()=>[W(E,{color:"rgb(25,192,122)",style:{left:"-7px"}},{default:ke(()=>[Lt("mdi-flash")]),_:1}),ft(Ze).chatModel===0?(at(),gt(tt,{key:0},[Lt(" 默认配置 ")],64)):ft(Ze).chatModel===1?(at(),gt(tt,{key:1},[Lt(" 引导式问答 ")],64)):ft(Ze).chatModel===2?(at(),gt(tt,{key:2},[Lt(" 错题分析 ")],64)):ft(Ze).chatModel===3?(at(),gt(tt,{key:3},[Lt(" 举一反三 ")],64)):(at(),gt(tt,{key:4},[Lt(" 个性化解析 ")],64))]),_:1})])]),W(_G,{onAddToTextArea:g})])):(at(),gt("div",{key:1,style:{height:"65vh","overflow-y":"auto",margin:"20px 0 0 0"},ref_key:"scrollContainer",ref:o},[(at(!0),gt(tt,null,ir(ft(Fe).dialogueArray.slice(1),(G,z)=>(at(),gt("div",{key:z},[G.speaker=="user"?(at(),tn(rm,{key:0,userMessage:G.message,avatarSrc:i.value.avatarSrc,userName:G.speaker,userInfo:i.value.userInfo},null,8,["userMessage","avatarSrc","userName","userInfo"])):(at(),tn(rm,{key:1,userMessage:G.message,avatarSrc:i.value.avatarSrc,userName:G.speaker,userInfo:i.value.userInfo},null,8,["userMessage","avatarSrc","userName","userInfo"]))]))),128))],512)),Ye("div",$te,[W(I,{class:"tags-wrapper"},{default:ke(()=>[W(R,{mandatory:"",class:"chip-group","selected-class":"primary-text"},{default:ke(()=>[(at(!0),gt(tt,null,ir(ft(x),G=>(at(),tn(P,{key:G,class:"chip-item",onClick:z=>f(G)},{default:ke(()=>[Lt(Qt(G),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),n.value?rl("",!0):(at(),gt("div",Gte,[W(D,{placeholder:"Message","model-value":t.value,variant:"solo",rounded:"",onClick:y,class:"single-line-textarea"},null,8,["model-value"]),ft(Ze).chatModel!==0&&ft(Ze).chatModel!==3&&ft(Ze).btnflag===!0?(at(),tn(S,{key:0,class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:h,color:"#2081C3",rounded:"",width:"auto",style:{padding:"5px","border-radius":"15px"}},{default:ke(()=>[Lt(" 开始对话 ")]),_:1})):(at(),tn(S,{key:1,class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:d,color:"#2081C3"},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(xG),class:"expand-icon"},null,8,["path"])]),_:1})),W(S,{class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:m,color:"#2081C3"},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(bG),class:"expand-icon",style:{height:"40px"}},null,8,["path"])]),_:1})])),W(CG,{overlay:n.value,"onUpdate:overlay":p},null,8,["overlay"])]),_:1}),W(F,{modelValue:r.value,"onUpdate:modelValue":A[1]||(A[1]=G=>r.value=G),width:"auto"},{default:ke(()=>[W(B,null,{default:ke(()=>[W(AG,{initMessage:t.value},null,8,["initMessage"])]),_:1})]),_:1},8,["modelValue"])],64)}}},jte=lr(Wte,[["__scopeId","data-v-3e37755e"]]),EG={__name:"FolderTree",props:{items:Object,currentPath:{type:Array,default:()=>[]}},setup(e){const t=e,n=Oe(!1),r=Oe(""),a=Oe([]);function i(c=[],f){o(f)?(a.value=c,n.value=!0):(alert("添加错题到"+c.join("/")),An({method:"post",url:"/api/student/question/position",data:{qid:Fe.qid,position:c.join("/")}}).then(d=>{d.data.status===1&&(n.value=!1,alert("添加错题成功"))}).catch(d=>{alert("添加错题失败"),console.error(d)}),n.value=!1)}const o=c=>c&&Object.keys(c).length>0,s=(c,f)=>{console.log(a.value,c,f)};function l(){if(r.value.trim()!==""){const c=[...a.value,r.value];u(c),r.value="",n.value=!1}}function u(c=[]){const f=c.slice(0,-1).reduce((h,v)=>(console.log("pathArray",c),(!h[v]||typeof h[v]!="object")&&(h[v]={}),h[v]),Ze.folderList),d=c[c.length-1];f[d]||(f[d]={})}return(c,f)=>{const d=We("v-list-item"),h=We("v-list-group"),v=We("v-text-field"),m=We("v-card-text"),p=We("v-btn"),g=We("v-card-actions"),y=We("v-card"),x=We("v-dialog");return at(),gt(tt,null,[(at(!0),gt(tt,null,ir(t.items,(b,A,S)=>(at(),tn(h,{key:S,value:A},{activator:ke(({props:_})=>[W(d,je(_,{"prepend-icon":"mdi-folder",color:"#2081C3",title:A,onClick:w=>s(A,b)}),null,16,["title","onClick"])]),default:ke(()=>[o(b)?(at(),tn(EG,{key:0,items:b,currentPath:[...t.currentPath,A]},null,8,["items","currentPath"])):rl("",!0),W(d,{"prepend-icon":"mdi-plus-circle-outline",title:"添加",onClick:_=>i([...e.currentPath,A],b)},null,8,["onClick"])]),_:2},1032,["value"]))),128)),W(x,{modelValue:n.value,"onUpdate:modelValue":f[2]||(f[2]=b=>n.value=b),style:{width:"30%","border-radius":"16px"}},{default:ke(()=>[W(y,{style:{padding:"20px 0 10px 0"}},{default:ke(()=>[W(m,null,{default:ke(()=>[W(v,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=b=>r.value=b),label:"文件夹名称",outlined:""},null,8,["modelValue"])]),_:1}),W(g,null,{default:ke(()=>[W(p,{color:"blue darken-1",text:"",onClick:f[1]||(f[1]=b=>l())},{default:ke(()=>[Lt("创建")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Yte={__name:"DoClassifyComponent",setup(e){const t=Oe([]),n=Oe(!1),r=Oe("");function a(){n.value=!0}nt(n,(o,s)=>{s===!0&&o===!1&&r.value.trim()!==""&&(i([r.value]),console.log(Ze.folderList),r.value="")});function i(o=[]){o.reduce((s,l,u)=>((!s[l]||typeof s[l]!="object")&&(s[l]=u===o.length-1?{}:{}),s[l]),Ze.folderList)}return(o,s)=>{const l=We("v-icon"),u=We("v-list"),c=We("v-list-item"),f=We("v-card"),d=We("v-dialog"),h=We("v-text-field"),v=We("v-card-text"),m=We("v-btn"),p=We("v-card-actions");return at(),gt(tt,null,[W(d,{modelValue:ft(Ze).DraggableDialogVisible,"onUpdate:modelValue":s[1]||(s[1]=g=>ft(Ze).DraggableDialogVisible=g),width:"40%"},{default:ke(()=>[W(f,{"prepend-icon":"mdi-update",style:{color:"#388fca","font-weight":"600","font-family":"Inter","font-size":"25px","font-style":"normal",padding:"10px 0px 30px 0px","border-radius":"16px"},title:"Musee 错题本",elevation:"16"},{prepend:ke(()=>[W(l,{size:"large"})]),default:ke(()=>[W(u,{"v-model:opened":t.value,style:{margin:"10px 30px"}},{default:ke(()=>[W(EG,{items:ft(Ze).folderList,currentPath:[]},null,8,["items"])]),_:1},8,["v-model:opened"]),W(c,{"prepend-icon":"mdi-plus-circle-outline",title:"新建根目录错题本",onClick:s[0]||(s[0]=g=>a()),style:{margin:"0px 30px"},color:"#FFFFFF"})]),_:1})]),_:1},8,["modelValue"]),W(d,{modelValue:n.value,"onUpdate:modelValue":s[4]||(s[4]=g=>n.value=g),style:{width:"30%","border-radius":"16px"}},{default:ke(()=>[W(f,{style:{padding:"20px 0 10px 0"}},{default:ke(()=>[W(v,null,{default:ke(()=>[W(h,{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=g=>r.value=g),label:"文件夹名称",outlined:""},null,8,["modelValue"])]),_:1}),W(p,null,{default:ke(()=>[W(m,{color:"blue darken-1",text:"",onClick:s[3]||(s[3]=g=>n.value=!n.value)},{default:ke(()=>[Lt("创建")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Xte=e=>(po("data-v-625b85ea"),e=e(),go(),e),qte={class:"container"},Kte={class:"left-section"},Zte={style:{display:"flex","justify-content":"space-between",margin:"0px 10px"}},Qte=Xte(()=>Ye("div",{class:"menu-container"},null,-1)),Jte={style:{margin:"10px",display:"flex","align-items":"center","flex-direction":"row","justify-content":"space-around",height:"30vh"}},ene={style:{margin:"10px",display:"flex","align-items":"center","flex-direction":"row","justify-content":"space-around",height:"30vh"}},tne={key:0,style:{height:"60vh"}},nne={class:"svg-container"},rne={class:"tags-section"},ane={key:2,class:"textarea-container"},ine={style:{height:"50vh"}},one={__name:"CaptureMainView",setup(e){const t=Oe(0),n=Oe(""),r=Oe(!1),a=Oe(!1);function i(b){switch(console.log("newStep:",b),b){case 1:Ze.chatModel=0;break;case 2:Ze.chatModel=2;break;case 3:Ze.chatModel=1;break;case 4:Ze.chatModel=4;break;case 5:Ze.chatModel=3;break}v()}const o=Oe({userName:"测试01",avatarSrc:"user-avatar.jpg",userInfo:"别人能做到的事情，我也能做到。"}),s=Oe(null);gn(()=>{u(),n.value="",localStorage.setItem("renderedFormula",""),o.username=localStorage.getItem("username")});function l(){MathJax.texReset(),MathJax.typesetClear(),MathJax.typesetPromise()}function u(){setTimeout(()=>{Ht(l)},0)}nt(Fe,(b,A)=>{console.log("render again"),t.value++}),Fn(()=>{a.value,n.value=localStorage.getItem("renderedFormula")}),nt(Fe.dialogueArray,()=>{c()}),Kh(()=>{c()});function c(){Ht(()=>{const b=s.value;b&&(b.scrollTop=b.scrollHeight)})}function f(b){n.value+=b,localStorage.setItem("renderedFormula",n.value)}function d(){try{switch(Ze.warntitle="小沐正在努力思考~",Ze.dialogVisible=!0,Ze.chatModel){case 0:MG(n.value);break;case 1:im(n.value);break;case 2:am(n.value);break;case 3:TG(n.value);break;case 4:om(n.value);break}n.value=" ",localStorage.setItem("renderedFormula","")}catch{n.value="",localStorage.setItem("renderedFormula","")}}function h(){switch(console.log("FirstSend",n.value),Ze.chatModel){case 1:im(n.value);break;case 2:am(n.value);break;case 4:om(n.value);break}n.value="",Ze.warntitle="小沐正在思考中~",Ze.btnflag=!1}function v(){switch(Ze.chatModel){case 0:iE();break;case 1:sE(),console.log("getIns");break;case 2:oE(),console.log("getWrong");break;case 3:uE(),console.log("getFeiman");break;case 4:lE(),console.log("getPersonalCom");break}}function m(){r.value=!0}function p(b){r.value=b}function g(b){n.value+=b,localStorage.setItem("renderedFormula",n.value)}function y(){a.value=!0}var x=Fe.steps.map((b,A)=>`步骤${A+1}`);return(b,A)=>{const S=We("v-card"),_=We("v-switch"),w=We("v-chip"),C=We("v-chip-group"),M=We("v-sheet"),T=We("v-text-field"),E=We("v-btn"),P=We("v-stepper"),R=We("v-dialog");return at(),gt(tt,null,[Ye("div",qte,[Ye("div",Kte,[W(S,{class:"left-card",color:"#A1C9E3"},{default:ke(()=>[W(S,{class:"inner-card",color:"#F7F9F9"},{default:ke(()=>[W(fx),W(Yte)]),_:1}),W(Uee)]),_:1})]),(at(),gt("div",{class:"right-section",key:t.value},[W(jte)])),W(R,{modelValue:ft(Ze).globalModel,"onUpdate:modelValue":A[1]||(A[1]=I=>ft(Ze).globalModel=I),width:"70vw",persistent:""},{default:ke(()=>[W(S,{elevation:"0"},{default:ke(()=>[Ye("div",Zte,[W(_,{modelValue:ft(Ze).globalModel,"onUpdate:modelValue":A[0]||(A[0]=I=>ft(Ze).globalModel=I),label:"沉浸式","hide-details":"",inset:"",color:"rgb(32, 129, 195)"},null,8,["modelValue"]),Qte]),(at(),tn(xK,null,[W(P,{editable:"",items:["拍照","拍错题","启发式问答","个性化解析","举一反三","题解"],elevation:"0","hide-actions":"","onUpdate:modelValue":i},CK({"item.1":ke(()=>[Ye("div",Jte,[W(fx)])]),"item.2":ke(()=>[Ye("div",ene,[W(fx)])]),"item.6":ke(()=>[Ye("div",ine,[W(q$),W(Y$)])]),_:2},[ir([3,4,5],I=>({name:`item.${I}`,fn:ke(()=>[Ye("div",null,[ft(Fe).dialogueArray.length===0?(at(),gt("div",tne,[Ye("div",nne,[W(Ay)]),W(_G,{onAddToTextArea:g})])):(at(),gt("div",{key:1,style:{height:"50vh","overflow-y":"auto",margin:"20px 0 0 0"},ref_key:"scrollContainer",ref:s},[(at(!0),gt(tt,null,ir(ft(Fe).dialogueArray.slice(1),(D,B)=>(at(),gt("div",{key:B},[D.speaker=="user"?(at(),tn(rm,{key:0,userMessage:D.message,avatarSrc:o.value.avatarSrc,userName:D.speaker,userInfo:o.value.userInfo},null,8,["userMessage","avatarSrc","userName","userInfo"])):(at(),tn(rm,{key:1,userMessage:D.message,avatarSrc:o.value.avatarSrc,userName:D.speaker,userInfo:o.value.userInfo},null,8,["userMessage","avatarSrc","userName","userInfo"]))]))),128))],512)),Ye("div",rne,[W(M,{class:"tags-wrapper"},{default:ke(()=>[W(C,{mandatory:"",class:"chip-group","selected-class":"primary-text"},{default:ke(()=>[(at(!0),gt(tt,null,ir(ft(x),D=>(at(),tn(w,{key:D,class:"chip-item",onClick:B=>f(D)},{default:ke(()=>[Lt(Qt(D),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),r.value?rl("",!0):(at(),gt("div",ane,[W(T,{placeholder:"Message","model-value":n.value,variant:"solo",rounded:"",onClick:y,class:"single-line-textarea"},null,8,["model-value"]),ft(Ze).chatModel!==0&&ft(Ze).chatModel!==3&&ft(Ze).btnflag===!0?(at(),tn(E,{key:0,class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:h,color:"#2081C3",rounded:"",width:"auto",style:{padding:"5px","border-radius":"15px"}},{default:ke(()=>[Lt(" 开始对话 ")]),_:1})):(at(),tn(E,{key:1,class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:d,color:"#2081C3"},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(xG),class:"expand-icon"},null,8,["path"])]),_:1})),W(E,{class:Ja(["compact-button","icon-button"]),icon:"mdi-arrow-up-circle",onClick:m,color:"#2081C3"},{default:ke(()=>[W(ft(Qo),{type:"mdi",path:ft(bG),class:"expand-icon",style:{height:"40px"}},null,8,["path"])]),_:1})])),W(CG,{overlay:r.value,"onUpdate:overlay":p},null,8,["overlay"])])])}))]),1024)],1024))]),_:1})]),_:1},8,["modelValue"])]),W(R,{modelValue:a.value,"onUpdate:modelValue":A[2]||(A[2]=I=>a.value=I),width:"auto"},{default:ke(()=>[W(S,null,{default:ke(()=>[W(AG,{initMessage:n.value},null,8,["initMessage"])]),_:1})]),_:1},8,["modelValue"])],64)}}},sne=lr(one,[["__scopeId","data-v-625b85ea"]]),lne={style:{padding:"5px 15px","font-size":"x-large","font-weight":"600",color:"#475863"}},une={style:{padding:"5px 15px","font-weight":"600",color:"#F7F9F9",flex:"1"}},cne={__name:"CollectGroupComponent",props:{tags:{type:Array,required:!0,default:["综合","选择","填空"]},cardTitle:{type:String,required:!0,default:"Card Title"},cardSubtitle:{type:String,default:"Card Subtitle"},cardColor:{type:String,default:"#A1C9E3"}},setup(e){const t=e;return(n,r)=>{const a=We("v-chip"),i=We("v-chip-group"),o=We("v-sheet"),s=We("v-card");return at(),tn(s,{width:"400",color:e.cardColor,rounded:"lg"},{default:ke(()=>[Ye("div",lne,Qt(t.cardTitle),1),W(o,{class:"tags-wrapper",style:Ii([{backgroundColor:e.cardColor},{"padding-top":"0px !important","padding-bottom":"0px !important",display:"flex","align-items":"center"}])},{default:ke(()=>[W(i,{mandatory:"",class:"chip-group","selected-class":"primary-text",style:{flex:"2"}},{default:ke(()=>[(at(!0),gt(tt,null,ir(e.tags,l=>(at(),tn(a,{key:l,class:"chip-item"},{default:ke(()=>[Lt(Qt(l),1)]),_:2},1024))),128))]),_:1}),Ye("div",une,"累计收录："+Qt(t.cardSubtitle)+"题",1)]),_:1},8,["style"])]),_:1},8,["color"])}}},fne=e=>(po("data-v-d4ddbdbb"),e=e(),go(),e),dne={style:{display:"flex","flex-direction":"row","justify-content":"center"}},hne={style:{display:"flex","flex-direction":"column","align-items":"center","overflow-y":"auto"}},vne=fne(()=>Ye("div",null,null,-1)),pne={__name:"CollectionIndex",setup(e){const t=Oe([{id:1,tags:["综合","选择"],title:"数学错题集",subtitle:"10",color:"#A1C9E3"},{id:2,tags:["数学","代数"],title:"物理错题集",subtitle:"5",color:"#A1C9E3"},{id:3,tags:["物理","力学"],title:"化学错题集",subtitle:"3",color:"#A1C9E3"},{id:4,tags:["化学","化学键"],title:"英语错题集",subtitle:"7",color:"#A1C9E3"}]),n=Oe(!1),r=Oe(!1);function a(){r.value=!0,setTimeout(()=>{r.value=!1,n.value=!0},2e3)}return(i,o)=>{const s=We("v-text-field"),l=We("v-card-text");return at(),gt(tt,null,[Ye("div",dne,[W(l,{style:{width:"70%",padding:"2rem 2rem 1rem 2rem!important"}},{default:ke(()=>[W(s,{loading:r.value,density:"compact",variant:"solo",label:"点我搜索之前的错题吧！","append-inner-icon":"mdi-magnify","single-line":"","hide-details":"","onClick:appendInner":a,rounded:""},null,8,["loading"])]),_:1})]),Ye("div",hne,[(at(!0),gt(tt,null,ir(t.value,u=>(at(),gt("div",{key:u.id,style:{margin:"10px 0"}},[W(cne,{tags:u.tags,cardTitle:u.title,cardSubtitle:u.subtitle,cardColor:u.color},null,8,["tags","cardTitle","cardSubtitle","cardColor"])]))),128))]),vne],64)}}},gne=lr(pne,[["__scopeId","data-v-d4ddbdbb"]]),mne={class:"card-container"},yne={class:"card-title"},xne={class:"card-msg"},bne={class:"card-time-chip"},Sne={__name:"MistakePreviewComponent",props:{tags:{type:Array,required:!0,default:()=>["综合","选择","填空"]},cardTitle:{type:String,required:!0,default:""},cardMsg:{type:String,default:""},imgSrc:{type:String,default:"https://images.unsplash.com/photo-1439405326854-014607f694d7?q=80&w=2670&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},cardTime:{type:String,default:""},cardColor:{type:String,default:"#D0E4F1"}},setup(e){const t=e;return(n,r)=>{const a=We("v-chip"),i=We("v-chip-group"),o=We("v-sheet"),s=We("v-card");return at(),gt("div",mne,[W(s,{class:"main-card",color:e.cardColor,rounded:"lg",elevation:"0"},{default:ke(()=>[Ye("div",yne,Qt(t.cardTitle),1),Ye("div",xne,Qt(t.cardMsg),1),Ye("div",bne,[W(i,{mandatory:"",class:"chip-group","selected-class":"primary-text"},{default:ke(()=>[W(a,{class:"chip-item"},{default:ke(()=>[Lt(Qt(t.cardTime),1)]),_:1})]),_:1}),W(o,{class:"tags-wrapper",style:Ii({backgroundColor:e.cardColor})},{default:ke(()=>[W(i,{mandatory:"",class:"chip-group","selected-class":"primary-text"},{default:ke(()=>[(at(!0),gt(tt,null,ir(e.tags,l=>(at(),tn(a,{key:l,class:"chip-item"},{default:ke(()=>[Lt(Qt(l),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["style"])])]),_:1},8,["color"]),W(s,{class:"image-card",width:"360",height:"200",elevation:"0",image:t.imgSrc},null,8,["image"])])}}},_ne=lr(Sne,[["__scopeId","data-v-d34ef2a2"]]),Ane={class:"container"},wne={class:"left-section"},Cne={class:"right-section"},Mne={style:{height:"100%","overflow-y":"auto"}},Tne={__name:"QuestionsCollectionView",setup(e){const t=[{tags:["综合","选择"],cardTitle:"反比例函数在几何图形中的应用",cardMsg:"错误地将反比例函数的应用局限于四边形的面积计算，而没有将其扩展到整个图形的性质和特征中，学生可能对反比例函数和几何图形的性质和特征理解不够深入，未能掌握反比例函数在解决几何问题中的重要应用。",cardTime:"2024/1/4",cardColor:"#D0E4F1",imgSrc:"https://p4.itc.cn/q_70/images03/20220412/5e59aaab355b45ab88fa4bc4d738b825.jpeg"},{tags:["数学","代数"],cardTitle:"解一元二次方程的方法",cardMsg:"详细介绍了使用配方法和公式法解一元二次方程的步骤，注意点和常见错误。",cardTime:"2024/2/15",cardColor:"#D0E4F1",imgSrc:"https://5b0988e595225.cdn.sohucs.com/images/20190803/b4b5d9450e784d25a1e9acd27c6b04cf.jpeg"},{tags:["物理","力学"],cardTitle:"牛顿第二定律的实际应用",cardMsg:"通过实例解释了牛顿第二定律在不同物理场景中的应用，强调了力与加速度的关系。",cardTime:"2024/3/22",cardColor:"#D0E4F1",imgSrc:"https://puui.qpic.cn/vpic_cover/e03560j8srb/e03560j8srb_hz.jpg"},{tags:["化学","化学键"],cardTitle:"离子键的形成和特性",cardMsg:"详细介绍了离子键的形成条件，特性和应用，通过实验和图表展示了离子键的特性。",cardTime:"2024/4/30",cardColor:"#D0E4F1",imgSrc:"https://i.ytimg.com/vi/uhVnS0axFJY/sddefault.jpg"}];return(n,r)=>{const a=We("v-card");return at(),gt("div",Ane,[Ye("div",wne,[W(a,{class:"left-card",color:"#FFFFFF"},{default:ke(()=>[W(gne)]),_:1})]),Ye("div",Cne,[W(a,{color:"#FFFFFF",style:{height:"100%"}},{default:ke(()=>[Ye("div",Mne,[(at(),gt(tt,null,ir(t,(i,o)=>Ye("div",{style:{margin:"10px 0"},key:o},[W(_ne,{tags:i.tags,cardTitle:i.cardTitle,cardMsg:i.cardMsg,cardTime:i.cardTime,cardColor:i.cardColor,imgSrc:i.imgSrc},null,8,["tags","cardTitle","cardMsg","cardTime","cardColor","imgSrc"])])),64))])]),_:1})])])}}},Ene=lr(Tne,[["__scopeId","data-v-8e6ea7b9"]]);var AC={},et={},ls={},Pne=2311;function Rne(){return Pne++}var PG=Rne,Gd={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?Gd={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document>"u"&&typeof self<"u"?Gd={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator>"u"?Gd={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:Gd=Dne(navigator.userAgent);var Ine=Gd;function Dne(e){var t={},n={},r=e.match(/Firefox\/([\d.]+)/),a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),i=e.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(e);return r&&(n.firefox=!0,n.version=r[1]),a&&(n.ie=!0,n.version=a[1]),i&&(n.edge=!0,n.version=i[1]),o&&(n.weChat=!0),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:typeof document<"u"}}var Qn=Ine,de={},RG={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},IG={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},nv=Object.prototype.toString,rv=Array.prototype,Lne=rv.forEach,One=rv.filter,Sh=rv.slice,Nne=rv.map,kne=rv.reduce,cE={};function Bne(e,t){e==="createCanvas"&&(Pg=null),cE[e]=t}function Vc(e){if(e==null||typeof e!="object")return e;var t=e,n=nv.call(e);if(n==="[object Array]"){if(!zc(e)){t=[];for(var r=0,a=e.length;r<a;r++)t[r]=Vc(e[r])}}else if(IG[n]){if(!zc(e)){var i=e.constructor;if(e.constructor.from)t=i.from(e);else{t=new i(e.length);for(var r=0,a=e.length;r<a;r++)t[r]=Vc(e[r])}}}else if(!RG[n]&&!zc(e)&&!lm(e)){t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=Vc(e[o]))}return t}function fE(e,t,n){if(!Wd(t)||!Wd(e))return n?Vc(t):e;for(var r in t)if(t.hasOwnProperty(r)){var a=e[r],i=t[r];Wd(i)&&Wd(a)&&!sm(i)&&!sm(a)&&!lm(i)&&!lm(a)&&!wC(i)&&!wC(a)&&!zc(i)&&!zc(a)?fE(a,i,n):(n||!(r in e))&&(e[r]=Vc(t[r]))}return e}function Fne(e,t){for(var n=e[0],r=1,a=e.length;r<a;r++)n=fE(n,e[r],t);return n}function Vne(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function DG(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n?t[r]!=null:e[r]==null)&&(e[r]=t[r]);return e}var LG=function(){return cE.createCanvas()};cE.createCanvas=function(){return document.createElement("canvas")};var Pg;function zne(){return Pg||(Pg=LG().getContext("2d")),Pg}function Une(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function Hne(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var a in n)n.hasOwnProperty(a)&&(e.prototype[a]=n[a]);e.prototype.constructor=e,e.superClass=t}function $ne(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,DG(e,t,n)}function Gne(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function OG(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Lne)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function Wne(e,t,n){if(e&&t){if(e.map&&e.map===Nne)return e.map(t,n);for(var r=[],a=0,i=e.length;a<i;a++)r.push(t.call(n,e[a],a,e));return r}}function jne(e,t,n,r){if(e&&t){if(e.reduce&&e.reduce===kne)return e.reduce(t,n,r);for(var a=0,i=e.length;a<i;a++)n=t.call(r,n,e[a],a,e);return n}}function Yne(e,t,n){if(e&&t){if(e.filter&&e.filter===One)return e.filter(t,n);for(var r=[],a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e)&&r.push(e[a]);return r}}function Xne(e,t,n){if(e&&t){for(var r=0,a=e.length;r<a;r++)if(t.call(n,e[r],r,e))return e[r]}}function NG(e,t){var n=Sh.call(arguments,2);return function(){return e.apply(t,n.concat(Sh.call(arguments)))}}function qne(e){var t=Sh.call(arguments,1);return function(){return e.apply(this,t.concat(Sh.call(arguments)))}}function sm(e){return nv.call(e)==="[object Array]"}function Kne(e){return typeof e=="function"}function Zne(e){return nv.call(e)==="[object String]"}function Wd(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function wC(e){return!!RG[nv.call(e)]}function Qne(e){return!!IG[nv.call(e)]}function lm(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function Jne(e){return e!==e}function ere(e){for(var t=0,n=arguments.length;t<n;t++)if(arguments[t]!=null)return arguments[t]}function tre(e,t){return e??t}function nre(e,t,n){return e??t??n}function rre(){return Function.call.apply(Sh,arguments)}function are(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function ire(e,t){if(!e)throw new Error(t)}function ore(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var kG="__ec_primitive__";function sre(e){e[kG]=!0}function zc(e){return e[kG]}function um(e){var t=sm(e);this.data={};var n=this;e instanceof um?e.each(r):e&&OG(e,r);function r(a,i){t?n.set(a,i):n.set(i,a)}}um.prototype={constructor:um,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){t!==void 0&&(e=NG(e,t));for(var n in this.data)this.data.hasOwnProperty(n)&&e(this.data[n],n)},removeKey:function(e){delete this.data[e]}};function lre(e){return new um(e)}function ure(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];var a=e.length;for(r=0;r<t.length;r++)n[r+a]=t[r];return n}function cre(){}de.$override=Bne;de.clone=Vc;de.merge=fE;de.mergeAll=Fne;de.extend=Vne;de.defaults=DG;de.createCanvas=LG;de.getContext=zne;de.indexOf=Une;de.inherits=Hne;de.mixin=$ne;de.isArrayLike=Gne;de.each=OG;de.map=Wne;de.reduce=jne;de.filter=Yne;de.find=Xne;de.bind=NG;de.curry=qne;de.isArray=sm;de.isFunction=Kne;de.isString=Zne;de.isObject=Wd;de.isBuiltInObject=wC;de.isTypedArray=Qne;de.isDom=lm;de.eqNaN=Jne;de.retrieve=ere;de.retrieve2=tre;de.retrieve3=nre;de.slice=rre;de.normalizeCssArray=are;de.assert=ire;de.trim=ore;de.setAsPrimitive=sre;de.isPrimitive=zc;de.createHashMap=lre;de.concatArray=ure;de.noop=cre;var Pt={},BG=typeof Float32Array>"u"?Array:Float32Array;function fre(e,t){var n=new BG(2);return e==null&&(e=0),t==null&&(t=0),n[0]=e,n[1]=t,n}function dre(e,t){return e[0]=t[0],e[1]=t[1],e}function hre(e){var t=new BG(2);return t[0]=e[0],t[1]=e[1],t}function vre(e,t,n){return e[0]=t,e[1]=n,e}function pre(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function gre(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function mre(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function dE(e){return Math.sqrt(hE(e))}var yre=dE;function hE(e){return e[0]*e[0]+e[1]*e[1]}var xre=hE;function bre(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function Sre(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function _re(e,t){return e[0]*t[0]+e[1]*t[1]}function Are(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function wre(e,t){var n=dE(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function FG(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var Cre=FG;function VG(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var Mre=VG;function Tre(e,t){return e[0]=-t[0],e[1]=-t[1],e}function Ere(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function Pre(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function Rre(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function Ire(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}Pt.create=fre;Pt.copy=dre;Pt.clone=hre;Pt.set=vre;Pt.add=pre;Pt.scaleAndAdd=gre;Pt.sub=mre;Pt.len=dE;Pt.length=yre;Pt.lenSquare=hE;Pt.lengthSquare=xre;Pt.mul=bre;Pt.div=Sre;Pt.dot=_re;Pt.scale=Are;Pt.normalize=wre;Pt.distance=FG;Pt.dist=Cre;Pt.distanceSquare=VG;Pt.distSquare=Mre;Pt.negate=Tre;Pt.lerp=Ere;Pt.applyTransform=Pre;Pt.min=Rre;Pt.max=Ire;function CC(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}CC.prototype={constructor:CC,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(zu(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,r=e.offsetY,a=n-this._x,i=r-this._y;this._x=n,this._y=r,t.drift(a,i,e),this.dispatchToElement(zu(t,e),"drag",e.event);var o=this.findHover(n,r,t).target,s=this._dropTarget;this._dropTarget=o,t!==o&&(s&&o!==s&&this.dispatchToElement(zu(s,e),"dragleave",e.event),o&&o!==s&&this.dispatchToElement(zu(o,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(zu(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(zu(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function zu(e,t){return{target:e,topTarget:t&&t.topTarget}}var Dre=CC,Lre=Dre,bD=Array.prototype.slice,MC=function(e){this._$handlers={},this._$eventProcessor=e};MC.prototype={constructor:MC,one:function(e,t,n,r){return SD(this,e,t,n,r,!0)},on:function(e,t,n,r){return SD(this,e,t,n,r,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var r=[],a=0,i=n[e].length;a<i;a++)n[e][a].h!==t&&r.push(n[e][a]);n[e]=r}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},trigger:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var r=arguments,a=r.length;a>3&&(r=bD.call(r,1));for(var i=t.length,o=0;o<i;){var s=t[o];if(n&&n.filter&&s.query!=null&&!n.filter(e,s.query)){o++;continue}switch(a){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,r[1]);break;case 3:s.h.call(s.ctx,r[1],r[2]);break;default:s.h.apply(s.ctx,r);break}s.one?(t.splice(o,1),i--):o++}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],n=this._$eventProcessor;if(t){var r=arguments,a=r.length;a>4&&(r=bD.call(r,1,r.length-1));for(var i=r[r.length-1],o=t.length,s=0;s<o;){var l=t[s];if(n&&n.filter&&l.query!=null&&!n.filter(e,l.query)){s++;continue}switch(a){case 1:l.h.call(i);break;case 2:l.h.call(i,r[1]);break;case 3:l.h.call(i,r[1],r[2]);break;default:l.h.apply(i,r);break}l.one?(t.splice(s,1),o--):s++}}return n&&n.afterTrigger&&n.afterTrigger(e),this}};function Ore(e,t){var n=e._$eventProcessor;return t!=null&&n&&n.normalizeQuery&&(t=n.normalizeQuery(t)),t}function SD(e,t,n,r,a,i){var o=e._$handlers;if(typeof n=="function"&&(a=r,r=n,n=null),!r||!t)return e;n=Ore(e,n),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===r)return e;var l={h:r,one:i,query:n,ctx:a||e,callAtLast:r.zrEventfulCallAtLast},u=o[t].length-1,c=o[t][u];return c&&c.callAtLast?o[t].splice(u,0,l):o[t].push(l),e}var Nre=MC,bu=Nre,mr={},av={},zG={},kre=Math.log(2);function TC(e,t,n,r,a,i){var o=r+"-"+a,s=e.length;if(i.hasOwnProperty(o))return i[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~a)/kre);return e[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var v=1<<d;v&a||(f+=(h%2?-1:1)*e[n][d]*TC(e,t-1,c,u,a|v,i),h++)}return i[o]=f,f}function Bre(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},a=TC(n,8,0,0,0,r);if(a!==0){for(var i=[],o=0;o<8;o++)for(var s=0;s<8;s++)i[s]==null&&(i[s]=0),i[s]+=((o+s)%2?-1:1)*TC(n,7,o===0?1:0,1<<o,1<<s,r)/a*t[o];return function(l,u,c){var f=u*i[6]+c*i[7]+1;l[0]=(u*i[0]+c*i[1]+i[2])/f,l[1]=(u*i[3]+c*i[4]+i[5])/f}}}zG.buildTransformer=Bre;var Fre=Qn,Vre=zG,_D=Vre.buildTransformer,AD="___zrEVENTSAVED",hx=[];function zre(e,t,n,r,a){return EC(hx,t,r,a,!0)&&EC(e,n,hx[0],hx[1])}function EC(e,t,n,r,a){if(t.getBoundingClientRect&&Fre.domSupported&&!UG(t)){var i=t[AD]||(t[AD]={}),o=Ure(t,i),s=Hre(o,i,a);if(s)return s(e,n,r),!0}return!1}function Ure(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],a=["top","bottom"],i=0;i<4;i++){var o=document.createElement("div"),s=o.style,l=i%2,u=(i>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",a[u]+":0",r[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function Hre(e,t,n){for(var r=n?"invTrans":"trans",a=t[r],i=t.srcCoords,o=!0,s=[],l=[],u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;s.push(d,h),o=o&&i&&d===i[f]&&h===i[f+1],l.push(e[u].offsetLeft,e[u].offsetTop)}return o&&a?a:(t.srcCoords=s,t[r]=n?_D(l,s):_D(s,l))}function UG(e){return e.nodeName.toUpperCase()==="CANVAS"}av.transformLocalCoord=zre;av.transformCoordWithViewport=EC;av.isCanvasEl=UG;var $re=bu;mr.Dispatcher=$re;var PC=Qn,HG=av,Gre=HG.isCanvasEl,Wre=HG.transformCoordWithViewport,vE=typeof window<"u"&&!!window.addEventListener,jre=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vx=[];function RC(e,t,n,r){return n=n||{},r||!PC.canvasSupported?wD(e,t,n):PC.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):wD(e,t,n),n}function wD(e,t,n){if(PC.domSupported&&e.getBoundingClientRect){var r=t.clientX,a=t.clientY;if(Gre(e)){var i=e.getBoundingClientRect();n.zrX=r-i.left,n.zrY=a-i.top;return}else if(Wre(vx,e,r,a)){n.zrX=vx[0],n.zrY=vx[1];return}}n.zrX=n.zrY=0}function $G(e){return e||window.event}function Yre(e,t,n){if(t=$G(t),t.zrX!=null)return t;var r=t.type,a=r&&r.indexOf("touch")>=0;if(!a)RC(e,t,t,n),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var i=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];i&&RC(e,i,t,n)}var o=t.button;return t.which==null&&o!==void 0&&jre.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function Xre(e,t,n,r){vE?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}function qre(e,t,n,r){vE?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)}var Kre=vE?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function Zre(e){return e.which===2||e.which===3}function Qre(e){return e.which>1}mr.clientToLocal=RC;mr.getNativeEvent=$G;mr.normalizeEvent=Yre;mr.addEventListener=Xre;mr.removeEventListener=qre;mr.stop=Kre;mr.isMiddleOrRightButtonOnMouseUpDown=Zre;mr.notLeftMouse=Qre;var Jre=mr,IC=function(){this._track=[]};IC.prototype={constructor:IC,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var a={points:[],touches:[],target:t,event:e},i=0,o=r.length;i<o;i++){var s=r[i],l=Jre.clientToLocal(n,s,{});a.points.push([l.zrX,l.zrY]),a.touches.push(s)}this._track.push(a)}},_recognize:function(e){for(var t in px)if(px.hasOwnProperty(t)){var n=px[t](this._track,e);if(n)return n}}};function CD(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function eae(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var px={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,a=(e[n-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var i=CD(r)/CD(a);!isFinite(i)&&(i=1),t.pinchScale=i;var o=eae(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}},tae=IC,nae=tae,wy=de,rae=Pt,GG=Lre,WG=bu,aae=mr,iae=nae,jG="silent";function oae(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:sae}}function sae(){aae.stop(this.event)}function YG(){}YG.prototype.dispose=function(){};var lae=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ef=function(e,t,n,r){WG.call(this),this.storage=e,this.painter=t,this.painterRoot=r,n=n||new YG,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,GG.call(this),this.setHandlerProxy(n)};ef.prototype={constructor:ef,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(wy.each(lae,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,n=e.zrY,r=XG(this,t,n),a=this._hovered,i=a.target;i&&!i.__zr&&(a=this.findHover(a.x,a.y),i=a.target);var o=this._hovered=r?{x:t,y:n}:this.findHover(t,n),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),i&&s!==i&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(o,"mousemove",e),s&&s!==i&&this.dispatchToElement(o,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,n=e.zrIsToLocalDOM;t!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),t!=="no_globalout"&&!n&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){e=e||{};var r=e.target;if(!(r&&r.silent)){for(var a="on"+t,i=oae(t,e,n);r&&(r[a]&&(i.cancelBubble=r[a].call(r,i)),r.trigger(t,i),r=r.parent,!i.cancelBubble););i.cancelBubble||(this.trigger(t,i),this.painter&&this.painter.eachOtherLayer(function(o){typeof o[a]=="function"&&o[a].call(o,i),o.trigger&&o.trigger(t,i)}))}},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),a={x:e,y:t},i=r.length-1;i>=0;i--){var o;if(r[i]!==n&&!r[i].ignore&&(o=uae(r[i],e,t))&&(!a.topTarget&&(a.topTarget=r[i]),o!==jG)){a.target=r[i];break}}return a},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new iae);var n=this._gestureMgr;t==="start"&&n.clear();var r=n.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(t==="end"&&n.clear(),r){var a=r.type;e.gestureEvent=a,this.dispatchToElement({target:r.target},a,r.event)}}};wy.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){ef.prototype[e]=function(t){var n=t.zrX,r=t.zrY,a=XG(this,n,r),i,o;if((e!=="mouseup"||!a)&&(i=this.findHover(n,r),o=i.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||rae.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}});function uae(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,a;r;){if(r.clipPath&&!r.clipPath.contain(t,n))return!1;r.silent&&(a=!0),r=r.parent}return a?jG:!0}return!1}function XG(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}wy.mixin(ef,WG);wy.mixin(ef,GG);var cae=ef,fae=cae,Vn={},dae=typeof Float32Array>"u"?Array:Float32Array;function qG(){var e=new dae(6);return KG(e),e}function KG(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function ZG(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function hae(e,t,n){var r=t[0]*n[0]+t[2]*n[1],a=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=l,e}function vae(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function pae(e,t,n){var r=t[0],a=t[2],i=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=-r*u+o*c,e[2]=a*c+s*u,e[3]=-a*u+c*s,e[4]=c*i+u*l,e[5]=c*l-u*i,e}function gae(e,t,n){var r=n[0],a=n[1];return e[0]=t[0]*r,e[1]=t[1]*a,e[2]=t[2]*r,e[3]=t[3]*a,e[4]=t[4]*r,e[5]=t[5]*a,e}function mae(e,t){var n=t[0],r=t[2],a=t[4],i=t[1],o=t[3],s=t[5],l=n*o-i*r;return l?(l=1/l,e[0]=o*l,e[1]=-i*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*a)*l,e[5]=(i*a-n*s)*l,e):null}function yae(e){var t=qG();return ZG(t,e),t}Vn.create=qG;Vn.identity=KG;Vn.copy=ZG;Vn.mul=hae;Vn.translate=vae;Vn.rotate=pae;Vn.scale=gae;Vn.invert=mae;Vn.clone=yae;var _i=Vn,QG=Pt,DC=_i.identity,MD=5e-5;function $l(e){return e>MD||e<-MD}var Cy=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Li=Cy.prototype;Li.transform=null;Li.needLocalTransform=function(){return $l(this.rotation)||$l(this.position[0])||$l(this.position[1])||$l(this.scale[0]-1)||$l(this.scale[1]-1)};var wl=[];Li.updateTransform=function(){var e=this.parent,t=e&&e.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&DC(r);return}r=r||_i.create(),n?this.getLocalTransform(r):DC(r),t&&(n?_i.mul(r,e.transform,r):_i.copy(r,e.transform)),this.transform=r;var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(wl);var i=wl[0]<0?-1:1,o=wl[1]<0?-1:1,s=((wl[0]-i)*a+i)/wl[0]||0,l=((wl[1]-o)*a+o)/wl[1]||0;r[0]*=s,r[1]*=s,r[2]*=l,r[3]*=l}this.invTransform=this.invTransform||_i.create(),_i.invert(this.invTransform,r)};Li.getLocalTransform=function(e){return Cy.getLocalTransform(this,e)};Li.setTransform=function(e){var t=this.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)};Li.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Uu=[],gx=_i.create();Li.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=this.position,a=this.scale;$l(t-1)&&(t=Math.sqrt(t)),$l(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(t=-t),e[3]<0&&(n=-n),r[0]=e[4],r[1]=e[5],a[0]=t,a[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/t)}};Li.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(_i.mul(Uu,e.invTransform,t),t=Uu);var n=this.origin;n&&(n[0]||n[1])&&(gx[4]=n[0],gx[5]=n[1],_i.mul(Uu,t,gx),Uu[4]-=n[0],Uu[5]-=n[1],t=Uu),this.setLocalTransform(t)}};Li.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)};Li.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&QG.applyTransform(n,n,r),n};Li.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&QG.applyTransform(n,n,r),n};Cy.getLocalTransform=function(e,t){t=t||[],DC(t);var n=e.origin,r=e.scale||[1,1],a=e.rotation||0,i=e.position||[0,0];return n&&(t[4]-=n[0],t[5]-=n[1]),_i.scale(t,t,r),a&&_i.rotate(t,t,a),n&&(t[4]+=n[0],t[5]+=n[1]),t[4]+=i[0],t[5]+=i[1],t};var xae=Cy,My=xae,Rg={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Rg.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Rg.bounceIn(e*2)*.5:Rg.bounceOut(e*2-1)*.5+.5}},bae=Rg,Sae=bae,_ae=Sae;function LC(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}LC.prototype={constructor:LC,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var n=(e-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,a=typeof r=="string"?_ae[r]:r,i=typeof a=="function"?a(n):n;return this.fire("frame",i),n===1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Aae=LC,wae=Aae,ur={},JG=function(){this.head=null,this.tail=null,this._len=0},iv=JG.prototype;iv.insert=function(e){var t=new e8(e);return this.insertEntry(t),t};iv.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};iv.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--};iv.len=function(){return this._len};iv.clear=function(){this.head=this.tail=null,this._len=0};var e8=function(e){this.value=e,this.next,this.prev},t8=function(e){this._list=new JG,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},pE=t8.prototype;pE.put=function(e,t){var n=this._list,r=this._map,a=null;if(r[e]==null){var i=n.len(),o=this._lastRemovedEntry;if(i>=this._maxSize&&i>0){var s=n.head;n.remove(s),delete r[s.key],a=s.value,this._lastRemovedEntry=s}o?o.value=t:o=new e8(t),o.key=e,n.insertEntry(o),r[e]=o}return a};pE.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value};pE.clear=function(){this._list.clear(),this._map={}};var Cae=t8,n8=Cae,Mae=n8,TD={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ti(e){return e=Math.round(e),e<0?0:e>255?255:e}function Tae(e){return e=Math.round(e),e<0?0:e>360?360:e}function _h(e){return e<0?0:e>1?1:e}function mx(e){return e.length&&e.charAt(e.length-1)==="%"?Ti(parseFloat(e)/100*255):Ti(parseInt(e,10))}function tf(e){return e.length&&e.charAt(e.length-1)==="%"?_h(parseFloat(e)/100):_h(parseFloat(e))}function yx(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function js(e,t,n){return e+(t-e)*n}function yi(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function OC(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var r8=new Mae(20),np=null;function Hu(e,t){np&&OC(np,t),np=r8.put(e,np||t.slice())}function lu(e,t){if(e){t=t||[];var n=r8.get(e);if(n)return OC(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in TD)return OC(t,TD[r]),Hu(e,t),t;if(r.charAt(0)==="#"){if(r.length===4){var a=parseInt(r.substr(1),16);if(!(a>=0&&a<=4095)){yi(t,0,0,0,1);return}return yi(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,1),Hu(e,t),t}else if(r.length===7){var a=parseInt(r.substr(1),16);if(!(a>=0&&a<=16777215)){yi(t,0,0,0,1);return}return yi(t,(a&16711680)>>16,(a&65280)>>8,a&255,1),Hu(e,t),t}return}var i=r.indexOf("("),o=r.indexOf(")");if(i!==-1&&o+1===r.length){var s=r.substr(0,i),l=r.substr(i+1,o-(i+1)).split(","),u=1;switch(s){case"rgba":if(l.length!==4){yi(t,0,0,0,1);return}u=tf(l.pop());case"rgb":if(l.length!==3){yi(t,0,0,0,1);return}return yi(t,mx(l[0]),mx(l[1]),mx(l[2]),u),Hu(e,t),t;case"hsla":if(l.length!==4){yi(t,0,0,0,1);return}return l[3]=tf(l[3]),NC(l,t),Hu(e,t),t;case"hsl":if(l.length!==3){yi(t,0,0,0,1);return}return NC(l,t),Hu(e,t),t;default:return}}yi(t,0,0,0,1)}}function NC(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=tf(e[1]),a=tf(e[2]),i=a<=.5?a*(r+1):a+r-a*r,o=a*2-i;return t=t||[],yi(t,Ti(yx(o,i,n+1/3)*255),Ti(yx(o,i,n)*255),Ti(yx(o,i,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Eae(e){if(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=i-a,s=(i+a)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(i+a):u=o/(2-i-a);var c=((i-t)/6+o/2)/o,f=((i-n)/6+o/2)/o,d=((i-r)/6+o/2)/o;t===i?l=d-f:n===i?l=1/3+c-d:r===i&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}function Pae(e,t){var n=lu(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:e[r]<0&&(n[r]=0);return ov(n,n.length===4?"rgba":"rgb")}}function Rae(e){var t=lu(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function a8(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){n=n||[];var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=t[a],s=t[i],l=r-a;return n[0]=Ti(js(o[0],s[0],l)),n[1]=Ti(js(o[1],s[1],l)),n[2]=Ti(js(o[2],s[2],l)),n[3]=_h(js(o[3],s[3],l)),n}}var Iae=a8;function i8(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),a=Math.floor(r),i=Math.ceil(r),o=lu(t[a]),s=lu(t[i]),l=r-a,u=ov([Ti(js(o[0],s[0],l)),Ti(js(o[1],s[1],l)),Ti(js(o[2],s[2],l)),_h(js(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:a,rightIndex:i,value:r}:u}}var Dae=i8;function Lae(e,t,n,r){if(e=lu(e),e)return e=Eae(e),t!=null&&(e[0]=Tae(t)),n!=null&&(e[1]=tf(n)),r!=null&&(e[2]=tf(r)),ov(NC(e),"rgba")}function Oae(e,t){if(e=lu(e),e&&t!=null)return e[3]=_h(t),ov(e,"rgba")}function ov(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}ur.parse=lu;ur.lift=Pae;ur.toHex=Rae;ur.fastLerp=a8;ur.fastMapToColor=Iae;ur.lerp=i8;ur.mapToColor=Dae;ur.modifyHSL=Lae;ur.modifyAlpha=Oae;ur.stringify=ov;var Nae=wae,kae=ur,Bae=de,cm=Bae.isArrayLike,kC=Array.prototype.slice;function Fae(e,t){return e[t]}function Vae(e,t,n){e[t]=n}function BC(e,t,n){return(t-e)*n+e}function ED(e,t,n){return n>.5?t:e}function PD(e,t,n,r,a){var i=e.length;if(a===1)for(var o=0;o<i;o++)r[o]=BC(e[o],t[o],n);else for(var s=i&&e[0].length,o=0;o<i;o++)for(var l=0;l<s;l++)r[o][l]=BC(e[o][l],t[o][l],n)}function RD(e,t,n){var r=e.length,a=t.length;if(r!==a){var i=r>a;if(i)e.length=a;else for(var o=r;o<a;o++)e.push(n===1?t[o]:kC.call(t[o]))}for(var s=e[0]&&e[0].length,o=0;o<e.length;o++)if(n===1)isNaN(e[o])&&(e[o]=t[o]);else for(var l=0;l<s;l++)isNaN(e[o][l])&&(e[o][l]=t[o][l])}function zae(e,t,n){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;if(n===1){for(var a=0;a<r;a++)if(e[a]!==t[a])return!1}else for(var i=e[0].length,a=0;a<r;a++)for(var o=0;o<i;o++)if(e[a][o]!==t[a][o])return!1;return!0}function ID(e,t,n,r,a,i,o,s,l){var u=e.length;if(l===1)for(var c=0;c<u;c++)s[c]=FC(e[c],t[c],n[c],r[c],a,i,o);else for(var f=e[0].length,c=0;c<u;c++)for(var d=0;d<f;d++)s[c][d]=FC(e[c][d],t[c][d],n[c][d],r[c][d],a,i,o)}function FC(e,t,n,r,a,i,o){var s=(n-e)*.5,l=(r-t)*.5;return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*i+s*a+t}function Uae(e){if(cm(e)){var t=e.length;if(cm(e[0])){for(var n=[],r=0;r<t;r++)n.push(kC.call(e[r]));return n}return kC.call(e)}return e}function DD(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function Hae(e){var t=e[e.length-1].value;return cm(t&&t[0])?2:1}function $ae(e,t,n,r,a,i){var o=e._getter,s=e._setter,l=t==="spline",u=r.length;if(u){var c=r[0].value,f=cm(c),d=!1,h=!1,v=f?Hae(r):0,m;r.sort(function(G,z){return G.time-z.time}),m=r[u-1].time;for(var p=[],g=[],y=r[0].value,x=!0,b=0;b<u;b++){p.push(r[b].time/m);var A=r[b].value;if(f&&zae(A,y,v)||!f&&A===y||(x=!1),y=A,typeof A=="string"){var S=kae.parse(A);S?(A=S,d=!0):h=!0}g.push(A)}if(!(!i&&x)){for(var _=g[u-1],b=0;b<u-1;b++)f?RD(g[b],_,v):isNaN(g[b])&&!isNaN(_)&&!h&&!d&&(g[b]=_);f&&RD(o(e._target,a),_,v);var w=0,C=0,M,T,E,P,R,I;if(d)var D=[0,0,0,0];var B=function(G,z){var N;if(z<0)N=0;else if(z<C){for(M=Math.min(w+1,u-1),N=M;N>=0&&!(p[N]<=z);N--);N=Math.min(N,u-2)}else{for(N=w;N<u&&!(p[N]>z);N++);N=Math.min(N-1,u-2)}w=N,C=z;var U=p[N+1]-p[N];if(U!==0)if(T=(z-p[N])/U,l)if(P=g[N],E=g[N===0?N:N-1],R=g[N>u-2?u-1:N+1],I=g[N>u-3?u-1:N+2],f)ID(E,P,R,I,T,T*T,T*T*T,o(G,a),v);else{var $;if(d)$=ID(E,P,R,I,T,T*T,T*T*T,D,1),$=DD(D);else{if(h)return ED(P,R,T);$=FC(E,P,R,I,T,T*T,T*T*T)}s(G,a,$)}else if(f)PD(g[N],g[N+1],T,o(G,a),v);else{var $;if(d)PD(g[N],g[N+1],T,D,1),$=DD(D);else{if(h)return ED(g[N],g[N+1],T);$=BC(g[N],g[N+1],T)}s(G,a,$)}},F=new Nae({target:e._target,life:m,loop:e._loop,delay:e._delay,onframe:B,ondestroy:n});return t&&t!=="spline"&&(F.easing=t),F}}}var o8=function(e,t,n,r){this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||Fae,this._setter=r||Vae,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};o8.prototype={when:function(e,t){var n=this._tracks;for(var r in t)if(t.hasOwnProperty(r)){if(!n[r]){n[r]=[];var a=this._getter(this._target,r);if(a==null)continue;e!==0&&n[r].push({time:0,value:Uae(a)})}n[r].push({time:e,value:t[r]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e,t){var n=this,r=0,a=function(){r--,r||n._doneCallback()},i;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=$ae(this,e,a,this._tracks[o],o,t);s&&(this._clipList.push(s),r++,this.animation&&this.animation.addClip(s),i=s)}if(i){var l=i.onframe;i.onframe=function(u,c){l(u,c);for(var f=0;f<n._onframeList.length;f++)n._onframeList[f](u,c)}}return r||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,r=0;r<t.length;r++){var a=t[r];e&&a.onframe(this._target,1),n&&n.removeClip(a)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var Gae=o8,s8=Gae,Tf={},l8=1;typeof window<"u"&&(l8=Math.max(window.devicePixelRatio||1,1));var Wae=0,jae=l8;Tf.debugMode=Wae;Tf.devicePixelRatio=jae;var Yae=Tf,Xae=Yae.debugMode,u8=function(){};Xae===1&&(u8=console.error);var qae=u8,sv=qae,Kae=s8,Zae=sv,lv=de,Qae=lv.isString,xx=lv.isFunction,Jae=lv.isObject,eie=lv.isArrayLike,tie=lv.indexOf,VC=function(){this.animators=[]};VC.prototype={constructor:VC,animate:function(e,t){var n,r=!1,a=this,i=this.__zr;if(e){var o=e.split("."),s=a;r=o[0]==="shape";for(var l=0,u=o.length;l<u;l++)s&&(s=s[o[l]]);s&&(n=s)}else n=a;if(!n){Zae('Property "'+e+'" is not existed in element '+a.id);return}var c=a.animators,f=new Kae(n,t);return f.during(function(d){a.dirty(r)}).done(function(){c.splice(tie(c,f),1)}),c.push(f),i&&i.animation.addAnimator(f),f},stopAnimation:function(e){for(var t=this.animators,n=t.length,r=0;r<n;r++)t[r].stop(e);return t.length=0,this},animateTo:function(e,t,n,r,a,i){LD(this,e,t,n,r,a,i)},animateFrom:function(e,t,n,r,a,i){LD(this,e,t,n,r,a,i,!0)}};function LD(e,t,n,r,a,i,o,s){Qae(r)?(i=a,a=r,r=0):xx(a)?(i=a,a="linear",r=0):xx(r)?(i=r,r=0):xx(n)?(i=n,n=500):n||(n=500),e.stopAnimation(),c8(e,"",e,t,n,r,s);var l=e.animators.slice(),u=l.length;function c(){u--,u||i&&i()}u||i&&i();for(var f=0;f<l.length;f++)l[f].done(c).start(a,o)}function c8(e,t,n,r,a,i,o){var s={},l=0;for(var u in r)r.hasOwnProperty(u)&&(n[u]!=null?Jae(r[u])&&!eie(r[u])?c8(e,t?t+"."+u:u,n[u],r[u],a,i,o):(o?(s[u]=n[u],OD(e,t,u,r[u])):s[u]=r[u],l++):r[u]!=null&&!o&&OD(e,t,u,r[u]));l>0&&e.animate(t,!1).when(a??500,s).delay(i||0)}function OD(e,t,n,r){if(!t)e.attr(n,r);else{var a={};a[t]={},a[t][n]=r,e.attr(a)}}var nie=VC,rie=nie,aie=PG,f8=bu,d8=My,h8=rie,Ty=de,uv=function(e){d8.call(this,e),f8.call(this,e),h8.call(this,e),this.id=e.id||aie()};uv.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ty.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};Ty.mixin(uv,h8);Ty.mixin(uv,d8);Ty.mixin(uv,f8);var iie=uv,v8=iie,oie=Pt,rp=Vn,ap=oie.applyTransform,ip=Math.min,op=Math.max;function $s(e,t,n,r){n<0&&(e=e+n,n=-n),r<0&&(t=t+r,r=-r),this.x=e,this.y=t,this.width=n,this.height=r}$s.prototype={constructor:$s,union:function(e){var t=ip(e.x,this.x),n=ip(e.y,this.y);this.width=op(e.x+e.width,this.x+this.width)-t,this.height=op(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[],n=[],r=[];return function(a){if(a){e[0]=n[0]=this.x,e[1]=r[1]=this.y,t[0]=r[0]=this.x+this.width,t[1]=n[1]=this.y+this.height,ap(e,e,a),ap(t,t,a),ap(n,n,a),ap(r,r,a),this.x=ip(e[0],t[0],n[0],r[0]),this.y=ip(e[1],t[1],n[1],r[1]);var i=op(e[0],t[0],n[0],r[0]),o=op(e[1],t[1],n[1],r[1]);this.width=i-this.x,this.height=o-this.y}}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,a=rp.create();return rp.translate(a,a,[-t.x,-t.y]),rp.scale(a,a,[n,r]),rp.translate(a,a,[e.x,e.y]),a},intersect:function(e){if(!e)return!1;e instanceof $s||(e=$s.create(e));var t=this,n=t.x,r=t.x+t.width,a=t.y,i=t.y+t.height,o=e.x,s=e.x+e.width,l=e.y,u=e.y+e.height;return!(r<o||s<n||i<l||u<a)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new $s(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};$s.create=function(e){return new $s(e.x,e.y,e.width,e.height)};var sie=$s,In=sie,p8=de,g8=v8,lie=In,Uo=function(e){e=e||{},g8.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};Uo.prototype={constructor:Uo,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,r=n.indexOf(t);r>=0&&(n.splice(r,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof Uo&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var t=this.__zr,n=this.__storage,r=this._children,a=p8.indexOf(r,e);return a<0?this:(r.splice(a,1),e.parent=null,n&&(n.delFromStorage(e),e instanceof Uo&&e.delChildrenFromStorage(n)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,n,r;for(r=0;r<e.length;r++)n=e[r],t&&(t.delFromStorage(n),n instanceof Uo&&n.delChildrenFromStorage(t)),n.parent=null;return e.length=0,this},eachChild:function(e,t){for(var n=this._children,r=0;r<n.length;r++){var a=n[r];e.call(t,a,r)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var r=this._children[n];e.call(t,r),r.type==="group"&&r.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToStorage(n),n instanceof Uo&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromStorage(n),n instanceof Uo&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new lie(0,0,0,0),r=e||this._children,a=[],i=0;i<r.length;i++){var o=r[i];if(!(o.ignore||o.invisible)){var s=o.getBoundingRect(),l=o.getLocalTransform(a);l?(n.copy(s),n.applyTransform(l),t=t||n.clone(),t.union(n)):(t=t||s.clone(),t.union(s))}}return t||n}};p8.inherits(Uo,g8);var uie=Uo,Su=uie,m8=32,od=7;function cie(e){for(var t=0;e>=m8;)t|=e&1,e>>=1;return e+t}function ND(e,t,n,r){var a=t+1;if(a===n)return 1;if(r(e[a++],e[t])<0){for(;a<n&&r(e[a],e[a-1])<0;)a++;fie(e,t,a)}else for(;a<n&&r(e[a],e[a-1])>=0;)a++;return a-t}function fie(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function kD(e,t,n,r,a){for(r===t&&r++;r<n;r++){for(var i=e[r],o=t,s=r,l;o<s;)l=o+s>>>1,a(i,e[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=i}}function bx(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])>0){for(s=r-a;l<s&&i(e,t[n+a+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&i(e,t[n+a-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])>0?o=c+1:l=c}return l}function Sx(e,t,n,r,a,i){var o=0,s=0,l=1;if(i(e,t[n+a])<0){for(s=a+1;l<s&&i(e,t[n+a-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=r-a;l<s&&i(e,t[n+a+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var c=o+(l-o>>>1);i(e,t[n+c])<0?l=c:o=c+1}return l}function die(e,t){var n=od,r,a,i=0;e.length;var o=[];r=[],a=[];function s(h,v){r[i]=h,a[i]=v,i+=1}function l(){for(;i>1;){var h=i-2;if(h>=1&&a[h-1]<=a[h]+a[h+1]||h>=2&&a[h-2]<=a[h]+a[h-1])a[h-1]<a[h+1]&&h--;else if(a[h]>a[h+1])break;c(h)}}function u(){for(;i>1;){var h=i-2;h>0&&a[h-1]<a[h+1]&&h--,c(h)}}function c(h){var v=r[h],m=a[h],p=r[h+1],g=a[h+1];a[h]=m+g,h===i-3&&(r[h+1]=r[h+2],a[h+1]=a[h+2]),i--;var y=Sx(e[p],e,v,m,0,t);v+=y,m-=y,m!==0&&(g=bx(e[v+m-1],e,p,g,g-1,t),g!==0&&(m<=g?f(v,m,p,g):d(v,m,p,g)))}function f(h,v,m,p){var g=0;for(g=0;g<v;g++)o[g]=e[h+g];var y=0,x=m,b=h;if(e[b++]=e[x++],--p===0){for(g=0;g<v;g++)e[b+g]=o[y+g];return}if(v===1){for(g=0;g<p;g++)e[b+g]=e[x+g];e[b+p]=o[y];return}for(var A=n,S,_,w;;){S=0,_=0,w=!1;do if(t(e[x],o[y])<0){if(e[b++]=e[x++],_++,S=0,--p===0){w=!0;break}}else if(e[b++]=o[y++],S++,_=0,--v===1){w=!0;break}while((S|_)<A);if(w)break;do{if(S=Sx(e[x],o,y,v,0,t),S!==0){for(g=0;g<S;g++)e[b+g]=o[y+g];if(b+=S,y+=S,v-=S,v<=1){w=!0;break}}if(e[b++]=e[x++],--p===0){w=!0;break}if(_=bx(o[y],e,x,p,0,t),_!==0){for(g=0;g<_;g++)e[b+g]=e[x+g];if(b+=_,x+=_,p-=_,p===0){w=!0;break}}if(e[b++]=o[y++],--v===1){w=!0;break}A--}while(S>=od||_>=od);if(w)break;A<0&&(A=0),A+=2}if(n=A,n<1&&(n=1),v===1){for(g=0;g<p;g++)e[b+g]=e[x+g];e[b+p]=o[y]}else{if(v===0)throw new Error;for(g=0;g<v;g++)e[b+g]=o[y+g]}}function d(h,v,m,p){var g=0;for(g=0;g<p;g++)o[g]=e[m+g];var y=h+v-1,x=p-1,b=m+p-1,A=0,S=0;if(e[b--]=e[y--],--v===0){for(A=b-(p-1),g=0;g<p;g++)e[A+g]=o[g];return}if(p===1){for(b-=v,y-=v,S=b+1,A=y+1,g=v-1;g>=0;g--)e[S+g]=e[A+g];e[b]=o[x];return}for(var _=n;;){var w=0,C=0,M=!1;do if(t(o[x],e[y])<0){if(e[b--]=e[y--],w++,C=0,--v===0){M=!0;break}}else if(e[b--]=o[x--],C++,w=0,--p===1){M=!0;break}while((w|C)<_);if(M)break;do{if(w=v-Sx(o[x],e,h,v,v-1,t),w!==0){for(b-=w,y-=w,v-=w,S=b+1,A=y+1,g=w-1;g>=0;g--)e[S+g]=e[A+g];if(v===0){M=!0;break}}if(e[b--]=o[x--],--p===1){M=!0;break}if(C=p-bx(e[y],o,0,p,p-1,t),C!==0){for(b-=C,x-=C,p-=C,S=b+1,A=x+1,g=0;g<C;g++)e[S+g]=o[A+g];if(p<=1){M=!0;break}}if(e[b--]=e[y--],--v===0){M=!0;break}_--}while(w>=od||C>=od);if(M)break;_<0&&(_=0),_+=2}if(n=_,n<1&&(n=1),p===1){for(b-=v,y-=v,S=b+1,A=y+1,g=v-1;g>=0;g--)e[S+g]=e[A+g];e[b]=o[x]}else{if(p===0)throw new Error;for(A=b-(p-1),g=0;g<p;g++)e[A+g]=o[g]}}this.mergeRuns=l,this.forceMergeRuns=u,this.pushRun=s}function hie(e,t,n,r){n||(n=0),r||(r=e.length);var a=r-n;if(!(a<2)){var i=0;if(a<m8){i=ND(e,n,r,t),kD(e,n,r,n+i,t);return}var o=new die(e,t),s=cie(a);do{if(i=ND(e,n,r,t),i<s){var l=a;l>s&&(l=s),kD(e,n,n+l,n+i,t),i=l}o.pushRun(n,i),o.mergeRuns(),a-=i,n+=i}while(a!==0);o.forceMergeRuns()}}var gE=hie,vie=de,pie=Qn,_x=Su,gie=gE;function BD(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var zC=function(){this._roots=[],this._displayList=[],this._displayListLen=0};zC.prototype={constructor:zC,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,a=t.length;r<a;r++)this._updateAndAddDisplayable(t[r],null,e);n.length=this._displayListLen,pie.canvasSupported&&gie(n,BD)},_updateAndAddDisplayable:function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var r=e.clipPath;if(r){t?t=t.slice():t=[];for(var a=r,i=e;a;)a.parent=i,a.updateTransform(),t.push(a),i=a,a=a.clipPath}if(e.isGroup){for(var o=e._children,s=0;s<o.length;s++){var l=o[s];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof _x&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof _x&&n.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var a=vie.indexOf(this._roots,e);a>=0&&(this.delFromStorage(e),this._roots.splice(a,1),e instanceof _x&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:BD};var mie=zC,yie=mie,xie={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function bie(e,t,n){return xie.hasOwnProperty(t)?n*=e.dpr:n}var y8=bie,Ef={},Sie={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},_ie=9;Ef.ContextCachedBy=Sie;Ef.WILL_BE_RESTORED=_ie;var Aie=y8,wie=Ef,FD=wie.ContextCachedBy,fm=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Ah=function(e){this.extendFrom(e,!1)};function Cie(e,t,n){var r=t.x==null?0:t.x,a=t.x2==null?1:t.x2,i=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,a=a*n.width+n.x,i=i*n.height+n.y,o=o*n.height+n.y),r=isNaN(r)?0:r,a=isNaN(a)?1:a,i=isNaN(i)?0:i,o=isNaN(o)?0:o;var s=e.createLinearGradient(r,i,a,o);return s}function Mie(e,t,n){var r=n.width,a=n.height,i=Math.min(r,a),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*r+n.x,s=s*a+n.y,l=l*i);var u=e.createRadialGradient(o,s,0,o,s,l);return u}Ah.prototype={constructor:Ah,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,n){var r=this,a=n&&n.style,i=!a||e.__attrCachedBy!==FD.STYLE_BIND;e.__attrCachedBy=FD.STYLE_BIND;for(var o=0;o<fm.length;o++){var s=fm[o],l=s[0];(i||r[l]!==a[l])&&(e[l]=Aie(e,l,r[l]||s[1]))}if((i||r.fill!==a.fill)&&(e.fillStyle=r.fill),(i||r.stroke!==a.stroke)&&(e.strokeStyle=r.stroke),(i||r.opacity!==a.opacity)&&(e.globalAlpha=r.opacity==null?1:r.opacity),(i||r.blend!==a.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var u=r.lineWidth;e.lineWidth=u/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&(t===!0||(t===!1?!this.hasOwnProperty(n):e[n]!=null))&&(this[n]=e[n])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,n){for(var r=t.type==="radial"?Mie:Cie,a=r(e,t,n),i=t.colorStops,o=0;o<i.length;o++)a.addColorStop(i[o].offset,i[o].color);return a}};var UC=Ah.prototype;for(var Ax=0;Ax<fm.length;Ax++){var Cx=fm[Ax];Cx[0]in UC||(UC[Cx[0]]=Cx[1])}Ah.getGradient=UC.getGradient;var Tie=Ah,mE=Tie,x8=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};x8.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var Eie=x8,b8=Eie,S8=de,Pie=Tf,Rie=Pie.devicePixelRatio,Iie=mE,Die=b8;function Lie(){return!1}function _8(e,t,n){var r=S8.createCanvas(),a=t.getWidth(),i=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=a+"px",o.height=i+"px",r.setAttribute("data-zr-dom-id",e)),r.width=a*n,r.height=i*n,r}var HC=function(e,t,n){var r;n=n||Rie,typeof e=="string"?r=_8(e,t,n):S8.isObject(e)&&(r=e,e=r.id),this.id=e,this.dom=r;var a=r.style;a&&(r.onselectstart=Lie,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};HC.prototype={constructor:HC,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=_8("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,r=this.dom,a=r.style,i=this.domBack;a&&(a.width=e+"px",a.height=t+"px"),r.width=e*n,r.height=t*n,i&&(i.width=e*n,i.height=t*n,n!==1&&this.ctxBack.scale(n,n))},clear:function(e,o){var n=this.dom,r=this.ctx,a=n.width,i=n.height,o=o||this.clearColor,s=this.motionBlur&&!e,l=this.lastFrameAlpha,u=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/u,i/u)),r.clearRect(0,0,a,i),o&&o!=="transparent"){var c;o.colorStops?(c=o.__canvasGradient||Iie.getGradient(r,o,{x:0,y:0,width:a,height:i}),o.__canvasGradient=c):o.image&&(c=Die.prototype.getCanvasPattern.call(o,r)),r.save(),r.fillStyle=c||o,r.fillRect(0,0,a,i),r.restore()}if(s){var f=this.domBack;r.save(),r.globalAlpha=l,r.drawImage(f,0,0,a,i),r.restore()}}};var Oie=HC,Nie=Oie,kie=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},A8=kie,Oi={},wn={},Pf={},Bie=n8,GC=new Bie(50);function Fie(e){if(typeof e=="string"){var t=GC.get(e);return t&&t.image}else return e}function Vie(e,t,n,r,a){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var i=GC.get(e),o={hostEl:n,cb:r,cbPayload:a};return i?(t=i.image,!w8(t)&&i.pending.push(o)):(t=new Image,t.onload=t.onerror=zie,GC.put(e,t.__cachedImgObj={image:t,pending:[o]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function zie(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function w8(e){return e&&e.width&&e.height}Pf.findExistImage=Fie;Pf.createOrUpdateImage=Vie;Pf.isImageReady=w8;var C8=In,VD=Pf,cv=de,Uie=cv.getContext,Hie=cv.extend,Ys=cv.retrieve2,$ie=cv.retrieve3,Gie=cv.trim,sp={},Mx=0,Wie=5e3,Tx=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,yE="12px sans-serif",xE={};function jie(e,t){xE[e]=t}function ao(e,t){t=t||yE;var n=e+":"+t;if(sp[n])return sp[n];for(var r=(e+"").split(`
`),a=0,i=0,o=r.length;i<o;i++)a=Math.max(R8(r[i],t).width,a);return Mx>Wie&&(Mx=0,sp={}),Mx++,sp[n]=a,a}function Yie(e,t,n,r,a,i,o,s){return o?qie(e,t,n,r,a,i,o,s):Xie(e,t,n,r,a,i,s)}function Xie(e,t,n,r,a,i,o){var s=I8(e,t,a,i,o),l=ao(e,t);a&&(l+=a[1]+a[3]);var u=s.outerHeight,c=bE(0,l,n),f=SE(0,u,r),d=new C8(c,f,l,u);return d.lineHeight=s.lineHeight,d}function qie(e,t,n,r,a,i,o,s){var l=D8(e,{rich:o,truncate:s,font:t,textAlign:n,textPadding:a,textLineHeight:i}),u=l.outerWidth,c=l.outerHeight,f=bE(0,u,n),d=SE(0,c,r);return new C8(f,d,u,c)}function bE(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function SE(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function M8(e,t,n){var r=t.textPosition,a=t.textDistance,i=n.x,o=n.y;a=a||0;var s=n.height,l=n.width,u=s/2,c="left",f="top";switch(r){case"left":i-=a,o+=u,c="right",f="middle";break;case"right":i+=a+l,o+=u,f="middle";break;case"top":i+=l/2,o-=a,c="center",f="bottom";break;case"bottom":i+=l/2,o+=s+a,c="center";break;case"inside":i+=l/2,o+=u,c="center",f="middle";break;case"insideLeft":i+=a,o+=u,f="middle";break;case"insideRight":i+=l-a,o+=u,c="right",f="middle";break;case"insideTop":i+=l/2,o+=a,c="center";break;case"insideBottom":i+=l/2,o+=s-a,c="center",f="bottom";break;case"insideTopLeft":i+=a,o+=a;break;case"insideTopRight":i+=l-a,o+=a,c="right";break;case"insideBottomLeft":i+=a,o+=s-a,f="bottom";break;case"insideBottomRight":i+=l-a,o+=s-a,c="right",f="bottom";break}return e=e||{},e.x=i,e.y=o,e.textAlign=c,e.textVerticalAlign=f,e}function Kie(e,t,n){var r={textPosition:e,textDistance:n};return M8({},r,t)}function T8(e,t,n,r,a){if(!t)return"";var i=(e+"").split(`
`);a=E8(t,n,r,a);for(var o=0,s=i.length;o<s;o++)i[o]=P8(i[o],a);return i.join(`
`)}function E8(e,t,a,r){r=Hie({},r),r.font=t;var a=Ys(a,"...");r.maxIterations=Ys(r.maxIterations,2);var i=r.minChar=Ys(r.minChar,0);r.cnCharWidth=ao("国",t);var o=r.ascCharWidth=ao("a",t);r.placeholder=Ys(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<i&&s>=o;l++)s-=o;var u=ao(a,t);return u>s&&(a="",u=0),s=e-u,r.ellipsis=a,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=e,r}function P8(e,t){var n=t.containerWidth,r=t.font,a=t.contentWidth;if(!n)return"";var i=ao(e,r);if(i<=n)return e;for(var o=0;;o++){if(i<=a||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?Zie(e,a,t.ascCharWidth,t.cnCharWidth):i>0?Math.floor(e.length*a/i):0;e=e.substr(0,s),i=ao(e,r)}return e===""&&(e=t.placeholder),e}function Zie(e,t,n,r){for(var a=0,i=0,o=e.length;i<o&&a<t;i++){var s=e.charCodeAt(i);a+=0<=s&&s<=127?n:r}return i}function _E(e){return ao("国",e)}function R8(e,t){return xE.measureText(e,t)}xE.measureText=function(e,t){var n=Uie();return n.font=t||yE,n.measureText(e)};function I8(e,t,n,r,a){e!=null&&(e+="");var i=Ys(r,_E(t)),o=e?e.split(`
`):[],s=o.length*i,l=s,u=!0;if(n&&(l+=n[0]+n[2]),e&&a){u=!1;var c=a.outerHeight,f=a.outerWidth;if(c!=null&&l>c)e="",o=[];else if(f!=null)for(var d=E8(f-(n?n[1]+n[3]:0),t,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),h=0,v=o.length;h<v;h++)o[h]=P8(o[h],d)}return{lines:o,height:s,outerHeight:l,lineHeight:i,canCacheByTextString:u}}function D8(e,t){var n={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return n;for(var r=Tx.lastIndex=0,a;(a=Tx.exec(e))!=null;){var i=a.index;i>r&&Ex(n,e.substring(r,i)),Ex(n,a[2],a[1]),r=Tx.lastIndex}r<e.length&&Ex(n,e.substring(r,e.length));var o=n.lines,s=0,l=0,u=[],c=t.textPadding,f=t.truncate,d=f&&f.outerWidth,h=f&&f.outerHeight;c&&(d!=null&&(d-=c[1]+c[3]),h!=null&&(h-=c[0]+c[2]));for(var v=0;v<o.length;v++){for(var m=o[v],p=0,g=0,y=0;y<m.tokens.length;y++){var x=m.tokens[y],b=x.styleName&&t.rich[x.styleName]||{},A=x.textPadding=b.textPadding,S=x.font=b.font||t.font,_=x.textHeight=Ys(b.textHeight,_E(S));if(A&&(_+=A[0]+A[2]),x.height=_,x.lineHeight=$ie(b.textLineHeight,t.textLineHeight,_),x.textAlign=b&&b.textAlign||t.textAlign,x.textVerticalAlign=b&&b.textVerticalAlign||"middle",h!=null&&s+x.lineHeight>h)return{lines:[],width:0,height:0};x.textWidth=ao(x.text,S);var w=b.textWidth,C=w==null||w==="auto";if(typeof w=="string"&&w.charAt(w.length-1)==="%")x.percentWidth=w,u.push(x),w=0;else{if(C){w=x.textWidth;var M=b.textBackgroundColor,T=M&&M.image;T&&(T=VD.findExistImage(T),VD.isImageReady(T)&&(w=Math.max(w,T.width*_/T.height)))}var E=A?A[1]+A[3]:0;w+=E;var P=d!=null?d-g:null;P!=null&&P<w&&(!C||P<E?(x.text="",x.textWidth=w=0):(x.text=T8(x.text,P-E,S,f.ellipsis,{minChar:f.minChar}),x.textWidth=ao(x.text,S),w=x.textWidth+E))}g+=x.width=w,b&&(p=Math.max(p,x.lineHeight))}m.width=g,m.lineHeight=p,s+=p,l=Math.max(l,g)}n.outerWidth=n.width=Ys(t.textWidth,l),n.outerHeight=n.height=Ys(t.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var v=0;v<u.length;v++){var x=u[v],R=x.percentWidth;x.width=parseInt(R,10)/100*l}return n}function Ex(e,t,n){for(var r=t==="",a=t.split(`
`),i=e.lines,o=0;o<a.length;o++){var s=a[o],l={styleName:n,text:s,isLineHolder:!s&&!r};if(o)i.push({tokens:[l]});else{var u=(i[i.length-1]||(i[0]={tokens:[]})).tokens,c=u.length;c===1&&u[0].isLineHolder?u[0]=l:(s||!c||r)&&u.push(l)}}}function Qie(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&Gie(t)||e.textFont||e.font}wn.DEFAULT_FONT=yE;wn.$override=jie;wn.getWidth=ao;wn.getBoundingRect=Yie;wn.adjustTextX=bE;wn.adjustTextY=SE;wn.calculateTextPosition=M8;wn.adjustTextPositionOnRect=Kie;wn.truncateText=T8;wn.getLineHeight=_E;wn.measureText=R8;wn.parsePlainText=I8;wn.parseRichText=D8;wn.makeFont=Qie;var AE={};function Jie(e,t){var n=t.x,r=t.y,a=t.width,i=t.height,o=t.r,s,l,u,c;a<0&&(n=n+a,a=-a),i<0&&(r=r+i,i=-i),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>a&&(f=s+l,s*=a/f,l*=a/f),u+c>a&&(f=u+c,u*=a/f,c*=a/f),l+u>i&&(f=l+u,l*=i/f,u*=i/f),s+c>i&&(f=s+c,s*=i/f,c*=i/f),e.moveTo(n+s,r),e.lineTo(n+a-l,r),l!==0&&e.arc(n+a-l,r+l,l,-Math.PI/2,0),e.lineTo(n+a,r+i-u),u!==0&&e.arc(n+a-u,r+i-u,u,0,Math.PI/2),e.lineTo(n+c,r+i),c!==0&&e.arc(n+c,r+i-c,c,Math.PI/2,Math.PI),e.lineTo(n,r+s),s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}AE.buildPath=Jie;var Rf=de,eoe=Rf.retrieve2,Px=Rf.retrieve3,toe=Rf.each,noe=Rf.normalizeCssArray,roe=Rf.isString,aoe=Rf.isObject,eo=wn,ioe=AE,zD=Pf,L8=y8,O8=Ef,jd=O8.ContextCachedBy,N8=O8.WILL_BE_RESTORED,WC=eo.DEFAULT_FONT,ooe={left:1,right:1,center:1},soe={top:1,bottom:1,middle:1},UD=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],HD={},k8={};function loe(e){return $D(e),toe(e.rich,$D),e}function $D(e){if(e){e.font=eo.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||ooe[t]?t:"left";var n=e.textVerticalAlign||e.textBaseline;n==="center"&&(n="middle"),e.textVerticalAlign=n==null||soe[n]?n:"top";var r=e.textPadding;r&&(e.textPadding=noe(e.textPadding))}}function uoe(e,t,n,r,a,i){r.rich?foe(e,t,n,r,a,i):coe(e,t,n,r,a,i)}function coe(e,t,n,r,a,i){var o=wE(r),s,l=!1,u=t.__attrCachedBy===jd.PLAIN_TEXT;i!==N8?(i&&(s=i.style,l=!o&&u&&s),t.__attrCachedBy=o?jd.NONE:jd.PLAIN_TEXT):u&&(t.__attrCachedBy=jd.NONE);var c=r.font||WC;(!l||c!==(s.font||WC))&&(t.font=c);var f=e.__computedFont;e.__styleFont!==c&&(e.__styleFont=c,f=e.__computedFont=t.font);var d=r.textPadding,h=r.textLineHeight,v=e.__textCotentBlock;(!v||e.__dirtyText)&&(v=e.__textCotentBlock=eo.parsePlainText(n,f,d,h,r.truncate));var m=v.outerHeight,p=v.lines,g=v.lineHeight,y=ME(k8,e,r,a),x=y.baseX,b=y.baseY,A=y.textAlign||"left",S=y.textVerticalAlign;B8(t,r,a,x,b);var _=eo.adjustTextY(b,m,S),w=x,C=_;if(o||d){var M=eo.getWidth(n,f),T=M;d&&(T+=d[1]+d[3]);var E=eo.adjustTextX(x,T,A);o&&CE(e,t,r,E,_,T,m),d&&(w=F8(x,A,d),C+=d[0])}t.textAlign=A,t.textBaseline="middle",t.globalAlpha=r.opacity||1;for(var P=0;P<UD.length;P++){var R=UD[P],I=R[0],D=R[1],B=r[I];(!l||B!==s[I])&&(t[D]=L8(t,D,B||R[2]))}C+=g/2;var F=r.textStrokeWidth,G=l?s.textStrokeWidth:null,z=!l||F!==G,N=!l||z||r.textStroke!==s.textStroke,U=TE(r.textStroke,F),$=EE(r.textFill);if(U&&(z&&(t.lineWidth=F),N&&(t.strokeStyle=U)),$&&(!l||r.textFill!==s.textFill)&&(t.fillStyle=$),p.length===1)U&&t.strokeText(p[0],w,C),$&&t.fillText(p[0],w,C);else for(var P=0;P<p.length;P++)U&&t.strokeText(p[P],w,C),$&&t.fillText(p[P],w,C),C+=g}function foe(e,t,n,r,a,i){i!==N8&&(t.__attrCachedBy=jd.NONE);var o=e.__textCotentBlock;(!o||e.__dirtyText)&&(o=e.__textCotentBlock=eo.parseRichText(n,r)),doe(e,t,o,r,a)}function doe(e,t,n,r,a){var i=n.width,o=n.outerWidth,s=n.outerHeight,l=r.textPadding,u=ME(k8,e,r,a),c=u.baseX,f=u.baseY,d=u.textAlign,h=u.textVerticalAlign;B8(t,r,a,c,f);var v=eo.adjustTextX(c,o,d),m=eo.adjustTextY(f,s,h),p=v,g=m;l&&(p+=l[3],g+=l[0]);var y=p+i;wE(r)&&CE(e,t,r,v,m,o,s);for(var x=0;x<n.lines.length;x++){for(var b=n.lines[x],A=b.tokens,S=A.length,_=b.lineHeight,w=b.width,C=0,M=p,T=y,E=S-1,P;C<S&&(P=A[C],!P.textAlign||P.textAlign==="left");)Rx(e,t,P,r,_,g,M,"left"),w-=P.width,M+=P.width,C++;for(;E>=0&&(P=A[E],P.textAlign==="right");)Rx(e,t,P,r,_,g,T,"right"),w-=P.width,T-=P.width,E--;for(M+=(i-(M-p)-(y-T)-w)/2;C<=E;)P=A[C],Rx(e,t,P,r,_,g,M+P.width/2,"center"),M+=P.width,C++;g+=_}}function B8(e,t,n,r,a){if(n&&t.textRotation){var i=t.textOrigin;i==="center"?(r=n.width/2+n.x,a=n.height/2+n.y):i&&(r=i[0]+n.x,a=i[1]+n.y),e.translate(r,a),e.rotate(-t.textRotation),e.translate(-r,-a)}}function Rx(e,t,n,r,a,i,o,s){var l=r.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,c=i+a/2;u==="top"?c=i+n.height/2:u==="bottom"&&(c=i+a-n.height/2),!n.isLineHolder&&wE(l)&&CE(e,t,l,s==="right"?o-n.width:s==="center"?o-n.width/2:o,c-n.height/2,n.width,n.height);var f=n.textPadding;f&&(o=F8(o,s,f),c-=n.height/2-f[2]-n.textHeight/2),Or(t,"shadowBlur",Px(l.textShadowBlur,r.textShadowBlur,0)),Or(t,"shadowColor",l.textShadowColor||r.textShadowColor||"transparent"),Or(t,"shadowOffsetX",Px(l.textShadowOffsetX,r.textShadowOffsetX,0)),Or(t,"shadowOffsetY",Px(l.textShadowOffsetY,r.textShadowOffsetY,0)),Or(t,"textAlign",s),Or(t,"textBaseline","middle"),Or(t,"font",n.font||WC);var d=TE(l.textStroke||r.textStroke,v),h=EE(l.textFill||r.textFill),v=eoe(l.textStrokeWidth,r.textStrokeWidth);d&&(Or(t,"lineWidth",v),Or(t,"strokeStyle",d),t.strokeText(n.text,o,c)),h&&(Or(t,"fillStyle",h),t.fillText(n.text,o,c))}function wE(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function CE(e,t,n,r,a,i,o){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,c=roe(s);if(Or(t,"shadowBlur",n.textBoxShadowBlur||0),Or(t,"shadowColor",n.textBoxShadowColor||"transparent"),Or(t,"shadowOffsetX",n.textBoxShadowOffsetX||0),Or(t,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||l&&u){t.beginPath();var f=n.textBorderRadius;f?ioe.buildPath(t,{x:r,y:a,width:i,height:o,r:f}):t.rect(r,a,i,o),t.closePath()}if(c)if(Or(t,"fillStyle",s),n.fillOpacity!=null){var d=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=d}else t.fill();else if(aoe(s)){var h=s.image;h=zD.createOrUpdateImage(h,null,e,hoe,s),h&&zD.isImageReady(h)&&t.drawImage(h,r,a,i,o)}if(l&&u)if(Or(t,"lineWidth",l),Or(t,"strokeStyle",u),n.strokeOpacity!=null){var d=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=d}else t.stroke()}function hoe(e,t){t.image=e}function ME(e,t,n,r){var a=n.x||0,i=n.y||0,o=n.textAlign,s=n.textVerticalAlign;if(r){var l=n.textPosition;if(l instanceof Array)a=r.x+jC(l[0],r.width),i=r.y+jC(l[1],r.height);else{var u=t&&t.calculateTextPosition?t.calculateTextPosition(HD,n,r):eo.calculateTextPosition(HD,n,r);a=u.x,i=u.y,o=o||u.textAlign,s=s||u.textVerticalAlign}var c=n.textOffset;c&&(a+=c[0],i+=c[1])}return e=e||{},e.baseX=a,e.baseY=i,e.textAlign=o,e.textVerticalAlign=s,e}function Or(e,t,n){return e[t]=L8(e,t,n),e[t]}function TE(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function EE(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function jC(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function F8(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function voe(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}Oi.normalizeTextStyle=loe;Oi.renderText=uoe;Oi.getBoxPosition=ME;Oi.getStroke=TE;Oi.getFill=EE;Oi.parsePercent=jC;Oi.needDrawText=voe;var Ix,GD;function V8(){if(GD)return Ix;GD=1;var e=Oi,t=In,n=Ef,r=n.WILL_BE_RESTORED,a=new t,i=function(){};i.prototype={constructor:i,drawRectText:function(s,l){var u=this.style;l=u.textRect||l,this.__dirty&&e.normalizeTextStyle(u,!0);var c=u.text;if(c!=null&&(c+=""),!!e.needDrawText(c,u)){s.save();var f=this.transform;u.transformText?this.setTransform(s):f&&(a.copy(l),a.applyTransform(f),l=a),e.renderText(this,s,c,u,l,r),s.restore()}}};var o=i;return Ix=o,Ix}var z8=de,U8=mE,PE=v8,poe=V8();function wh(e){e=e||{},PE.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new U8(e.style),this._rect=null,this.__clipPaths=null}wh.prototype={constructor:wh,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return r.contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?PE.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new U8(e),this.dirty(!1),this},calculateTextPosition:null};z8.inherits(wh,PE);z8.mixin(wh,poe);var goe=wh,fv=goe,H8=fv,moe=In,yoe=de,WD=Pf;function dm(e){H8.call(this,e)}dm.prototype={constructor:dm,type:"image",brush:function(e,t){var n=this.style,r=n.image;n.bind(e,this,t);var a=this._image=WD.createOrUpdateImage(r,this._image,this,this.onload);if(!(!a||!WD.isImageReady(a))){var i=n.x||0,o=n.y||0,s=n.width,l=n.height,u=a.width/a.height;if(s==null&&l!=null?s=l*u:l==null&&s!=null?l=s/u:s==null&&l==null&&(s=a.width,l=a.height),this.setTransform(e),n.sWidth&&n.sHeight){var c=n.sx||0,f=n.sy||0;e.drawImage(a,c,f,n.sWidth,n.sHeight,i,o,s,l)}else if(n.sx&&n.sy){var c=n.sx,f=n.sy,d=s-c,h=l-f;e.drawImage(a,c,f,d,h,i,o,s,l)}else e.drawImage(a,i,o,s,l);n.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new moe(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};yoe.inherits(dm,H8);var xoe=dm,If=xoe,boe=Tf,Soe=boe.devicePixelRatio,Bo=de,Dx=sv,$8=In,_oe=gE,YC=Nie,Aoe=A8,woe=If,Coe=Qn,jD=1e5,Yl=314159,lp=.01,Moe=.001;function up(e){return parseInt(e,10)}function Toe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var Lx=new $8(0,0,0,0),Ox=new $8(0,0,0,0);function Eoe(e,t,n){return Lx.copy(e.getBoundingRect()),e.transform&&Lx.applyTransform(e.transform),Ox.width=t,Ox.height=n,!Lx.intersect(Ox)}function Poe(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function Roe(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.setTransform(t),t.beginPath(),r.buildPath(t,r.shape),t.clip(),r.restoreTransform(t)}}function Ioe(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var XC=function(e,t,n){this.type="canvas";var r=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=Bo.extend({},n||{}),this.dpr=n.devicePixelRatio||Soe,this._singleCanvas=r,this.root=e;var a=e.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var i=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var l=e.width,u=e.height;n.width!=null&&(l=n.width),n.height!=null&&(u=n.height),this.dpr=n.devicePixelRatio||1,e.width=l*this.dpr,e.height=u*this.dpr,this._width=l,this._height=u;var c=new YC(e,this,this.dpr);c.__builtin__=!0,c.initContext(),o[Yl]=c,c.zlevel=Yl,i.push(Yl),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var s=this._domRoot=Ioe(this._width,this._height);e.appendChild(s)}this._hoverlayer=null,this._hoverElements=[]};XC.prototype={constructor:XC,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var r=0;r<n.length;r++){var a=n[r],i=this._layers[a];if(!i.__builtin__&&i.refresh){var o=r===0?this._backgroundColor:null;i.refresh(o)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return n.__from=e,e.__hoverMir=n,t&&n.setStyle(t),this._hoverElements.push(n),n}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,r=Bo.indexOf(n,t);r>=0&&n.splice(r,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var r=t[n].__from;r&&(r.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){_oe(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(jD));var r={};n.ctx.save();for(var a=0;a<t;){var i=e[a],o=i.__from;if(!(o&&o.__zr)){e.splice(a,1),o.__hoverMir=null,t--;continue}a++,o.invisible||(i.transform=o.transform,i.invTransform=o.invTransform,i.__clipPaths=o.__clipPaths,this._doPaintEl(i,n,!0,r))}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(jD)},_paintList:function(e,t,n){if(this._redrawId===n){t=t||!1,this._updateLayerStatus(e);var r=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var a=this;Aoe(function(){a._paintList(e,t,n)})}}},_compositeManually:function(){var e=this.getLayer(Yl).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,n)})},_doPaintList:function(e,t){for(var n=[],r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r],i=this._layers[a];i.__builtin__&&i!==this._hoverlayer&&(i.__dirty||t)&&n.push(i)}for(var o=!0,s=0;s<n.length;s++){var i=n[s],l=i.ctx,u={};l.save();var c=t?i.__startIndex:i.__drawIndex,f=!t&&i.incremental&&Date.now,d=f&&Date.now(),h=i.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(i.__startIndex===i.__endIndex)i.clear(!1,h);else if(c===i.__startIndex){var v=e[c];(!v.incremental||!v.notClear||t)&&i.clear(!1,h)}c===-1&&(console.error("For some unknown reason. drawIndex is -1"),c=i.__startIndex);for(var m=c;m<i.__endIndex;m++){var p=e[m];if(this._doPaintEl(p,i,t,u),p.__dirty=p.__dirtyText=!1,f){var g=Date.now()-d;if(g>15)break}}i.__drawIndex=m,i.__drawIndex<i.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return Coe.wxa&&Bo.each(this._layers,function(y){y&&y.ctx&&y.ctx.draw&&y.ctx.draw()}),o},_doPaintEl:function(e,t,n,r){var a=t.ctx,i=e.transform;if((t.__dirty||n)&&!e.invisible&&e.style.opacity!==0&&!(i&&!i[0]&&!i[3])&&!(e.culling&&Eoe(e,this._width,this._height))){var o=e.__clipPaths,s=r.prevElClipPaths;(!s||Poe(o,s))&&(s&&(a.restore(),r.prevElClipPaths=null,r.prevEl=null),o&&(a.save(),Roe(o,a),r.prevElClipPaths=o)),e.beforeBrush&&e.beforeBrush(a),e.brush(a,r.prevEl||null),r.prevEl=e,e.afterBrush&&e.afterBrush(a)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Yl);var n=this._layers[e];return n||(n=new YC("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Bo.merge(n,this._layerConfig[e],!0):this._layerConfig[e-lp]&&Bo.merge(n,this._layerConfig[e-lp],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},insertLayer:function(e,t){var n=this._layers,r=this._zlevelList,a=r.length,i=null,o=-1,s=this._domRoot;if(n[e]){Dx("ZLevel "+e+" has been used already");return}if(!Toe(t)){Dx("Layer of zlevel "+e+" is not valid");return}if(a>0&&e>r[0]){for(o=0;o<a-1&&!(r[o]<e&&r[o+1]>e);o++);i=n[r[o]]}if(r.splice(o+1,0,e),n[e]=t,!t.virtual)if(i){var l=i.dom;l.nextSibling?s.insertBefore(t.dom,l.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom)},eachLayer:function(e,t){var n=this._zlevelList,r,a;for(a=0;a<n.length;a++)r=n[a],e.call(t,this._layers[r],r)},eachBuiltinLayer:function(e,t){var n=this._zlevelList,r,a,i;for(i=0;i<n.length;i++)a=n[i],r=this._layers[a],r.__builtin__&&e.call(t,r,a)},eachOtherLayer:function(e,t){var n=this._zlevelList,r,a,i;for(i=0;i<n.length;i++)a=n[i],r=this._layers[a],r.__builtin__||e.call(t,r,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(u,c){u.__dirty=u.__used=!1});function t(u){a&&(a.__endIndex!==u&&(a.__dirty=!0),a.__endIndex=u)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var r=e[n];if(r.zlevel!==e[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}for(var a=null,i=0,o,n=0;n<e.length;n++){var r=e[n],s=r.zlevel,l;o!==s&&(o=s,i=0),r.incremental?(l=this.getLayer(s+Moe,this._needsManuallyCompositing),l.incremental=!0,i=1):l=this.getLayer(s+(i>0?lp:0),this._needsManuallyCompositing),l.__builtin__||Dx("ZLevel "+s+" has been used by unkown layer "+l.id),l!==a&&(l.__used=!0,l.__startIndex!==n&&(l.__dirty=!0),l.__startIndex=n,l.incremental?l.__drawIndex=-1:l.__drawIndex=n,t(n),a=l),r.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=n))}t(n),this.eachBuiltinLayer(function(u,c){!u.__used&&u.getElementCount()>0&&(u.__dirty=!0,u.__startIndex=u.__endIndex=u.__drawIndex=0),u.__dirty&&u.__drawIndex<0&&(u.__drawIndex=u.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?Bo.merge(n[e],t,!0):n[e]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===e||a===e+lp){var i=this._layers[a];Bo.merge(i,n[e],!0)}}}},delLayer:function(e){var t=this._layers,n=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],n.splice(Bo.indexOf(n,e),1))},resize:function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=this._getSize(0),t=this._getSize(1),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,t);Bo.each(this._progressiveLayers,function(i){i.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Yl).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Yl].dom;var t=new YC("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var n=t.dom.width,r=t.dom.height,a=t.ctx;this.eachLayer(function(u){u.__builtin__?a.drawImage(u.dom,0,0,n,r):u.renderToCanvas&&(t.ctx.save(),u.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var i={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,t,!0,i)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,n=["width","height"][e],r=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],i=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[r]||up(s[n])||up(o.style[n]))-(up(s[a])||0)-(up(s[i])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),a=e.getBoundingRect(),i=e.style,o=i.shadowBlur*t,s=i.shadowOffsetX*t,l=i.shadowOffsetY*t,u=i.hasStroke()?i.lineWidth:0,c=Math.max(u/2,-s+o),f=Math.max(u/2,s+o),d=Math.max(u/2,-l+o),h=Math.max(u/2,l+o),v=a.width+c+f,m=a.height+d+h;n.width=v*t,n.height=m*t,r.scale(t,t),r.clearRect(0,0,v,m),r.dpr=t;var p={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[c-a.x,d-a.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(r);var g=woe,y=new g({style:{x:0,y:0,image:n}});return p.position!=null&&(y.position=e.position=p.position),p.rotation!=null&&(y.rotation=e.rotation=p.rotation),p.scale!=null&&(y.scale=e.scale=p.scale),y}};var Doe=XC,Loe=Doe,G8=de,Ooe=mr,W8=Ooe.Dispatcher,YD=A8,Noe=s8,hm=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,W8.call(this)};hm.prototype={constructor:hm,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=G8.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,n=this._clips,r=n.length,a=[],i=[],o=0;o<r;o++){var s=n[o],l=s.step(e,t);l&&(a.push(l),i.push(s))}for(var o=0;o<r;)n[o]._needsRemove?(n[o]=n[r-1],n.pop(),r--):o++;r=a.length;for(var o=0;o<r;o++)i[o].fire(a[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(YD(t),!e._paused&&e._update())}YD(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var n=new Noe(e,t.loop,t.getter,t.setter);return this.addAnimator(n),n}};G8.mixin(hm,W8);var koe=hm,Boe=koe,Ey=mr,Foe=Ey.addEventListener,Voe=Ey.removeEventListener,Ho=Ey.normalizeEvent,j8=Ey.getNativeEvent,Jo=de,Y8=bu,nf=Qn,zoe=300,RE=nf.domSupported,Nx=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=Jo.map(e,function(a){var i=a.replace("mouse","pointer");return n.hasOwnProperty(i)?i:a});return{mouse:e,touch:t,pointer:r}}(),XD={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function X8(e){return e==="mousewheel"&&nf.browser.firefox?"DOMMouseScroll":e}function qC(e){var t=e.pointerType;return t==="pen"||t==="touch"}function Uoe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function kx(e){e&&(e.zrByTouch=!0)}function Hoe(e,t){return Ho(e.dom,new K8(e,t),!0)}function q8(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}function K8(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var Bx=K8.prototype;Bx.stopPropagation=Bx.stopImmediatePropagation=Bx.preventDefault=Jo.noop;var bi={mousedown:function(e){e=Ho(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ho(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&QC(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ho(this.dom,e),QC(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ho(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=q8(this,t),this.trigger("mouseout",e)},touchstart:function(e){e=Ho(this.dom,e),kx(e),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),bi.mousemove.call(this,e),bi.mousedown.call(this,e)},touchmove:function(e){e=Ho(this.dom,e),kx(e),this.handler.processGesture(e,"change"),bi.mousemove.call(this,e)},touchend:function(e){e=Ho(this.dom,e),kx(e),this.handler.processGesture(e,"end"),bi.mouseup.call(this,e),+new Date-this._lastTouchMoment<zoe&&bi.click.call(this,e)},pointerdown:function(e){bi.mousedown.call(this,e)},pointermove:function(e){qC(e)||bi.mousemove.call(this,e)},pointerup:function(e){bi.mouseup.call(this,e)},pointerout:function(e){qC(e)||bi.mouseout.call(this,e)}};Jo.each(["click","mousewheel","dblclick","contextmenu"],function(e){bi[e]=function(t){t=Ho(this.dom,t),this.trigger(e,t)}});var KC={pointermove:function(e){qC(e)||KC.mousemove.call(this,e)},pointerup:function(e){KC.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;QC(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function $oe(e,t){var n=t.domHandlers;nf.pointerEventsSupported?Jo.each(Nx.pointer,function(r){Ig(t,r,function(a){n[r].call(e,a)})}):(nf.touchEventsSupported&&Jo.each(Nx.touch,function(r){Ig(t,r,function(a){n[r].call(e,a),Uoe(t)})}),Jo.each(Nx.mouse,function(r){Ig(t,r,function(a){a=j8(a),t.touching||n[r].call(e,a)})}))}function Goe(e,t){nf.pointerEventsSupported?Jo.each(XD.pointer,n):nf.touchEventsSupported||Jo.each(XD.mouse,n);function n(r){function a(i){i=j8(i),q8(e,i.target)||(i=Hoe(e,i),t.domHandlers[r].call(e,i))}Ig(t,r,a,{capture:!0})}}function Ig(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,Foe(e.domTarget,X8(t),n,r)}function ZC(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&Voe(e.domTarget,X8(n),t[n],e.listenerOpts[n]);e.mounted={}}function QC(e,t){if(e._mayPointerCapture=null,RE&&e._pointerCapturing^t){e._pointerCapturing=t;var n=e._globalHandlerScope;t?Goe(e,n):ZC(n)}}function qD(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function IE(e,t){Y8.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new qD(e,bi),RE&&(this._globalHandlerScope=new qD(document,KC)),this._pointerCapturing=!1,this._mayPointerCapture=null,$oe(this,this._localHandlerScope)}var Z8=IE.prototype;Z8.dispose=function(){ZC(this._localHandlerScope),RE&&ZC(this._globalHandlerScope)};Z8.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};Jo.mixin(IE,Y8);var Woe=IE,joe=Woe,Yoe=PG,JC=Qn,Xoe=de,qoe=fae,Koe=yie,Zoe=Loe,Qoe=Boe,Joe=joe;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var ese=!JC.canvasSupported,Dg={canvas:Zoe},Xl={},tse="4.3.2";function nse(e,t){var n=new eM(Yoe(),e,t);return Xl[n.id]=n,n}function rse(e){if(e)e.dispose();else{for(var t in Xl)Xl.hasOwnProperty(t)&&Xl[t].dispose();Xl={}}return this}function ase(e){return Xl[e]}function ise(e,t){Dg[e]=t}function ose(e){delete Xl[e]}var eM=function(e,t,n){n=n||{},this.dom=t,this.id=e;var r=this,a=new Koe,i=n.renderer;if(ese){if(!Dg.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");i="vml"}else(!i||!Dg[i])&&(i="canvas");var o=new Dg[i](t,a,n,e);this.storage=a,this.painter=o;var s=!JC.node&&!JC.worker?new Joe(o.getViewportRoot(),o.root):null;this.handler=new qoe(a,o,s,o.root),this.animation=new Qoe({stage:{update:Xoe.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=a.delFromStorage,u=a.addToStorage;a.delFromStorage=function(c){l.call(a,c),c&&c.removeSelfFromZr(r)},a.addToStorage=function(c){u.call(a,c),c.addSelfToZr(r)}};eM.prototype={constructor:eM,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var n=this.painter.addHover(e,t);return this.refreshHover(),n}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ose(this.id)}};ls.version=tse;ls.init=nse;ls.dispose=rse;ls.getInstance=ase;ls.registerPainter=ise;var bt={},fa=de,sse=Qn,Uc=fa.each,rf=fa.isObject,lse=fa.isArray,Q8="series\0";function J8(e){return e instanceof Array?e:e==null?[]:[e]}function use(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,a=n.length;r<a;r++){var i=n[r];!e.emphasis[t].hasOwnProperty(i)&&e[t].hasOwnProperty(i)&&(e.emphasis[t][i]=e[t][i])}}}var cse=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function fse(e){return rf(e)&&!lse(e)&&!(e instanceof Date)?e.value:e}function dse(e){return rf(e)&&!(e instanceof Array)}function hse(e,t){t=(t||[]).slice();var n=fa.map(e||[],function(r,a){return{exist:r}});return Uc(t,function(r,a){if(rf(r)){for(var i=0;i<n.length;i++)if(!n[i].option&&r.id!=null&&n[i].exist.id===r.id+""){n[i].option=r,t[a]=null;return}for(var i=0;i<n.length;i++){var o=n[i].exist;if(!n[i].option&&(o.id==null||r.id==null)&&r.name!=null&&!Lg(r)&&!Lg(o)&&o.name===r.name+""){n[i].option=r,t[a]=null;return}}}}),Uc(t,function(r,a){if(rf(r)){for(var i=0;i<n.length;i++){var o=n[i].exist;if(!n[i].option&&!Lg(o)&&r.id==null){n[i].option=r;break}}i>=n.length&&n.push({option:r})}}),n}function vse(e){var t=fa.createHashMap();Uc(e,function(n,r){var a=n.exist;a&&t.set(a.id,n)}),Uc(e,function(n,r){var a=n.option;fa.assert(!a||a.id==null||!t.get(a.id)||t.get(a.id)===n,"id duplicates: "+(a&&a.id)),a&&a.id!=null&&t.set(a.id,n),!n.keyInfo&&(n.keyInfo={})}),Uc(e,function(n,r){var a=n.exist,i=n.option,o=n.keyInfo;if(rf(i)){if(o.name=i.name!=null?i.name+"":a?a.name:Q8+r,a)o.id=a.id;else if(i.id!=null)o.id=i.id+"";else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function pse(e){var t=e.name;return!!(t&&t.indexOf(Q8))}function Lg(e){return rf(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function gse(e,t){var n={},r={};return a(e||[],n),a(t||[],r,n),[i(n),i(r)];function a(o,s,l){for(var u=0,c=o.length;u<c;u++)for(var f=o[u].seriesId,d=J8(o[u].dataIndex),h=l&&l[f],v=0,m=d.length;v<m;v++){var p=d[v];h&&h[p]?h[p]=null:(s[f]||(s[f]={}))[p]=1}}function i(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=i(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function mse(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return fa.isArray(t.dataIndex)?fa.map(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return fa.isArray(t.name)?fa.map(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function yse(){var e="__\0ec_inner_"+xse+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var xse=0;function bse(e,t,n){if(fa.isString(t)){var r={};r[t+"Index"]=0,t=r}var a=n&&n.defaultMainType;a&&!Fx(t,a+"Index")&&!Fx(t,a+"Id")&&!Fx(t,a+"Name")&&(t[a+"Index"]=0);var i={};return Uc(t,function(l,s){var l=t[s];if(s==="dataIndex"||s==="dataIndexInside"){i[s]=l;return}var u=s.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||l==null||f==="index"&&l==="none"||n&&n.includeMainTypes&&fa.indexOf(n.includeMainTypes,c)<0)){var d={mainType:c};(f!=="index"||l!=="all")&&(d[f]=l);var h=e.queryComponents(d);i[c+"Models"]=h,i[c+"Model"]=h[0]}}),i}function Fx(e,t){return e&&e.hasOwnProperty(t)}function Sse(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function _se(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function Ase(e){return e==="auto"?sse.domSupported?"html":"richText":e||"html"}function wse(e,t){var n=fa.createHashMap(),r=[];return fa.each(e,function(a){var i=t(a);(n.get(i)||(r.push(i),n.set(i,[]))).push(a)}),{keys:r,buckets:n}}bt.normalizeToArray=J8;bt.defaultEmphasis=use;bt.TEXT_STYLE_OPTIONS=cse;bt.getDataItemValue=fse;bt.isDataItemOption=dse;bt.mappingToExists=hse;bt.makeIdAndName=vse;bt.isNameSpecified=pse;bt.isIdInner=Lg;bt.compressBatches=gse;bt.queryDataIndex=mse;bt.makeInner=yse;bt.parseFinder=bse;bt.setAttribute=Sse;bt.getAttribute=_se;bt.getTooltipRenderMode=Ase;bt.groupData=wse;var ga={},af=de,Cse=".",Cl="___EC__COMPONENT__CONTAINER___";function Ec(e){var t={main:"",sub:""};return e&&(e=e.split(Cse),t.main=e[0]||"",t.sub=e[1]||""),t}function Mse(e){af.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function Tse(e,t){e.$constructor=e,e.extend=function(n){var r=this,a=function(){n.$constructor?n.$constructor.apply(this,arguments):r.apply(this,arguments)};return af.extend(a.prototype,n),a.extend=this.extend,a.superCall=Rse,a.superApply=Ise,af.inherits(a,this),a.superClass=r,a}}var Ese=0;function Pse(e){var t=["__\0is_clz",Ese++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function Rse(e,t){var n=af.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function Ise(e,t,n){return this.superClass.prototype[t].apply(e,n)}function Dse(e,t){t=t||{};var n={};e.registerClass=function(i,o){if(o){if(Mse(o),o=Ec(o),!o.sub)n[o.main]=i;else if(o.sub!==Cl){var s=r(o);s[o.sub]=i}}return i},e.getClass=function(i,o,s){var l=n[i];if(l&&l[Cl]&&(l=o?l[o]:null),s&&!l)throw new Error(o?"Component "+i+"."+(o||"")+" not exists. Load it first.":i+".type should be specified.");return l},e.getClassesByMainType=function(i){i=Ec(i);var o=[],s=n[i.main];return s&&s[Cl]?af.each(s,function(l,u){u!==Cl&&o.push(l)}):o.push(s),o},e.hasClass=function(i){return i=Ec(i),!!n[i.main]},e.getAllClassMainTypes=function(){var i=[];return af.each(n,function(o,s){i.push(s)}),i},e.hasSubTypes=function(i){i=Ec(i);var o=n[i.main];return o&&o[Cl]},e.parseClassType=Ec;function r(i){var o=n[i.main];return(!o||!o[Cl])&&(o=n[i.main]={},o[Cl]=!0),o}if(t.registerWhenExtend){var a=e.extend;a&&(e.extend=function(i){var o=a.call(this,i);return e.registerClass(o,i.type)})}return e}function Lse(e,t){}ga.parseClassType=Ec;ga.enableClassExtend=Tse;ga.enableClassCheck=Pse;ga.enableClassManagement=Dse;ga.setReadOnly=Lse;var KD=de;function Ose(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(n,r,a){for(var i={},o=0;o<e.length;o++){var s=e[o][1];if(!(r&&KD.indexOf(r,s)>=0||a&&KD.indexOf(a,s)<0)){var l=n.getShallow(s);l!=null&&(i[e[o][0]]=l)}}return i}}var Df=Ose,Nse=Df,kse=Nse([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Bse={getLineStyle:function(e){var t=kse(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){e==null&&(e=1);var t=this.get("type"),n=Math.max(e,2),r=e*4;return t==="solid"||t==null?!1:t==="dashed"?[r,r]:[n,n]}},Fse=Bse,Vse=Df,zse=Vse([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Use={getAreaStyle:function(e,t){return zse(this,e,t)}},Hse=Use,$e={},dv={},cr={},e6=Pt,DE=e6.create,Hc=e6.distSquare,cp=Math.pow,el=Math.sqrt,vm=1e-8,t6=1e-4,ZD=el(3),fp=1/3,Zi=DE(),Wa=DE(),$c=DE();function Xs(e){return e>-vm&&e<vm}function n6(e){return e>vm||e<-vm}function Fo(e,t,n,r,a){var i=1-a;return i*i*(i*e+3*a*t)+a*a*(a*r+3*i*n)}function $se(e,t,n,r,a){var i=1-a;return 3*(((t-e)*i+2*(n-t)*a)*i+(r-n)*a*a)}function Gse(e,t,n,r,a,i){var o=r+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-a,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(Xs(c)&&Xs(f))if(Xs(s))i[0]=0;else{var v=-l/s;v>=0&&v<=1&&(i[h++]=v)}else{var m=f*f-4*c*d;if(Xs(m)){var p=f/c,v=-s/o+p,g=-p/2;v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g)}else if(m>0){var y=el(m),x=c*s+1.5*o*(-f+y),b=c*s+1.5*o*(-f-y);x<0?x=-cp(-x,fp):x=cp(x,fp),b<0?b=-cp(-b,fp):b=cp(b,fp);var v=(-s-(x+b))/(3*o);v>=0&&v<=1&&(i[h++]=v)}else{var A=(2*c*s-3*o*f)/(2*el(c*c*c)),S=Math.acos(A)/3,_=el(c),w=Math.cos(S),v=(-s-2*_*w)/(3*o),g=(-s+_*(w+ZD*Math.sin(S)))/(3*o),C=(-s+_*(w-ZD*Math.sin(S)))/(3*o);v>=0&&v<=1&&(i[h++]=v),g>=0&&g<=1&&(i[h++]=g),C>=0&&C<=1&&(i[h++]=C)}}return h}function Wse(e,t,n,r,a){var i=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(Xs(o)){if(n6(i)){var u=-s/i;u>=0&&u<=1&&(a[l++]=u)}}else{var c=i*i-4*o*s;if(Xs(c))a[0]=-i/(2*o);else if(c>0){var f=el(c),u=(-i+f)/(2*o),d=(-i-f)/(2*o);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function jse(e,t,n,r,a,i){var o=(t-e)*a+e,s=(n-t)*a+t,l=(r-n)*a+n,u=(s-o)*a+o,c=(l-s)*a+s,f=(c-u)*a+u;i[0]=e,i[1]=o,i[2]=u,i[3]=f,i[4]=f,i[5]=c,i[6]=l,i[7]=r}function Yse(e,t,n,r,a,i,o,s,l,u,c){var f,d=.005,h=1/0,v,m,p,g;Zi[0]=l,Zi[1]=u;for(var y=0;y<1;y+=.05)Wa[0]=Fo(e,n,a,o,y),Wa[1]=Fo(t,r,i,s,y),p=Hc(Zi,Wa),p<h&&(f=y,h=p);h=1/0;for(var x=0;x<32&&!(d<t6);x++)v=f-d,m=f+d,Wa[0]=Fo(e,n,a,o,v),Wa[1]=Fo(t,r,i,s,v),p=Hc(Wa,Zi),v>=0&&p<h?(f=v,h=p):($c[0]=Fo(e,n,a,o,m),$c[1]=Fo(t,r,i,s,m),g=Hc($c,Zi),m<=1&&g<h?(f=m,h=g):d*=.5);return c&&(c[0]=Fo(e,n,a,o,f),c[1]=Fo(t,r,i,s,f)),el(h)}function Vo(e,t,n,r){var a=1-r;return a*(a*e+2*r*t)+r*r*n}function Xse(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function qse(e,t,n,r,a){var i=e-2*t+n,o=2*(t-e),s=e-r,l=0;if(Xs(i)){if(n6(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*i*s;if(Xs(c)){var u=-o/(2*i);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var f=el(c),u=(-o+f)/(2*i),d=(-o-f)/(2*i);u>=0&&u<=1&&(a[l++]=u),d>=0&&d<=1&&(a[l++]=d)}}return l}function Kse(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function Zse(e,t,n,r,a){var i=(t-e)*r+e,o=(n-t)*r+t,s=(o-i)*r+i;a[0]=e,a[1]=i,a[2]=s,a[3]=s,a[4]=o,a[5]=n}function Qse(e,t,n,r,a,i,o,s,l){var u,c=.005,f=1/0;Zi[0]=o,Zi[1]=s;for(var d=0;d<1;d+=.05){Wa[0]=Vo(e,n,a,d),Wa[1]=Vo(t,r,i,d);var h=Hc(Zi,Wa);h<f&&(u=d,f=h)}f=1/0;for(var v=0;v<32&&!(c<t6);v++){var m=u-c,p=u+c;Wa[0]=Vo(e,n,a,m),Wa[1]=Vo(t,r,i,m);var h=Hc(Wa,Zi);if(m>=0&&h<f)u=m,f=h;else{$c[0]=Vo(e,n,a,p),$c[1]=Vo(t,r,i,p);var g=Hc($c,Zi);p<=1&&g<f?(u=p,f=g):c*=.5}}return l&&(l[0]=Vo(e,n,a,u),l[1]=Vo(t,r,i,u)),el(f)}cr.cubicAt=Fo;cr.cubicDerivativeAt=$se;cr.cubicRootAt=Gse;cr.cubicExtrema=Wse;cr.cubicSubdivide=jse;cr.cubicProjectPoint=Yse;cr.quadraticAt=Vo;cr.quadraticDerivativeAt=Xse;cr.quadraticRootAt=qse;cr.quadraticExtremum=Kse;cr.quadraticSubdivide=Zse;cr.quadraticProjectPoint=Qse;var Ml={},QD;function hv(){if(QD)return Ml;QD=1;var e=Pt,t=cr,n=Math.min,r=Math.max,a=Math.sin,i=Math.cos,o=Math.PI*2,s=e.create(),l=e.create(),u=e.create();function c(g,y,x){if(g.length!==0){var b=g[0],A=b[0],S=b[0],_=b[1],w=b[1],C;for(C=1;C<g.length;C++)b=g[C],A=n(A,b[0]),S=r(S,b[0]),_=n(_,b[1]),w=r(w,b[1]);y[0]=A,y[1]=_,x[0]=S,x[1]=w}}function f(g,y,x,b,A,S){A[0]=n(g,x),A[1]=n(y,b),S[0]=r(g,x),S[1]=r(y,b)}var d=[],h=[];function v(g,y,x,b,A,S,_,w,C,M){var T=t.cubicExtrema,E=t.cubicAt,P,R=T(g,x,A,_,d);for(C[0]=1/0,C[1]=1/0,M[0]=-1/0,M[1]=-1/0,P=0;P<R;P++){var I=E(g,x,A,_,d[P]);C[0]=n(I,C[0]),M[0]=r(I,M[0])}for(R=T(y,b,S,w,h),P=0;P<R;P++){var D=E(y,b,S,w,h[P]);C[1]=n(D,C[1]),M[1]=r(D,M[1])}C[0]=n(g,C[0]),M[0]=r(g,M[0]),C[0]=n(_,C[0]),M[0]=r(_,M[0]),C[1]=n(y,C[1]),M[1]=r(y,M[1]),C[1]=n(w,C[1]),M[1]=r(w,M[1])}function m(g,y,x,b,A,S,_,w){var C=t.quadraticExtremum,M=t.quadraticAt,T=r(n(C(g,x,A),1),0),E=r(n(C(y,b,S),1),0),P=M(g,x,A,T),R=M(y,b,S,E);_[0]=n(g,A,P),_[1]=n(y,S,R),w[0]=r(g,A,P),w[1]=r(y,S,R)}function p(g,y,x,b,A,S,_,w,C){var M=e.min,T=e.max,E=Math.abs(A-S);if(E%o<1e-4&&E>1e-4){w[0]=g-x,w[1]=y-b,C[0]=g+x,C[1]=y+b;return}if(s[0]=i(A)*x+g,s[1]=a(A)*b+y,l[0]=i(S)*x+g,l[1]=a(S)*b+y,M(w,s,l),T(C,s,l),A=A%o,A<0&&(A=A+o),S=S%o,S<0&&(S=S+o),A>S&&!_?S+=o:A<S&&_&&(A+=o),_){var P=S;S=A,A=P}for(var R=0;R<S;R+=Math.PI/2)R>A&&(u[0]=i(R)*x+g,u[1]=a(R)*b+y,M(w,u,w),T(C,u,C))}return Ml.fromPoints=c,Ml.fromLine=f,Ml.fromCubic=v,Ml.fromQuadratic=m,Ml.fromArc=p,Ml}var Jse=cr,JD=Pt,sd=hv(),ele=In,tle=Tf,e2=tle.devicePixelRatio,Gn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ui=[],_s=[],Hi=[],$i=[],t2=Math.min,n2=Math.max,ld=Math.cos,ud=Math.sin,dp=Math.sqrt,$u=Math.abs,Vx=typeof Float32Array<"u",pm=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};pm.prototype={constructor:pm,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,n){n=n||0,this._ux=$u(n/e2/e)||0,this._uy=$u(n/e2/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Gn.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=$u(e-this._xi)>this._ux||$u(t-this._yi)>this._uy||this._len<5;return this.addData(Gn.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,r,a,i){return this.addData(Gn.C,e,t,n,r,a,i),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,r,a,i):this._ctx.bezierCurveTo(e,t,n,r,a,i)),this._xi=a,this._yi=i,this},quadraticCurveTo:function(e,t,n,r){return this.addData(Gn.Q,e,t,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,r):this._ctx.quadraticCurveTo(e,t,n,r)),this._xi=n,this._yi=r,this},arc:function(e,t,n,r,a,i){return this.addData(Gn.A,e,t,n,n,r,a-r,0,i?0:1),this._ctx&&this._ctx.arc(e,t,n,r,a,i),this._xi=ld(a)*n+e,this._yi=ud(a)*n+t,this},arcTo:function(e,t,n,r,a){return this._ctx&&this._ctx.arcTo(e,t,n,r,a),this},rect:function(e,t,n,r){return this._ctx&&this._ctx.rect(e,t,n,r),this.addData(Gn.R,e,t,n,r),this},closePath:function(){this.addData(Gn.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length===t)&&Vx&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,r=this._len,a=0;a<t;a++)n+=e[a].len();Vx&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var a=0;a<t;a++)for(var i=e[a].data,o=0;o<i.length;o++)this.data[r++]=i[o];this._len=r},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n=this._dashSum,r=this._dashOffset,a=this._lineDash,i=this._ctx,o=this._xi,s=this._yi,l=e-o,u=t-s,c=dp(l*l+u*u),f=o,d=s,h,v=a.length,m;for(l/=c,u/=c,r<0&&(r=n+r),r%=n,f-=r*l,d-=r*u;l>0&&f<=e||l<0&&f>=e||l===0&&(u>0&&d<=t||u<0&&d>=t);)m=this._dashIdx,h=a[m],f+=l*h,d+=u*h,this._dashIdx=(m+1)%v,!(l>0&&f<o||l<0&&f>o||u>0&&d<s||u<0&&d>s)&&i[m%2?"moveTo":"lineTo"](l>=0?t2(f,e):n2(f,e),u>=0?t2(d,t):n2(d,t));l=f-e,u=d-t,this._dashOffset=-dp(l*l+u*u)},_dashedBezierTo:function(e,t,n,r,a,i){var o=this._dashSum,s=this._dashOffset,l=this._lineDash,u=this._ctx,c=this._xi,f=this._yi,d,h,v,m=Jse.cubicAt,p=0,g=this._dashIdx,y=l.length,x,b,A=0;for(s<0&&(s=o+s),s%=o,d=0;d<1;d+=.1)h=m(c,e,n,a,d+.1)-m(c,e,n,a,d),v=m(f,t,r,i,d+.1)-m(f,t,r,i,d),p+=dp(h*h+v*v);for(;g<y&&(A+=l[g],!(A>s));g++);for(d=(A-s)/p;d<=1;)x=m(c,e,n,a,d),b=m(f,t,r,i,d),g%2?u.moveTo(x,b):u.lineTo(x,b),d+=l[g]/p,g=(g+1)%y;g%2!==0&&u.lineTo(a,i),h=a-x,v=i-b,this._dashOffset=-dp(h*h+v*v)},_dashedQuadraticTo:function(e,t,n,r){var a=n,i=r;n=(n+2*e)/3,r=(r+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,r,a,i)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Vx&&(this.data=new Float32Array(e)))},getBoundingRect:function(){Ui[0]=Ui[1]=Hi[0]=Hi[1]=Number.MAX_VALUE,_s[0]=_s[1]=$i[0]=$i[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,n=0,r=0,a=0,i=0;i<e.length;){var o=e[i++];switch(i===1&&(t=e[i],n=e[i+1],r=t,a=n),o){case Gn.M:r=e[i++],a=e[i++],t=r,n=a,Hi[0]=r,Hi[1]=a,$i[0]=r,$i[1]=a;break;case Gn.L:sd.fromLine(t,n,e[i],e[i+1],Hi,$i),t=e[i++],n=e[i++];break;case Gn.C:sd.fromCubic(t,n,e[i++],e[i++],e[i++],e[i++],e[i],e[i+1],Hi,$i),t=e[i++],n=e[i++];break;case Gn.Q:sd.fromQuadratic(t,n,e[i++],e[i++],e[i],e[i+1],Hi,$i),t=e[i++],n=e[i++];break;case Gn.A:var s=e[i++],l=e[i++],u=e[i++],c=e[i++],f=e[i++],d=e[i++]+f;i+=1;var h=1-e[i++];i===1&&(r=ld(f)*u+s,a=ud(f)*c+l),sd.fromArc(s,l,u,c,f,d,h,Hi,$i),t=ld(d)*u+s,n=ud(d)*c+l;break;case Gn.R:r=t=e[i++],a=n=e[i++];var v=e[i++],m=e[i++];sd.fromLine(r,a,r+v,a+m,Hi,$i);break;case Gn.Z:t=r,n=a;break}JD.min(Ui,Ui,Hi),JD.max(_s,_s,$i)}return i===0&&(Ui[0]=Ui[1]=_s[0]=_s[1]=0),new ele(Ui[0],Ui[1],_s[0]-Ui[0],_s[1]-Ui[1])},rebuildPath:function(e){for(var t=this.data,n,r,a,i,o,s,l=this._ux,u=this._uy,c=this._len,f=0;f<c;){var d=t[f++];switch(f===1&&(a=t[f],i=t[f+1],n=a,r=i),d){case Gn.M:n=a=t[f++],r=i=t[f++],e.moveTo(a,i);break;case Gn.L:o=t[f++],s=t[f++],($u(o-a)>l||$u(s-i)>u||f===c-1)&&(e.lineTo(o,s),a=o,i=s);break;case Gn.C:e.bezierCurveTo(t[f++],t[f++],t[f++],t[f++],t[f++],t[f++]),a=t[f-2],i=t[f-1];break;case Gn.Q:e.quadraticCurveTo(t[f++],t[f++],t[f++],t[f++]),a=t[f-2],i=t[f-1];break;case Gn.A:var h=t[f++],v=t[f++],m=t[f++],p=t[f++],g=t[f++],y=t[f++],x=t[f++],b=t[f++],A=m>p?m:p,S=m>p?1:m/p,_=m>p?p/m:1,w=Math.abs(m-p)>.001,C=g+y;w?(e.translate(h,v),e.rotate(x),e.scale(S,_),e.arc(0,0,A,g,C,1-b),e.scale(1/S,1/_),e.rotate(-x),e.translate(-h,-v)):e.arc(h,v,A,g,C,1-b),f===1&&(n=ld(g)*m+h,r=ud(g)*p+v),a=ld(C)*m+h,i=ud(C)*p+v;break;case Gn.R:n=a=t[f],r=i=t[f+1],e.rect(t[f++],t[f++],t[f++],t[f++]);break;case Gn.Z:e.closePath(),a=n,i=r}}}};pm.CMD=Gn;var nle=pm,Lf=nle,LE={},OE={};function rle(e,t,n,r,a,i,o){if(a===0)return!1;var s=a,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||i>e+s&&i>n+s||i<e-s&&i<n-s)return!1;if(e!==n)l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);else return Math.abs(i-e)<=s/2;var c=l*i-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}OE.containStroke=rle;var r6={},ale=cr;function ile(e,t,n,r,a,i,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>r+f&&c>i+f&&c>s+f||c<t-f&&c<r-f&&c<i-f&&c<s-f||u>e+f&&u>n+f&&u>a+f&&u>o+f||u<e-f&&u<n-f&&u<a-f&&u<o-f)return!1;var d=ale.cubicProjectPoint(e,t,n,r,a,i,o,s,u,c,null);return d<=f/2}r6.containStroke=ile;var NE={},ole=cr,sle=ole.quadraticProjectPoint;function lle(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>r+u&&l>i+u||l<t-u&&l<r-u&&l<i-u||s>e+u&&s>n+u&&s>a+u||s<e-u&&s<n-u&&s<a-u)return!1;var c=sle(e,t,n,r,a,i,s,l,null);return c<=u/2}NE.containStroke=lle;var a6={},kE={},r2=Math.PI*2;function ule(e){return e%=r2,e<0&&(e+=r2),e}kE.normalizeRadian=ule;var cle=kE,hp=cle.normalizeRadian,cd=Math.PI*2;function fle(e,t,n,r,a,i,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-a)%cd<1e-4)return!0;if(i){var f=r;r=hp(a),a=hp(f)}else r=hp(r),a=hp(a);r>a&&(a+=cd);var d=Math.atan2(l,s);return d<0&&(d+=cd),d>=r&&d<=a||d+cd>=r&&d+cd<=a}a6.containStroke=fle;function dle(e,t,n,r,a,i){if(i>t&&i>r||i<t&&i<r||r===t)return 0;var o=r<t?1:-1,s=(i-t)/(r-t);(s===1||s===0)&&(o=r<t?.5:-.5);var l=s*(n-e)+e;return l===a?1/0:l>a?o:0}var i6=dle,hle=Lf,Gu=OE,vle=r6,ple=NE,gle=a6,mle=kE,vp=mle.normalizeRadian,Qi=cr,Tl=i6,As=hle.CMD,Wu=Math.PI*2,yle=1e-4;function xle(e,t){return Math.abs(e-t)<yle}var ea=[-1,-1,-1],$a=[-1,-1];function ble(){var e=$a[0];$a[0]=$a[1],$a[1]=e}function Sle(e,t,n,r,a,i,o,s,l,u){if(u>t&&u>r&&u>i&&u>s||u<t&&u<r&&u<i&&u<s)return 0;var c=Qi.cubicRootAt(t,r,i,s,u,ea);if(c===0)return 0;for(var f=0,d=-1,h,v,m=0;m<c;m++){var p=ea[m],g=p===0||p===1?.5:1,y=Qi.cubicAt(e,n,a,o,p);y<l||(d<0&&(d=Qi.cubicExtrema(t,r,i,s,$a),$a[1]<$a[0]&&d>1&&ble(),h=Qi.cubicAt(t,r,i,s,$a[0]),d>1&&(v=Qi.cubicAt(t,r,i,s,$a[1]))),d===2?p<$a[0]?f+=h<t?g:-g:p<$a[1]?f+=v<h?g:-g:f+=s<v?g:-g:p<$a[0]?f+=h<t?g:-g:f+=s<h?g:-g)}return f}function _le(e,t,n,r,a,i,o,s){if(s>t&&s>r&&s>i||s<t&&s<r&&s<i)return 0;var l=Qi.quadraticRootAt(t,r,i,s,ea);if(l===0)return 0;var u=Qi.quadraticExtremum(t,r,i);if(u>=0&&u<=1){for(var c=0,f=Qi.quadraticAt(t,r,i,u),d=0;d<l;d++){var h=ea[d]===0||ea[d]===1?.5:1,v=Qi.quadraticAt(e,n,a,ea[d]);v<o||(ea[d]<u?c+=f<t?h:-h:c+=i<f?h:-h)}return c}else{var h=ea[0]===0||ea[0]===1?.5:1,v=Qi.quadraticAt(e,n,a,ea[0]);return v<o?0:i<t?h:-h}}function Ale(e,t,n,r,a,i,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);ea[0]=-l,ea[1]=l;var u=Math.abs(r-a);if(u<1e-4)return 0;if(u%Wu<1e-4){r=0,a=Wu;var c=i?1:-1;return o>=ea[0]+e&&o<=ea[1]+e?c:0}if(i){var l=r;r=vp(a),a=vp(l)}else r=vp(r),a=vp(a);r>a&&(a+=Wu);for(var f=0,d=0;d<2;d++){var h=ea[d];if(h+e>o){var v=Math.atan2(s,h),c=i?1:-1;v<0&&(v=Wu+v),(v>=r&&v<=a||v+Wu>=r&&v+Wu<=a)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),f+=c)}}return f}function o6(e,t,n,r,a){for(var i=0,o=0,s=0,l=0,u=0,c=0;c<e.length;){var f=e[c++];switch(f===As.M&&c>1&&(n||(i+=Tl(o,s,l,u,r,a))),c===1&&(o=e[c],s=e[c+1],l=o,u=s),f){case As.M:l=e[c++],u=e[c++],o=l,s=u;break;case As.L:if(n){if(Gu.containStroke(o,s,e[c],e[c+1],t,r,a))return!0}else i+=Tl(o,s,e[c],e[c+1],r,a)||0;o=e[c++],s=e[c++];break;case As.C:if(n){if(vle.containStroke(o,s,e[c++],e[c++],e[c++],e[c++],e[c],e[c+1],t,r,a))return!0}else i+=Sle(o,s,e[c++],e[c++],e[c++],e[c++],e[c],e[c+1],r,a)||0;o=e[c++],s=e[c++];break;case As.Q:if(n){if(ple.containStroke(o,s,e[c++],e[c++],e[c],e[c+1],t,r,a))return!0}else i+=_le(o,s,e[c++],e[c++],e[c],e[c+1],r,a)||0;o=e[c++],s=e[c++];break;case As.A:var d=e[c++],h=e[c++],v=e[c++],m=e[c++],p=e[c++],g=e[c++];c+=1;var y=1-e[c++],S=Math.cos(p)*v+d,_=Math.sin(p)*m+h;c>1?i+=Tl(o,s,S,_,r,a):(l=S,u=_);var x=(r-d)*m/v+d;if(n){if(gle.containStroke(d,h,m,p,p+g,y,t,x,a))return!0}else i+=Ale(d,h,m,p,p+g,y,x,a);o=Math.cos(p+g)*v+d,s=Math.sin(p+g)*m+h;break;case As.R:l=o=e[c++],u=s=e[c++];var b=e[c++],A=e[c++],S=l+b,_=u+A;if(n){if(Gu.containStroke(l,u,S,u,t,r,a)||Gu.containStroke(S,u,S,_,t,r,a)||Gu.containStroke(S,_,l,_,t,r,a)||Gu.containStroke(l,_,l,u,t,r,a))return!0}else i+=Tl(S,u,S,_,r,a),i+=Tl(l,_,l,u,r,a);break;case As.Z:if(n){if(Gu.containStroke(o,s,l,u,t,r,a))return!0}else i+=Tl(o,s,l,u,r,a);o=l,s=u;break}}return!n&&!xle(s,u)&&(i+=Tl(o,s,l,u,r,a)||0),i!==0}function wle(e,t,n){return o6(e,0,!1,t,n)}function Cle(e,t,n,r){return o6(e,t,!0,n,r)}LE.contain=wle;LE.containStroke=Cle;var BE=fv,FE=de,tM=Lf,a2=LE,Mle=b8,i2=Mle.prototype.getCanvasPattern,zx=Math.abs,Tle=new tM(!0);function ru(e){BE.call(this,e),this.path=null}ru.prototype={constructor:ru,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var n=this.style,r=this.path||Tle,a=n.hasStroke(),i=n.hasFill(),o=n.fill,s=n.stroke,l=i&&!!o.colorStops,u=a&&!!s.colorStops,c=i&&!!o.image,f=a&&!!s.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var d;l&&(d=d||this.getBoundingRect(),this._fillGradient=n.getGradient(e,o,d)),u&&(d=d||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,s,d))}l?e.fillStyle=this._fillGradient:c&&(e.fillStyle=i2.call(o,e)),u?e.strokeStyle=this._strokeGradient:f&&(e.strokeStyle=i2.call(s,e));var h=n.lineDash,v=n.lineDashOffset,m=!!e.setLineDash,p=this.getGlobalScale();if(r.setScale(p[0],p[1],this.segmentIgnoreThreshold),this.__dirtyPath||h&&!m&&a?(r.beginPath(e),h&&!m&&(r.setLineDash(h),r.setLineDashOffset(v)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),i)if(n.fillOpacity!=null){var g=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,r.fill(e),e.globalAlpha=g}else r.fill(e);if(h&&m&&(e.setLineDash(h),e.lineDashOffset=v),a)if(n.strokeOpacity!=null){var g=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,r.stroke(e),e.globalAlpha=g}else r.stroke(e);h&&m&&e.setLineDash([]),n.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,n){},createPathProxy:function(){this.path=new tM},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var r=this.path;r||(r=this.path=new tM),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),e=r.getBoundingRect()}if(this._rect=e,t.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){a.copy(e);var i=t.lineWidth,o=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(i=Math.max(i,this.strokeContainThreshold||4)),o>1e-10&&(a.width+=i/o,a.height+=i/o,a.x-=i/o/2,a.y-=i/o/2)}return a}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect(),a=this.style;if(e=n[0],t=n[1],r.contain(e,t)){var i=this.path.data;if(a.hasStroke()){var o=a.lineWidth,s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(a.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),a2.containStroke(i,o/s,e,t)))return!0}if(a.hasFill())return a2.contain(i,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):BE.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(FE.isObject(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&zx(e[0]-1)>1e-10&&zx(e[3]-1)>1e-10?Math.sqrt(zx(e[0]*e[3]-e[2]*e[1])):1}};ru.extend=function(e){var t=function(r){ru.call(this,r),e.style&&this.style.extendFrom(e.style,!1);var a=e.shape;if(a){this.shape=this.shape||{};var i=this.shape;for(var o in a)!i.hasOwnProperty(o)&&a.hasOwnProperty(o)&&(i[o]=a[o])}e.init&&e.init.call(this,r)};FE.inherits(t,ru);for(var n in e)n!=="style"&&n!=="shape"&&(t.prototype[n]=e[n]);return t};FE.inherits(ru,BE);var Ele=ru,jn=Ele,Ple=Lf,Rle=Pt,Ux=Rle.applyTransform,ju=Ple.CMD,Ile=[[],[],[]],o2=Math.sqrt,Dle=Math.atan2;function Lle(e,t){var n=e.data,r,a,i,o,s,l,u=ju.M,c=ju.C,f=ju.L,d=ju.R,h=ju.A,v=ju.Q;for(i=0,o=0;i<n.length;){switch(r=n[i++],o=i,a=0,r){case u:a=1;break;case f:a=1;break;case c:a=3;break;case v:a=2;break;case h:var m=t[4],p=t[5],g=o2(t[0]*t[0]+t[1]*t[1]),y=o2(t[2]*t[2]+t[3]*t[3]),x=Dle(-t[1]/y,t[0]/g);n[i]*=g,n[i++]+=m,n[i]*=y,n[i++]+=p,n[i++]*=g,n[i++]*=y,n[i++]+=x,n[i++]+=x,i+=2,o=i;break;case d:l[0]=n[i++],l[1]=n[i++],Ux(l,l,t),n[o++]=l[0],n[o++]=l[1],l[0]+=n[i++],l[1]+=n[i++],Ux(l,l,t),n[o++]=l[0],n[o++]=l[1]}for(s=0;s<a;s++){var l=Ile[s];l[0]=n[i++],l[1]=n[i++],Ux(l,l,t),n[o++]=l[0],n[o++]=l[1]}}}var Ole=Lle,VE=jn,Hx=Lf,Nle=Ole,$x=Math.sqrt,pp=Math.sin,gp=Math.cos,mp=Math.PI,s2=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},nM=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(s2(e)*s2(t))},l2=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(nM(e,t))};function u2(e,t,n,r,a,i,o,s,l,u,c){var f=l*(mp/180),d=gp(f)*(e-n)/2+pp(f)*(t-r)/2,h=-1*pp(f)*(e-n)/2+gp(f)*(t-r)/2,v=d*d/(o*o)+h*h/(s*s);v>1&&(o*=$x(v),s*=$x(v));var m=(a===i?-1:1)*$x((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,p=m*o*h/s,g=m*-s*d/o,y=(e+n)/2+gp(f)*p-pp(f)*g,x=(t+r)/2+pp(f)*p+gp(f)*g,b=l2([1,0],[(d-p)/o,(h-g)/s]),A=[(d-p)/o,(h-g)/s],S=[(-1*d-p)/o,(-1*h-g)/s],_=l2(A,S);nM(A,S)<=-1&&(_=mp),nM(A,S)>=1&&(_=0),i===0&&_>0&&(_=_-2*mp),i===1&&_<0&&(_=_+2*mp),c.addData(u,y,x,o,s,b,_,f,i)}var kle=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Ble=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Fle(e){if(!e)return new Hx;for(var t=0,n=0,r=t,a=n,i,o=new Hx,s=Hx.CMD,l=e.match(kle),u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d,h=c.match(Ble)||[],v=h.length,m=0;m<v;m++)h[m]=parseFloat(h[m]);for(var p=0;p<v;){var g,y,x,b,A,S,_,w=t,C=n;switch(f){case"l":t+=h[p++],n+=h[p++],d=s.L,o.addData(d,t,n);break;case"L":t=h[p++],n=h[p++],d=s.L,o.addData(d,t,n);break;case"m":t+=h[p++],n+=h[p++],d=s.M,o.addData(d,t,n),r=t,a=n,f="l";break;case"M":t=h[p++],n=h[p++],d=s.M,o.addData(d,t,n),r=t,a=n,f="L";break;case"h":t+=h[p++],d=s.L,o.addData(d,t,n);break;case"H":t=h[p++],d=s.L,o.addData(d,t,n);break;case"v":n+=h[p++],d=s.L,o.addData(d,t,n);break;case"V":n=h[p++],d=s.L,o.addData(d,t,n);break;case"C":d=s.C,o.addData(d,h[p++],h[p++],h[p++],h[p++],h[p++],h[p++]),t=h[p-2],n=h[p-1];break;case"c":d=s.C,o.addData(d,h[p++]+t,h[p++]+n,h[p++]+t,h[p++]+n,h[p++]+t,h[p++]+n),t+=h[p-2],n+=h[p-1];break;case"S":g=t,y=n;var M=o.len(),T=o.data;i===s.C&&(g+=t-T[M-4],y+=n-T[M-3]),d=s.C,w=h[p++],C=h[p++],t=h[p++],n=h[p++],o.addData(d,g,y,w,C,t,n);break;case"s":g=t,y=n;var M=o.len(),T=o.data;i===s.C&&(g+=t-T[M-4],y+=n-T[M-3]),d=s.C,w=t+h[p++],C=n+h[p++],t+=h[p++],n+=h[p++],o.addData(d,g,y,w,C,t,n);break;case"Q":w=h[p++],C=h[p++],t=h[p++],n=h[p++],d=s.Q,o.addData(d,w,C,t,n);break;case"q":w=h[p++]+t,C=h[p++]+n,t+=h[p++],n+=h[p++],d=s.Q,o.addData(d,w,C,t,n);break;case"T":g=t,y=n;var M=o.len(),T=o.data;i===s.Q&&(g+=t-T[M-4],y+=n-T[M-3]),t=h[p++],n=h[p++],d=s.Q,o.addData(d,g,y,t,n);break;case"t":g=t,y=n;var M=o.len(),T=o.data;i===s.Q&&(g+=t-T[M-4],y+=n-T[M-3]),t+=h[p++],n+=h[p++],d=s.Q,o.addData(d,g,y,t,n);break;case"A":x=h[p++],b=h[p++],A=h[p++],S=h[p++],_=h[p++],w=t,C=n,t=h[p++],n=h[p++],d=s.A,u2(w,C,t,n,S,_,x,b,A,d,o);break;case"a":x=h[p++],b=h[p++],A=h[p++],S=h[p++],_=h[p++],w=t,C=n,t+=h[p++],n+=h[p++],d=s.A,u2(w,C,t,n,S,_,x,b,A,d,o);break}}(f==="z"||f==="Z")&&(d=s.Z,o.addData(d),t=r,n=a),i=d}return o.toStatic(),o}function s6(e,t){var n=Fle(e);return t=t||{},t.buildPath=function(r){if(r.setData){r.setData(n.data);var a=r.getContext();a&&r.rebuildPath(a)}else{var a=r;n.rebuildPath(a)}},t.applyTransform=function(r){Nle(n,r),this.dirty(!0)},t}function Vle(e,t){return new VE(s6(e,t))}function zle(e,t){return VE.extend(s6(e,t))}function Ule(e,t){for(var n=[],r=e.length,a=0;a<r;a++){var i=e[a];i.path||i.createPathProxy(),i.__dirtyPath&&i.buildPath(i.path,i.shape,!0),n.push(i.path)}var o=new VE(t);return o.createPathProxy(),o.buildPath=function(s){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l)},o}dv.createFromString=Vle;dv.extendFromString=zle;dv.mergePath=Ule;var l6=fv,Hle=de,$le=wn,fd=Oi,Gle=Ef,Wle=Gle.ContextCachedBy,gm=function(e){l6.call(this,e)};gm.prototype={constructor:gm,type:"text",brush:function(e,t){var n=this.style;this.__dirty&&fd.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;if(r!=null&&(r+=""),!fd.needDrawText(r,n)){e.__attrCachedBy=Wle.NONE;return}this.setTransform(e),fd.renderText(this,e,r,n,null,t),this.restoreTransform(e)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&fd.normalizeTextStyle(e,!0),!this._rect){e.text;var t=$le.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,fd.getStroke(e.textStroke,e.textStrokeWidth)){var n=e.textStrokeWidth;t.x-=n/2,t.y-=n/2,t.width+=n,t.height+=n}this._rect=t}return this._rect}};Hle.inherits(gm,l6);var jle=gm,_u=jle,Yle=jn,Xle=Yle.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),u6=Xle,c2=Qn,ws=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function qle(e){return c2.browser.ie&&c2.browser.version>=11?function(){var t=this.__clipPaths,n=this.style,r;if(t)for(var a=0;a<t.length;a++){var i=t[a],o=i&&i.shape,s=i&&i.type;if(o&&(s==="sector"&&o.startAngle===o.endAngle||s==="rect"&&(!o.width||!o.height))){for(var l=0;l<ws.length;l++)ws[l][2]=n[ws[l][0]],n[ws[l][0]]=ws[l][1];r=!0;break}}if(e.apply(this,arguments),r)for(var l=0;l<ws.length;l++)n[ws[l][0]]=ws[l][2]}:e}var c6=qle,f2=jn,Kle=c6,Zle=f2.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:Kle(f2.prototype.brush),buildPath:function(e,t){var n=t.cx,r=t.cy,a=Math.max(t.r0||0,0),i=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(o),c=Math.sin(o);e.moveTo(u*a+n,c*a+r),e.lineTo(u*i+n,c*i+r),e.arc(n,r,i,o,s,!l),e.lineTo(Math.cos(s)*a+n,Math.sin(s)*a+r),a!==0&&e.arc(n,r,a,s,o,l),e.closePath()}}),Qle=Zle,Jle=jn,eue=Jle.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,r=t.cy,a=Math.PI*2;e.moveTo(n+t.r,r),e.arc(n,r,t.r,0,a,!1),e.moveTo(n+t.r0,r),e.arc(n,r,t.r0,0,a,!0)}}),tue=eue,zE={},nue=Pt,rue=nue.distance;function d2(e,t,n,r,a,i,o){var s=(n-e)*.5,l=(r-t)*.5;return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*i+s*a+t}function aue(e,t){for(var n=e.length,r=[],a=0,i=1;i<n;i++)a+=rue(e[i-1],e[i]);var o=a/2;o=o<n?n:o;for(var i=0;i<o;i++){var s=i/(o-1)*(t?n:n-1),l=Math.floor(s),u=s-l,c,f=e[l%n],d,h;t?(c=e[(l-1+n)%n],d=e[(l+1)%n],h=e[(l+2)%n]):(c=e[l===0?l:l-1],d=e[l>n-2?n-1:l+1],h=e[l>n-3?n-1:l+2]);var v=u*u,m=u*v;r.push([d2(c[0],f[0],d[0],h[0],u,v,m),d2(c[1],f[1],d[1],h[1],u,v,m)])}return r}var iue=aue,Au=Pt,yp=Au.min,xp=Au.max,Gx=Au.scale,h2=Au.distance,v2=Au.add,oue=Au.clone,sue=Au.sub;function lue(e,t,n,r){var a=[],i=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)yp(c,c,e[d]),xp(f,f,e[d]);yp(c,c,r[0]),xp(f,f,r[1])}for(var d=0,h=e.length;d<h;d++){var v=e[d];if(n)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){a.push(oue(e[d]));continue}else l=e[d-1],u=e[d+1];sue(i,u,l),Gx(i,i,t);var m=h2(v,l),p=h2(v,u),g=m+p;g!==0&&(m/=g,p/=g),Gx(o,i,-m),Gx(s,i,p);var y=v2([],v,o),x=v2([],v,s);r&&(xp(y,y,c),yp(y,y,f),xp(x,x,c),yp(x,x,f)),a.push(y),a.push(x)}return n&&a.push(a.shift()),a}var uue=lue,cue=iue,fue=uue;function due(e,t,n){var r=t.points,a=t.smooth;if(r&&r.length>=2){if(a&&a!=="spline"){var i=fue(r,a,n,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(n?o:o-1);s++){var l=i[s*2],u=i[s*2+1],c=r[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{a==="spline"&&(r=cue(r,n)),e.moveTo(r[0][0],r[0][1]);for(var s=1,f=r.length;s<f;s++)e.lineTo(r[s][0],r[s][1])}n&&e.closePath()}}zE.buildPath=due;var hue=jn,vue=zE,pue=hue.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){vue.buildPath(e,t,!0)}}),f6=pue,gue=jn,mue=zE,yue=gue.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){mue.buildPath(e,t,!1)}}),d6=yue,Of={},Pc=Math.round;function xue(e,t,n){if(t){var r=t.x1,a=t.x2,i=t.y1,o=t.y2;e.x1=r,e.x2=a,e.y1=i,e.y2=o;var s=n&&n.lineWidth;s&&(Pc(r*2)===Pc(a*2)&&(e.x1=e.x2=ql(r,s,!0)),Pc(i*2)===Pc(o*2)&&(e.y1=e.y2=ql(i,s,!0)))}}function bue(e,t,n){if(t){var r=t.x,a=t.y,i=t.width,o=t.height;e.x=r,e.y=a,e.width=i,e.height=o;var s=n&&n.lineWidth;s&&(e.x=ql(r,s,!0),e.y=ql(a,s,!0),e.width=Math.max(ql(r+i,s,!1)-e.x,i===0?0:1),e.height=Math.max(ql(a+o,s,!1)-e.y,o===0?0:1))}}function ql(e,t,n){if(!t)return e;var r=Pc(e*2);return(r+Pc(t))%2===0?r/2:(r+(n?1:-1))/2}Of.subPixelOptimizeLine=xue;Of.subPixelOptimizeRect=bue;Of.subPixelOptimize=ql;var Sue=jn,_ue=AE,Aue=Of,wue=Aue.subPixelOptimizeRect,El={},Cue=Sue.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n,r,a,i;this.subPixelOptimize?(wue(El,t,this.style),n=El.x,r=El.y,a=El.width,i=El.height,El.r=t.r,t=El):(n=t.x,r=t.y,a=t.width,i=t.height),t.r?_ue.buildPath(e,t):e.rect(n,r,a,i),e.closePath()}}),UE=Cue,Mue=jn,Tue=Of,Eue=Tue.subPixelOptimizeLine,dd={},Pue=Mue.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n,r,a,i;this.subPixelOptimize?(Eue(dd,t,this.style),n=dd.x1,r=dd.y1,a=dd.x2,i=dd.y2):(n=t.x1,r=t.y1,a=t.x2,i=t.y2);var o=t.percent;o!==0&&(e.moveTo(n,r),o<1&&(a=n*(1-o)+a*o,i=r*(1-o)+i*o),e.lineTo(a,i))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),h6=Pue,Rue=jn,Iue=Pt,Nf=cr,p2=Nf.quadraticSubdivide,g2=Nf.cubicSubdivide,m2=Nf.quadraticAt,y2=Nf.cubicAt,x2=Nf.quadraticDerivativeAt,b2=Nf.cubicDerivativeAt,ua=[];function S2(e,t,n){var r=e.cpx2,a=e.cpy2;return r===null||a===null?[(n?b2:y2)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?b2:y2)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?x2:m2)(e.x1,e.cpx1,e.x2,t),(n?x2:m2)(e.y1,e.cpy1,e.y2,t)]}var Due=Rue.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2,o=t.cpx1,s=t.cpy1,l=t.cpx2,u=t.cpy2,c=t.percent;c!==0&&(e.moveTo(n,r),l==null||u==null?(c<1&&(p2(n,o,a,c,ua),o=ua[1],a=ua[2],p2(r,s,i,c,ua),s=ua[1],i=ua[2]),e.quadraticCurveTo(o,s,a,i)):(c<1&&(g2(n,o,l,a,c,ua),o=ua[1],l=ua[2],a=ua[3],g2(r,s,u,i,c,ua),s=ua[1],u=ua[2],i=ua[3]),e.bezierCurveTo(o,s,l,u,a,i)))},pointAt:function(e){return S2(this.shape,e,!1)},tangentAt:function(e){var t=S2(this.shape,e,!0);return Iue.normalize(t,t)}}),Lue=Due,Oue=jn,Nue=Oue.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,r=t.cy,a=Math.max(t.r,0),i=t.startAngle,o=t.endAngle,s=t.clockwise,l=Math.cos(i),u=Math.sin(i);e.moveTo(l*a+n,u*a+r),e.arc(n,r,a,i,o,!s)}}),kue=Nue,_2=jn,Bue=_2.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path||e[n].createPathProxy(),e[n].path.setScale(t[0],t[1],e[n].segmentIgnoreThreshold)},buildPath:function(e,t){for(var n=t.paths||[],r=0;r<n.length;r++)n[r].buildPath(e,n[r].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),_2.prototype.getBoundingRect.call(this)}}),Fue=Bue,rM=function(e){this.colorStops=e||[]};rM.prototype={constructor:rM,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Vue=rM,Py=Vue,zue=de,v6=Py,mm=function(e,t,n,r,a,i){this.x=e??0,this.y=t??0,this.x2=n??1,this.y2=r??0,this.type="linear",this.global=i||!1,v6.call(this,a)};mm.prototype={constructor:mm};zue.inherits(mm,v6);var Uue=mm,HE=Uue,Hue=de,p6=Py,ym=function(e,t,n,r,a){this.x=e??.5,this.y=t??.5,this.r=n??.5,this.type="radial",this.global=a||!1,p6.call(this,r)};ym.prototype={constructor:ym};Hue.inherits(ym,p6);var $ue=ym,Gue=$ue,Wue=de,jue=Wue.inherits,g6=fv,Yue=In;function Ni(e){g6.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}Ni.prototype.incremental=!0;Ni.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};Ni.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};Ni.prototype.addDisplayables=function(e,t){t=t||!1;for(var n=0;n<e.length;n++)this.addDisplayable(e[n],t)};Ni.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};Ni.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};Ni.prototype.brush=function(e,t){for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.beforeBrush&&r.beforeBrush(e),r.brush(e,n===this._cursor?null:this._displayables[n-1]),r.afterBrush&&r.afterBrush(e)}this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.beforeBrush&&r.beforeBrush(e),r.brush(e,n===0?null:this._temporaryDisplayables[n-1]),r.afterBrush&&r.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Xue=[];Ni.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Yue(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var n=this._displayables[t],r=n.getBoundingRect().clone();n.needLocalTransform()&&r.applyTransform(n.getLocalTransform(Xue)),e.union(r)}this._rect=e}return this._rect};Ni.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();if(r.contain(n[0],n[1]))for(var a=0;a<this._displayables.length;a++){var i=this._displayables[a];if(i.contain(e,t))return!0}return!1};jue(Ni,g6);var que=Ni,$E=que,Ea=de,GE=dv,Kue=ur,aM=Vn,m6=Pt,Zue=jn,Que=My,WE=If;$e.Image=WE;var Jue=Su;$e.Group=Jue;var ece=_u;$e.Text=ece;var y6=u6;$e.Circle=y6;var x6=Qle;$e.Sector=x6;var b6=tue;$e.Ring=b6;var S6=f6;$e.Polygon=S6;var _6=d6;$e.Polyline=_6;var A6=UE;$e.Rect=A6;var w6=h6;$e.Line=w6;var C6=Lue;$e.BezierCurve=C6;var M6=kue;$e.Arc=M6;var tce=Fue;$e.CompoundPath=tce;var nce=HE;$e.LinearGradient=nce;var rce=Gue;$e.RadialGradient=rce;var ace=In;$e.BoundingRect=ace;var ice=$E;$e.IncrementalDisplayable=ice;var jE=Of,xm=Math.max,bm=Math.min,Ry={},YE=1,oce={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},A2="emphasis",w2="normal",C2=1,M2={},iM={};function sce(e){return Zue.extend(e)}function lce(e,t){return GE.extendFromString(e,t)}function xo(e,t){iM[e]=t}function uce(e){if(iM.hasOwnProperty(e))return iM[e]}function T6(e,t,n,r){var a=GE.createFromString(e,t);return n&&(r==="center"&&(n=E6(n,a.getBoundingRect())),P6(a,n)),a}function cce(e,t,n){var r=new WE({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(a){if(n==="center"){var i={width:a.width,height:a.height};r.setStyle(E6(t,i))}}});return r}function E6(e,t){var n=t.width/t.height,r=e.height*n,a;r<=e.width?a=e.height:(r=e.width,a=r/n);var i=e.x+e.width/2,o=e.y+e.height/2;return{x:i-r/2,y:o-a/2,width:r,height:a}}var fce=GE.mergePath;function P6(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function dce(e){return jE.subPixelOptimizeLine(e.shape,e.shape,e.style),e}function hce(e){return jE.subPixelOptimizeRect(e.shape,e.shape,e.style),e}var vce=jE.subPixelOptimize;function T2(e){return e!=null&&e!=="none"}var E2=Ea.createHashMap(),P2=0;function pce(e){if(typeof e!="string")return e;var t=E2.get(e);return t||(t=Kue.lift(e,-.1),P2<1e4&&(E2.set(e,t),P2++)),t}function gce(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t){e.__cachedNormalStl=e.__cachedNormalZ2=null;return}var n=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var r=e.style;for(var a in t)t[a]!=null&&(n[a]=r[a]);n.fill=r.fill,n.stroke=r.stroke}}function XE(e){var t=e.__hoverStl;if(!(!t||e.__highlighted)){var n=e.__zr,r=e.useHoverLayer&&n&&n.painter.type==="canvas";if(e.__highlighted=r?"layer":"plain",!(e.isGroup||!n&&e.useHoverLayer)){var a=e,i=e.style;r&&(a=n.addHover(e),i=a.style),Sm(i),r||gce(a),i.extendFrom(t),R2(i,t,"fill"),R2(i,t,"stroke"),Ch(i),r||(e.dirty(!1),e.z2+=YE)}}}function R2(e,t,n){!T2(t[n])&&T2(e[n])&&(e[n]=pce(e[n]))}function qE(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if(t==="layer")e.__zr&&e.__zr.removeHover(e);else{var n=e.style,r=e.__cachedNormalStl;r&&(Sm(n),e.setStyle(r),Ch(n));var a=e.__cachedNormalZ2;a!=null&&e.z2-a===YE&&(e.z2=a)}}function vv(e,t,n){var r=w2,a=w2,i;e.__highlighted&&(r=A2,i=!0),t(e,n),e.__highlighted&&(a=A2,i=!0),e.isGroup&&e.traverse(function(o){!o.isGroup&&t(o,n)}),i&&e.__highDownOnUpdate&&e.__highDownOnUpdate(r,a)}function R6(e,t){t=e.__hoverStl=t!==!1&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,qE(e),XE(e))}function mce(e){!I6(this,e)&&!this.__highByOuter&&vv(this,XE)}function yce(e){!I6(this,e)&&!this.__highByOuter&&vv(this,qE)}function xce(e){this.__highByOuter|=1<<(e||0),vv(this,XE)}function bce(e){!(this.__highByOuter&=~(1<<(e||0)))&&vv(this,qE)}function I6(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Sce(e,t){D6(e,!0),vv(e,R6,t)}function D6(e,t){var n=t===!1;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!n||e.__highDownDispatcher){var r=n?"off":"on";e[r]("mouseover",mce)[r]("mouseout",yce),e[r]("emphasis",xce)[r]("normal",bce),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!n}}function _ce(e){return!!(e&&e.__highDownDispatcher)}function Ace(e){var t=M2[e];return t==null&&C2<=32&&(t=M2[e]=C2++),t}function wce(e,t,n,r,a,i,o){a=a||Ry;var s=a.labelFetcher,l=a.labelDataIndex,u=a.labelDimIndex,c=a.labelProp,f=n.getShallow("show"),d=r.getShallow("show"),h;(f||d)&&(s&&(h=s.getFormattedLabel(l,"normal",null,u,c)),h==null&&(h=Ea.isFunction(a.defaultText)?a.defaultText(l,a):a.defaultText));var v=f?h:null,m=d?Ea.retrieve2(s?s.getFormattedLabel(l,"emphasis",null,u,c):null,h):null;(v!=null||m!=null)&&(oM(e,n,i,a),oM(t,r,o,a,!0)),e.text=v,t.text=m}function Cce(e,t,n){var r=e.style;t&&(Sm(r),e.setStyle(t),Ch(r)),r=e.__hoverStl,n&&r&&(Sm(r),Ea.extend(r,n),Ch(r))}function oM(e,t,n,r,a){return L6(e,t,r,a),n&&Ea.extend(e,n),e}function Mce(e,t,n){var r={isRectText:!0},a;n===!1?a=!0:r.autoColor=n,L6(e,t,r,a)}function L6(e,t,n,r){if(n=n||Ry,n.isRectText){var a;n.getTextPosition?a=n.getTextPosition(t,r):(a=t.getShallow("position")||(r?null:"inside"),a==="outside"&&(a="top")),e.textPosition=a,e.textOffset=t.getShallow("offset");var i=t.getShallow("rotate");i!=null&&(i*=Math.PI/180),e.textRotation=i,e.textDistance=Ea.retrieve2(t.getShallow("distance"),r?null:5)}var o=t.ecModel,s=o&&o.option.textStyle,l=Tce(t),u;if(l){u={};for(var c in l)if(l.hasOwnProperty(c)){var f=t.getModel(["rich",c]);I2(u[c]={},f,s,n,r)}}return e.rich=u,I2(e,t,s,n,r,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),e}function Tce(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||Ry).rich;if(n){t=t||{};for(var r in n)n.hasOwnProperty(r)&&(t[r]=1)}e=e.parentModel}return t}function I2(e,t,n,r,a,i){n=!a&&n||Ry,e.textFill=bp(t.getShallow("color"),r)||n.color,e.textStroke=bp(t.getShallow("textBorderColor"),r)||n.textBorderColor,e.textStrokeWidth=Ea.retrieve2(t.getShallow("textBorderWidth"),n.textBorderWidth),a||(i&&(e.insideRollbackOpt=r,Ch(e)),e.textFill==null&&(e.textFill=r.autoColor)),e.fontStyle=t.getShallow("fontStyle")||n.fontStyle,e.fontWeight=t.getShallow("fontWeight")||n.fontWeight,e.fontSize=t.getShallow("fontSize")||n.fontSize,e.fontFamily=t.getShallow("fontFamily")||n.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!i||!r.disableBox)&&(e.textBackgroundColor=bp(t.getShallow("backgroundColor"),r),e.textPadding=t.getShallow("padding"),e.textBorderColor=bp(t.getShallow("borderColor"),r),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||n.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||n.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||n.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function bp(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function Ch(e){var t=e.textPosition,n=e.insideRollbackOpt,r;if(n&&e.textFill==null){var a=n.autoColor,i=n.isRectText,o=n.useInsideStyle,s=o!==!1&&(o===!0||i&&t&&typeof t=="string"&&t.indexOf("inside")>=0),l=!s&&a!=null;(s||l)&&(r={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),s&&(e.textFill="#fff",e.textStroke==null&&(e.textStroke=a,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),l&&(e.textFill=a)}e.insideRollback=r}function Sm(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Ece(e,t){var n=t&&t.getModel("textStyle");return Ea.trim([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function O6(e,t,n,r,a,i){typeof a=="function"&&(i=a,a=null);var o=r&&r.isAnimationEnabled();if(o){var s=e?"Update":"",l=r.getShallow("animationDuration"+s),u=r.getShallow("animationEasing"+s),c=r.getShallow("animationDelay"+s);typeof c=="function"&&(c=c(a,r.getAnimationDelayParams?r.getAnimationDelayParams(t,a):null)),typeof l=="function"&&(l=l(a)),l>0?t.animateTo(n,l,c||0,u,i,!!i):(t.stopAnimation(),t.attr(n),i&&i())}else t.stopAnimation(),t.attr(n),i&&i()}function N6(e,t,n,r,a){O6(!0,e,t,n,r,a)}function Pce(e,t,n,r,a){O6(!1,e,t,n,r,a)}function Rce(e,t){for(var n=aM.identity([]);e&&e!==t;)aM.mul(n,e.getLocalTransform(),n),e=e.parent;return n}function k6(e,t,n){return t&&!Ea.isArrayLike(t)&&(t=Que.getLocalTransform(t)),n&&(t=aM.invert([],t)),m6.applyTransform([],e,t)}function Ice(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),a=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),i=[e==="left"?-r:e==="right"?r:0,e==="top"?-a:e==="bottom"?a:0];return i=k6(i,t,n),Math.abs(i[0])>Math.abs(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function Dce(e,t,n,r){if(!e||!t)return;function a(s){var l={};return s.traverse(function(u){!u.isGroup&&u.anid&&(l[u.anid]=u)}),l}function i(s){var l={position:m6.clone(s.position),rotation:s.rotation};return s.shape&&(l.shape=Ea.extend({},s.shape)),l}var o=a(e);t.traverse(function(s){if(!s.isGroup&&s.anid){var l=o[s.anid];if(l){var u=i(s);s.attr(i(l)),N6(s,u,n,s.dataIndex)}}})}function Lce(e,t){return Ea.map(e,function(n){var r=n[0];r=xm(r,t.x),r=bm(r,t.x+t.width);var a=n[1];return a=xm(a,t.y),a=bm(a,t.y+t.height),[r,a]})}function Oce(e,t){var n=xm(e.x,t.x),r=bm(e.x+e.width,t.x+t.width),a=xm(e.y,t.y),i=bm(e.y+e.height,t.y+t.height);if(r>=n&&i>=a)return{x:n,y:a,width:r-n,height:i-a}}function Nce(e,t,n){t=Ea.extend({rectHover:!0},t);var r=t.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(r.image=e.slice(8),Ea.defaults(r,n),new WE(t)):T6(e.replace("path://",""),t,n,"center")}function kce(e,t,n,r,a){for(var i=0,o=a[a.length-1];i<a.length;i++){var s=a[i];if(B6(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function B6(e,t,n,r,a,i,o,s){var l=n-e,u=r-t,c=o-a,f=s-i,d=Wx(c,f,l,u);if(Bce(d))return!1;var h=e-a,v=t-i,m=Wx(h,v,l,u)/d;if(m<0||m>1)return!1;var p=Wx(h,v,c,f)/d;return!(p<0||p>1)}function Wx(e,t,n,r){return e*r-n*t}function Bce(e){return e<=1e-6&&e>=-1e-6}xo("circle",y6);xo("sector",x6);xo("ring",b6);xo("polygon",S6);xo("polyline",_6);xo("rect",A6);xo("line",w6);xo("bezierCurve",C6);xo("arc",M6);$e.Z2_EMPHASIS_LIFT=YE;$e.CACHED_LABEL_STYLE_PROPERTIES=oce;$e.extendShape=sce;$e.extendPath=lce;$e.registerShape=xo;$e.getShapeClass=uce;$e.makePath=T6;$e.makeImage=cce;$e.mergePath=fce;$e.resizePath=P6;$e.subPixelOptimizeLine=dce;$e.subPixelOptimizeRect=hce;$e.subPixelOptimize=vce;$e.setElementHoverStyle=R6;$e.setHoverStyle=Sce;$e.setAsHighDownDispatcher=D6;$e.isHighDownDispatcher=_ce;$e.getHighlightDigit=Ace;$e.setLabelStyle=wce;$e.modifyLabelStyle=Cce;$e.setTextStyle=oM;$e.setText=Mce;$e.getFont=Ece;$e.updateProps=N6;$e.initProps=Pce;$e.getTransform=Rce;$e.applyTransform=k6;$e.transformDirection=Ice;$e.groupTransition=Dce;$e.clipPointsByRect=Lce;$e.clipRectByRect=Oce;$e.createIcon=Nce;$e.linePolygonIntersect=kce;$e.lineLineIntersect=B6;var Fce=wn,Vce=$e,zce=["textStyle","color"],Uce={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(zce):null)},getFont:function(){return Vce.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Fce.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},Hce=Uce,$ce=Df,Gce=$ce([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Wce={getItemStyle:function(e,t){var n=Gce(this,e,t),r=this.getBorderLineDash();return r&&(n.lineDash=r),n},getBorderLineDash:function(){var e=this.get("borderType");return e==="solid"||e==null?null:e==="dashed"?[5,5]:[1,1]}},jce=Wce,sM=de,Yce=Qn,Xce=bt,qce=Xce.makeInner,F6=ga,Kce=F6.enableClassExtend,Zce=F6.enableClassCheck,Qce=Fse,Jce=Hse,efe=Hce,tfe=jce,Iy=sM.mixin,V6=qce();function io(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}io.prototype={constructor:io,init:null,mergeOption:function(e){sM.merge(this.option,e,!0)},get:function(e,t){return e==null?this.option:D2(this.option,this.parsePath(e),!t&&jx(this,e))},getShallow:function(e,t){var n=this.option,r=n==null?n:n[e],a=!t&&jx(this,e);return r==null&&a&&(r=a.getShallow(e)),r},getModel:function(e,t){var n=e==null?this.option:D2(this.option,e=this.parsePath(e)),r;return t=t||(r=jx(this,e))&&r.getModel(e),new io(n,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(sM.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return typeof e=="string"&&(e=e.split(".")),e},customizeGetParent:function(e){V6(this).getParent=e},isAnimationEnabled:function(){if(!Yce.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function D2(e,t,n){for(var r=0;r<t.length&&!(t[r]&&(e=e&&typeof e=="object"?e[t[r]]:null,e==null));r++);return e==null&&n&&(e=n.get(t)),e}function jx(e,t){var n=V6(e).getParent;return n?n.call(e,t):e.parentModel}Kce(io);Zce(io);Iy(io,Qce);Iy(io,Jce);Iy(io,efe);Iy(io,tfe);var nfe=io,Jn=nfe,sl={},Mo=de,rfe=ga,L2=rfe.parseClassType,afe=0;function ife(e){return[e||"",afe++,Math.random().toFixed(5)].join("_")}function ofe(e){var t={};return e.registerSubTypeDefaulter=function(n,r){n=L2(n),t[n.main]=r},e.determineSubType=function(n,r){var a=r.type;if(!a){var i=L2(n).main;e.hasSubTypes(n)&&t[i]&&(a=t[i](r))}return a},e}function sfe(e,t){e.topologicalTravel=function(i,o,s,l){if(!i.length)return;var u=n(o),c=u.graph,f=u.noEntryList,d={};for(Mo.each(i,function(y){d[y]=!0});f.length;){var h=f.pop(),v=c[h],m=!!d[h];m&&(s.call(l,h,v.originalDeps.slice()),delete d[h]),Mo.each(v.successor,m?g:p)}Mo.each(d,function(){throw new Error("Circle dependency may exists")});function p(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function g(y){d[y]=!0,p(y)}};function n(i){var o={},s=[];return Mo.each(i,function(l){var u=r(o,l),c=u.originalDeps=t(l),f=a(c,i);u.entryCount=f.length,u.entryCount===0&&s.push(l),Mo.each(f,function(d){Mo.indexOf(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(o,d);Mo.indexOf(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function r(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return Mo.each(i,function(l){Mo.indexOf(o,l)>=0&&s.push(l)}),s}}sl.getUID=ife;sl.enableSubTypeDefaulter=ofe;sl.enableTopologicalTravel=sfe;var $t={},nr={},O2;function Rt(){if(O2)return nr;O2=1;var e=de,t=1e-4;function n(S){return S.replace(/^\s+|\s+$/g,"")}function r(S,_,w,C){var M=_[1]-_[0],T=w[1]-w[0];if(M===0)return T===0?w[0]:(w[0]+w[1])/2;if(C)if(M>0){if(S<=_[0])return w[0];if(S>=_[1])return w[1]}else{if(S>=_[0])return w[0];if(S<=_[1])return w[1]}else{if(S===_[0])return w[0];if(S===_[1])return w[1]}return(S-_[0])/M*T+w[0]}function a(S,_){switch(S){case"center":case"middle":S="50%";break;case"left":case"top":S="0%";break;case"right":case"bottom":S="100%";break}return typeof S=="string"?n(S).match(/%$/)?parseFloat(S)/100*_:parseFloat(S):S==null?NaN:+S}function i(S,_,w){return _==null&&(_=10),_=Math.min(Math.max(0,_),20),S=(+S).toFixed(_),w?S:+S}function o(S){return S.sort(function(_,w){return _-w}),S}function s(S){if(S=+S,isNaN(S))return 0;for(var _=1,w=0;Math.round(S*_)/_!==S;)_*=10,w++;return w}function l(S){var _=S.toString(),w=_.indexOf("e");if(w>0){var C=+_.slice(w+1);return C<0?-C:0}else{var M=_.indexOf(".");return M<0?0:_.length-1-M}}function u(S,_){var w=Math.log,C=Math.LN10,M=Math.floor(w(S[1]-S[0])/C),T=Math.round(w(Math.abs(_[1]-_[0]))/C),E=Math.min(Math.max(-M+T,0),20);return isFinite(E)?E:20}function c(S,_,w){if(!S[_])return 0;var C=e.reduce(S,function(z,N){return z+(isNaN(N)?0:N)},0);if(C===0)return 0;for(var M=Math.pow(10,w),T=e.map(S,function(z){return(isNaN(z)?0:z)/C*M*100}),E=M*100,P=e.map(T,function(z){return Math.floor(z)}),R=e.reduce(P,function(z,N){return z+N},0),I=e.map(T,function(z,N){return z-P[N]});R<E;){for(var D=Number.NEGATIVE_INFINITY,B=null,F=0,G=I.length;F<G;++F)I[F]>D&&(D=I[F],B=F);++P[B],I[B]=0,++R}return P[_]/M}var f=9007199254740991;function d(S){var _=Math.PI*2;return(S%_+_)%_}function h(S){return S>-t&&S<t}var v=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function m(S){if(S instanceof Date)return S;if(typeof S=="string"){var _=v.exec(S);if(!_)return new Date(NaN);if(_[8]){var w=+_[4]||0;return _[8].toUpperCase()!=="Z"&&(w-=_[8].slice(0,3)),new Date(Date.UTC(+_[1],+(_[2]||1)-1,+_[3]||1,w,+(_[5]||0),+_[6]||0,+_[7]||0))}else return new Date(+_[1],+(_[2]||1)-1,+_[3]||1,+_[4]||0,+(_[5]||0),+_[6]||0,+_[7]||0)}else if(S==null)return new Date(NaN);return new Date(Math.round(S))}function p(S){return Math.pow(10,g(S))}function g(S){if(S===0)return 0;var _=Math.floor(Math.log(S)/Math.LN10);return S/Math.pow(10,_)>=10&&_++,_}function y(S,_){var w=g(S),C=Math.pow(10,w),M=S/C,T;return _?M<1.5?T=1:M<2.5?T=2:M<4?T=3:M<7?T=5:T=10:M<1?T=1:M<2?T=2:M<3?T=3:M<5?T=5:T=10,S=T*C,w>=-20?+S.toFixed(w<0?-w:0):S}function x(S,_){var w=(S.length-1)*_+1,C=Math.floor(w),M=+S[C-1],T=w-C;return T?M+T*(S[C]-M):M}function b(S){S.sort(function(R,I){return P(R,I,0)?-1:1});for(var _=-1/0,w=1,C=0;C<S.length;){for(var M=S[C].interval,T=S[C].close,E=0;E<2;E++)M[E]<=_&&(M[E]=_,T[E]=E?1:1-w),_=M[E],w=T[E];M[0]===M[1]&&T[0]*T[1]!==1?S.splice(C,1):C++}return S;function P(R,I,D){return R.interval[D]<I.interval[D]||R.interval[D]===I.interval[D]&&(R.close[D]-I.close[D]===(D?-1:1)||!D&&P(R,I,1))}}function A(S){return S-parseFloat(S)>=0}return nr.linearMap=r,nr.parsePercent=a,nr.round=i,nr.asc=o,nr.getPrecision=s,nr.getPrecisionSafe=l,nr.getPixelPrecision=u,nr.getPercentWithPrecision=c,nr.MAX_SAFE_INTEGER=f,nr.remRadian=d,nr.isRadianAroundZero=h,nr.parseDate=m,nr.quantity=p,nr.quantityExponent=g,nr.nice=y,nr.quantile=x,nr.reformIntervals=b,nr.isNumeric=A,nr}var Gt={},Dy=de,KE=wn,lfe=Rt();function ufe(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function cfe(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var ffe=Dy.normalizeCssArray,dfe=/([&<>"'])/g,hfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Mh(e){return e==null?"":(e+"").replace(dfe,function(t,n){return hfe[n]})}var N2=["a","b","c","d","e","f","g"],Yx=function(e,t){return"{"+e+(t??"")+"}"};function vfe(e,t,n){Dy.isArray(t)||(t=[t]);var r=t.length;if(!r)return"";for(var a=t[0].$vars||[],i=0;i<a.length;i++){var o=N2[i];e=e.replace(Yx(o),Yx(o,0))}for(var s=0;s<r;s++)for(var l=0;l<a.length;l++){var u=t[s][a[l]];e=e.replace(Yx(N2[l],s),n?Mh(u):u)}return e}function pfe(e,t,n){return Dy.each(t,function(r,a){e=e.replace("{"+a+"}",n?Mh(r):r)}),e}function gfe(e,a){e=Dy.isString(e)?{color:e,extraCssText:a}:e||{};var n=e.color,r=e.type,a=e.extraCssText,i=e.renderMode||"html",o=e.markerId||"X";return n?i==="html"?r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Mh(n)+";"+(a||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Mh(n)+";"+(a||"")+'"></span>':{renderMode:i,content:"{marker"+o+"|}  ",style:{color:n}}:""}function Yu(e,t){return e+="","0000".substr(0,t-e.length)+e}function mfe(e,t,n){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var r=lfe.parseDate(t),a=n?"UTC":"",i=r["get"+a+"FullYear"](),o=r["get"+a+"Month"]()+1,s=r["get"+a+"Date"](),l=r["get"+a+"Hours"](),u=r["get"+a+"Minutes"](),c=r["get"+a+"Seconds"](),f=r["get"+a+"Milliseconds"]();return e=e.replace("MM",Yu(o,2)).replace("M",o).replace("yyyy",i).replace("yy",i%100).replace("dd",Yu(s,2)).replace("d",s).replace("hh",Yu(l,2)).replace("h",l).replace("mm",Yu(u,2)).replace("m",u).replace("ss",Yu(c,2)).replace("s",c).replace("SSS",Yu(f,3)),e}function yfe(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var xfe=KE.truncateText;function bfe(e){return KE.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function Sfe(e,t,n,r,a,i,o,s){return KE.getBoundingRect(e,t,n,r,a,s,i,o)}function _fe(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location=e}else window.open(e,t)}Gt.addCommas=ufe;Gt.toCamelCase=cfe;Gt.normalizeCssArray=ffe;Gt.encodeHTML=Mh;Gt.formatTpl=vfe;Gt.formatTplSimple=pfe;Gt.getTooltipMarker=gfe;Gt.formatTime=mfe;Gt.capitalFirst=yfe;Gt.truncateText=xfe;Gt.getTextBoundingRect=bfe;Gt.getTextRect=Sfe;Gt.windowOpen=_fe;var of=de,z6=In,Afe=Rt(),Yi=Afe.parsePercent,U6=Gt,Og=of.each,H6=["left","right","top","bottom","width","height"],qs=[["width","left","right"],["height","top","bottom"]];function ZE(e,t,n,r,a){var i=0,o=0;r==null&&(r=1/0),a==null&&(a=1/0);var s=0;t.eachChild(function(l,u){var c=l.position,f=l.getBoundingRect(),d=t.childAt(u+1),h=d&&d.getBoundingRect(),v,m;if(e==="horizontal"){var p=f.width+(h?-h.x+f.x:0);v=i+p,v>r||l.newline?(i=0,v=p,o+=s+n,s=f.height):s=Math.max(s,f.height)}else{var g=f.height+(h?-h.y+f.y:0);m=o+g,m>a||l.newline?(i+=s+n,o=0,m=g,s=f.width):s=Math.max(s,f.width)}l.newline||(c[0]=i,c[1]=o,e==="horizontal"?i=v+n:o=m+n)})}var wfe=ZE,Cfe=of.curry(ZE,"vertical"),Mfe=of.curry(ZE,"horizontal");function Tfe(e,t,n){var r=t.width,a=t.height,i=Yi(e.x,r),o=Yi(e.y,a),s=Yi(e.x2,r),l=Yi(e.y2,a);return(isNaN(i)||isNaN(parseFloat(e.x)))&&(i=0),(isNaN(s)||isNaN(parseFloat(e.x2)))&&(s=r),(isNaN(o)||isNaN(parseFloat(e.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=a),n=U6.normalizeCssArray(n||0),{width:Math.max(s-i-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}}function $6(e,t,n){n=U6.normalizeCssArray(n||0);var r=t.width,a=t.height,i=Yi(e.left,r),o=Yi(e.top,a),s=Yi(e.right,r),l=Yi(e.bottom,a),u=Yi(e.width,r),c=Yi(e.height,a),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(u)&&(u=r-s-d-i),isNaN(c)&&(c=a-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/a?u=r*.8:c=a*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(i)&&(i=r-s-u-d),isNaN(o)&&(o=a-l-c-f),e.left||e.right){case"center":i=r/2-u/2-n[3];break;case"right":i=r-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=a/2-c/2-n[0];break;case"bottom":o=a-c-f;break}i=i||0,o=o||0,isNaN(u)&&(u=r-d-i-(s||0)),isNaN(c)&&(c=a-f-o-(l||0));var v=new z6(i+n[3],o+n[0],u,c);return v.margin=n,v}function Efe(e,t,n,r,a){var i=!a||!a.hv||a.hv[0],o=!a||!a.hv||a.hv[1],s=a&&a.boundingMode||"all";if(!(!i&&!o)){var l;if(s==="raw")l=e.type==="group"?new z6(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(l=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();l=l.clone(),l.applyTransform(u)}t=$6(of.defaults({width:l.width,height:l.height},t),n,r);var c=e.position,f=i?t.x-l.x:0,d=o?t.y-l.y:0;e.attr("position",s==="raw"?[f,d]:[c[0]+f,c[1]+d])}}function Pfe(e,t){return e[qs[t][0]]!=null||e[qs[t][1]]!=null&&e[qs[t][2]]!=null}function Rfe(e,t,n){!of.isObject(n)&&(n={});var r=n.ignoreSize;!of.isArray(r)&&(r=[r,r]);var a=o(qs[0],0),i=o(qs[1],1);u(qs[0],e,a),u(qs[1],e,i);function o(c,f){var d={},h=0,v={},m=0,p=2;if(Og(c,function(x){v[x]=e[x]}),Og(c,function(x){s(t,x)&&(d[x]=v[x]=t[x]),l(d,x)&&h++,l(v,x)&&m++}),r[f])return l(t,c[1])?v[c[2]]=null:l(t,c[2])&&(v[c[1]]=null),v;if(m===p||!h)return v;if(h>=p)return d;for(var g=0;g<c.length;g++){var y=c[g];if(!s(d,y)&&s(e,y)){d[y]=e[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){Og(c,function(h){f[h]=d[h]})}}function Ife(e){return G6({},e)}function G6(e,t){return t&&e&&Og(H6,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}$t.LOCATION_PARAMS=H6;$t.HV_NAMES=qs;$t.box=wfe;$t.vbox=Cfe;$t.hbox=Mfe;$t.getAvailableSize=Tfe;$t.getLayoutRect=$6;$t.positionElement=Efe;$t.sizeCalculable=Pfe;$t.mergeLayoutParam=Rfe;$t.getLayoutParams=Ife;$t.copyLayoutParams=G6;var Dfe={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},Lfe=Dfe,Ks=de,k2=Jn,QE=sl,W6=ga,Ofe=W6.enableClassManagement,Nfe=W6.parseClassType,kfe=bt,Bfe=kfe.makeInner,Xx=$t,Ffe=Lfe,Vfe=Bfe(),kf=k2.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,r){k2.call(this,e,t,n,r),this.uid=QE.getUID("ec_cpt_model")},init:function(e,t,n,r){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?Xx.getLayoutParams(e):{},a=t.getTheme();Ks.merge(e,a.get(this.mainType)),Ks.merge(e,this.getDefaultOption()),n&&Xx.mergeLayoutParam(e,r,n)},mergeOption:function(e,t){Ks.merge(this.option,e,!0);var n=this.layoutMode;n&&Xx.mergeLayoutParam(this.option,e,n)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=Vfe(this);if(!e.defaultOption){for(var t=[],n=this.constructor;n;){var r=n.prototype.defaultOption;r&&t.push(r),n=n.superClass}for(var a={},i=t.length-1;i>=0;i--)a=Ks.merge(a,t[i],!0);e.defaultOption=a}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});Ofe(kf,{registerWhenExtend:!0});QE.enableSubTypeDefaulter(kf);QE.enableTopologicalTravel(kf,zfe);function zfe(e){var t=[];return Ks.each(kf.getClassesByMainType(e),function(n){t=t.concat(n.prototype.dependencies||[])}),t=Ks.map(t,function(n){return Nfe(n).main}),e!=="dataset"&&Ks.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}Ks.mixin(kf,Ffe);var Ufe=kf,yr=Ufe,j6="";typeof navigator<"u"&&(j6=navigator.platform||"");var Hfe={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:j6.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},$fe=Hfe,Y6=bt,Gfe=Y6.makeInner,Wfe=Y6.normalizeToArray,qx=Gfe();function jfe(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}var Yfe={clearColorPalette:function(){qx(this).colorIdx=0,qx(this).colorNameMap={}},getColorFromPalette:function(e,t,n){t=t||this;var r=qx(t),a=r.colorIdx||0,i=r.colorNameMap=r.colorNameMap||{};if(i.hasOwnProperty(e))return i[e];var o=Wfe(this.get("color",!0)),s=this.get("colorLayer",!0),l=n==null||!s?o:jfe(s,n);if(l=l||o,!(!l||!l.length)){var u=l[a];return e&&(i[e]=u),r.colorIdx=(a+1)%l.length,u}}},X6=Yfe,Br={},Pa={},Xfe="original",qfe="arrayRows",Kfe="objectRows",Zfe="keyedColumns",Qfe="unknown",Jfe="typedArray",ede="column",tde="row";Pa.SOURCE_FORMAT_ORIGINAL=Xfe;Pa.SOURCE_FORMAT_ARRAY_ROWS=qfe;Pa.SOURCE_FORMAT_OBJECT_ROWS=Kfe;Pa.SOURCE_FORMAT_KEYED_COLUMNS=Zfe;Pa.SOURCE_FORMAT_UNKNOWN=Qfe;Pa.SOURCE_FORMAT_TYPED_ARRAY=Jfe;Pa.SERIES_LAYOUT_BY_COLUMN=ede;Pa.SERIES_LAYOUT_BY_ROW=tde;var q6=de,nde=q6.createHashMap,rde=q6.isTypedArray,ade=ga,ide=ade.enableClassCheck,pv=Pa,ode=pv.SOURCE_FORMAT_ORIGINAL,sde=pv.SERIES_LAYOUT_BY_COLUMN,lde=pv.SOURCE_FORMAT_UNKNOWN,ude=pv.SOURCE_FORMAT_TYPED_ARRAY,cde=pv.SOURCE_FORMAT_KEYED_COLUMNS;function _m(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===cde?{}:[]),this.sourceFormat=e.sourceFormat||lde,this.seriesLayoutBy=e.seriesLayoutBy||sde,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&nde(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}_m.seriesDataToSource=function(e){return new _m({data:e,sourceFormat:rde(e)?ude:ode,fromDataset:!1})};ide(_m);var fde=_m,gv=fde,K6=bt,dde=K6.makeInner,Z6=K6.getDataItemValue,bo=de,Q6=bo.createHashMap,Th=bo.each,hde=bo.map,Am=bo.isArray,lM=bo.isString,sf=bo.isObject,wm=bo.isTypedArray,vde=bo.isArrayLike,pde=bo.extend;bo.assert;var gde=gv,wu=Pa,JE=wu.SOURCE_FORMAT_ORIGINAL,Cm=wu.SOURCE_FORMAT_ARRAY_ROWS,Ly=wu.SOURCE_FORMAT_OBJECT_ROWS,Oy=wu.SOURCE_FORMAT_KEYED_COLUMNS,mde=wu.SOURCE_FORMAT_UNKNOWN,J6=wu.SOURCE_FORMAT_TYPED_ARRAY,eP=wu.SERIES_LAYOUT_BY_ROW,Ur={Must:1,Might:2,Not:3},lf=dde();function yde(e){var t=e.option.source,n=mde;if(wm(t))n=J6;else if(Am(t)){t.length===0&&(n=Cm);for(var r=0,a=t.length;r<a;r++){var i=t[r];if(i!=null){if(Am(i)){n=Cm;break}else if(sf(i)){n=Ly;break}}}}else if(sf(t)){for(var o in t)if(t.hasOwnProperty(o)&&vde(t[o])){n=Oy;break}}else if(t!=null)throw new Error("Invalid data");lf(e).sourceFormat=n}function xde(e){return lf(e).source}function bde(e){lf(e).datasetMap=Q6()}function Sde(e){var t=e.option,n=t.data,r=wm(n)?J6:JE,a=!1,i=t.seriesLayoutBy,o=t.sourceHeader,s=t.dimensions,l=tP(e);if(l){var u=l.option;n=u.source,r=lf(l).sourceFormat,a=!0,i=i||u.seriesLayoutBy,o==null&&(o=u.sourceHeader),s=s||u.dimensions}var c=_de(n,r,i,o,s);lf(e).source=new gde({data:n,fromDataset:a,seriesLayoutBy:i,sourceFormat:r,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:t.encode})}function _de(e,t,n,r,a){if(!e)return{dimensionsDefine:B2(a)};var i,o;if(t===Cm)r==="auto"||r==null?F2(function(l){l!=null&&l!=="-"&&(lM(l)?o==null&&(o=1):o=0)},n,e,10):o=r?1:0,!a&&o===1&&(a=[],F2(function(l,u){a[u]=l??""},n,e)),i=a?a.length:n===eP?e.length:e[0]?e[0].length:null;else if(t===Ly)a||(a=Ade(e));else if(t===Oy)a||(a=[],Th(e,function(l,u){a.push(u)}));else if(t===JE){var s=Z6(e[0]);i=Am(s)&&s.length||1}return{startIndex:o,dimensionsDefine:B2(a),dimensionsDetectCount:i}}function B2(e){if(e){var t=Q6();return hde(e,function(n,r){if(n=pde({},sf(n)?n:{name:n}),n.name==null)return n;n.name+="",n.displayName==null&&(n.displayName=n.name);var a=t.get(n.name);return a?n.name+="-"+a.count++:t.set(n.name,{count:1}),n})}}function F2(e,t,n,r){if(r==null&&(r=1/0),t===eP)for(var a=0;a<n.length&&a<r;a++)e(n[a]?n[a][0]:null,a);else for(var i=n[0]||[],a=0;a<i.length&&a<r;a++)e(i[a],a)}function Ade(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n){var r=[];return Th(n,function(a,i){r.push(i)}),r}}function wde(e,t,n){var r={},a=tP(t);if(!a||!e)return r;var i=[],o=[],s=t.ecModel,l=lf(s).datasetMap,u=a.uid+"_"+n.seriesLayoutBy,c,f;e=e.slice(),Th(e,function(m,p){!sf(m)&&(e[p]={name:m}),m.type==="ordinal"&&c==null&&(c=p,f=v(e[p])),r[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});Th(e,function(m,p){var g=m.name,y=v(m);if(c==null){var x=d.valueWayDim;h(r[g],x,y),h(o,x,y),d.valueWayDim+=y}else if(c===p)h(r[g],0,y),h(i,0,y);else{var x=d.categoryWayDim;h(r[g],x,y),h(o,x,y),d.categoryWayDim+=y}});function h(m,p,g){for(var y=0;y<g;y++)m.push(p+y)}function v(m){var p=m.dimsDef;return p?p.length:1}return i.length&&(r.itemName=i),o.length&&(r.seriesName=o),r}function Cde(e,t,n){var r={},a=tP(e);if(!a)return r;var i=t.sourceFormat,o=t.dimensionsDefine,s;(i===Ly||i===Oy)&&Th(o,function(c,f){(sf(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,v=Math.min(5,n);h<v;h++){var m=eW(t.data,i,t.seriesLayoutBy,o,t.startIndex,h);d.push(m);var p=m===Ur.Not;if(p&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!p&&d[c.n]===Ur.Not)&&(c.n=h),g(c)&&d[c.n]!==Ur.Not)return c;p||(m===Ur.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function g(y){return y.v!=null&&y.n!=null}return g(c)?c:g(f)?f:null}();if(l){r.value=l.v;var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function tP(e){var t=e.option,n=t.data;if(!n)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function Mde(e,t){return eW(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function eW(e,t,n,r,a,i){var o,s=5;if(wm(e))return Ur.Not;var l,u;if(r){var c=r[i];sf(c)?(l=c.name,u=c.type):lM(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ur.Must:Ur.Not;if(t===Cm)if(n===eP){for(var f=e[i],d=0;d<(f||[]).length&&d<s;d++)if((o=p(f[a+d]))!=null)return o}else for(var d=0;d<e.length&&d<s;d++){var h=e[a+d];if(h&&(o=p(h[i]))!=null)return o}else if(t===Ly){if(!l)return Ur.Not;for(var d=0;d<e.length&&d<s;d++){var v=e[d];if(v&&(o=p(v[l]))!=null)return o}}else if(t===Oy){if(!l)return Ur.Not;var f=e[l];if(!f||wm(f))return Ur.Not;for(var d=0;d<f.length&&d<s;d++)if((o=p(f[d]))!=null)return o}else if(t===JE)for(var d=0;d<e.length&&d<s;d++){var v=e[d],m=Z6(v);if(!Am(m))return Ur.Not;if((o=p(m[i]))!=null)return o}function p(g){var y=lM(g);if(g!=null&&isFinite(g)&&g!=="")return y?Ur.Might:Ur.Not;if(y&&g!=="-")return Ur.Must}return Ur.Not}Br.BE_ORDINAL=Ur;Br.detectSourceFormat=yde;Br.getSource=xde;Br.resetSourceDefaulter=bde;Br.prepareSource=Sde;Br.makeSeriesEncodeForAxisCoordSys=wde;Br.makeSeriesEncodeForNameBased=Cde;Br.guessOrdinal=Mde;var Ra=de,Qr=Ra.each,ks=Ra.filter,tW=Ra.map,Ng=Ra.isArray,V2=Ra.indexOf,Kx=Ra.isObject,Tde=Ra.isString,nP=Ra.createHashMap,z2=Ra.assert,uM=Ra.clone,rP=Ra.merge,U2=Ra.extend,Ede=Ra.mixin,hd=bt,H2=Jn,$o=yr,Pde=$fe,Rde=X6,Ide=Br,Dde=Ide.resetSourceDefaulter,cM="\0_ec_inner",nW=H2.extend({init:function(e,t,n,r){n=n||{},this.option=null,this._theme=new H2(n),this._optionManager=r},setOption:function(e,t){z2(!(cM in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,n=this._optionManager;if(!e||e==="recreate"){var r=n.mountOption(e==="recreate");!this.option||e==="recreate"?Nde.call(this,r):(this.restoreData(),this.mergeOption(r)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var a=n.getTimelineOption(this);a&&(this.mergeOption(a),t=!0)}if(!e||e==="recreate"||e==="media"){var i=n.getMediaOption(this,this._api);i.length&&Qr(i,function(o){this.mergeOption(o,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,n=this._componentsMap,r=[];Dde(this),Qr(e,function(i,o){i!=null&&($o.hasClass(o)?o&&r.push(o):t[o]=t[o]==null?uM(i):rP(t[o],i,!0))}),$o.topologicalTravel(r,$o.getAllClassMainTypes(),a,this);function a(i,o){var s=hd.normalizeToArray(e[i]),l=hd.mappingToExists(n.get(i),s);hd.makeIdAndName(l),Qr(l,function(c,f){var d=c.option;Kx(d)&&(c.keyInfo.mainType=i,c.keyInfo.subType=Bde(i,d,c.exist))});var u=kde(n,o);t[i]=[],n.set(i,[]),Qr(l,function(c,f){var d=c.exist,h=c.option;if(z2(Kx(h)||d,"Empty component definition"),!h)d.mergeOption({},this),d.optionUpdated({},!1);else{var v=$o.getClass(i,c.keyInfo.subType,!0);if(d&&d.constructor===v)d.name=c.keyInfo.name,d.mergeOption(h,this),d.optionUpdated(h,!1);else{var m=U2({dependentModels:u,componentIndex:f},c.keyInfo);d=new v(h,this,this,m),U2(d,m),d.init(h,this,this,m),d.optionUpdated(null,!0)}}n.get(i)[f]=d,t[i][f]=d.option},this),i==="series"&&Zx(this,n.get("series"))}this._seriesIndicesMap=nP(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=uM(this.option);return Qr(e,function(t,n){if($o.hasClass(n)){for(var t=hd.normalizeToArray(t),r=t.length-1;r>=0;r--)hd.isIdInner(t[r])&&t.splice(r,1);e[n]=t}}),delete e[cM],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap.get(e);if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,r=e.id,a=e.name,i=this._componentsMap.get(t);if(!i||!i.length)return[];var o;if(n!=null)Ng(n)||(n=[n]),o=ks(tW(n,function(u){return i[u]}),function(u){return!!u});else if(r!=null){var s=Ng(r);o=ks(i,function(u){return s&&V2(r,u.id)>=0||!s&&u.id===r})}else if(a!=null){var l=Ng(a);o=ks(i,function(u){return l&&V2(a,u.name)>=0||!l&&u.name===a})}else o=i.slice();return $2(o,e)},findComponents:function(e){var t=e.query,n=e.mainType,r=i(t),a=r?this.queryComponents(r):this._componentsMap.get(n);return o($2(a,e));function i(s){var l=n+"Index",u=n+"Id",c=n+"Name";return s&&(s[l]!=null||s[u]!=null||s[c]!=null)?{mainType:n,index:s[l],id:s[u],name:s[c]}:null}function o(s){return e.filter?ks(s,e.filter):s}},eachComponent:function(e,t,n){var r=this._componentsMap;if(typeof e=="function")n=t,t=e,r.each(function(i,o){Qr(i,function(s,l){t.call(n,o,s,l)})});else if(Tde(e))Qr(r.get(e),t,n);else if(Kx(e)){var a=this.findComponents(e);Qr(a,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return ks(t,function(n){return n.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return ks(t,function(n){return n.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Qr(this._seriesIndices,function(n){var r=this._componentsMap.get("series")[n];e.call(t,r,n)},this)},eachRawSeries:function(e,t){Qr(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,n){Qr(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];a.subType===e&&t.call(n,a,r)},this)},eachRawSeriesByType:function(e,t,n){return Qr(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var n=ks(this._componentsMap.get("series"),e,t);Zx(this,n)},restoreData:function(e){var t=this._componentsMap;Zx(this,t.get("series"));var n=[];t.each(function(r,a){n.push(a)}),$o.topologicalTravel(n,$o.getAllClassMainTypes(),function(r,a){Qr(t.get(r),function(i){(r!=="series"||!Lde(i,e))&&i.restoreData()})})}});function Lde(e,t){if(t){var n=t.seiresIndex,r=t.seriesId,a=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||a!=null&&e.name!==a}}function Ode(e,t){var n=e.color&&!e.colorLayer;Qr(t,function(r,a){a==="colorLayer"&&n||$o.hasClass(a)||(typeof r=="object"?e[a]=e[a]?rP(e[a],r,!1):uM(r):e[a]==null&&(e[a]=r))})}function Nde(e){e=e,this.option={},this.option[cM]=1,this._componentsMap=nP({series:[]}),this._seriesIndices,this._seriesIndicesMap,Ode(e,this._theme.option),rP(e,Pde,!1),this.mergeOption(e)}function kde(e,t){Ng(t)||(t=t?[t]:[]);var n={};return Qr(t,function(r){n[r]=(e.get(r)||[]).slice()}),n}function Bde(e,t,n){var r=t.type?t.type:n?n.subType:$o.determineSubType(e,t);return r}function Zx(e,t){e._seriesIndicesMap=nP(e._seriesIndices=tW(t,function(n){return n.componentIndex})||[])}function $2(e,t){return t.hasOwnProperty("subType")?ks(e,function(n){return n.subType===t.subType}):e}Ede(nW,Rde);var Fde=nW,rW=Fde,G2=de,Vde=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function zde(e){G2.each(Vde,function(t){this[t]=G2.bind(e[t],e)},this)}var Ude=zde,aW=Ude,W2=de,aP={};function Eh(){this._coordinateSystems=[]}Eh.prototype={constructor:Eh,create:function(e,t){var n=[];W2.each(aP,function(r,a){var i=r.create(e,t);n=n.concat(i||[])}),this._coordinateSystems=n},update:function(e,t){W2.each(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Eh.register=function(e,t){aP[e]=t};Eh.get=function(e){return aP[e]};var Hde=Eh,So=Hde,es=de,kg=bt,$de=yr,Bg=es.each,Pl=es.clone,Fg=es.map,j2=es.merge,Gde=/^(min|max)?(.+)$/;function fM(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}fM.prototype={constructor:fM,setOption:function(e,t){e&&es.each(kg.normalizeToArray(e.series),function(a){a&&a.data&&es.isTypedArray(a.data)&&es.setAsPrimitive(a.data)}),e=Pl(e);var n=this._optionBackup,r=Wde.call(this,e,t,!n);this._newBaseOption=r.baseOption,n?(qde(n.baseOption,r.baseOption),r.timelineOptions.length&&(n.timelineOptions=r.timelineOptions),r.mediaList.length&&(n.mediaList=r.mediaList),r.mediaDefault&&(n.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Fg(t.timelineOptions,Pl),this._mediaList=Fg(t.mediaList,Pl),this._mediaDefault=Pl(t.mediaDefault),this._currentMediaIndices=[],Pl(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var r=e.getComponent("timeline");r&&(t=Pl(n[r.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,i=[],o=[];if(!r.length&&!a)return o;for(var s=0,l=r.length;s<l;s++)jde(r[s].query,t,n)&&i.push(s);return!i.length&&a&&(i=[-1]),i.length&&!Xde(i,this._currentMediaIndices)&&(o=Fg(i,function(u){return Pl(u===-1?a.option:r[u].option)})),this._currentMediaIndices=i,o}};function Wde(e,t,n){var r=[],a=[],i,o,s=e.timeline;if(e.baseOption&&(o=e.baseOption),(s||e.options)&&(o=o||{},r=(e.options||[]).slice()),e.media){o=o||{};var l=e.media;Bg(l,function(u){u&&u.option&&(u.query?a.push(u):i||(i=u))})}return o||(o=e),o.timeline||(o.timeline=s),Bg([o].concat(r).concat(es.map(a,function(u){return u.option})),function(u){Bg(t,function(c){c(u,n)})}),{baseOption:o,timelineOptions:r,mediaDefault:i,mediaList:a}}function jde(e,t,n){var r={width:t,height:n,aspectratio:t/n},a=!0;return es.each(e,function(i,o){var s=o.match(Gde);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();Yde(r[u],i,l)||(a=!1)}}),a}function Yde(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function Xde(e,t){return e.join(",")===t.join(",")}function qde(e,t){t=t||{},Bg(t,function(n,r){if(n!=null){var a=e[r];if(!$de.hasClass(r))e[r]=j2(a,n,!0);else{n=kg.normalizeToArray(n),a=kg.normalizeToArray(a);var i=kg.mappingToExists(a,n);e[r]=Fg(i,function(o){return o.option&&o.exist?j2(o.exist,o.option,!0):o.exist||o.option})}}})}var Kde=fM,Zde=Kde,ta=de,Y2=bt,hi=ta.each,Ph=ta.isObject,X2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Qx(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=X2.length;n<r;n++){var a=X2[n],i=t.normal,o=t.emphasis;i&&i[a]&&(e[a]=e[a]||{},e[a].normal?ta.merge(e[a].normal,i[a]):e[a].normal=i[a],i[a]=null),o&&o[a]&&(e[a]=e[a]||{},e[a].emphasis?ta.merge(e[a].emphasis,o[a]):e[a].emphasis=o[a],o[a]=null)}}function Hr(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,a=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,ta.defaults(e[t],r)):e[t]=r),a&&(e.emphasis=e.emphasis||{},e.emphasis[t]=a)}}function Yd(e){Hr(e,"itemStyle"),Hr(e,"lineStyle"),Hr(e,"areaStyle"),Hr(e,"label"),Hr(e,"labelLine"),Hr(e,"upperLabel"),Hr(e,"edgeLabel")}function Kn(e,t){var n=Ph(e)&&e[t],r=Ph(n)&&n.textStyle;if(r)for(var a=0,i=Y2.TEXT_STYLE_OPTIONS.length;a<i;a++){var t=Y2.TEXT_STYLE_OPTIONS[a];r.hasOwnProperty(t)&&(n[t]=r[t])}}function Ha(e){e&&(Yd(e),Kn(e,"label"),e.emphasis&&Kn(e.emphasis,"label"))}function Qde(e){if(Ph(e)){Qx(e),Yd(e),Kn(e,"label"),Kn(e,"upperLabel"),Kn(e,"edgeLabel"),e.emphasis&&(Kn(e.emphasis,"label"),Kn(e.emphasis,"upperLabel"),Kn(e.emphasis,"edgeLabel"));var i=e.markPoint;i&&(Qx(i),Ha(i));var s=e.markLine;s&&(Qx(s),Ha(s));var t=e.markArea;t&&Ha(t);var n=e.data;if(e.type==="graph"){n=n||e.nodes;var r=e.links||e.edges;if(r&&!ta.isTypedArray(r))for(var a=0;a<r.length;a++)Ha(r[a]);ta.each(e.categories,function(u){Yd(u)})}if(n&&!ta.isTypedArray(n))for(var a=0;a<n.length;a++)Ha(n[a]);var i=e.markPoint;if(i&&i.data)for(var o=i.data,a=0;a<o.length;a++)Ha(o[a]);var s=e.markLine;if(s&&s.data)for(var l=s.data,a=0;a<l.length;a++)ta.isArray(l[a])?(Ha(l[a][0]),Ha(l[a][1])):Ha(l[a]);e.type==="gauge"?(Kn(e,"axisLabel"),Kn(e,"title"),Kn(e,"detail")):e.type==="treemap"?(Hr(e.breadcrumb,"itemStyle"),ta.each(e.levels,function(u){Yd(u)})):e.type==="tree"&&Yd(e.leaves)}}function To(e){return ta.isArray(e)?e:e?[e]:[]}function q2(e){return(ta.isArray(e)?e[0]:e)||{}}function Jde(e,t){hi(To(e.series),function(r){Ph(r)&&Qde(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),hi(n,function(r){hi(To(e[r]),function(a){a&&(Kn(a,"axisLabel"),Kn(a.axisPointer,"label"))})}),hi(To(e.parallel),function(r){var a=r&&r.parallelAxisDefault;Kn(a,"axisLabel"),Kn(a&&a.axisPointer,"label")}),hi(To(e.calendar),function(r){Hr(r,"itemStyle"),Kn(r,"dayLabel"),Kn(r,"monthLabel"),Kn(r,"yearLabel")}),hi(To(e.radar),function(r){Kn(r,"name")}),hi(To(e.geo),function(r){Ph(r)&&(Ha(r),hi(To(r.regions),function(a){Ha(a)}))}),hi(To(e.timeline),function(r){Ha(r),Hr(r,"label"),Hr(r,"itemStyle"),Hr(r,"controlStyle",!0);var a=r.data;ta.isArray(a)&&ta.each(a,function(i){ta.isObject(i)&&(Hr(i,"label"),Hr(i,"itemStyle"))})}),hi(To(e.toolbox),function(r){Hr(r,"iconStyle"),hi(r.feature,function(a){Hr(a,"iconStyle")})}),Kn(q2(e.axisPointer),"label"),Kn(q2(e.tooltip).axisPointer,"label")}var ehe=Jde,iP=de,Vg=iP.each,the=iP.isArray,nhe=iP.isObject,rhe=ehe,ahe=bt,ihe=ahe.normalizeToArray;function ohe(e,t){t=t.split(",");for(var n=e,r=0;r<t.length&&(n=n&&n[t[r]],n!=null);r++);return n}function she(e,t,n,r){t=t.split(",");for(var a=e,i,o=0;o<t.length-1;o++)i=t[o],a[i]==null&&(a[i]={}),a=a[i];(r||a[t[o]]==null)&&(a[t[o]]=n)}function K2(e){Vg(lhe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var lhe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],uhe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function che(e,t){rhe(e,t),e.series=ihe(e.series),Vg(e.series,function(n){if(nhe(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge")n.clockWise!=null&&(n.clockwise=n.clockWise);else if(r==="gauge"){var a=ohe(n,"pointer.color");a!=null&&she(n,"itemStyle.color",a)}K2(n)}}),e.dataRange&&(e.visualMap=e.dataRange),Vg(uhe,function(n){var r=e[n];r&&(the(r)||(r=[r]),Vg(r,function(a){K2(a)}))})}var fhe=che,iW=de,dhe=iW.createHashMap,hhe=iW.each;function vhe(e){var t=dhe();e.eachSeries(function(n){var r=n.get("stack");if(r){var a=t.get(r)||t.set(r,[]),i=n.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),t.each(phe)}function phe(e){hhe(e,function(t,n){var r=[],a=[NaN,NaN],i=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=o.map(i,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return a;var h,v;s?v=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var m=NaN,p=n-1;p>=0;p--){var g=e[p];if(s||(v=g.data.rawIndexOf(g.stackedByDimension,h)),v>=0){var y=g.data.getByRawIndex(g.stackResultDimension,v);if(d>=0&&y>0||d<=0&&y<0){d+=y,m=y;break}}}return r[0]=d,r[1]=m,r});o.hostModel.setData(l),t.data=l})}var ghe=vhe,ki={},mv=de;mv.isTypedArray;var mhe=mv.extend;mv.assert;var yhe=mv.each,xhe=mv.isObject,oW=bt,bhe=oW.getDataItemValue,She=oW.isDataItemOption,_he=Rt(),Ahe=_he.parseDate,Z2=gv,Ny=Pa,whe=Ny.SOURCE_FORMAT_TYPED_ARRAY,Che=Ny.SOURCE_FORMAT_ARRAY_ROWS,Q2=Ny.SOURCE_FORMAT_ORIGINAL,Mhe=Ny.SOURCE_FORMAT_OBJECT_ROWS;function sW(e,t){Z2.isInstance(e)||(e=Z2.seriesDataToSource(e)),this._source=e;var n=this._data=e.data,r=e.sourceFormat;r===whe&&(this._offset=0,this._dimSize=t,this._data=n);var a=The[r===Che?r+"_"+e.seriesLayoutBy:r];mhe(this,a)}var oP=sW.prototype;oP.pure=!1;oP.persistent=!0;oP.getSource=function(){return this._source};var The={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Jx},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],n=this._data,r=0;r<n.length;r++){var a=n[r];t.push(a?a[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:J2,getItem:eL,appendData:Jx},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],n=this._source.dimensionsDefine,r=0;r<n.length;r++){var a=this._data[n[r].name];t.push(a?a[e]:null)}return t},appendData:function(e){var t=this._data;yhe(e,function(n,r){for(var a=t[r]||(t[r]=[]),i=0;i<(n||[]).length;i++)a.push(n[i])})}},original:{count:J2,getItem:eL,appendData:Jx},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var n=this._dimSize*e,r=0;r<this._dimSize;r++)t[r]=this._data[n+r];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function J2(){return this._data.length}function eL(e){return this._data[e]}function Jx(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var Ehe={arrayRows:e1,objectRows:function(e,t,n,r){return n!=null?e[r]:e},keyedColumns:e1,original:function(e,t,n,r){var a=bhe(e);return n==null||!(a instanceof Array)?a:a[n]},typedArray:e1};function e1(e,t,n,r){return n!=null?e[n]:e}var Phe={arrayRows:tL,objectRows:function(e,t,n,r){return dM(e[t],this._dimensionInfos[t])},keyedColumns:tL,original:function(e,t,n,r){var a=e&&(e.value==null?e:e.value);return!this._rawData.pure&&She(e)&&(this.hasItemOption=!0),dM(a instanceof Array?a[r]:a,this._dimensionInfos[t])},typedArray:function(e,t,n,r){return e[r]}};function tL(e,t,n,r){return dM(e[r],this._dimensionInfos[t])}function dM(e,t){var n=t&&t.type;if(n==="ordinal"){var r=t&&t.ordinalMeta;return r?r.parseAndCollect(e):e}return n==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+Ahe(e)),e==null||e===""?NaN:+e}function Rhe(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var a=e.getProvider().getSource().sourceFormat,i,o,s=e.getDimensionInfo(n);return s&&(i=s.name,o=s.index),Ehe[a](r,t,o,i)}}}function Ihe(e,t,n){if(e){var r=e.getProvider().getSource().sourceFormat;if(!(r!==Q2&&r!==Mhe)){var a=e.getRawDataItem(t);if(r===Q2&&!xhe(a)&&(a=null),a)return a[n]}}}ki.DefaultDataProvider=sW;ki.defaultDimValueGetters=Phe;ki.retrieveRawValue=Rhe;ki.retrieveRawAttr=Ihe;var Dhe=ki,nL=Dhe.retrieveRawValue,lW=Gt,Lhe=lW.getTooltipMarker,Ohe=lW.formatTpl,Nhe=bt,khe=Nhe.getTooltipRenderMode,Bhe=/\{@(.+?)\}/g,Fhe={getDataParams:function(e,t){var n=this.getData(t),r=this.getRawValue(e,t),a=n.getRawIndex(e),i=n.getName(e),o=n.getRawDataItem(e),s=n.getItemVisual(e,"color"),l=n.getItemVisual(e,"borderColor"),u=this.ecModel.getComponent("tooltip"),c=u&&u.get("renderMode"),f=khe(c),d=this.mainType,h=d==="series",v=n.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:i,dataIndex:a,data:o,dataType:t,value:r,color:s,borderColor:l,dimensionNames:v?v.dimensionNames:null,encode:v?v.encode:null,marker:Lhe({color:s,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,r,a){t=t||"normal";var i=this.getData(n),o=i.getItemModel(e),s=this.getDataParams(e,n);r!=null&&s.value instanceof Array&&(s.value=s.value[r]);var l=o.get(t==="normal"?[a||"label","formatter"]:[t,a||"label","formatter"]);if(typeof l=="function")return s.status=t,s.dimensionIndex=r,l(s);if(typeof l=="string"){var u=Ohe(l,s);return u.replace(Bhe,function(c,f){var d=f.length;return f.charAt(0)==="["&&f.charAt(d-1)==="]"&&(f=+f.slice(1,d-1)),nL(i,e,f)})}},getRawValue:function(e,t){return nL(this.getData(t),e)},formatTooltip:function(){}},sP=Fhe,ky={},uW=de;uW.assert;var cW=uW.isArray;function Vhe(e){return new fW(e)}function fW(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var ll=fW.prototype;ll.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var i=u(this._modBy),o=this._modDataCount||0,s=u(e&&e.modBy),l=e&&e.modDataCount||0;(i!==s||o!==l)&&(a="reset");function u(g){return!(g>=1)&&(g=1),g}var c;(this._dirty||a==="reset")&&(this._dirty=!1,c=zhe(this,n)),this._modBy=s,this._modDataCount=l;var f=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,h=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(c||d<h)){var v=this._progress;if(cW(v))for(var m=0;m<v.length;m++)aL(this,v[m],d,h,s,l);else aL(this,v,d,h,s,l)}this._dueIndex=h;var p=this._settedOutputEnd!=null?this._settedOutputEnd:h;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var rL=function(){var e,t,n,r,a,i={reset:function(l,u,c,f){t=l,e=u,n=c,r=f,a=Math.ceil(r/n),i.next=n>1&&r>0?s:o}};return i;function o(){return t<e?t++:null}function s(){var l=t%a*n+Math.ceil(t/a),u=t>=e?null:l<r?l:t;return t++,u}}();ll.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function aL(e,t,n,r,a,i){rL.reset(n,r,a,i),e._callingProgress=t,e._callingProgress({start:n,end:r,count:r-n,next:rL.next},e.context)}function zhe(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var n,r;!t&&e._reset&&(n=e._reset(e.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),cW(n)&&!n.length&&(n=null)),e._progress=n,e._modBy=e._modDataCount=null;var a=e._downstream;return a&&a.dirty(),r}ll.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};ll.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};ll.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};ll.getUpstream=function(){return this._upstream};ll.getDownstream=function(){return this._downstream};ll.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};ky.createTask=Vhe;var ca=de,Uhe=Qn,By=Gt,Hhe=By.formatTime,vd=By.encodeHTML,iL=By.addCommas,oL=By.getTooltipMarker,oh=bt,sL=yr,dW=X6,$he=sP,hW=$t,Ghe=hW.getLayoutParams,lL=hW.mergeLayoutParam,Whe=ky,jhe=Whe.createTask,vW=Br,uL=vW.prepareSource,Yhe=vW.getSource,Xhe=ki,cL=Xhe.retrieveRawValue,pd=oh.makeInner(),lP=sL.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,n,r){this.seriesIndex=this.componentIndex,this.dataTask=jhe({count:Khe,reset:Zhe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,n),uL(this);var a=this.getInitialData(e,n);dL(a,this),this.dataTask.context.data=a,pd(this).dataBeforeProcessed=a,fL(this)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?Ghe(e):{},a=this.subType;sL.hasClass(a)&&(a+="Series"),ca.merge(e,t.getTheme().get(this.subType)),ca.merge(e,this.getDefaultOption()),oh.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),n&&lL(e,r,n)},mergeOption:function(e,t){e=ca.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var n=this.layoutMode;n&&lL(this.option,e,n),uL(this);var r=this.getInitialData(e,t);dL(r,this),this.dataTask.dirty(),this.dataTask.context.data=r,pd(this).dataBeforeProcessed=r,fL(this)},fillDataTextStyle:function(e){if(e&&!ca.isTypedArray(e))for(var t=["show"],n=0;n<e.length;n++)e[n]&&e[n].label&&oh.defaultEmphasis(e[n],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=hM(this);if(t){var n=t.context.data;return e==null?n:n.getLinkedData(e)}else return pd(this).data},setData:function(e){var t=hM(this);if(t){var n=t.context;n.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),n.outputData=e,t!==this.dataTask&&(n.data=e)}pd(this).data=e},getSource:function(){return Yhe(this)},getRawData:function(){return pd(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n,r){var a=this;r=r||"html";var i=r==="html"?"<br/>":`
`,o=r==="richText",s={},l=0;function u(C){var M=ca.reduce(C,function(I,D,B){var F=f.getDimensionInfo(B);return I|=F&&F.tooltip!==!1&&F.displayName!=null},0),T=[];d.length?ca.each(d,function(I){E(cL(f,e,I),I)}):ca.each(C,E);function E(I,D){var B=f.getDimensionInfo(D);if(!(!B||B.otherDims.tooltip===!1)){var F=B.type,G="sub"+a.seriesIndex+"at"+l,z=oL({color:p,type:"subItem",renderMode:r,markerId:G}),N=typeof z=="string"?z:z.content,U=(M?N+vd(B.displayName||"-")+": ":"")+vd(F==="ordinal"?I+"":F==="time"?t?"":Hhe("yyyy/MM/dd hh:mm:ss",I):iL(I));U&&T.push(U),o&&(s[G]=p,++l)}}var P=M?o?`
`:"<br/>":"",R=P+T.join(P||", ");return{renderMode:r,content:R,style:s}}function c(C){return{renderMode:r,content:vd(iL(C)),style:s}}var f=this.getData(),d=f.mapDimension("defaultedTooltip",!0),h=d.length,v=this.getRawValue(e),m=ca.isArray(v),p=f.getItemVisual(e,"color");ca.isObject(p)&&p.colorStops&&(p=(p.colorStops[0]||{}).color),p=p||"transparent";var g=h>1||m&&!h?u(v):c(h?cL(f,e,d[0]):m?v[0]:v),y=g.content,x=a.seriesIndex+"at"+l,b=oL({color:p,type:"item",renderMode:r,markerId:x});s[x]=p,++l;var A=f.getName(e),S=this.name;oh.isNameSpecified(this)||(S=""),S=S?vd(S)+(t?": ":i):"";var _=typeof b=="string"?b:b.content,w=t?_+S+y:S+_+(A?vd(A)+": "+y:y);return{html:w,markers:s}},isAnimationEnabled:function(){if(Uhe.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,n){var r=this.ecModel,a=dW.getColorFromPalette.call(this,e,t,n);return a||(a=r.getColorFromPalette(e,t,n)),a},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});ca.mixin(lP,$he);ca.mixin(lP,dW);function fL(e){var t=e.name;oh.isNameSpecified(e)||(e.name=qhe(e)||t)}function qhe(e){var t=e.getRawData(),n=t.mapDimension("seriesName",!0),r=[];return ca.each(n,function(a){var i=t.getDimensionInfo(a);i.displayName&&r.push(i.displayName)}),r.join(" ")}function Khe(e){return e.model.getRawData().count()}function Zhe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),Qhe}function Qhe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function dL(e,t){ca.each(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,ca.curry(Jhe,t))})}function Jhe(e){var t=hM(e);t&&t.setOutputEnd(this.count())}function hM(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var a=r.agentStubMap;a&&(r=a.get(e.uid))}return r}}var eve=lP,xr=eve,tve=Su,nve=sl,pW=ga,uf=function(){this.group=new tve,this.uid=nve.getUID("viewComponent")};uf.prototype={constructor:uf,init:function(e,t){},render:function(e,t,n,r){},dispose:function(){},filterForExposedEvent:null};var t1=uf.prototype;t1.updateView=t1.updateLayout=t1.updateVisual=function(e,t,n,r){};pW.enableClassExtend(uf);pW.enableClassManagement(uf,{registerWhenExtend:!0});var rve=uf,Fy=rve,ave=bt,ive=ave.makeInner;function ove(){var e=ive();return function(t){var n=e(t),r=t.pipelineContext,a=n.large,i=n.progressiveRender,o=n.large=r&&r.large,s=n.progressiveRender=r&&r.progressiveRender;return!!(a^o||i^s)&&"reset"}}var Bf=ove,sve=de,lve=sve.each,uve=Su,cve=sl,gW=ga,vM=bt,mW=$e,fve=ky,dve=fve.createTask,hve=Bf,yW=vM.makeInner(),vve=hve();function Ff(){this.group=new uve,this.uid=cve.getUID("viewChart"),this.renderTask=dve({plan:pve,reset:gve}),this.renderTask.context={view:this}}Ff.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,r){},highlight:function(e,t,n,r){hL(e.getData(),r,"emphasis")},downplay:function(e,t,n,r){hL(e.getData(),r,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var n1=Ff.prototype;n1.updateView=n1.updateLayout=n1.updateVisual=function(e,t,n,r){this.render(e,t,n,r)};function pM(e,t,n){if(e&&(e.trigger(t,n),e.isGroup&&!mW.isHighDownDispatcher(e)))for(var r=0,a=e.childCount();r<a;r++)pM(e.childAt(r),t,n)}function hL(e,t,n){var r=vM.queryDataIndex(e,t),a=t&&t.highlightKey!=null?mW.getHighlightDigit(t.highlightKey):null;r!=null?lve(vM.normalizeToArray(r),function(i){pM(e.getItemGraphicEl(i),n,a)}):e.eachItemGraphicEl(function(i){pM(i,n,a)})}gW.enableClassExtend(Ff,["dispose"]);gW.enableClassManagement(Ff,{registerWhenExtend:!0});Ff.markUpdateMethod=function(e,t){yW(e).updateMethod=t};function pve(e){return vve(e.model)}function gve(e){var t=e.model,n=e.ecModel,r=e.api,a=e.payload,i=t.pipelineContext.progressiveRender,o=e.view,s=a&&yW(a).updateMethod,l=i?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,r,a),mve[l]}var mve={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},yve=Ff,_o=yve,Bi={},Mm="\0__throttleOriginMethod",vL="\0__throttleRate",pL="\0__throttleType";function xW(e,t,n){var r,a=0,i=0,o=null,s,l,u,c;t=t||0;function f(){i=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){r=new Date().getTime(),l=this,u=arguments;var h=c||t,v=c||n;c=null,s=r-(v?a:i)-h,clearTimeout(o),v?o=setTimeout(f,h):s>=0?f():o=setTimeout(f,-s),a=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function xve(e,t,n,r){var a=e[t];if(a){var i=a[Mm]||a,o=a[pL],s=a[vL];if(s!==n||o!==r){if(n==null||!r)return e[t]=i;a=e[t]=xW(i,n,r==="debounce"),a[Mm]=i,a[pL]=r,a[vL]=n}return a}}function bve(e,t){var n=e[t];n&&n[Mm]&&(e[t]=n[Mm])}Bi.throttle=xW;Bi.createOrUpdate=xve;Bi.clear=bve;var Sve=Py,_ve=de,Ave=_ve.isFunction,wve={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=(e.visualColorAccessPath||"itemStyle.color").split("."),a=e.get(r),i=Ave(a)&&!(a instanceof Sve)?a:null;(!a||i)&&(a=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual("color",a);var o=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=e.get(o);if(n.setVisual("borderColor",s),!t.isSeriesFiltered(e)){i&&n.each(function(u){n.setItemVisual(u,"color",i(e.getDataParams(u)))});var l=function(u,c){var f=u.getItemModel(c),d=f.get(r,!0),h=f.get(o,!0);d!=null&&u.setItemVisual(c,"color",d),h!=null&&u.setItemVisual(c,"borderColor",h)};return{dataEach:n.hasItemOption?l:null}}}},Cve=wve,Mve={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},ul=Mve,Tve=de,gL=ul,Eve=ki,Pve=Eve.retrieveRawValue;function Rve(e,t){var n=t.getModel("aria");if(n.get("show")){if(n.get("description")){e.setAttribute("aria-label",n.get("description"));return}}else return;var r=0;t.eachSeries(function(m,p){++r},this);var a=n.get("data.maxCount")||10,i=n.get("series.maxCount")||10,o=Math.min(r,i),s;if(r<1)return;var l=h();l?s=f(d("general.withTitle"),{title:l}):s=d("general.withoutTitle");var u=[],c=r>1?"series.multiple.prefix":"series.single.prefix";s+=f(d(c),{seriesCount:r}),t.eachSeries(function(m,p){if(p<o){var g,y=m.get("name"),x="series."+(r>1?"multiple":"single")+".";g=d(y?x+"withName":x+"withoutName"),g=f(g,{seriesId:m.seriesIndex,seriesName:m.get("name"),seriesType:v(m.subType)});var b=m.getData();window.data=b,b.count()>a?g+=f(d("data.partialData"),{displayCnt:a}):g+=d("data.allData");for(var A=[],S=0;S<b.count();S++)if(S<a){var _=b.getName(S),w=Pve(b,S);A.push(f(d(_?"data.withName":"data.withoutName"),{name:_,value:w}))}g+=A.join(d("data.separator.middle"))+d("data.separator.end"),u.push(g)}}),s+=u.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end"),e.setAttribute("aria-label",s);function f(m,p){if(typeof m!="string")return m;var g=m;return Tve.each(p,function(y,x){g=g.replace(new RegExp("\\{\\s*"+x+"\\s*\\}","g"),y)}),g}function d(m){var p=n.get(m);if(p==null){for(var g=m.split("."),y=gL.aria,x=0;x<g.length;++x)y=y[g[x]];return y}else return p}function h(){var m=t.getModel("title").option;return m&&m.length&&(m=m[0]),m&&m.text}function v(m){return gL.series.typeNames[m]||"自定义图"}}var Ive=Rve,Dve=de,Sp=$e,Lve=wn,_p=Math.PI;function Ove(e,t){t=t||{},Dve.defaults(t,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Sp.Group,r=new Sp.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var a=t.fontSize+" sans-serif",i=new Sp.Rect({style:{fill:"none",text:t.text,font:a,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(n.add(i),t.showSpinner){var o=new Sp.Arc({shape:{startAngle:-_p/2,endAngle:-_p/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:_p*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:_p*3/2}).delay(300).start("circularInOut"),n.add(o)}return n.resize=function(){var s=Lve.getWidth(t.text,a),l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner?0:s/2),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),i.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var Nve=Ove,yv=de,uP=yv.each,kve=yv.map,Bve=yv.isFunction,Vy=yv.createHashMap,Fve=yv.noop,Vve=ky,gM=Vve.createTask,zve=sl,Uve=zve.getUID,Hve=rW,$ve=aW,Gve=bt,Wve=Gve.normalizeToArray;function cP(e,t,a,i){this.ecInstance=e,this.api=t,this.unfinished;var a=this._dataProcessorHandlers=a.slice(),i=this._visualHandlers=i.slice();this._allHandlers=a.concat(i),this._stageTaskMap=Vy()}var oi=cP.prototype;oi.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})};oi.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),r=n.context,a=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>n.blockIndex,i=a?n.step:null,o=r&&r.modDataCount,s=o!=null?Math.ceil(o/i):null;return{step:i,modBy:s,modDataCount:o}}};oi.getPipeline=function(e){return this._pipelineMap.get(e)};oi.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),r=e.getData(),a=r.count(),i=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),s=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=n.context={progressiveRender:i,modDataCount:s,large:o}};oi.restorePipelines=function(e){var t=this,n=t._pipelineMap=Vy();e.eachSeries(function(r){var a=r.getProgressive(),i=r.uid;n.set(i,{id:i,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),zy(t,r,r.dataTask)})};oi.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),n=this.api;uP(this._allHandlers,function(r){var a=e.get(r.uid)||e.set(r.uid,[]);r.reset&&jve(this,r,a,t,n),r.overallReset&&Yve(this,r,a,t,n)},this)};oi.prepareView=function(e,t,n,r){var a=e.renderTask,i=a.context;i.model=t,i.ecModel=n,i.api=r,a.__block=!e.incrementalPrepareRender,zy(this,t,a)};oi.performDataProcessorTasks=function(e,t){bW(this,this._dataProcessorHandlers,e,t,{block:!0})};oi.performVisualTasks=function(e,t,n){bW(this,this._visualHandlers,e,t,n)};function bW(e,t,n,r,a){a=a||{};var i;uP(t,function(s,l){if(!(a.visualType&&a.visualType!==s.visualType)){var u=e._stageTaskMap.get(s.uid),c=u.seriesTaskMap,f=u.overallTask;if(f){var d,h=f.agentStubMap;h.each(function(m){o(a,m)&&(m.dirty(),d=!0)}),d&&f.dirty(),mL(f,r);var v=e.getPerformArgs(f,a.block);h.each(function(m){m.perform(v)}),i|=f.perform(v)}else c&&c.each(function(m,p){o(a,m)&&m.dirty();var g=e.getPerformArgs(m,a.block);g.skip=!s.performRawSeries&&n.isSeriesFiltered(m.context.model),mL(m,r),i|=m.perform(g)})}});function o(s,l){return s.setDirty&&(!s.dirtyMap||s.dirtyMap.get(l.__pipeline.id))}e.unfinished|=i}oi.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t|=n.dataTask.perform()}),this.unfinished|=t};oi.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var mL=oi.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function jve(e,t,n,r,a){var i=n.seriesTaskMap||(n.seriesTaskMap=Vy()),o=t.seriesType,s=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(l):o?r.eachRawSeriesByType(o,l):s&&s(r,a).each(l);function l(c){var f=c.uid,d=i.get(f)||i.set(f,gM({plan:Qve,reset:Jve,count:tpe}));d.context={model:c,ecModel:r,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},zy(e,c,d)}var u=e._pipelineMap;i.each(function(c,f){u.get(f)||(c.dispose(),i.removeKey(f))})}function Yve(e,t,n,r,a){var i=n.overallTask=n.overallTask||gM({reset:Xve});i.context={ecModel:r,api:a,overallReset:t.overallReset,scheduler:e};var o=i.agentStubMap=i.agentStubMap||Vy(),s=t.seriesType,l=t.getTargetSeries,u=!0,c=t.modifyOutputEnd;s?r.eachRawSeriesByType(s,f):l?l(r,a).each(f):(u=!1,uP(r.getSeries(),f));function f(h){var v=h.uid,m=o.get(v);m||(m=o.set(v,gM({reset:qve,onDirty:Zve})),i.dirty()),m.context={model:h,overallProgress:u,modifyOutputEnd:c},m.agent=i,m.__block=u,zy(e,h,m)}var d=e._pipelineMap;o.each(function(h,v){d.get(v)||(h.dispose(),i.dirty(),o.removeKey(v))})}function Xve(e){e.overallReset(e.ecModel,e.api,e.payload)}function qve(e,t){return e.overallProgress&&Kve}function Kve(){this.agent.dirty(),this.getDownstream().dirty()}function Zve(){this.agent&&this.agent.dirty()}function Qve(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function Jve(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Wve(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?kve(t,function(n,r){return SW(r)}):epe}var epe=SW(0);function SW(e){return function(t,n){var r=n.data,a=n.resetDefines[e];if(a&&a.dataEach)for(var i=t.start;i<t.end;i++)a.dataEach(r,i);else a&&a.progress&&a.progress(t,r)}}function tpe(e){return e.data.count()}function zy(e,t,n){var r=t.uid,a=e._pipelineMap.get(r);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a}cP.wrapStageHandler=function(e,t){return Bve(e)&&(e={overallReset:e,seriesType:npe(e)}),e.uid=Uve("stageHandler"),t&&(e.visualType=t),e};function npe(e){Tm=null;try{e(Rh,_W)}catch{}return Tm}var Rh={},_W={},Tm;AW(Rh,Hve);AW(_W,$ve);Rh.eachSeriesByType=Rh.eachRawSeriesByType=function(e){Tm=e};Rh.eachComponent=function(e){e.mainType==="series"&&e.subType&&(Tm=e.subType)};function AW(e,t){for(var n in t.prototype)e[n]=Fve}var rpe=cP,ape=rpe,yL=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ipe={color:yL,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],yL]},ope=ipe,Dr="#eee",Ap=function(){return{axisLine:{lineStyle:{color:Dr}},axisTick:{lineStyle:{color:Dr}},axisLabel:{textStyle:{color:Dr}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Dr}}}},r1=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],wW={color:r1,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Dr},crossStyle:{color:Dr},label:{color:"#000"}}},legend:{textStyle:{color:Dr}},textStyle:{color:Dr},title:{textStyle:{color:Dr}},toolbox:{iconStyle:{normal:{borderColor:Dr}}},dataZoom:{textStyle:{color:Dr}},visualMap:{textStyle:{color:Dr}},timeline:{lineStyle:{color:Dr},itemStyle:{normal:{color:r1[1]}},label:{normal:{textStyle:{color:Dr}}},controlStyle:{normal:{color:Dr,borderColor:Dr}}},timeAxis:Ap(),logAxis:Ap(),valueAxis:Ap(),categoryAxis:Ap(),line:{symbol:"circle"},graph:{color:r1},gauge:{title:{textStyle:{color:Dr}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};wW.categoryAxis.splitLine.show=!1;var spe=wW,lpe=spe,upe=yr,cpe=Fy,fpe=Br,dpe=fpe.detectSourceFormat,hpe=Pa,vpe=hpe.SERIES_LAYOUT_BY_COLUMN;upe.extend({type:"dataset",defaultOption:{seriesLayoutBy:vpe,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){dpe(this)}});cpe.extend({type:"dataset"});var xv={},ppe=jn,gpe=ppe.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var n=.5522848,r=t.cx,a=t.cy,i=t.rx,o=t.ry,s=i*n,l=o*n;e.moveTo(r-i,a),e.bezierCurveTo(r-i,a-l,r-s,a-o,r,a-o),e.bezierCurveTo(r+s,a-o,r+i,a-l,r+i,a),e.bezierCurveTo(r+i,a+l,r+s,a+o,r,a+o),e.bezierCurveTo(r-s,a+o,r-i,a+l,r-i,a),e.closePath()}}),mpe=gpe,sh=Su,ype=If,xpe=_u,bpe=u6,CW=UE,Spe=mpe,_pe=h6,Ape=jn,wpe=f6,Cpe=d6,Mpe=HE,Tpe=mE,wp=Vn,Epe=dv,Ppe=Epe.createFromString,bv=de,Rpe=bv.isString,Ipe=bv.extend,Dpe=bv.defaults,jo=bv.trim,xL=bv.each,Gs=/[\s,]+/;function MW(e){if(Rpe(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}for(e.nodeType===9&&(e=e.firstChild);e.nodeName.toLowerCase()!=="svg"||e.nodeType!==1;)e=e.nextSibling;return e}function Uy(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Uy.prototype.parse=function(e,t){t=t||{};var n=MW(e);if(!n)throw new Error("Illegal svg");var r=new sh;this._root=r;var a=n.getAttribute("viewBox")||"",i=parseFloat(n.getAttribute("width")||t.width),o=parseFloat(n.getAttribute("height")||t.height);isNaN(i)&&(i=null),isNaN(o)&&(o=null),Aa(n,r,null,!0);for(var s=n.firstChild;s;)this._parseNode(s,r),s=s.nextSibling;var l,u;if(a){var c=jo(a).split(Gs);c.length>=4&&(l={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(l&&i!=null&&o!=null&&(u=TW(l,i,o),!t.ignoreViewBox)){var f=r;r=new sh,r.add(f),f.scale=u.scale.slice(),f.position=u.position.slice()}return!t.ignoreRootClip&&i!=null&&o!=null&&r.setClipPath(new CW({shape:{x:0,y:0,width:i,height:o}})),{root:r,width:i,height:o,viewBoxRect:l,viewBoxTransform:u}};Uy.prototype._parseNode=function(e,t){var n=e.nodeName.toLowerCase();n==="defs"?this._isDefine=!0:n==="text"&&(this._isText=!0);var r;if(this._isDefine){var a=Ope[n];if(a){var i=a.call(this,e),o=e.getAttribute("id");o&&(this._defs[o]=i)}}else{var a=Lpe[n];a&&(r=a.call(this,e,t),t.add(r))}for(var s=e.firstChild;s;)s.nodeType===1&&this._parseNode(s,r),s.nodeType===3&&this._isText&&this._parseText(s,r),s=s.nextSibling;n==="defs"?this._isDefine=!1:n==="text"&&(this._isText=!1)};Uy.prototype._parseText=function(e,t){if(e.nodeType===1){var n=e.getAttribute("dx")||0,r=e.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(r)}var a=new xpe({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});za(t,a),Aa(e,a,this._defs);var i=a.style.fontSize;i&&i<9&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=i/9,a.scale[1]*=i/9);var o=a.getBoundingRect();return this._textX+=o.width,t.add(a),a};var Lpe={g:function(e,t){var n=new sh;return za(t,n),Aa(e,n,this._defs),n},rect:function(e,t){var n=new CW;return za(t,n),Aa(e,n,this._defs),n.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),n},circle:function(e,t){var n=new bpe;return za(t,n),Aa(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),n},line:function(e,t){var n=new _pe;return za(t,n),Aa(e,n,this._defs),n.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),n},ellipse:function(e,t){var n=new Spe;return za(t,n),Aa(e,n,this._defs),n.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),n},polygon:function(e,t){var n=e.getAttribute("points");n&&(n=bL(n));var r=new wpe({shape:{points:n||[]}});return za(t,r),Aa(e,r,this._defs),r},polyline:function(e,t){var n=new Ape;za(t,n),Aa(e,n,this._defs);var r=e.getAttribute("points");r&&(r=bL(r));var a=new Cpe({shape:{points:r||[]}});return a},image:function(e,t){var n=new ype;return za(t,n),Aa(e,n,this._defs),n.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),n},text:function(e,t){var n=e.getAttribute("x")||0,r=e.getAttribute("y")||0,a=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(i);var o=new sh;return za(t,o),Aa(e,o,this._defs),o},tspan:function(e,t){var n=e.getAttribute("x"),r=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),r!=null&&(this._textY=parseFloat(r));var a=e.getAttribute("dx")||0,i=e.getAttribute("dy")||0,o=new sh;return za(t,o),Aa(e,o,this._defs),this._textX+=a,this._textY+=i,o},path:function(e,t){var n=e.getAttribute("d")||"",r=Ppe(n);return za(t,r),Aa(e,r,this._defs),r}},Ope={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),n=parseInt(e.getAttribute("y1")||0,10),r=parseInt(e.getAttribute("x2")||10,10),a=parseInt(e.getAttribute("y2")||0,10),i=new Mpe(t,n,r,a);return Npe(e,i),i},radialgradient:function(e){}};function Npe(e,t){for(var n=e.firstChild;n;){if(n.nodeType===1){var r=n.getAttribute("offset");r.indexOf("%")>0?r=parseInt(r,10)/100:r?r=parseFloat(r):r=0;var a=n.getAttribute("stop-color")||"#000000";t.addColorStop(r,a)}n=n.nextSibling}}function za(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Dpe(t.__inheritedStyle,e.__inheritedStyle))}function bL(e){for(var t=jo(e).split(Gs),n=[],r=0;r<t.length;r+=2){var a=parseFloat(t[r]),i=parseFloat(t[r+1]);n.push([a,i])}return n}var Gc={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Aa(e,t,n,r){var a=t.__inheritedStyle||{},i=t.type==="text";if(e.nodeType===1&&(Fpe(e,t),Ipe(a,Vpe(e)),!r)){for(var o in Gc)if(Gc.hasOwnProperty(o)){var s=e.getAttribute(o);s!=null&&(a[Gc[o]]=s)}}var l=i?"textFill":"fill",u=i?"textStroke":"stroke";t.style=t.style||new Tpe;var c=t.style;a.fill!=null&&c.set(l,SL(a.fill,n)),a.stroke!=null&&c.set(u,SL(a.stroke,n)),xL(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){var d=f==="lineWidth"&&i?"textStrokeWidth":f;a[f]!=null&&c.set(d,parseFloat(a[f]))}),(!a.textBaseline||a.textBaseline==="auto")&&(a.textBaseline="alphabetic"),a.textBaseline==="alphabetic"&&(a.textBaseline="bottom"),a.textAlign==="start"&&(a.textAlign="left"),a.textAlign==="end"&&(a.textAlign="right"),xL(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(f){a[f]!=null&&c.set(f,a[f])}),a.lineDash&&(t.style.lineDash=jo(a.lineDash).split(Gs)),c[u]&&c[u]!=="none"&&(t[u]=!0),t.__inheritedStyle=a}var kpe=/url\(\s*#(.*?)\)/;function SL(e,t){var n=t&&e&&e.match(kpe);if(n){var r=jo(n[1]),a=t[r];return a}return e}var Bpe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g;function Fpe(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=null,a=[];n.replace(Bpe,function(l,u,c){a.push(u,c)});for(var i=a.length-1;i>0;i-=2){var o=a[i],s=a[i-1];switch(r=r||wp.create(),s){case"translate":o=jo(o).split(Gs),wp.translate(r,r,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=jo(o).split(Gs),wp.scale(r,r,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=jo(o).split(Gs),wp.rotate(r,r,parseFloat(o[0]));break;case"skew":o=jo(o).split(Gs),console.warn("Skew transform is not supported yet");break;case"matrix":var o=jo(o).split(Gs);r[0]=parseFloat(o[0]),r[1]=parseFloat(o[1]),r[2]=parseFloat(o[2]),r[3]=parseFloat(o[3]),r[4]=parseFloat(o[4]),r[5]=parseFloat(o[5]);break}}t.setLocalTransform(r)}}var _L=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Vpe(e){var t=e.getAttribute("style"),n={};if(!t)return n;var r={};_L.lastIndex=0;for(var a;(a=_L.exec(t))!=null;)r[a[1]]=a[2];for(var i in Gc)Gc.hasOwnProperty(i)&&r[i]!=null&&(n[Gc[i]]=r[i]);return n}function TW(e,t,n){var r=t/e.width,a=n/e.height,i=Math.min(r,a),o=[i,i],s=[-(e.x+e.width/2)*i+t/2,-(e.y+e.height/2)*i+n/2];return{scale:o,position:s}}function zpe(e,t){var n=new Uy;return n.parse(e,t)}xv.parseXML=MW;xv.makeViewBoxTransform=TW;xv.parseSVG=zpe;var Sv=de,Upe=Sv.createHashMap,Hpe=Sv.isString,$pe=Sv.isArray,Gpe=Sv.each;Sv.assert;var Wpe=xv,jpe=Wpe.parseXML,AL=Upe(),Ype={registerMap:function(e,t,n){var r;return $pe(t)?r=t:t.svg?r=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(n=t.specialAreas,t=t.geoJson),r=[{type:"geoJSON",source:t,specialAreas:n}]),Gpe(r,function(a){var i=a.type;i==="geoJson"&&(i=a.type="geoJSON");var o=Xpe[i];o(a)}),AL.set(e,r)},retrieveMap:function(e){return AL.get(e)}},Xpe={geoJSON:function(e){var t=e.source;e.geoJSON=Hpe(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=jpe(e.source)}},fP=Ype,Sr={},Gi={},a1,wL;function Cu(){if(wL)return a1;wL=1;function e(a){return a}function t(a,i,o,s,l){this._old=a,this._new=i,this._oldKeyGetter=o||e,this._newKeyGetter=s||e,this.context=l}t.prototype={constructor:t,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,i=this._new,o={},s={},l=[],u=[],c;for(n(a,o,l,"_oldKeyGetter",this),n(i,s,u,"_newKeyGetter",this),c=0;c<a.length;c++){var f=l[c],d=s[f];if(d!=null){var h=d.length;h?(h===1&&(s[f]=null),d=d.shift()):s[f]=null,this._update&&this._update(d,c)}else this._remove&&this._remove(c)}for(var c=0;c<u.length;c++){var f=u[c];if(s.hasOwnProperty(f)){var d=s[f];if(d==null)continue;if(!d.length)this._add&&this._add(d);else for(var v=0,h=d.length;v<h;v++)this._add&&this._add(d[v])}}}};function n(a,i,o,s,l){for(var u=0;u<a.length;u++){var c="_ec_"+l[s](a[u],u),f=i[c];f==null?(o.push(c),i[c]=u):(f.length||(i[c]=f=[f]),f.push(u))}}var r=t;return a1=r,a1}var gd={},CL;function _v(){if(CL)return gd;CL=1;var e=de,t=e.each,n=e.createHashMap;e.assert;var r=n(["tooltip","label","itemName","itemId","seriesName"]);function a(l){var u={},c=u.encode={},f=n(),d=[],h=[],v=u.userOutput={dimensionNames:l.dimensions.slice(),encode:{}};t(l.dimensions,function(x){var b=l.getDimensionInfo(x),A=b.coordDim;if(A){var S=b.coordDimIndex;i(c,A)[S]=x,b.isExtraCoord||(f.set(A,1),s(b.type)&&(d[0]=x),i(v.encode,A)[S]=b.index),b.defaultTooltip&&h.push(x)}r.each(function(_,w){var C=i(c,w),M=b.otherDims[w];M!=null&&M!==!1&&(C[M]=b.name)})});var m=[],p={};f.each(function(x,b){var A=c[b];p[b]=A[0],m=m.concat(A)}),u.dataDimsOnCoord=m,u.encodeFirstDimNotExtra=p;var g=c.label;g&&g.length&&(d=g.slice());var y=c.tooltip;return y&&y.length?h=y.slice():h.length||(h=d.slice()),c.defaultedLabel=d,c.defaultedTooltip=h,u}function i(l,u){return l.hasOwnProperty(u)||(l[u]=[]),l[u]}function o(l){return l==="category"?"ordinal":l==="time"?"time":"float"}function s(l){return!(l==="ordinal"||l==="time")}return gd.OTHER_DIMENSIONS=r,gd.summarizeDimensions=a,gd.getDimensionTypeByAxis=o,gd}var i1,ML;function EW(){if(ML)return i1;ML=1;var e=de;function t(r){r!=null&&e.extend(this,r),this.otherDims={}}var n=t;return i1=n,i1}var o1,TL;function si(){if(TL)return o1;TL=1;var e=de,t=Jn,n=Cu(),r=gv,a=ki,i=a.defaultDimValueGetters,o=a.DefaultDataProvider,s=_v(),l=s.summarizeDimensions,u=EW(),c=e.isObject,f="undefined",d=-1,h="e\0\0",v={float:typeof Float64Array===f?Array:Float64Array,int:typeof Int32Array===f?Array:Int32Array,ordinal:Array,number:Array,time:Array},m=typeof Uint32Array===f?Array:Uint32Array,p=typeof Int32Array===f?Array:Int32Array,g=typeof Uint16Array===f?Array:Uint16Array;function y(N){return N._rawCount>65535?m:g}function x(N){var U=N.constructor;return U===Array?N.slice():new U(N)}var b=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],A=["_extent","_approximateExtent","_rawExtent"];function S(N,U){e.each(b.concat(U.__wrappedMethods||[]),function($){U.hasOwnProperty($)&&(N[$]=U[$])}),N.__wrappedMethods=U.__wrappedMethods,e.each(A,function($){N[$]=e.clone(U[$])}),N._calculationInfo=e.extend(U._calculationInfo)}var _=function(N,U){N=N||["x","y"];for(var $={},k=[],V={},L=0;L<N.length;L++){var O=N[L];e.isString(O)?O=new u({name:O}):O instanceof u||(O=new u(O));var H=O.name;O.type=O.type||"float",O.coordDim||(O.coordDim=H,O.coordDimIndex=0),O.otherDims=O.otherDims||{},k.push(H),$[H]=O,O.index=L,O.createInvertedIndices&&(V[H]=[])}this.dimensions=k,this._dimensionInfos=$,this.hostModel=U,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=l(this),this._invertedIndicesMap=V,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},w=_.prototype;w.type="list",w.hasItemOption=!0,w.getDimension=function(N){return(typeof N=="number"||!isNaN(N)&&!this._dimensionInfos.hasOwnProperty(N))&&(N=this.dimensions[N]),N},w.getDimensionInfo=function(N){return this._dimensionInfos[this.getDimension(N)]},w.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},w.mapDimension=function(N,U){var $=this._dimensionsSummary;if(U==null)return $.encodeFirstDimNotExtra[N];var k=$.encode[N];return U===!0?(k||[]).slice():k&&k[U]},w.initData=function(N,U,$){var k=r.isInstance(N)||e.isArrayLike(N);k&&(N=new o(N,this.dimensions.length)),this._rawData=N,this._storage={},this._indices=null,this._nameList=U||[],this._idList=[],this._nameRepeatCount={},$||(this.hasItemOption=!1),this.defaultDimValueGetter=i[this._rawData.getSource().sourceFormat],this._dimValueGetter=$=$||this.defaultDimValueGetter,this._dimValueGetterArrayRows=i.arrayRows,this._rawExtent={},this._initDataFromProvider(0,N.count()),N.pure&&(this.hasItemOption=!1)},w.getProvider=function(){return this._rawData},w.appendData=function(N){var U=this._rawData,$=this.count();U.appendData(N);var k=U.count();U.persistent||(k+=$),this._initDataFromProvider($,k)},w.appendValues=function(N,U){for(var $=this._chunkSize,k=this._storage,V=this.dimensions,L=V.length,O=this._rawExtent,H=this.count(),j=H+Math.max(N.length,U?U.length:0),Y=this._chunkCount,X=0;X<L;X++){var Q=V[X];O[Q]||(O[Q]=F()),k[Q]||(k[Q]=[]),C(k,this._dimensionInfos[Q],$,Y,j),this._chunkCount=k[Q].length}for(var K=new Array(L),Z=H;Z<j;Z++){for(var te=Z-H,oe=Math.floor(Z/$),ue=Z%$,se=0;se<L;se++){var Q=V[se],me=this._dimValueGetterArrayRows(N[te]||K,Q,te,se);k[Q][oe][ue]=me;var re=O[Q];me<re[0]&&(re[0]=me),me>re[1]&&(re[1]=me)}U&&(this._nameList[Z]=U[te])}this._rawCount=this._count=j,this._extent={},M(this)},w._initDataFromProvider=function(N,U){if(!(N>=U)){for(var $=this._chunkSize,k=this._rawData,V=this._storage,L=this.dimensions,O=L.length,H=this._dimensionInfos,j=this._nameList,Y=this._idList,X=this._rawExtent,Q=this._nameRepeatCount={},K,Z=this._chunkCount,te=0;te<O;te++){var oe=L[te];X[oe]||(X[oe]=F());var ue=H[oe];ue.otherDims.itemName===0&&(K=this._nameDimIdx=te),ue.otherDims.itemId===0&&(this._idDimIdx=te),V[oe]||(V[oe]=[]),C(V,ue,$,Z,U),this._chunkCount=V[oe].length}for(var se=new Array(O),me=N;me<U;me++){se=k.getItem(me,se);for(var re=Math.floor(me/$),q=me%$,ae=0;ae<O;ae++){var oe=L[ae],ce=V[oe][re],ee=this._dimValueGetter(se,oe,me,ae);ce[q]=ee;var ne=X[oe];ee<ne[0]&&(ne[0]=ee),ee>ne[1]&&(ne[1]=ee)}if(!k.pure){var le=j[me];if(se&&le==null){if(se.name!=null)j[me]=le=se.name;else if(K!=null){var he=L[K],pe=V[he][re];if(pe){le=pe[q];var ye=H[he].ordinalMeta;ye&&ye.categories.length&&(le=ye.categories[le])}}}var ge=se==null?null:se.id;ge==null&&le!=null&&(Q[le]=Q[le]||0,ge=le,Q[le]>0&&(ge+="__ec__"+Q[le]),Q[le]++),ge!=null&&(Y[me]=ge)}}!k.persistent&&k.clean&&k.clean(),this._rawCount=this._count=U,this._extent={},M(this)}};function C(N,U,$,k,V){var L=v[U.type],O=k-1,H=U.name,j=N[H][O];if(j&&j.length<$){for(var Y=new L(Math.min(V-O*$,$)),X=0;X<j.length;X++)Y[X]=j[X];N[H][O]=Y}for(var Q=k*$;Q<V;Q+=$)N[H].push(new L(Math.min(V-Q,$)))}function M(N){var U=N._invertedIndicesMap;e.each(U,function($,k){var V=N._dimensionInfos[k],L=V.ordinalMeta;if(L){$=U[k]=new p(L.categories.length);for(var O=0;O<$.length;O++)$[O]=d;for(var O=0;O<N._count;O++)$[N.get(k,O)]=O}})}function T(N,U,$){var k;if(U!=null){var V=N._chunkSize,L=Math.floor($/V),O=$%V,H=N.dimensions[U],j=N._storage[H][L];if(j){k=j[O];var Y=N._dimensionInfos[H].ordinalMeta;Y&&Y.categories.length&&(k=Y.categories[k])}}return k}w.count=function(){return this._count},w.getIndices=function(){var N,U=this._indices;if(U){var $=U.constructor,k=this._count;if($===Array){N=new $(k);for(var V=0;V<k;V++)N[V]=U[V]}else N=new $(U.buffer,0,k)}else for(var $=y(this),N=new $(this.count()),V=0;V<N.length;V++)N[V]=V;return N},w.get=function(N,U){if(!(U>=0&&U<this._count))return NaN;var $=this._storage;if(!$[N])return NaN;U=this.getRawIndex(U);var k=Math.floor(U/this._chunkSize),V=U%this._chunkSize,L=$[N][k],O=L[V];return O},w.getByRawIndex=function(N,U){if(!(U>=0&&U<this._rawCount))return NaN;var $=this._storage[N];if(!$)return NaN;var k=Math.floor(U/this._chunkSize),V=U%this._chunkSize,L=$[k];return L[V]},w._getFast=function(N,U){var $=Math.floor(U/this._chunkSize),k=U%this._chunkSize,V=this._storage[N][$];return V[k]},w.getValues=function(N,U){var $=[];e.isArray(N)||(U=N,N=this.dimensions);for(var k=0,V=N.length;k<V;k++)$.push(this.get(N[k],U));return $},w.hasValue=function(N){for(var U=this._dimensionsSummary.dataDimsOnCoord,$=0,k=U.length;$<k;$++)if(isNaN(this.get(U[$],N)))return!1;return!0},w.getDataExtent=function(N){N=this.getDimension(N);var U=this._storage[N],$=F();if(!U)return $;var k=this.count(),V=!this._indices,L;if(V)return this._rawExtent[N].slice();if(L=this._extent[N],L)return L.slice();L=$;for(var O=L[0],H=L[1],j=0;j<k;j++){var Y=this._getFast(N,this.getRawIndex(j));Y<O&&(O=Y),Y>H&&(H=Y)}return L=[O,H],this._extent[N]=L,L},w.getApproximateExtent=function(N){return N=this.getDimension(N),this._approximateExtent[N]||this.getDataExtent(N)},w.setApproximateExtent=function(N,U){U=this.getDimension(U),this._approximateExtent[U]=N.slice()},w.getCalculationInfo=function(N){return this._calculationInfo[N]},w.setCalculationInfo=function(N,U){c(N)?e.extend(this._calculationInfo,N):this._calculationInfo[N]=U},w.getSum=function(N){var U=this._storage[N],$=0;if(U)for(var k=0,V=this.count();k<V;k++){var L=this.get(N,k);isNaN(L)||($+=L)}return $},w.getMedian=function(N){var U=[];this.each(N,function(V,L){isNaN(V)||U.push(V)});var $=[].concat(U).sort(function(V,L){return V-L}),k=this.count();return k===0?0:k%2===1?$[(k-1)/2]:($[k/2]+$[k/2-1])/2},w.rawIndexOf=function(N,U){var $=N&&this._invertedIndicesMap[N],k=$[U];return k==null||isNaN(k)?d:k},w.indexOfName=function(N){for(var U=0,$=this.count();U<$;U++)if(this.getName(U)===N)return U;return-1},w.indexOfRawIndex=function(N){if(N>=this._rawCount||N<0)return-1;if(!this._indices)return N;var U=this._indices,$=U[N];if($!=null&&$<this._count&&$===N)return N;for(var k=0,V=this._count-1;k<=V;){var L=(k+V)/2|0;if(U[L]<N)k=L+1;else if(U[L]>N)V=L-1;else return L}return-1},w.indicesOfNearest=function(N,U,$){var k=this._storage,V=k[N],L=[];if(!V)return L;$==null&&($=1/0);for(var O=1/0,H=-1,j=0,Y=0,X=this.count();Y<X;Y++){var Q=U-this.get(N,Y),K=Math.abs(Q);K<=$&&((K<O||K===O&&Q>=0&&H<0)&&(O=K,H=Q,j=0),Q===H&&(L[j++]=Y))}return L.length=j,L},w.getRawIndex=E;function E(N){return N}function P(N){return N<this._count&&N>=0?this._indices[N]:-1}w.getRawDataItem=function(N){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(N));for(var U=[],$=0;$<this.dimensions.length;$++){var k=this.dimensions[$];U.push(this.get(k,N))}return U},w.getName=function(N){var U=this.getRawIndex(N);return this._nameList[U]||T(this,this._nameDimIdx,U)||""},w.getId=function(N){return R(this,this.getRawIndex(N))};function R(N,U){var $=N._idList[U];return $==null&&($=T(N,N._idDimIdx,U)),$==null&&($=h+U),$}function I(N){return e.isArray(N)||(N=[N]),N}w.each=function(N,U,$,k){if(this._count){typeof N=="function"&&(k=$,$=U,U=N,N=[]),$=$||k||this,N=e.map(I(N),this.getDimension,this);for(var V=N.length,L=0;L<this.count();L++)switch(V){case 0:U.call($,L);break;case 1:U.call($,this.get(N[0],L),L);break;case 2:U.call($,this.get(N[0],L),this.get(N[1],L),L);break;default:for(var O=0,H=[];O<V;O++)H[O]=this.get(N[O],L);H[O]=L,U.apply($,H)}}},w.filterSelf=function(N,U,$,k){if(this._count){typeof N=="function"&&(k=$,$=U,U=N,N=[]),$=$||k||this,N=e.map(I(N),this.getDimension,this);for(var V=this.count(),L=y(this),O=new L(V),H=[],j=N.length,Y=0,X=N[0],Q=0;Q<V;Q++){var K,Z=this.getRawIndex(Q);if(j===0)K=U.call($,Q);else if(j===1){var te=this._getFast(X,Z);K=U.call($,te,Q)}else{for(var oe=0;oe<j;oe++)H[oe]=this._getFast(X,Z);H[oe]=Q,K=U.apply($,H)}K&&(O[Y++]=Z)}return Y<V&&(this._indices=O),this._count=Y,this._extent={},this.getRawIndex=this._indices?P:E,this}},w.selectRange=function(N){if(this._count){var U=[];for(var $ in N)N.hasOwnProperty($)&&U.push($);var k=U.length;if(k){var V=this.count(),L=y(this),O=new L(V),H=0,j=U[0],Y=N[j][0],X=N[j][1],Q=!1;if(!this._indices){var K=0;if(k===1){for(var Z=this._storage[U[0]],te=0;te<this._chunkCount;te++)for(var oe=Z[te],ue=Math.min(this._count-te*this._chunkSize,this._chunkSize),se=0;se<ue;se++){var me=oe[se];(me>=Y&&me<=X||isNaN(me))&&(O[H++]=K),K++}Q=!0}else if(k===2){for(var Z=this._storage[j],re=this._storage[U[1]],q=N[U[1]][0],ae=N[U[1]][1],te=0;te<this._chunkCount;te++)for(var oe=Z[te],ce=re[te],ue=Math.min(this._count-te*this._chunkSize,this._chunkSize),se=0;se<ue;se++){var me=oe[se],ee=ce[se];(me>=Y&&me<=X||isNaN(me))&&(ee>=q&&ee<=ae||isNaN(ee))&&(O[H++]=K),K++}Q=!0}}if(!Q)if(k===1)for(var se=0;se<V;se++){var ne=this.getRawIndex(se),me=this._getFast(j,ne);(me>=Y&&me<=X||isNaN(me))&&(O[H++]=ne)}else for(var se=0;se<V;se++){for(var le=!0,ne=this.getRawIndex(se),te=0;te<k;te++){var he=U[te],me=this._getFast($,ne);(me<N[he][0]||me>N[he][1])&&(le=!1)}le&&(O[H++]=this.getRawIndex(se))}return H<V&&(this._indices=O),this._count=H,this._extent={},this.getRawIndex=this._indices?P:E,this}}},w.mapArray=function(N,U,$,k){typeof N=="function"&&(k=$,$=U,U=N,N=[]),$=$||k||this;var V=[];return this.each(N,function(){V.push(U&&U.apply(this,arguments))},$),V};function D(N,U){var $=N.dimensions,k=new _(e.map($,N.getDimensionInfo,N),N.hostModel);S(k,N);for(var V=k._storage={},L=N._storage,O=0;O<$.length;O++){var H=$[O];L[H]&&(e.indexOf(U,H)>=0?(V[H]=B(L[H]),k._rawExtent[H]=F(),k._extent[H]=null):V[H]=L[H])}return k}function B(N){for(var U=new Array(N.length),$=0;$<N.length;$++)U[$]=x(N[$]);return U}function F(){return[1/0,-1/0]}w.map=function(N,U,$,k){$=$||k||this,N=e.map(I(N),this.getDimension,this);var V=D(this,N);V._indices=this._indices,V.getRawIndex=V._indices?P:E;for(var L=V._storage,O=[],H=this._chunkSize,j=N.length,Y=this.count(),X=[],Q=V._rawExtent,K=0;K<Y;K++){for(var Z=0;Z<j;Z++)X[Z]=this.get(N[Z],K);X[j]=K;var te=U&&U.apply($,X);if(te!=null){typeof te!="object"&&(O[0]=te,te=O);for(var oe=this.getRawIndex(K),ue=Math.floor(oe/H),se=oe%H,me=0;me<te.length;me++){var re=N[me],q=te[me],ae=Q[re],ce=L[re];ce&&(ce[ue][se]=q),q<ae[0]&&(ae[0]=q),q>ae[1]&&(ae[1]=q)}}}return V},w.downSample=function(N,U,$,k){for(var V=D(this,[N]),L=V._storage,O=[],H=Math.floor(1/U),j=L[N],Y=this.count(),X=this._chunkSize,Q=V._rawExtent[N],K=new(y(this))(Y),Z=0,te=0;te<Y;te+=H){H>Y-te&&(H=Y-te,O.length=H);for(var oe=0;oe<H;oe++){var ue=this.getRawIndex(te+oe),se=Math.floor(ue/X),me=ue%X;O[oe]=j[se][me]}var re=$(O),q=this.getRawIndex(Math.min(te+k(O,re)||0,Y-1)),ae=Math.floor(q/X),ce=q%X;j[ae][ce]=re,re<Q[0]&&(Q[0]=re),re>Q[1]&&(Q[1]=re),K[Z++]=q}return V._count=Z,V._indices=K,V.getRawIndex=P,V},w.getItemModel=function(N){var U=this.hostModel;return new t(this.getRawDataItem(N),U,U&&U.ecModel)},w.diff=function(N){var U=this;return new n(N?N.getIndices():[],this.getIndices(),function($){return R(N,$)},function($){return R(U,$)})},w.getVisual=function(N){var U=this._visual;return U&&U[N]},w.setVisual=function(N,U){if(c(N)){for(var $ in N)N.hasOwnProperty($)&&this.setVisual($,N[$]);return}this._visual=this._visual||{},this._visual[N]=U},w.setLayout=function(N,U){if(c(N)){for(var $ in N)N.hasOwnProperty($)&&this.setLayout($,N[$]);return}this._layout[N]=U},w.getLayout=function(N){return this._layout[N]},w.getItemLayout=function(N){return this._itemLayouts[N]},w.setItemLayout=function(N,U,$){this._itemLayouts[N]=$?e.extend(this._itemLayouts[N]||{},U):U},w.clearItemLayouts=function(){this._itemLayouts.length=0},w.getItemVisual=function(N,U,$){var k=this._itemVisuals[N],V=k&&k[U];return V==null&&!$?this.getVisual(U):V},w.setItemVisual=function(N,U,$){var k=this._itemVisuals[N]||{},V=this.hasItemVisual;if(this._itemVisuals[N]=k,c(U)){for(var L in U)U.hasOwnProperty(L)&&(k[L]=U[L],V[L]=!0);return}k[U]=$,V[U]=!0},w.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var G=function(N){N.seriesIndex=this.seriesIndex,N.dataIndex=this.dataIndex,N.dataType=this.dataType};w.setItemGraphicEl=function(N,U){var $=this.hostModel;U&&(U.dataIndex=N,U.dataType=this.dataType,U.seriesIndex=$&&$.seriesIndex,U.type==="group"&&U.traverse(G,U)),this._graphicEls[N]=U},w.getItemGraphicEl=function(N){return this._graphicEls[N]},w.eachItemGraphicEl=function(N,U){e.each(this._graphicEls,function($,k){$&&N&&N.call(U,$,k)})},w.cloneShallow=function(N){if(!N){var U=e.map(this.dimensions,this.getDimensionInfo,this);N=new _(U,this.hostModel)}if(N._storage=this._storage,S(N,this),this._indices){var $=this._indices.constructor;N._indices=new $(this._indices)}else N._indices=null;return N.getRawIndex=N._indices?P:E,N},w.wrapMethod=function(N,U){var $=this[N];typeof $=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(N),this[N]=function(){var k=$.apply(this,arguments);return U.apply(this,[k].concat(e.slice(arguments)))})},w.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],w.CHANGABLE_METHODS=["filterSelf","selectRange"];var z=_;return o1=z,o1}var s1,EL;function PW(){if(EL)return s1;EL=1;var e=de,t=e.createHashMap,n=e.each,r=e.isString,a=e.defaults,i=e.extend,o=e.isObject,s=e.clone,l=bt,u=l.normalizeToArray,c=Br,f=c.guessOrdinal,d=c.BE_ORDINAL,h=gv,v=_v(),m=v.OTHER_DIMENSIONS,p=EW();function g(A,S,_){h.isInstance(S)||(S=h.seriesDataToSource(S)),_=_||{},A=(A||[]).slice();for(var w=(_.dimsDef||[]).slice(),C=t(),M=t(),T=[],E=y(S,A,w,_.dimCount),P=0;P<E;P++){var R=w[P]=i({},o(w[P])?w[P]:{name:w[P]}),I=R.name,D=T[P]=new p;I!=null&&C.get(I)==null&&(D.name=D.displayName=I,C.set(I,P)),R.type!=null&&(D.type=R.type),R.displayName!=null&&(D.displayName=R.displayName)}var B=_.encodeDef;!B&&_.encodeDefaulter&&(B=_.encodeDefaulter(S,E)),B=t(B),B.each(function(L,O){if(L=u(L).slice(),L.length===1&&!r(L[0])&&L[0]<0){B.set(O,!1);return}var H=B.set(O,[]);n(L,function(j,Y){r(j)&&(j=C.get(j)),j!=null&&j<E&&(H[Y]=j,G(T[j],O,Y))})});var F=0;n(A,function(j,O){var H,j,Y,X;if(r(j))H=j,j={};else{H=j.name;var Q=j.ordinalMeta;j.ordinalMeta=null,j=s(j),j.ordinalMeta=Q,Y=j.dimsDef,X=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var K=B.get(H);if(K!==!1){var K=u(K);if(!K.length)for(var Z=0;Z<(Y&&Y.length||1);Z++){for(;F<T.length&&T[F].coordDim!=null;)F++;F<T.length&&K.push(F++)}n(K,function(te,oe){var ue=T[te];if(G(a(ue,j),H,oe),ue.name==null&&Y){var se=Y[oe];!o(se)&&(se={name:se}),ue.name=ue.displayName=se.name,ue.defaultTooltip=se.defaultTooltip}X&&a(ue.otherDims,X)})}});function G(L,O,H){m.get(O)!=null?L.otherDims[O]=H:(L.coordDim=O,L.coordDimIndex=H,M.set(O,!0))}var z=_.generateCoord,N=_.generateCoordCount,U=N!=null;N=z?N||1:0;for(var $=z||"value",k=0;k<E;k++){var D=T[k]=T[k]||new p,V=D.coordDim;V==null&&(D.coordDim=x($,M,U),D.coordDimIndex=0,(!z||N<=0)&&(D.isExtraCoord=!0),N--),D.name==null&&(D.name=x(D.coordDim,C)),D.type==null&&(f(S,k,D.name)===d.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type="ordinal")}return T}function y(A,S,_,w){var C=Math.max(A.dimensionsDetectCount||1,S.length,_.length,w||0);return n(S,function(M){var T=M.dimsDef;T&&(C=Math.max(C,T.length))}),C}function x(A,S,_){if(_||S.get(A)!=null){for(var w=0;S.get(A+w)!=null;)w++;A+=w}return S.set(A,!0),A}var b=g;return s1=b,s1}var l1,PL;function Vf(){if(PL)return l1;PL=1;var e=PW();function t(n,r){return r=r||{},e(r.coordDimensions||[],n,{dimsDef:r.dimensionsDefine||n.dimensionsDefine,encodeDef:r.encodeDefine||n.encodeDefine,dimCount:r.dimensionsCount,encodeDefaulter:r.encodeDefaulter,generateCoord:r.generateCoord,generateCoordCount:r.generateCoordCount})}return l1=t,l1}var u1={},RL;function qpe(){if(RL)return u1;RL=1;var e=de,t=e.createHashMap;e.retrieve;var n=e.each;function r(s){this.coordSysName=s,this.coordSysDims=[],this.axisMap=t(),this.categoryAxisMap=t(),this.firstCategoryDimIndex=null}function a(s){var l=s.get("coordinateSystem"),u=new r(l),c=i[l];if(c)return c(s,u,u.axisMap,u.categoryAxisMap),u}var i={cartesian2d:function(s,l,u,c){var f=s.getReferringComponents("xAxis")[0],d=s.getReferringComponents("yAxis")[0];l.coordSysDims=["x","y"],u.set("x",f),u.set("y",d),o(f)&&(c.set("x",f),l.firstCategoryDimIndex=0),o(d)&&(c.set("y",d),l.firstCategoryDimIndex==null&(l.firstCategoryDimIndex=1))},singleAxis:function(s,l,u,c){var f=s.getReferringComponents("singleAxis")[0];l.coordSysDims=["single"],u.set("single",f),o(f)&&(c.set("single",f),l.firstCategoryDimIndex=0)},polar:function(s,l,u,c){var f=s.getReferringComponents("polar")[0],d=f.findAxisModel("radiusAxis"),h=f.findAxisModel("angleAxis");l.coordSysDims=["radius","angle"],u.set("radius",d),u.set("angle",h),o(d)&&(c.set("radius",d),l.firstCategoryDimIndex=0),o(h)&&(c.set("angle",h),l.firstCategoryDimIndex==null&&(l.firstCategoryDimIndex=1))},geo:function(s,l,u,c){l.coordSysDims=["lng","lat"]},parallel:function(s,l,u,c){var f=s.ecModel,d=f.getComponent("parallel",s.get("parallelIndex")),h=l.coordSysDims=d.dimensions.slice();n(d.parallelAxisIndex,function(v,m){var p=f.getComponent("parallelAxis",v),g=h[m];u.set(g,p),o(p)&&l.firstCategoryDimIndex==null&&(c.set(g,p),l.firstCategoryDimIndex=m)})}};function o(s){return s.get("type")==="category"}return u1.getCoordSysInfoBySeries=a,u1}var md={},IL;function Ao(){if(IL)return md;IL=1;var e=de,t=e.each,n=e.isString;function r(o,s,l){l=l||{};var u=l.byIndex,c=l.stackedCoordDimension,f=!!(o&&o.get("stack")),d,h,v,m;if(t(s,function(x,b){n(x)&&(s[b]=x={name:x}),f&&!x.isExtraCoord&&(!u&&!d&&x.ordinalMeta&&(d=x),!h&&x.type!=="ordinal"&&x.type!=="time"&&(!c||c===x.coordDim)&&(h=x))}),h&&!u&&!d&&(u=!0),h){v="__\0ecstackresult",m="__\0ecstackedover",d&&(d.createInvertedIndices=!0);var p=h.coordDim,g=h.type,y=0;t(s,function(x){x.coordDim===p&&y++}),s.push({name:v,coordDim:p,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0}),y++,s.push({name:m,coordDim:m,coordDimIndex:y,type:g,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:h&&h.name,stackedByDimension:d&&d.name,isStackedByIndex:u,stackedOverDimension:m,stackResultDimension:v}}function a(o,s){return!!s&&s===o.getCalculationInfo("stackedDimension")}function i(o,s){return a(o,s)?o.getCalculationInfo("stackResultDimension"):s}return md.enableDataStack=r,md.isDimensionStacked=a,md.getStackedDimension=i,md}var c1,DL;function us(){if(DL)return c1;DL=1;var e=de,t=si(),n=Vf(),r=Pa,a=r.SOURCE_FORMAT_ORIGINAL,i=_v(),o=i.getDimensionTypeByAxis,s=bt,l=s.getDataItemValue,u=So,c=qpe(),f=c.getCoordSysInfoBySeries,d=gv,h=Ao(),v=h.enableDataStack,m=Br,p=m.makeSeriesEncodeForAxisCoordSys;function g(A,S,_){_=_||{},d.isInstance(A)||(A=d.seriesDataToSource(A));var w=S.get("coordinateSystem"),C=u.get(w),M=f(S),T;M&&(T=e.map(M.coordSysDims,function(F){var G={name:F},z=M.axisMap.get(F);if(z){var N=z.get("type");G.type=o(N)}return G})),T||(T=C&&(C.getDimensionsInfo?C.getDimensionsInfo():C.dimensions.slice())||["x","y"]);var E=n(A,{coordDimensions:T,generateCoord:_.generateCoord,encodeDefaulter:_.useEncodeDefaulter?e.curry(p,T,S):null}),P,R;M&&e.each(E,function(F,G){var z=F.coordDim,N=M.categoryAxisMap.get(z);N&&(P==null&&(P=G),F.ordinalMeta=N.getOrdinalMeta()),F.otherDims.itemName!=null&&(R=!0)}),!R&&P!=null&&(E[P].otherDims.itemName=0);var I=v(S,E),D=new t(E,S);D.setCalculationInfo(I);var B=P!=null&&y(A)?function(F,G,z,N){return N===P?z:this.defaultDimValueGetter(F,G,z,N)}:null;return D.hasItemOption=!1,D.initData(A,null,B),D}function y(A){if(A.sourceFormat===a){var S=x(A.data||[]);return S!=null&&!e.isArray(l(S))}}function x(A){for(var S=0;S<A.length&&A[S]==null;)S++;return A[S]}var b=g;return c1=b,c1}var vi={},f1,LL;function Hy(){if(LL)return f1;LL=1;var e=ga;function t(r){this._setting=r||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(r){return r},t.prototype.getSetting=function(r){return this._setting[r]},t.prototype.contain=function(r){var a=this._extent;return r>=a[0]&&r<=a[1]},t.prototype.normalize=function(r){var a=this._extent;return a[1]===a[0]?.5:(r-a[0])/(a[1]-a[0])},t.prototype.scale=function(r){var a=this._extent;return r*(a[1]-a[0])+a[0]},t.prototype.unionExtent=function(r){var a=this._extent;r[0]<a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])},t.prototype.unionExtentFromData=function(r,a){this.unionExtent(r.getApproximateExtent(a))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(r,a){var i=this._extent;isNaN(r)||(i[0]=r),isNaN(a)||(i[1]=a)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(r){this._isBlank=r},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var n=t;return f1=n,f1}var d1,OL;function RW(){if(OL)return d1;OL=1;var e=de,t=e.createHashMap,n=e.isObject,r=e.map;function a(u){this.categories=u.categories||[],this._needCollect=u.needCollect,this._deduplication=u.deduplication,this._map}a.createByAxisModel=function(u){var c=u.option,f=c.data,d=f&&r(f,s);return new a({categories:d,needCollect:!d,deduplication:c.dedplication!==!1})};var i=a.prototype;i.getOrdinal=function(u){return o(this).get(u)},i.parseAndCollect=function(u){var c,f=this._needCollect;if(typeof u!="string"&&!f)return u;if(f&&!this._deduplication)return c=this.categories.length,this.categories[c]=u,c;var d=o(this);return c=d.get(u),c==null&&(f?(c=this.categories.length,this.categories[c]=u,d.set(u,c)):c=NaN),c};function o(u){return u._map||(u._map=t(u.categories))}function s(u){return n(u)&&u.value!=null?u.value:u+""}var l=a;return d1=l,d1}var h1,NL;function Kpe(){if(NL)return h1;NL=1;var e=de,t=Hy(),n=RW(),r=t.prototype,a=t.extend({type:"ordinal",init:function(o,s){(!o||e.isArray(o))&&(o=new n({categories:o})),this._ordinalMeta=o,this._extent=s||[0,o.categories.length-1]},parse:function(o){return typeof o=="string"?this._ordinalMeta.getOrdinal(o):Math.round(o)},contain:function(o){return o=this.parse(o),r.contain.call(this,o)&&this._ordinalMeta.categories[o]!=null},normalize:function(o){return r.normalize.call(this,this.parse(o))},scale:function(o){return Math.round(r.scale.call(this,o))},getTicks:function(){for(var o=[],s=this._extent,l=s[0];l<=s[1];)o.push(l),l++;return o},getLabel:function(o){if(!this.isBlank())return this._ordinalMeta.categories[o]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(o,s){this.unionExtent(o.getApproximateExtent(s))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});a.create=function(){return new a};var i=a;return h1=i,h1}var yd={},kL;function IW(){if(kL)return yd;kL=1;var e=Rt(),t=e.round;function n(o,s,l,u){var c={},f=o[1]-o[0],d=c.interval=e.nice(f/s,!0);l!=null&&d<l&&(d=c.interval=l),u!=null&&d>u&&(d=c.interval=u);var h=c.intervalPrecision=r(d),v=c.niceTickExtent=[t(Math.ceil(o[0]/d)*d,h),t(Math.floor(o[1]/d)*d,h)];return i(v,o),c}function r(o){return e.getPrecisionSafe(o)+2}function a(o,s,l){o[s]=Math.max(Math.min(o[s],l[1]),l[0])}function i(o,s){!isFinite(o[0])&&(o[0]=s[0]),!isFinite(o[1])&&(o[1]=s[1]),a(o,0,s),a(o,1,s),o[0]>o[1]&&(o[0]=o[1])}return yd.intervalScaleNiceTicks=n,yd.getIntervalPrecision=r,yd.fixExtent=i,yd}var v1,BL;function $y(){if(BL)return v1;BL=1;var e=Rt(),t=Gt,n=Hy(),r=IW(),a=e.round,i=n.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(s,l){var u=this._extent;isNaN(s)||(u[0]=parseFloat(s)),isNaN(l)||(u[1]=parseFloat(l))},unionExtent:function(s){var l=this._extent;s[0]<l[0]&&(l[0]=s[0]),s[1]>l[1]&&(l[1]=s[1]),i.prototype.setExtent.call(this,l[0],l[1])},getInterval:function(){return this._interval},setInterval:function(s){this._interval=s,this._niceExtent=this._extent.slice(),this._intervalPrecision=r.getIntervalPrecision(s)},getTicks:function(s){var l=this._interval,u=this._extent,c=this._niceExtent,f=this._intervalPrecision,d=[];if(!l)return d;var h=1e4;u[0]<c[0]&&(s?d.push(a(c[0]-l,f)):d.push(u[0]));for(var v=c[0];v<=c[1]&&(d.push(v),v=a(v+l,f),v!==d[d.length-1]);)if(d.length>h)return[];var m=d.length?d[d.length-1]:c[1];return u[1]>m&&(s?d.push(a(m+l,f)):d.push(u[1])),d},getMinorTicks:function(s){for(var l=this.getTicks(!0),u=[],c=this.getExtent(),f=1;f<l.length;f++){for(var d=l[f],h=l[f-1],v=0,m=[],p=d-h,g=p/s;v<s-1;){var y=e.round(h+(v+1)*g);y>c[0]&&y<c[1]&&m.push(y),v++}u.push(m)}return u},getLabel:function(s,l){if(s==null)return"";var u=l&&l.precision;return u==null?u=e.getPrecisionSafe(s)||0:u==="auto"&&(u=this._intervalPrecision),s=a(s,u,!0),t.addCommas(s)},niceTicks:function(s,l,u){s=s||5;var c=this._extent,f=c[1]-c[0];if(isFinite(f)){f<0&&(f=-f,c.reverse());var d=r.intervalScaleNiceTicks(c,s,l,u);this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent}},niceExtent:function(s){var l=this._extent;if(l[0]===l[1])if(l[0]!==0){var u=l[0];s.fixMax||(l[1]+=u/2),l[0]-=u/2}else l[1]=1;var c=l[1]-l[0];isFinite(c)||(l[0]=0,l[1]=1),this.niceTicks(s.splitNumber,s.minInterval,s.maxInterval);var f=this._interval;s.fixMin||(l[0]=a(Math.floor(l[0]/f)*f)),s.fixMax||(l[1]=a(Math.ceil(l[1]/f)*f))}});i.create=function(){return new i};var o=i;return v1=o,v1}var Cs={},FL;function Gy(){if(FL)return Cs;FL=1;var e=de,t=Rt(),n=t.parsePercent,r=Ao(),a=r.isDimensionStacked,i=Bf,o="__ec_stack_",s=.5,l=typeof Float32Array<"u"?Float32Array:Array;function u(S){return S.get("stack")||o+S.seriesIndex}function c(S){return S.dim+S.index}function f(S){var _=[],w=S.axis,C="axis0";if(w.type==="category"){for(var M=w.getBandWidth(),T=0;T<S.count;T++)_.push(e.defaults({bandWidth:M,axisKey:C,stackId:o+T},S));for(var E=m(_),P=[],T=0;T<S.count;T++){var R=E[C][o+T];R.offsetCenter=R.offset+R.width/2,P.push(R)}return P}}function d(S,_){var w=[];return _.eachSeriesByType(S,function(C){x(C)&&!b(C)&&w.push(C)}),w}function h(S){var _={};e.each(S,function(R){var I=R.coordinateSystem,D=I.getBaseAxis();if(!(D.type!=="time"&&D.type!=="value"))for(var B=R.getData(),F=D.dim+"_"+D.index,G=B.mapDimension(D.dim),z=0,N=B.count();z<N;++z){var U=B.get(G,z);_[F]?_[F].push(U):_[F]=[U]}});var w=[];for(var C in _)if(_.hasOwnProperty(C)){var M=_[C];if(M){M.sort(function(R,I){return R-I});for(var T=null,E=1;E<M.length;++E){var P=M[E]-M[E-1];P>0&&(T=T===null?P:Math.min(T,P))}w[C]=T}}return w}function v(S){var _=h(S),w=[];return e.each(S,function(C){var M=C.coordinateSystem,T=M.getBaseAxis(),E=T.getExtent(),P;if(T.type==="category")P=T.getBandWidth();else if(T.type==="value"||T.type==="time"){var R=T.dim+"_"+T.index,I=_[R],D=Math.abs(E[1]-E[0]),B=T.scale.getExtent(),F=Math.abs(B[1]-B[0]);P=I?D/F*I:D}else{var G=C.getData();P=Math.abs(E[1]-E[0])/G.count()}var z=n(C.get("barWidth"),P),N=n(C.get("barMaxWidth"),P),U=n(C.get("barMinWidth")||1,P),$=C.get("barGap"),k=C.get("barCategoryGap");w.push({bandWidth:P,barWidth:z,barMaxWidth:N,barMinWidth:U,barGap:$,barCategoryGap:k,axisKey:c(T),stackId:u(C)})}),m(w)}function m(S){var _={};e.each(S,function(C,M){var T=C.axisKey,E=C.bandWidth,P=_[T]||{bandWidth:E,remainedWidth:E,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},R=P.stacks;_[T]=P;var I=C.stackId;R[I]||P.autoWidthCount++,R[I]=R[I]||{width:0,maxWidth:0};var D=C.barWidth;D&&!R[I].width&&(R[I].width=D,D=Math.min(P.remainedWidth,D),P.remainedWidth-=D);var B=C.barMaxWidth;B&&(R[I].maxWidth=B);var F=C.barMinWidth;F&&(R[I].minWidth=F);var G=C.barGap;G!=null&&(P.gap=G);var z=C.barCategoryGap;z!=null&&(P.categoryGap=z)});var w={};return e.each(_,function(C,M){w[M]={};var T=C.stacks,E=C.bandWidth,P=n(C.categoryGap,E),R=n(C.gap,1),I=C.remainedWidth,D=C.autoWidthCount,B=(I-P)/(D+(D-1)*R);B=Math.max(B,0),e.each(T,function(N){var U=N.maxWidth,$=N.minWidth;if(N.width){var k=N.width;U&&(k=Math.min(k,U)),$&&(k=Math.max(k,$)),N.width=k,I-=k+R*k,D--}else{var k=B;U&&U<k&&(k=Math.min(U,I)),$&&$>k&&(k=$),k!==B&&(N.width=k,I-=k+R*k,D--)}}),B=(I-P)/(D+(D-1)*R),B=Math.max(B,0);var F=0,G;e.each(T,function(N,U){N.width||(N.width=B),G=N,F+=N.width*(1+R)}),G&&(F-=G.width*R);var z=-F/2;e.each(T,function(N,U){w[M][U]=w[M][U]||{bandWidth:E,offset:z,width:N.width},z+=N.width*(1+R)})}),w}function p(S,_,w){if(S&&_){var C=S[c(_)];return C!=null&&w!=null&&(C=C[u(w)]),C}}function g(S,_){var w=d(S,_),C=v(w),M={};e.each(w,function(T){var E=T.getData(),P=T.coordinateSystem,R=P.getBaseAxis(),I=u(T),D=C[c(R)][I],B=D.offset,F=D.width,G=P.getOtherAxis(R),z=T.get("barMinHeight")||0;M[I]=M[I]||[],E.setLayout({bandWidth:D.bandWidth,offset:B,size:F});for(var N=E.mapDimension(G.dim),U=E.mapDimension(R.dim),$=a(E,N),k=G.isHorizontal(),V=A(R,G),L=0,O=E.count();L<O;L++){var H=E.get(N,L),j=E.get(U,L),Y=H>=0?"p":"n",X=V;$&&(M[I][j]||(M[I][j]={p:V,n:V}),X=M[I][j][Y]);var Q,K,Z,te;if(k){var oe=P.dataToPoint([H,j]);Q=X,K=oe[1]+B,Z=oe[0]-V,te=F,Math.abs(Z)<z&&(Z=(Z<0?-1:1)*z),isNaN(Z)||$&&(M[I][j][Y]+=Z)}else{var oe=P.dataToPoint([j,H]);Q=oe[0]+B,K=X,Z=F,te=oe[1]-V,Math.abs(te)<z&&(te=(te<=0?-1:1)*z),isNaN(te)||$&&(M[I][j][Y]+=te)}E.setItemLayout(L,{x:Q,y:K,width:Z,height:te})}},this)}var y={seriesType:"bar",plan:i(),reset:function(S){if(!x(S)||!b(S))return;var _=S.getData(),w=S.coordinateSystem,C=w.grid.getRect(),M=w.getBaseAxis(),T=w.getOtherAxis(M),E=_.mapDimension(T.dim),P=_.mapDimension(M.dim),R=T.isHorizontal(),I=R?0:1,D=p(v([S]),M,S).width;return D>s||(D=s),{progress:B};function B(F,G){for(var z=F.count,N=new l(z*2),U=new l(z*2),$=new l(z),k,V=[],L=[],O=0,H=0;(k=F.next())!=null;)L[I]=G.get(E,k),L[1-I]=G.get(P,k),V=w.dataToPoint(L,null,V),U[O]=R?C.x+C.width:V[0],N[O++]=V[0],U[O]=R?V[1]:C.y+C.height,N[O++]=V[1],$[H++]=k;G.setLayout({largePoints:N,largeDataIndices:$,largeBackgroundPoints:U,barWidth:D,valueAxisStart:A(M,T),backgroundStart:R?C.x:C.y,valueAxisHorizontal:R})}}};function x(S){return S.coordinateSystem&&S.coordinateSystem.type==="cartesian2d"}function b(S){return S.pipelineContext&&S.pipelineContext.large}function A(S,_,w){return _.toGlobalCoord(_.dataToCoord(_.type==="log"?1:0))}return Cs.getLayoutOnAxis=f,Cs.prepareLayoutBarSeries=d,Cs.makeColumnLayout=v,Cs.retrieveColumnLayout=p,Cs.layout=g,Cs.largeLayout=y,Cs}var p1,VL;function Zpe(){if(VL)return p1;VL=1;var e=de,t=Rt(),n=Gt,r=IW(),a=$y(),i=a.prototype,o=Math.ceil,s=Math.floor,l=1e3,u=l*60,c=u*60,f=c*24,d=function(p,g,y,x){for(;y<x;){var b=y+x>>>1;p[b][1]<g?y=b+1:x=b}return y},h=a.extend({type:"time",getLabel:function(p){var g=this._stepLvl,y=new Date(p);return n.formatTime(g[0],y,this.getSetting("useUTC"))},niceExtent:function(p){var g=this._extent;if(g[0]===g[1]&&(g[0]-=f,g[1]+=f),g[1]===-1/0&&g[0]===1/0){var y=new Date;g[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),g[0]=g[1]-f}this.niceTicks(p.splitNumber,p.minInterval,p.maxInterval);var x=this._interval;p.fixMin||(g[0]=t.round(s(g[0]/x)*x)),p.fixMax||(g[1]=t.round(o(g[1]/x)*x))},niceTicks:function(p,g,y){p=p||10;var x=this._extent,b=x[1]-x[0],A=b/p;g!=null&&A<g&&(A=g),y!=null&&A>y&&(A=y);var S=v.length,_=d(v,A,0,S),w=v[Math.min(_,S-1)],C=w[1];if(w[0]==="year"){var M=b/C,T=t.nice(M/p,!0);C*=T}var E=this.getSetting("useUTC")?0:new Date(+x[0]||+x[1]).getTimezoneOffset()*60*1e3,P=[Math.round(o((x[0]-E)/C)*C+E),Math.round(s((x[1]-E)/C)*C+E)];r.fixExtent(P,x),this._stepLvl=w,this._interval=C,this._niceExtent=P},parse:function(p){return+t.parseDate(p)}});e.each(["contain","normalize"],function(p){h.prototype[p]=function(g){return i[p].call(this,this.parse(g))}});var v=[["hh:mm:ss",l],["hh:mm:ss",l*5],["hh:mm:ss",l*10],["hh:mm:ss",l*15],["hh:mm:ss",l*30],[`hh:mm
MM-dd`,u],[`hh:mm
MM-dd`,u*5],[`hh:mm
MM-dd`,u*10],[`hh:mm
MM-dd`,u*15],[`hh:mm
MM-dd`,u*30],[`hh:mm
MM-dd`,c],[`hh:mm
MM-dd`,c*2],[`hh:mm
MM-dd`,c*6],[`hh:mm
MM-dd`,c*12],[`MM-dd
yyyy`,f],[`MM-dd
yyyy`,f*2],[`MM-dd
yyyy`,f*3],[`MM-dd
yyyy`,f*4],[`MM-dd
yyyy`,f*5],[`MM-dd
yyyy`,f*6],["week",f*7],[`MM-dd
yyyy`,f*10],["week",f*14],["week",f*21],["month",f*31],["week",f*42],["month",f*62],["week",f*70],["quarter",f*95],["month",f*31*4],["month",f*31*5],["half-year",f*380/2],["month",f*31*8],["month",f*31*10],["year",f*380]];h.create=function(p){return new h({useUTC:p.ecModel.get("useUTC")})};var m=h;return p1=m,p1}var g1,zL;function DW(){if(zL)return g1;zL=1;var e=de,t=Hy(),n=Rt(),r=$y(),a=t.prototype,i=r.prototype,o=n.getPrecisionSafe,s=n.round,l=Math.floor,u=Math.ceil,c=Math.pow,f=Math.log,d=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new r},getTicks:function(m){var p=this._originalScale,g=this._extent,y=p.getExtent();return e.map(i.getTicks.call(this,m),function(x){var b=n.round(c(this.base,x));return b=x===g[0]&&p.__fixMin?h(b,y[0]):b,b=x===g[1]&&p.__fixMax?h(b,y[1]):b,b},this)},getMinorTicks:i.getMinorTicks,getLabel:i.getLabel,scale:function(m){return m=a.scale.call(this,m),c(this.base,m)},setExtent:function(m,p){var g=this.base;m=f(m)/f(g),p=f(p)/f(g),i.setExtent.call(this,m,p)},getExtent:function(){var m=this.base,p=a.getExtent.call(this);p[0]=c(m,p[0]),p[1]=c(m,p[1]);var g=this._originalScale,y=g.getExtent();return g.__fixMin&&(p[0]=h(p[0],y[0])),g.__fixMax&&(p[1]=h(p[1],y[1])),p},unionExtent:function(m){this._originalScale.unionExtent(m);var p=this.base;m[0]=f(m[0])/f(p),m[1]=f(m[1])/f(p),a.unionExtent.call(this,m)},unionExtentFromData:function(m,p){this.unionExtent(m.getApproximateExtent(p))},niceTicks:function(m){m=m||10;var p=this._extent,g=p[1]-p[0];if(!(g===1/0||g<=0)){var y=n.quantity(g),x=m/g*y;for(x<=.5&&(y*=10);!isNaN(y)&&Math.abs(y)<1&&Math.abs(y)>0;)y*=10;var b=[n.round(u(p[0]/y)*y),n.round(l(p[1]/y)*y)];this._interval=y,this._niceExtent=b}},niceExtent:function(m){i.niceExtent.call(this,m);var p=this._originalScale;p.__fixMin=m.fixMin,p.__fixMax=m.fixMax}});e.each(["contain","normalize"],function(m){d.prototype[m]=function(p){return p=f(p)/f(this.base),a[m].call(this,p)}}),d.create=function(){return new d};function h(m,p){return s(m,o(p))}var v=d;return g1=v,g1}var UL;function Fi(){if(UL)return vi;UL=1;var e=de,t=Kpe(),n=$y(),r=Hy(),a=Rt(),i=Gy(),o=i.prepareLayoutBarSeries,s=i.makeColumnLayout,l=i.retrieveColumnLayout,u=In;Zpe(),DW();function c(A,S){var _=A.type,w=S.getMin(),C=S.getMax(),M=A.getExtent(),T,E,P;_==="ordinal"?T=S.getCategories().length:(E=S.get("boundaryGap"),e.isArray(E)||(E=[E||0,E||0]),typeof E[0]=="boolean"&&(E=[0,0]),E[0]=a.parsePercent(E[0],1),E[1]=a.parsePercent(E[1],1),P=M[1]-M[0]||Math.abs(M[0])),w==="dataMin"?w=M[0]:typeof w=="function"&&(w=w({min:M[0],max:M[1]})),C==="dataMax"?C=M[1]:typeof C=="function"&&(C=C({min:M[0],max:M[1]}));var R=w!=null,I=C!=null;w==null&&(w=_==="ordinal"?T?0:NaN:M[0]-E[0]*P),C==null&&(C=_==="ordinal"?T?T-1:NaN:M[1]+E[1]*P),(w==null||!isFinite(w))&&(w=NaN),(C==null||!isFinite(C))&&(C=NaN),A.setBlank(e.eqNaN(w)||e.eqNaN(C)||_==="ordinal"&&!A.getOrdinalMeta().categories.length),S.getNeedCrossZero()&&(w>0&&C>0&&!R&&(w=0),w<0&&C<0&&!I&&(C=0));var D=S.ecModel;if(D&&_==="time"){var B=o("bar",D),F;if(e.each(B,function(N){F|=N.getBaseAxis()===S.axis}),F){var G=s(B),z=f(w,C,S,G);w=z.min,C=z.max}}return{extent:[w,C],fixMin:R,fixMax:I}}function f(A,S,_,w){var C=_.axis.getExtent(),M=C[1]-C[0],T=l(w,_.axis);if(T===void 0)return{min:A,max:S};var E=1/0;e.each(T,function(F){E=Math.min(F.offset,E)});var P=-1/0;e.each(T,function(F){P=Math.max(F.offset+F.width,P)}),E=Math.abs(E),P=Math.abs(P);var R=E+P,I=S-A,D=1-(E+P)/M,B=I/D-I;return S+=B*(P/R),A-=B*(E/R),{min:A,max:S}}function d(A,S){var _=c(A,S),w=_.extent,C=S.get("splitNumber");A.type==="log"&&(A.base=S.get("logBase"));var M=A.type;A.setExtent(w[0],w[1]),A.niceExtent({splitNumber:C,fixMin:_.fixMin,fixMax:_.fixMax,minInterval:M==="interval"||M==="time"?S.get("minInterval"):null,maxInterval:M==="interval"||M==="time"?S.get("maxInterval"):null});var T=S.get("interval");T!=null&&A.setInterval&&A.setInterval(T)}function h(A,S){if(S=S||A.get("type"),S)switch(S){case"category":return new t(A.getOrdinalMeta?A.getOrdinalMeta():A.getCategories(),[1/0,-1/0]);case"value":return new n;default:return(r.getClass(S)||n).create(A)}}function v(A){var S=A.scale.getExtent(),_=S[0],w=S[1];return!(_>0&&w>0||_<0&&w<0)}function m(A){var S=A.getLabelModel().get("formatter"),_=A.type==="category"?A.scale.getExtent()[0]:null;return typeof S=="string"?(S=function(w){return function(C){return C=A.scale.getLabel(C),w.replace("{value}",C??"")}}(S),S):typeof S=="function"?function(w,C){return _!=null&&(C=w-_),S(p(A,w),C)}:function(w){return A.scale.getLabel(w)}}function p(A,S){return A.type==="category"?A.scale.getLabel(S):S}function g(A){var S=A.model,_=A.scale;if(!(!S.get("axisLabel.show")||_.isBlank())){var w=A.type==="category",C,M,T=_.getExtent();w?M=_.count():(C=_.getTicks(),M=C.length);var E=A.getLabelModel(),P=m(A),R,I=1;M>40&&(I=Math.ceil(M/40));for(var D=0;D<M;D+=I){var B=C?C[D]:T[0]+D,F=P(B),G=E.getTextRect(F),z=y(G,E.get("rotate")||0);R?R.union(z):R=z}return R}}function y(A,S){var _=S*Math.PI/180,w=A.plain(),C=w.width,M=w.height,T=C*Math.abs(Math.cos(_))+Math.abs(M*Math.sin(_)),E=C*Math.abs(Math.sin(_))+Math.abs(M*Math.cos(_)),P=new u(w.x,w.y,T,E);return P}function x(A){var S=A.get("interval");return S??"auto"}function b(A){return A.type==="category"&&x(A.getLabelModel())===0}return vi.getScaleExtent=c,vi.niceScaleExtent=d,vi.createScaleByModel=h,vi.ifAxisCrossZero=v,vi.makeLabelFormatter=m,vi.getAxisRawValue=p,vi.estimateLabelUnionRect=g,vi.getOptionCategoryInterval=x,vi.shouldShowAllLabels=b,vi}var m1,HL;function zf(){if(HL)return m1;HL=1;var e=de,t={getMin:function(n){var r=this.option,a=!n&&r.rangeStart!=null?r.rangeStart:r.min;return this.axis&&a!=null&&a!=="dataMin"&&typeof a!="function"&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(n){var r=this.option,a=!n&&r.rangeEnd!=null?r.rangeEnd:r.max;return this.axis&&a!=null&&a!=="dataMax"&&typeof a!="function"&&!e.eqNaN(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var n=this.option;return n.rangeStart!=null||n.rangeEnd!=null?!1:!n.scale},getCoordSysModel:e.noop,setRange:function(n,r){this.option.rangeStart=n,this.option.rangeEnd=r},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return m1=t,m1}var y1={},$L;function li(){if($L)return y1;$L=1;var e=de,t=$e,n=In,r=wn,a=r.calculateTextPosition,i=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,p){var g=p.cx,y=p.cy,x=p.width/2,b=p.height/2;m.moveTo(g,y-b),m.lineTo(g+x,y+b),m.lineTo(g-x,y+b),m.closePath()}}),o=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(m,p){var g=p.cx,y=p.cy,x=p.width/2,b=p.height/2;m.moveTo(g,y-b),m.lineTo(g+x,y),m.lineTo(g,y+b),m.lineTo(g-x,y),m.closePath()}}),s=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,p){var g=p.x,y=p.y,x=p.width/5*3,b=Math.max(x,p.height),A=x/2,S=A*A/(b-A),_=y-b+A+S,w=Math.asin(S/A),C=Math.cos(w)*A,M=Math.sin(w),T=Math.cos(w),E=A*.6,P=A*.7;m.moveTo(g-C,_+S),m.arc(g,_,A,Math.PI-w,Math.PI*2+w),m.bezierCurveTo(g+C-M*E,_+S+T*E,g,y-P,g,y),m.bezierCurveTo(g,y-P,g-C+M*E,_+S+T*E,g-C,_+S),m.closePath()}}),l=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(m,p){var g=p.height,y=p.width,x=p.x,b=p.y,A=y/3*2;m.moveTo(x,b),m.lineTo(x+A,b+g),m.lineTo(x,b+g/4*3),m.lineTo(x-A,b+g),m.lineTo(x,b),m.closePath()}}),u={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:o,pin:s,arrow:l,triangle:i},c={line:function(m,p,g,y,x){x.x1=m,x.y1=p+y/2,x.x2=m+g,x.y2=p+y/2},rect:function(m,p,g,y,x){x.x=m,x.y=p,x.width=g,x.height=y},roundRect:function(m,p,g,y,x){x.x=m,x.y=p,x.width=g,x.height=y,x.r=Math.min(g,y)/4},square:function(m,p,g,y,x){var b=Math.min(g,y);x.x=m,x.y=p,x.width=b,x.height=b},circle:function(m,p,g,y,x){x.cx=m+g/2,x.cy=p+y/2,x.r=Math.min(g,y)/2},diamond:function(m,p,g,y,x){x.cx=m+g/2,x.cy=p+y/2,x.width=g,x.height=y},pin:function(m,p,g,y,x){x.x=m+g/2,x.y=p+y/2,x.width=g,x.height=y},arrow:function(m,p,g,y,x){x.x=m+g/2,x.y=p+y/2,x.width=g,x.height=y},triangle:function(m,p,g,y,x){x.cx=m+g/2,x.cy=p+y/2,x.width=g,x.height=y}},f={};e.each(u,function(m,p){f[p]=new m});var d=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(m,p,g){var y=a(m,p,g),x=this.shape;return x&&x.symbolType==="pin"&&p.textPosition==="inside"&&(y.y=g.y+g.height*.4),y},buildPath:function(m,p,g){var y=p.symbolType;if(y!=="none"){var x=f[y];x||(y="rect",x=f[y]),c[y](p.x,p.y,p.width,p.height,x.shape),x.buildPath(m,x.shape,g)}}});function h(m,p){if(this.type!=="image"){var g=this.style,y=this.shape;y&&y.symbolType==="line"?g.stroke=m:this.__isEmptyBrush?(g.stroke=m,g.fill=p||"#fff"):(g.fill&&(g.fill=m),g.stroke&&(g.stroke=m)),this.dirty(!1)}}function v(m,p,g,y,x,b,A){var S=m.indexOf("empty")===0;S&&(m=m.substr(5,1).toLowerCase()+m.substr(6));var _;return m.indexOf("image://")===0?_=t.makeImage(m.slice(8),new n(p,g,y,x),A?"center":"cover"):m.indexOf("path://")===0?_=t.makePath(m.slice(7),{},new n(p,g,y,x),A?"center":"cover"):_=new d({shape:{symbolType:m,x:p,y:g,width:y,height:x}}),_.__isEmptyBrush=S,_.setColor=h,_.setColor(b),_}return y1.createSymbol=v,y1}var GL;function Qpe(){if(GL)return Gi;GL=1;var e=de,t=us(),n=Fi(),r=zf(),a=Jn,i=$t;i.getLayoutRect,Gi.getLayoutRect=i.getLayoutRect;var o=Ao(),s=o.enableDataStack,l=o.isDimensionStacked,u=o.getStackedDimension,c=PW();Gi.completeDimensions=c;var f=Vf();Gi.createDimensions=f;var d=li();Gi.createSymbol=d.createSymbol;function h(g){return t(g.getSource(),g)}var v={isDimensionStacked:l,enableDataStack:s,getStackedDimension:u};function m(g,y){var x=y;a.isInstance(y)||(x=new a(y),e.mixin(x,r));var b=n.createScaleByModel(x);return b.setExtent(g[0],g[1]),n.niceScaleExtent(b,x),b}function p(g){e.mixin(g,r)}return Gi.createList=h,Gi.dataStack=v,Gi.createScale=m,Gi.mixinAxisModelCommonMethods=p,Gi}var x1={},WL;function LW(){if(WL)return x1;WL=1;var e=i6,t=1e-8;function n(a,i){return Math.abs(a-i)<t}function r(a,i,o){var s=0,l=a[0];if(!l)return!1;for(var u=1;u<a.length;u++){var c=a[u];s+=e(l[0],l[1],c[0],c[1],i,o),l=c}var f=a[0];return(!n(l[0],f[0])||!n(l[1],f[1]))&&(s+=e(l[0],l[1],f[0],f[1],i,o)),s!==0}return x1.contain=r,x1}var b1,jL;function OW(){if(jL)return b1;jL=1;var e=In,t=hv(),n=Pt,r=LW();function a(o,s,l){if(this.name=o,this.geometries=s,l)l=[l[0],l[1]];else{var u=this.getBoundingRect();l=[u.x+u.width/2,u.y+u.height/2]}this.center=l}a.prototype={constructor:a,properties:null,getBoundingRect:function(){var o=this._rect;if(o)return o;for(var s=Number.MAX_VALUE,l=[s,s],u=[-s,-s],c=[],f=[],d=this.geometries,h=0;h<d.length;h++)if(d[h].type==="polygon"){var v=d[h].exterior;t.fromPoints(v,c,f),n.min(l,l,c),n.max(u,u,f)}return h===0&&(l[0]=l[1]=u[0]=u[1]=0),this._rect=new e(l[0],l[1],u[0]-l[0],u[1]-l[1])},contain:function(o){var s=this.getBoundingRect(),l=this.geometries;if(!s.contain(o[0],o[1]))return!1;e:for(var u=0,c=l.length;u<c;u++)if(l[u].type==="polygon"){var f=l[u].exterior,d=l[u].interiors;if(r.contain(f,o[0],o[1])){for(var h=0;h<(d?d.length:0);h++)if(r.contain(d[h]))continue e;return!0}}return!1},transformTo:function(o,s,l,u){var c=this.getBoundingRect(),f=c.width/c.height;l?u||(u=l/f):l=f*u;for(var d=new e(o,s,l,u),h=c.calculateTransform(d),v=this.geometries,m=0;m<v.length;m++)if(v[m].type==="polygon"){for(var p=v[m].exterior,g=v[m].interiors,y=0;y<p.length;y++)n.applyTransform(p[y],p[y],h);for(var x=0;x<(g?g.length:0);x++)for(var y=0;y<g[x].length;y++)n.applyTransform(g[x][y],g[x][y],h)}c=this._rect,c.copy(d),this.center=[c.x+c.width/2,c.y+c.height/2]},cloneShallow:function(o){o==null&&(o=this.name);var s=new a(o,this.geometries,this.center);return s._rect=this._rect,s.transformTo=null,s}};var i=a;return b1=i,b1}var S1,YL;function NW(){if(YL)return S1;YL=1;var e=de,t=OW();function n(i){if(!i.UTF8Encoding)return i;var o=i.UTF8Scale;o==null&&(o=1024);for(var s=i.features,l=0;l<s.length;l++)for(var u=s[l],c=u.geometry,f=c.coordinates,d=c.encodeOffsets,h=0;h<f.length;h++){var v=f[h];if(c.type==="Polygon")f[h]=r(v,d[h],o);else if(c.type==="MultiPolygon")for(var m=0;m<v.length;m++){var p=v[m];v[m]=r(p,d[h][m],o)}}return i.UTF8Encoding=!1,i}function r(i,o,s){for(var l=[],u=o[0],c=o[1],f=0;f<i.length;f+=2){var d=i.charCodeAt(f)-64,h=i.charCodeAt(f+1)-64;d=d>>1^-(d&1),h=h>>1^-(h&1),d+=u,h+=c,u=d,c=h,l.push([d/s,h/s])}return l}function a(i,o){return n(i),e.map(e.filter(i.features,function(s){return s.geometry&&s.properties&&s.geometry.coordinates.length>0}),function(s){var l=s.properties,u=s.geometry,c=u.coordinates,f=[];u.type==="Polygon"&&f.push({type:"polygon",exterior:c[0],interiors:c.slice(1)}),u.type==="MultiPolygon"&&e.each(c,function(h){h[0]&&f.push({type:"polygon",exterior:h[0],interiors:h.slice(1)})});var d=new t(l[o||"name"],f,l.cp);return d.properties=l,d})}return S1=a,S1}var xd={},XL;function Jpe(){if(XL)return xd;XL=1;var e=de,t=wn,n=bt,r=n.makeInner,a=Fi(),i=a.makeLabelFormatter,o=a.getOptionCategoryInterval,s=a.shouldShowAllLabels,l=r();function u(_){return _.type==="category"?f(_):v(_)}function c(_,w){return _.type==="category"?h(_,w):{ticks:_.scale.getTicks()}}function f(_){var w=_.getLabelModel(),C=d(_,w);return!w.get("show")||_.scale.isBlank()?{labels:[],labelCategoryInterval:C.labelCategoryInterval}:C}function d(_,w){var C=m(_,"labels"),M=o(w),T=p(C,M);if(T)return T;var E,P;return e.isFunction(M)?E=S(_,M):(P=M==="auto"?y(_):M,E=A(_,P)),g(C,M,{labels:E,labelCategoryInterval:P})}function h(_,w){var C=m(_,"ticks"),M=o(w),T=p(C,M);if(T)return T;var E,P;if((!w.get("show")||_.scale.isBlank())&&(E=[]),e.isFunction(M))E=S(_,M,!0);else if(M==="auto"){var R=d(_,_.getLabelModel());P=R.labelCategoryInterval,E=e.map(R.labels,function(I){return I.tickValue})}else P=M,E=A(_,P,!0);return g(C,M,{ticks:E,tickCategoryInterval:P})}function v(_){var w=_.scale.getTicks(),C=i(_);return{labels:e.map(w,function(M,T){return{formattedLabel:C(M,T),rawLabel:_.scale.getLabel(M),tickValue:M}})}}function m(_,w){return l(_)[w]||(l(_)[w]=[])}function p(_,w){for(var C=0;C<_.length;C++)if(_[C].key===w)return _[C].value}function g(_,w,C){return _.push({key:w,value:C}),C}function y(_){var w=l(_).autoInterval;return w??(l(_).autoInterval=_.calculateCategoryInterval())}function x(_){var w=b(_),C=i(_),M=(w.axisRotate-w.labelRotate)/180*Math.PI,T=_.scale,E=T.getExtent(),P=T.count();if(E[1]-E[0]<1)return 0;var R=1;P>40&&(R=Math.max(1,Math.floor(P/40)));for(var I=E[0],D=_.dataToCoord(I+1)-_.dataToCoord(I),B=Math.abs(D*Math.cos(M)),F=Math.abs(D*Math.sin(M)),G=0,z=0;I<=E[1];I+=R){var N=0,U=0,$=t.getBoundingRect(C(I),w.font,"center","top");N=$.width*1.3,U=$.height*1.3,G=Math.max(G,N,7),z=Math.max(z,U,7)}var k=G/B,V=z/F;isNaN(k)&&(k=1/0),isNaN(V)&&(V=1/0);var L=Math.max(0,Math.floor(Math.min(k,V))),O=l(_.model),H=_.getExtent(),j=O.lastAutoInterval,Y=O.lastTickCount;return j!=null&&Y!=null&&Math.abs(j-L)<=1&&Math.abs(Y-P)<=1&&j>L&&O.axisExtend0===H[0]&&O.axisExtend1===H[1]?L=j:(O.lastTickCount=P,O.lastAutoInterval=L,O.axisExtend0=H[0],O.axisExtend1=H[1]),L}function b(_){var w=_.getLabelModel();return{axisRotate:_.getRotate?_.getRotate():_.isHorizontal&&!_.isHorizontal()?90:0,labelRotate:w.get("rotate")||0,font:w.getFont()}}function A(_,w,C){var M=i(_),T=_.scale,E=T.getExtent(),P=_.getLabelModel(),R=[],I=Math.max((w||0)+1,1),D=E[0],B=T.count();D!==0&&I>1&&B/I>2&&(D=Math.round(Math.ceil(D/I)*I));var F=s(_),G=P.get("showMinLabel")||F,z=P.get("showMaxLabel")||F;G&&D!==E[0]&&U(E[0]);for(var N=D;N<=E[1];N+=I)U(N);z&&N-I!==E[1]&&U(E[1]);function U($){R.push(C?$:{formattedLabel:M($),rawLabel:T.getLabel($),tickValue:$})}return R}function S(_,w,C){var M=_.scale,T=i(_),E=[];return e.each(M.getTicks(),function(P){var R=M.getLabel(P);w(P,R)&&E.push(C?P:{formattedLabel:T(P),rawLabel:R,tickValue:P})}),E}return xd.createAxisLabels=u,xd.createAxisTicks=c,xd.calculateCategoryInterval=x,xd}var _1,qL;function cl(){if(qL)return _1;qL=1;var e=de,t=e.each,n=e.map,r=Rt(),a=r.linearMap,i=r.getPixelPrecision,o=r.round,s=Jpe(),l=s.createAxisTicks,u=s.createAxisLabels,c=s.calculateCategoryInterval,f=[0,1],d=function(p,g,y){this.dim=p,this.scale=g,this._extent=y||[0,0],this.inverse=!1,this.onBand=!1};d.prototype={constructor:d,contain:function(p){var g=this._extent,y=Math.min(g[0],g[1]),x=Math.max(g[0],g[1]);return p>=y&&p<=x},containData:function(p){return this.scale.contain(p)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(p){return i(p||this.scale.getExtent(),this._extent)},setExtent:function(p,g){var y=this._extent;y[0]=p,y[1]=g},dataToCoord:function(p,g){var y=this._extent,x=this.scale;return p=x.normalize(p),this.onBand&&x.type==="ordinal"&&(y=y.slice(),h(y,x.count())),a(p,f,y,g)},coordToData:function(p,g){var y=this._extent,x=this.scale;this.onBand&&x.type==="ordinal"&&(y=y.slice(),h(y,x.count()));var b=a(p,y,f,g);return this.scale.scale(b)},pointToData:function(p,g){},getTicksCoords:function(p){p=p||{};var g=p.tickModel||this.getTickModel(),y=l(this,g),x=y.ticks,b=n(x,function(S){return{coord:this.dataToCoord(S),tickValue:S}},this),A=g.get("alignWithLabel");return v(this,b,A,p.clamp),b},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var p=this.model.getModel("minorTick"),g=p.get("splitNumber");g>0&&g<100||(g=5);var y=this.scale.getMinorTicks(g),x=n(y,function(b){return n(b,function(A){return{coord:this.dataToCoord(A),tickValue:A}},this)},this);return x},getViewLabels:function(){return u(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var p=this._extent,g=this.scale.getExtent(),y=g[1]-g[0]+(this.onBand?1:0);y===0&&(y=1);var x=Math.abs(p[1]-p[0]);return Math.abs(x)/y},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return c(this)}};function h(p,g){var y=p[1]-p[0],x=g,b=y/x/2;p[0]+=b,p[1]-=b}function v(p,g,y,x){var b=g.length;if(!p.onBand||y||!b)return;var A=p.getExtent(),S,_;if(b===1)g[0].coord=A[0],S=g[1]={coord:A[0]};else{var w=g[b-1].tickValue-g[0].tickValue,C=(g[b-1].coord-g[0].coord)/w;t(g,function(P){P.coord-=C/2});var M=p.scale.getExtent();_=1+M[1]-g[b-1].tickValue,S={coord:g[b-1].coord+C*_},g.push(S)}var T=A[0]>A[1];E(g[0].coord,A[0])&&(x?g[0].coord=A[0]:g.shift()),x&&E(A[0],g[0].coord)&&g.unshift({coord:A[0]}),E(A[1],S.coord)&&(x?S.coord=A[1]:g.pop()),x&&E(S.coord,A[1])&&g.push({coord:A[1]});function E(P,R){return P=o(P),R=o(R),T?P>R:P<R}}var m=d;return _1=m,_1}var KL;function kW(){if(KL)return Sr;KL=1;var e=ls;Sr.zrender=e;var t=Vn;Sr.matrix=t;var n=Pt;Sr.vector=n;var r=de,a=ur;Sr.color=a;var i=$e,o=Rt();Sr.number=o;var s=Gt;Sr.format=s;var l=Bi;l.throttle,Sr.throttle=l.throttle;var u=Qpe();Sr.helper=u;var c=NW();Sr.parseGeoJSON=c;var f=si();Sr.List=f;var d=Jn;Sr.Model=d;var h=cl();Sr.Axis=h;var v=Qn;Sr.env=v;var m=c,p={};r.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(y){p[y]=r[y]});var g={};return r.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(y){g[y]=i[y]}),Sr.parseGeoJson=m,Sr.util=p,Sr.graphic=g,Sr}(function(e){var t=ls,n=de,r=ur,a=Qn,i=gE,o=bu,s=rW,l=aW,u=So,c=Zde,f=fhe,d=ghe,h=yr,v=xr,m=Fy,p=_o,g=$e,y=bt,x=Bi,b=x.throttle,A=Cve,S=Ive,_=Nve,w=ape,C=ope,M=lpe,T=fP,E=n.assert,P=n.each,R=n.isFunction,I=n.isObject,D=h.parseClassType,B="4.9.0",F={zrender:"4.3.2"},G=1,z=1e3,N=800,U=900,$=5e3,k=1e3,V=1100,L=2e3,O=3e3,H=3500,j=4e3,Y=5e3,X={PROCESSOR:{FILTER:z,SERIES_FILTER:N,STATISTIC:$},VISUAL:{LAYOUT:k,PROGRESSIVE_LAYOUT:V,GLOBAL:L,CHART:O,POST_CHART_LAYOUT:H,COMPONENT:j,BRUSH:Y}},Q="__flagInMainProcess",K="__optionUpdated",Z=/^[a-zA-Z0-9_]+$/;function te(ve,Me){return function(Ue,Qe,Xe){if(!Me&&this._disposed){this.id;return}Ue=Ue&&Ue.toLowerCase(),o.prototype[ve].call(this,Ue,Qe,Xe)}}function oe(){o.call(this)}oe.prototype.on=te("on",!0),oe.prototype.off=te("off",!0),oe.prototype.one=te("one",!0),n.mixin(oe,o);function ue(ve,Je,Ue){Ue=Ue||{},typeof Je=="string"&&(Je=_t[Je]),this.id,this.group,this._dom=ve;var Qe="canvas",Xe=this._zr=t.init(ve,{renderer:Ue.renderer||Qe,devicePixelRatio:Ue.devicePixelRatio,width:Ue.width,height:Ue.height});this._throttledZrFlush=b(n.bind(Xe.flush,Xe),17);var Je=n.clone(Je);Je&&f(Je,!0),this._theme=Je,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var ut=this._api=Ae(this);function vt(dt,Nt){return dt.__prio-Nt.__prio}i(Ct,vt),i(Ke,vt),this._scheduler=new w(this,ut,Ke,Ct),o.call(this,this._ecEventProcessor=new Se),this._messageCenter=new oe,this._initEvents(),this.resize=n.bind(this.resize,this),this._pendingActions=[],Xe.animation.on("frame",this._onframe,this),he(Xe,this),n.setAsPrimitive(this)}var se=ue.prototype;se._onframe=function(){if(!this._disposed){var ve=this._scheduler;if(this[K]){var Me=this[K].silent;this[Q]=!0,q(this),re.update.call(this),this[Q]=!1,this[K]=!1,ne.call(this,Me),le.call(this,Me)}else if(ve.unfinished){var Ue=G,Qe=this._model,Xe=this._api;ve.unfinished=!1;do{var Je=+new Date;ve.performSeriesTasks(Qe),ve.performDataProcessorTasks(Qe),ce(this,Qe),ve.performVisualTasks(Qe),xe(this,this._model,Xe,"remain"),Ue-=+new Date-Je}while(Ue>0&&ve.unfinished);ve.unfinished||this._zr.flush()}}},se.getDom=function(){return this._dom},se.getZr=function(){return this._zr},se.setOption=function(ve,Me,Ue){if(this._disposed){this.id;return}var Qe;if(I(Me)&&(Ue=Me.lazyUpdate,Qe=Me.silent,Me=Me.notMerge),this[Q]=!0,!this._model||Me){var Xe=new c(this._api),Je=this._theme,ut=this._model=new s;ut.scheduler=this._scheduler,ut.init(null,null,Je,Xe)}this._model.setOption(ve,rt),Ue?(this[K]={silent:Qe},this[Q]=!1):(q(this),re.update.call(this),this._zr.flush(),this[K]=!1,this[Q]=!1,ne.call(this,Qe),le.call(this,Qe))},se.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},se.getModel=function(){return this._model},se.getOption=function(){return this._model&&this._model.getOption()},se.getWidth=function(){return this._zr.getWidth()},se.getHeight=function(){return this._zr.getHeight()},se.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},se.getRenderedCanvas=function(ve){if(a.canvasSupported){ve=ve||{},ve.pixelRatio=ve.pixelRatio||1,ve.backgroundColor=ve.backgroundColor||this._model.get("backgroundColor");var Me=this._zr;return Me.painter.getRenderedCanvas(ve)}},se.getSvgDataURL=function(){if(a.svgSupported){var ve=this._zr,Me=ve.storage.getDisplayList();return n.each(Me,function(Ue){Ue.stopAnimation(!0)}),ve.painter.toDataURL()}},se.getDataURL=function(ve){if(this._disposed){this.id;return}ve=ve||{};var Me=ve.excludeComponents,Ue=this._model,Qe=[],Xe=this;P(Me,function(ut){Ue.eachComponent({mainType:ut},function(vt){var dt=Xe._componentsMap[vt.__viewId];dt.group.ignore||(Qe.push(dt),dt.group.ignore=!0)})});var Je=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(ve).toDataURL("image/"+(ve&&ve.type||"png"));return P(Qe,function(ut){ut.group.ignore=!1}),Je},se.getConnectedDataURL=function(ve){if(this._disposed){this.id;return}if(a.canvasSupported){var Me=ve.type==="svg",Ue=this.group,Qe=Math.min,Xe=Math.max,Je=1/0;if(yn[Ue]){var ut=Je,vt=Je,dt=-Je,Nt=-Je,Bt=[],Ut=ve&&ve.pixelRatio||1;n.each(Xt,function(Ba,Yv){if(Ba.group===Ue){var W0=Me?Ba.getZr().painter.getSvgDom().innerHTML:Ba.getRenderedCanvas(n.clone(ve)),Vu=Ba.getDom().getBoundingClientRect();ut=Qe(Vu.left,ut),vt=Qe(Vu.top,vt),dt=Xe(Vu.right,dt),Nt=Xe(Vu.bottom,Nt),Bt.push({dom:W0,left:Vu.left,top:Vu.top})}}),ut*=Ut,vt*=Ut,dt*=Ut,Nt*=Ut;var $n=dt-ut,Tn=Nt-vt,Fr=n.createCanvas(),ka=t.init(Fr,{renderer:Me?"svg":"canvas"});if(ka.resize({width:$n,height:Tn}),Me){var jv="";return P(Bt,function(Ba){var Yv=Ba.left-ut,W0=Ba.top-vt;jv+='<g transform="translate('+Yv+","+W0+')">'+Ba.dom+"</g>"}),ka.painter.getSvgRoot().innerHTML=jv,ve.connectedBackgroundColor&&ka.painter.setBackgroundColor(ve.connectedBackgroundColor),ka.refreshImmediately(),ka.painter.toDataURL()}else return ve.connectedBackgroundColor&&ka.add(new g.Rect({shape:{x:0,y:0,width:$n,height:Tn},style:{fill:ve.connectedBackgroundColor}})),P(Bt,function(Ba){var Yv=new g.Image({style:{x:Ba.left*Ut-ut,y:Ba.top*Ut-vt,image:Ba.dom}});ka.add(Yv)}),ka.refreshImmediately(),Fr.toDataURL("image/"+(ve&&ve.type||"png"))}else return this.getDataURL(ve)}},se.convertToPixel=n.curry(me,"convertToPixel"),se.convertFromPixel=n.curry(me,"convertFromPixel");function me(ve,Me,Ue){if(this._disposed){this.id;return}var Qe=this._model,Xe=this._coordSysMgr.getCoordinateSystems(),Je;Me=y.parseFinder(Qe,Me);for(var ut=0;ut<Xe.length;ut++){var vt=Xe[ut];if(vt[ve]&&(Je=vt[ve](Qe,Me,Ue))!=null)return Je}}se.containPixel=function(ve,Me){if(this._disposed){this.id;return}var Ue=this._model,Qe;return ve=y.parseFinder(Ue,ve),n.each(ve,function(Xe,Je){Je.indexOf("Models")>=0&&n.each(Xe,function(ut){var vt=ut.coordinateSystem;if(vt&&vt.containPoint)Qe|=!!vt.containPoint(Me);else if(Je==="seriesModels"){var dt=this._chartsMap[ut.__viewId];dt&&dt.containPoint&&(Qe|=dt.containPoint(Me,ut))}},this)},this),!!Qe},se.getVisual=function(ve,Me){var Ue=this._model;ve=y.parseFinder(Ue,ve,{defaultMainType:"series"});var Qe=ve.seriesModel,Xe=Qe.getData(),Je=ve.hasOwnProperty("dataIndexInside")?ve.dataIndexInside:ve.hasOwnProperty("dataIndex")?Xe.indexOfRawIndex(ve.dataIndex):null;return Je!=null?Xe.getItemVisual(Je,Me):Xe.getVisual(Me)},se.getViewOfComponentModel=function(ve){return this._componentsMap[ve.__viewId]},se.getViewOfSeriesModel=function(ve){return this._chartsMap[ve.__viewId]};var re={prepareAndUpdate:function(ve){q(this),re.update.call(this,ve)},update:function(ve){var Me=this._model,Ue=this._api,Qe=this._zr,Xe=this._coordSysMgr,Je=this._scheduler;if(Me){Je.restoreData(Me,ve),Je.performSeriesTasks(Me),Xe.create(Me,Ue),Je.performDataProcessorTasks(Me,ve),ce(this,Me),Xe.update(Me,Ue),ye(Me),Je.performVisualTasks(Me,ve),ge(this,Me,Ue,ve);var ut=Me.get("backgroundColor")||"transparent";if(a.canvasSupported)Qe.setBackgroundColor(ut);else{var vt=r.parse(ut);ut=r.stringify(vt,"rgb"),vt[3]===0&&(ut="transparent")}be(Me,Ue)}},updateTransform:function(ve){var Me=this._model,Ue=this,Qe=this._api;if(Me){var Xe=[];Me.eachComponent(function(ut,vt){var dt=Ue.getViewOfComponentModel(vt);if(dt&&dt.__alive)if(dt.updateTransform){var Nt=dt.updateTransform(vt,Me,Qe,ve);Nt&&Nt.update&&Xe.push(dt)}else Xe.push(dt)});var Je=n.createHashMap();Me.eachSeries(function(ut){var vt=Ue._chartsMap[ut.__viewId];if(vt.updateTransform){var dt=vt.updateTransform(ut,Me,Qe,ve);dt&&dt.update&&Je.set(ut.uid,1)}else Je.set(ut.uid,1)}),ye(Me),this._scheduler.performVisualTasks(Me,ve,{setDirty:!0,dirtyMap:Je}),xe(Ue,Me,Qe,ve,Je),be(Me,this._api)}},updateView:function(ve){var Me=this._model;Me&&(p.markUpdateMethod(ve,"updateView"),ye(Me),this._scheduler.performVisualTasks(Me,ve,{setDirty:!0}),ge(this,this._model,this._api,ve),be(Me,this._api))},updateVisual:function(ve){re.update.call(this,ve)},updateLayout:function(ve){re.update.call(this,ve)}};function q(ve){var Me=ve._model,Ue=ve._scheduler;Ue.restorePipelines(Me),Ue.prepareStageTasks(),pe(ve,"component",Me,Ue),pe(ve,"chart",Me,Ue),Ue.plan()}function ae(ve,Me,Ue,Qe,Xe){var Je=ve._model;if(!Qe){P(ve._componentsViews.concat(ve._chartsViews),Nt);return}var ut={};ut[Qe+"Id"]=Ue[Qe+"Id"],ut[Qe+"Index"]=Ue[Qe+"Index"],ut[Qe+"Name"]=Ue[Qe+"Name"];var vt={mainType:Qe,query:ut};Xe&&(vt.subType=Xe);var dt=Ue.excludeSeriesId;dt!=null&&(dt=n.createHashMap(y.normalizeToArray(dt))),Je&&Je.eachComponent(vt,function(Bt){(!dt||dt.get(Bt.id)==null)&&Nt(ve[Qe==="series"?"_chartsMap":"_componentsMap"][Bt.__viewId])},ve);function Nt(Bt){Bt&&Bt.__alive&&Bt[Me]&&Bt[Me](Bt.__model,Je,ve._api,Ue)}}se.resize=function(ve){if(this._disposed){this.id;return}this._zr.resize(ve);var Me=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!Me){var Ue=Me.resetOption("media"),Qe=ve&&ve.silent;this[Q]=!0,Ue&&q(this),re.update.call(this),this[Q]=!1,ne.call(this,Qe),le.call(this,Qe)}};function ce(ve,Me){var Ue=ve._chartsMap,Qe=ve._scheduler;Me.eachSeries(function(Xe){Qe.updateStreamModes(Xe,Ue[Xe.__viewId])})}se.showLoading=function(ve,Me){if(this._disposed){this.id;return}if(I(ve)&&(Me=ve,ve=""),ve=ve||"default",this.hideLoading(),!!Yt[ve]){var Ue=Yt[ve](this._api,Me),Qe=this._zr;this._loadingFX=Ue,Qe.add(Ue)}},se.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},se.makeActionFromEvent=function(ve){var Me=n.extend({},ve);return Me.type=De[ve.type],Me},se.dispatchAction=function(ve,Me){if(this._disposed){this.id;return}if(I(Me)||(Me={silent:!!Me}),!!Te[ve.type]&&this._model){if(this[Q]){this._pendingActions.push(ve);return}ee.call(this,ve,Me.silent),Me.flush?this._zr.flush(!0):Me.flush!==!1&&a.browser.weChat&&this._throttledZrFlush(),ne.call(this,Me.silent),le.call(this,Me.silent)}};function ee(ve,Me){var Ue=ve.type,Qe=ve.escapeConnect,Xe=Te[Ue],Je=Xe.actionInfo,ut=(Je.update||"update").split(":"),vt=ut.pop();ut=ut[0]!=null&&D(ut[0]),this[Q]=!0;var dt=[ve],Nt=!1;ve.batch&&(Nt=!0,dt=n.map(ve.batch,function(Tn){return Tn=n.defaults(n.extend({},Tn),ve),Tn.batch=null,Tn}));var Bt=[],Ut,$n=Ue==="highlight"||Ue==="downplay";P(dt,function(Tn){Ut=Xe.action(Tn,this._model,this._api),Ut=Ut||n.extend({},Tn),Ut.type=Je.event||Ut.type,Bt.push(Ut),$n?ae(this,vt,Tn,"series"):ut&&ae(this,vt,Tn,ut.main,ut.sub)},this),vt!=="none"&&!$n&&!ut&&(this[K]?(q(this),re.update.call(this,ve),this[K]=!1):re[vt].call(this,ve)),Nt?Ut={type:Je.event||Ue,escapeConnect:Qe,batch:Bt}:Ut=Bt[0],this[Q]=!1,!Me&&this._messageCenter.trigger(Ut.type,Ut)}function ne(ve){for(var Me=this._pendingActions;Me.length;){var Ue=Me.shift();ee.call(this,Ue,ve)}}function le(ve){!ve&&this.trigger("updated")}function he(ve,Me){ve.on("rendered",function(){Me.trigger("rendered"),ve.animation.isFinished()&&!Me[K]&&!Me._scheduler.unfinished&&!Me._pendingActions.length&&Me.trigger("finished")})}se.appendData=function(ve){if(this._disposed){this.id;return}var Me=ve.seriesIndex,Ue=this.getModel(),Qe=Ue.getSeriesByIndex(Me);Qe.appendData(ve),this._scheduler.unfinished=!0},se.on=te("on",!1),se.off=te("off",!1),se.one=te("one",!1);function pe(ve,Me,Ue,Qe){for(var Xe=Me==="component",Je=Xe?ve._componentsViews:ve._chartsViews,ut=Xe?ve._componentsMap:ve._chartsMap,vt=ve._zr,dt=ve._api,Nt=0;Nt<Je.length;Nt++)Je[Nt].__alive=!1;Xe?Ue.eachComponent(function($n,Tn){$n!=="series"&&Bt(Tn)}):Ue.eachSeries(Bt);function Bt($n){var Tn="_ec_"+$n.id+"_"+$n.type,Fr=ut[Tn];if(!Fr){var ka=D($n.type),jv=Xe?m.getClass(ka.main,ka.sub):p.getClass(ka.sub);Fr=new jv,Fr.init(Ue,dt),ut[Tn]=Fr,Je.push(Fr),vt.add(Fr.group)}$n.__viewId=Fr.__id=Tn,Fr.__alive=!0,Fr.__model=$n,Fr.group.__ecComponentInfo={mainType:$n.mainType,index:$n.componentIndex},!Xe&&Qe.prepareView(Fr,$n,Ue,dt)}for(var Nt=0;Nt<Je.length;){var Ut=Je[Nt];Ut.__alive?Nt++:(!Xe&&Ut.renderTask.dispose(),vt.remove(Ut.group),Ut.dispose(Ue,dt),Je.splice(Nt,1),delete ut[Ut.__id],Ut.__id=Ut.group.__ecComponentInfo=null)}}function ye(ve){ve.clearColorPalette(),ve.eachSeries(function(Me){Me.clearColorPalette()})}function ge(ve,Me,Ue,Qe){Ce(ve,Me,Ue,Qe),P(ve._chartsViews,function(Xe){Xe.__alive=!1}),xe(ve,Me,Ue,Qe),P(ve._chartsViews,function(Xe){Xe.__alive||Xe.remove(Me,Ue)})}function Ce(ve,Me,Ue,Qe,Xe){P(Xe||ve._componentsViews,function(Je){var ut=Je.__model;Je.render(ut,Me,Ue,Qe),J(ut,Je)})}function xe(ve,Me,Ue,Qe,Xe){var Je=ve._scheduler,ut;Me.eachSeries(function(vt){var dt=ve._chartsMap[vt.__viewId];dt.__alive=!0;var Nt=dt.renderTask;Je.updatePayload(Nt,Qe),Xe&&Xe.get(vt.uid)&&Nt.dirty(),ut|=Nt.perform(Je.getPerformArgs(Nt)),dt.group.silent=!!vt.get("silent"),J(vt,dt),Ne(vt,dt)}),Je.unfinished|=ut,Pe(ve,Me),S(ve._zr.dom,Me)}function be(ve,Me){P(wt,function(Ue){Ue(ve,Me)})}var _e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];se._initEvents=function(){P(_e,function(ve){var Me=function(Ue){var Qe=this.getModel(),Xe=Ue.target,Je,ut=ve==="globalout";if(ut)Je={};else if(Xe&&Xe.dataIndex!=null){var vt=Xe.dataModel||Qe.getSeriesByIndex(Xe.seriesIndex);Je=vt&&vt.getDataParams(Xe.dataIndex,Xe.dataType,Xe)||{}}else Xe&&Xe.eventData&&(Je=n.extend({},Xe.eventData));if(Je){var dt=Je.componentType,Nt=Je.componentIndex;(dt==="markLine"||dt==="markPoint"||dt==="markArea")&&(dt="series",Nt=Je.seriesIndex);var Bt=dt&&Nt!=null&&Qe.getComponent(dt,Nt),Ut=Bt&&this[Bt.mainType==="series"?"_chartsMap":"_componentsMap"][Bt.__viewId];Je.event=Ue,Je.type=ve,this._ecEventProcessor.eventInfo={targetEl:Xe,packedEvent:Je,model:Bt,view:Ut},this.trigger(ve,Je)}};Me.zrEventfulCallAtLast=!0,this._zr.on(ve,Me,this)},this),P(De,function(ve,Me){this._messageCenter.on(Me,function(Ue){this.trigger(Me,Ue)},this)},this)},se.isDisposed=function(){return this._disposed},se.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},se.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,y.setAttribute(this.getDom(),nn,"");var ve=this._api,Me=this._model;P(this._componentsViews,function(Ue){Ue.dispose(Me,ve)}),P(this._chartsViews,function(Ue){Ue.dispose(Me,ve)}),this._zr.dispose(),delete Xt[this.id]},n.mixin(ue,o);function Ee(ve){}function Pe(ve,Me){var Ue=ve._zr,Qe=Ue.storage,Xe=0;Qe.traverse(function(Je){Xe++}),Xe>Me.get("hoverLayerThreshold")&&!a.node&&Me.eachSeries(function(Je){if(!Je.preventUsingHoverLayer){var ut=ve._chartsMap[Je.__viewId];ut.__alive&&ut.group.traverse(function(vt){vt.useHoverLayer=!0})}})}function Ne(ve,Me){var Ue=ve.get("blendMode")||null;Me.group.traverse(function(Qe){Qe.isGroup||Qe.style.blend!==Ue&&Qe.setStyle("blend",Ue),Qe.eachPendingDisplayable&&Qe.eachPendingDisplayable(function(Xe){Xe.setStyle("blend",Ue)})})}function J(ve,Me){var Ue=ve.get("z"),Qe=ve.get("zlevel");Me.group.traverse(function(Xe){Xe.type!=="group"&&(Ue!=null&&(Xe.z=Ue),Qe!=null&&(Xe.zlevel=Qe))})}function Ae(ve){var Me=ve._coordSysMgr;return n.extend(new l(ve),{getCoordinateSystems:n.bind(Me.getCoordinateSystems,Me),getComponentByElement:function(Ue){for(;Ue;){var Qe=Ue.__ecComponentInfo;if(Qe!=null)return ve._model.getComponent(Qe.mainType,Qe.index);Ue=Ue.parent}}})}function Se(){this.eventInfo}Se.prototype={constructor:Se,normalizeQuery:function(ve){var Me={},Ue={},Qe={};if(n.isString(ve)){var Xe=D(ve);Me.mainType=Xe.main||null,Me.subType=Xe.sub||null}else{var Je=["Index","Name","Id"],ut={name:1,dataIndex:1,dataType:1};n.each(ve,function(vt,dt){for(var Nt=!1,Bt=0;Bt<Je.length;Bt++){var Ut=Je[Bt],$n=dt.lastIndexOf(Ut);if($n>0&&$n===dt.length-Ut.length){var Tn=dt.slice(0,$n);Tn!=="data"&&(Me.mainType=Tn,Me[Ut.toLowerCase()]=vt,Nt=!0)}}ut.hasOwnProperty(dt)&&(Ue[dt]=vt,Nt=!0),Nt||(Qe[dt]=vt)})}return{cptQuery:Me,dataQuery:Ue,otherQuery:Qe}},filter:function(ve,Me,Ue){var Qe=this.eventInfo;if(!Qe)return!0;var Xe=Qe.targetEl,Je=Qe.packedEvent,ut=Qe.model,vt=Qe.view;if(!ut||!vt)return!0;var dt=Me.cptQuery,Nt=Me.dataQuery;return Bt(dt,ut,"mainType")&&Bt(dt,ut,"subType")&&Bt(dt,ut,"index","componentIndex")&&Bt(dt,ut,"name")&&Bt(dt,ut,"id")&&Bt(Nt,Je,"name")&&Bt(Nt,Je,"dataIndex")&&Bt(Nt,Je,"dataType")&&(!vt.filterForExposedEvent||vt.filterForExposedEvent(ve,Me.otherQuery,Xe,Je));function Bt(Ut,$n,Tn,Fr){return Ut[Tn]==null||$n[Fr||Tn]===Ut[Tn]}},afterTrigger:function(){this.eventInfo=null}};var Te={},De={},Ke=[],rt=[],wt=[],Ct=[],_t={},Yt={},Xt={},yn={},Dn=new Date-0,xn=new Date-0,nn="_echarts_instance_";function Ln(ve){var Me=0,Ue=1,Qe=2,Xe="__connectUpdateStatus";function Je(ut,vt){for(var dt=0;dt<ut.length;dt++){var Nt=ut[dt];Nt[Xe]=vt}}P(De,function(ut,vt){ve._messageCenter.on(vt,function(dt){if(yn[ve.group]&&ve[Xe]!==Me){if(dt&&dt.escapeConnect)return;var Nt=ve.makeActionFromEvent(dt),Bt=[];P(Xt,function(Ut){Ut!==ve&&Ut.group===ve.group&&Bt.push(Ut)}),Je(Bt,Me),P(Bt,function(Ut){Ut[Xe]!==Ue&&Ut.dispatchAction(Nt)}),Je(Bt,Qe)}})})}function Xn(ve,Me,Ue){var Qe=zi(ve);if(Qe)return Qe;var Xe=new ue(ve,Me,Ue);return Xe.id="ec_"+Dn++,Xt[Xe.id]=Xe,y.setAttribute(ve,nn,Xe.id),Ln(Xe),Xe}function tr(ve){if(n.isArray(ve)){var Me=ve;ve=null,P(Me,function(Ue){Ue.group!=null&&(ve=Ue.group)}),ve=ve||"g_"+xn++,P(Me,function(Ue){Ue.group=ve})}return yn[ve]=!0,ve}function di(ve){yn[ve]=!1}var Un=di;function dr(ve){typeof ve=="string"?ve=Xt[ve]:ve instanceof ue||(ve=zi(ve)),ve instanceof ue&&!ve.isDisposed()&&ve.dispose()}function zi(ve){return Xt[y.getAttribute(ve,nn)]}function ms(ve){return Xt[ve]}function fe(ve,Me){_t[ve]=Me}function Re(ve){rt.push(ve)}function Be(ve,Me){Tt(Ke,ve,Me,z)}function Ve(ve){wt.push(ve)}function Le(ve,Me,Ue){typeof Me=="function"&&(Ue=Me,Me="");var Qe=I(ve)?ve.type:[ve,ve={event:Me}][0];ve.event=(ve.event||Qe).toLowerCase(),Me=ve.event,E(Z.test(Qe)&&Z.test(Me)),Te[Qe]||(Te[Qe]={action:Ue,actionInfo:ve}),De[Me]=Qe}function st(ve,Me){u.register(ve,Me)}function pt(ve){var Me=u.get(ve);if(Me)return Me.getDimensionsInfo?Me.getDimensionsInfo():Me.dimensions.slice()}function mt(ve,Me){Tt(Ct,ve,Me,k,"layout")}function xt(ve,Me){Tt(Ct,ve,Me,O,"visual")}function Tt(ve,Me,Ue,Qe,Xe){(R(Me)||I(Me))&&(Ue=Me,Me=Qe);var Je=w.wrapStageHandler(Ue,Xe);return Je.__prio=Me,Je.__raw=Ue,ve.push(Je),Je}function It(ve,Me){Yt[ve]=Me}function Mt(ve){return h.extend(ve)}function rn(ve){return m.extend(ve)}function On(ve){return v.extend(ve)}function Nn(ve){return p.extend(ve)}function qr(ve){n.$override("createCanvas",ve)}function un(ve,Me,Ue){T.registerMap(ve,Me,Ue)}function At(ve){var Me=T.retrieveMap(ve);return Me&&Me[0]&&{geoJson:Me[0].geoJSON,specialAreas:Me[0].specialAreas}}xt(L,A),Re(f),Be(U,d),It("default",_),Le({type:"highlight",event:"highlight",update:"highlight"},n.noop),Le({type:"downplay",event:"downplay",update:"downplay"},n.noop),fe("light",C),fe("dark",M);var Ir={};e.version=B,e.dependencies=F,e.PRIORITY=X,e.init=Xn,e.connect=tr,e.disConnect=di,e.disconnect=Un,e.dispose=dr,e.getInstanceByDom=zi,e.getInstanceById=ms,e.registerTheme=fe,e.registerPreprocessor=Re,e.registerProcessor=Be,e.registerPostUpdate=Ve,e.registerAction=Le,e.registerCoordinateSystem=st,e.getCoordinateSystemDimensions=pt,e.registerLayout=mt,e.registerVisual=xt,e.registerLoading=It,e.extendComponentModel=Mt,e.extendComponentView=rn,e.extendSeriesModel=On,e.extendChartView=Nn,e.setCanvasCreator=qr,e.registerMap=un,e.getMap=At,e.dataTool=Ir;var an=kW();(function(){for(var ve in an)an.hasOwnProperty(ve)&&(e[ve]=an[ve])})()})(et);var ZL={},A1,QL;function ege(){if(QL)return A1;QL=1;var e=us(),t=xr,n=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(r,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return A1=n,A1}var w1={},JL;function dP(){if(JL)return w1;JL=1;var e=ki,t=e.retrieveRawValue;function n(r,a){var i=r.mapDimension("defaultedLabel",!0),o=i.length;if(o===1)return t(r,a,i[0]);if(o){for(var s=[],l=0;l<i.length;l++){var u=t(r,a,i[l]);s.push(u)}return s.join(" ")}}return w1.getDefaultLabel=n,w1}var C1,eO;function Wy(){if(eO)return C1;eO=1;var e=de,t=li(),n=t.createSymbol,r=$e,a=Rt(),i=a.parsePercent,o=dP(),s=o.getDefaultLabel;function l(x,b,A){r.Group.call(this),this.updateData(x,b,A)}var u=l.prototype,c=l.getSymbolSize=function(x,b){var A=x.getItemVisual(b,"symbolSize");return A instanceof Array?A.slice():[+A,+A]};function f(x){return[x[0]/2,x[1]/2]}function d(x,b){this.parent.drift(x,b)}u._createSymbol=function(x,b,A,S,_){this.removeAll();var w=b.getItemVisual(A,"color"),C=n(x,-1,-1,2,2,w,_);C.attr({z2:100,culling:!0,scale:f(S)}),C.drift=d,this._symbolType=x,this.add(C)},u.stopSymbolAnimation=function(x){this.childAt(0).stopAnimation(x)},u.getSymbolPath=function(){return this.childAt(0)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(x,b){var A=this.childAt(0);A.zlevel=x,A.z=b},u.setDraggable=function(x){var b=this.childAt(0);b.draggable=x,b.cursor=x?"move":b.cursor},u.updateData=function(x,b,A){this.silent=!1;var S=x.getItemVisual(b,"symbol")||"circle",_=x.hostModel,w=c(x,b),C=S!==this._symbolType;if(C){var M=x.getItemVisual(b,"symbolKeepAspect");this._createSymbol(S,x,b,w,M)}else{var T=this.childAt(0);T.silent=!1,r.updateProps(T,{scale:f(w)},_,b)}if(this._updateCommon(x,b,w,A),C){var T=this.childAt(0),E=A&&A.fadeIn,P={scale:T.scale.slice()};E&&(P.style={opacity:T.style.opacity}),T.scale=[0,0],E&&(T.style.opacity=0),r.initProps(T,P,_,b)}this._seriesModel=_};var h=["itemStyle"],v=["emphasis","itemStyle"],m=["label"],p=["emphasis","label"];u._updateCommon=function(x,b,A,S){var _=this.childAt(0),w=x.hostModel,C=x.getItemVisual(b,"color");_.type!=="image"?_.useStyle({strokeNoScale:!0}):_.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var M=S&&S.itemStyle,T=S&&S.hoverItemStyle,E=S&&S.symbolOffset,P=S&&S.labelModel,R=S&&S.hoverLabelModel,I=S&&S.hoverAnimation,D=S&&S.cursorStyle;if(!S||x.hasItemOption){var B=S&&S.itemModel?S.itemModel:x.getItemModel(b);M=B.getModel(h).getItemStyle(["color"]),T=B.getModel(v).getItemStyle(),E=B.getShallow("symbolOffset"),P=B.getModel(m),R=B.getModel(p),I=B.getShallow("hoverAnimation"),D=B.getShallow("cursor")}else T=e.extend({},T);var F=_.style,G=x.getItemVisual(b,"symbolRotate");_.attr("rotation",(G||0)*Math.PI/180||0),E&&_.attr("position",[i(E[0],A[0]),i(E[1],A[1])]),D&&_.attr("cursor",D),_.setColor(C,S&&S.symbolInnerColor),_.setStyle(M);var z=x.getItemVisual(b,"opacity");z!=null&&(F.opacity=z);var N=x.getItemVisual(b,"liftZ"),U=_.__z2Origin;N!=null?U==null&&(_.__z2Origin=_.z2,_.z2+=N):U!=null&&(_.z2=U,_.__z2Origin=null);var $=S&&S.useNameLabel;r.setLabelStyle(F,T,P,R,{labelFetcher:w,labelDataIndex:b,defaultText:k,isRectText:!0,autoColor:C});function k(V,L){return $?x.getName(V):s(x,V)}_.__symbolOriginalScale=f(A),_.hoverStyle=T,_.highDownOnUpdate=I&&w.isAnimationEnabled()?g:null,r.setHoverStyle(_)};function g(x,b){if(!(this.incremental||this.useHoverLayer))if(b==="emphasis"){var A=this.__symbolOriginalScale,S=A[1]/A[0],_={scale:[Math.max(A[0]*1.1,A[0]+3),Math.max(A[1]*1.1,A[1]+3*S)]};this.animateTo(_,400,"elasticOut")}else b==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}u.fadeOut=function(x,b){var A=this.childAt(0);this.silent=A.silent=!0,!(b&&b.keepLabel)&&(A.style.text=null),r.updateProps(A,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,x)},e.inherits(l,r.Group);var y=l;return C1=y,C1}var M1,tO;function Av(){if(tO)return M1;tO=1;var e=$e,t=Wy(),n=de,r=n.isObject;function a(c){this.group=new e.Group,this._symbolCtor=c||t}var i=a.prototype;function o(c,f,d,h){return f&&!isNaN(f[0])&&!isNaN(f[1])&&!(h.isIgnore&&h.isIgnore(d))&&!(h.clipShape&&!h.clipShape.contain(f[0],f[1]))&&c.getItemVisual(d,"symbol")!=="none"}i.updateData=function(c,f){f=s(f);var d=this.group,h=c.hostModel,v=this._data,m=this._symbolCtor,p=l(c);v||d.removeAll(),c.diff(v).add(function(g){var y=c.getItemLayout(g);if(o(c,y,g,f)){var x=new m(c,g,p);x.attr("position",y),c.setItemGraphicEl(g,x),d.add(x)}}).update(function(g,y){var x=v.getItemGraphicEl(y),b=c.getItemLayout(g);if(!o(c,b,g,f)){d.remove(x);return}x?(x.updateData(c,g,p),e.updateProps(x,{position:b},h)):(x=new m(c,g),x.attr("position",b)),d.add(x),c.setItemGraphicEl(g,x)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&y.fadeOut(function(){d.remove(y)})}).execute(),this._data=c},i.isPersistent=function(){return!0},i.updateLayout=function(){var c=this._data;c&&c.eachItemGraphicEl(function(f,d){var h=c.getItemLayout(d);f.attr("position",h)})},i.incrementalPrepareUpdate=function(c){this._seriesScope=l(c),this._data=null,this.group.removeAll()},i.incrementalUpdate=function(c,f,d){d=s(d);function h(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var v=c.start;v<c.end;v++){var m=f.getItemLayout(v);if(o(f,m,v,d)){var p=new this._symbolCtor(f,v,this._seriesScope);p.traverse(h),p.attr("position",m),this.group.add(p),f.setItemGraphicEl(v,p)}}};function s(c){return c!=null&&!r(c)&&(c={isIgnore:c}),c||{}}i.remove=function(c){var f=this.group,d=this._data;d&&c?d.eachItemGraphicEl(function(h){h.fadeOut(function(){f.remove(h)})}):f.removeAll()};function l(c){var f=c.hostModel;return{itemStyle:f.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:f.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:f.get("symbolRotate"),symbolOffset:f.get("symbolOffset"),hoverAnimation:f.get("hoverAnimation"),labelModel:f.getModel("label"),hoverLabelModel:f.getModel("emphasis.label"),cursorStyle:f.get("cursor")}}var u=a;return M1=u,M1}var Cp={},nO;function BW(){if(nO)return Cp;nO=1;var e=Ao(),t=e.isDimensionStacked,n=de,r=n.map;function a(s,l,u){var c=s.getBaseAxis(),f=s.getOtherAxis(c),d=i(f,u),h=c.dim,v=f.dim,m=l.mapDimension(v),p=l.mapDimension(h),g=v==="x"||v==="radius"?1:0,y=r(s.dimensions,function(A){return l.mapDimension(A)}),x,b=l.getCalculationInfo("stackResultDimension");return(x|=t(l,y[0]))&&(y[0]=b),(x|=t(l,y[1]))&&(y[1]=b),{dataDimsForPoint:y,valueStart:d,valueAxisDim:v,baseAxisDim:h,stacked:!!x,valueDim:m,baseDim:p,baseDataOffset:g,stackedOverDimension:l.getCalculationInfo("stackedOverDimension")}}function i(s,l){var u=0,c=s.scale.getExtent();return l==="start"?u=c[0]:l==="end"?u=c[1]:c[0]>0?u=c[0]:c[1]<0&&(u=c[1]),u}function o(s,l,u,c){var f=NaN;s.stacked&&(f=u.get(u.getCalculationInfo("stackedOverDimension"),c)),isNaN(f)&&(f=s.valueStart);var d=s.baseDataOffset,h=[];return h[d]=u.get(s.baseDim,c),h[1-d]=f,l.dataToPoint(h)}return Cp.prepareDataCoordInfo=a,Cp.getStackedOnPoint=o,Cp}var T1,rO;function tge(){if(rO)return T1;rO=1;var e=BW(),t=e.prepareDataCoordInfo,n=e.getStackedOnPoint;function r(i,o){var s=[];return o.diff(i).add(function(l){s.push({cmd:"+",idx:l})}).update(function(l,u){s.push({cmd:"=",idx:u,idx1:l})}).remove(function(l){s.push({cmd:"-",idx:l})}).execute(),s}function a(i,o,s,l,u,c,f,d){for(var h=r(i,o),v=[],m=[],p=[],g=[],y=[],x=[],b=[],A=t(u,o,f),S=t(c,i,d),_=0;_<h.length;_++){var w=h[_],C=!0;switch(w.cmd){case"=":var M=i.getItemLayout(w.idx),T=o.getItemLayout(w.idx1);(isNaN(M[0])||isNaN(M[1]))&&(M=T.slice()),v.push(M),m.push(T),p.push(s[w.idx]),g.push(l[w.idx1]),b.push(o.getRawIndex(w.idx1));break;case"+":var E=w.idx;v.push(u.dataToPoint([o.get(A.dataDimsForPoint[0],E),o.get(A.dataDimsForPoint[1],E)])),m.push(o.getItemLayout(E).slice()),p.push(n(A,u,o,E)),g.push(l[E]),b.push(o.getRawIndex(E));break;case"-":var E=w.idx,P=i.getRawIndex(E);P!==E?(v.push(i.getItemLayout(E)),m.push(c.dataToPoint([i.get(S.dataDimsForPoint[0],E),i.get(S.dataDimsForPoint[1],E)])),p.push(s[E]),g.push(n(S,c,i,E)),b.push(P)):C=!1}C&&(y.push(w),x.push(x.length))}x.sort(function(G,z){return b[G]-b[z]});for(var R=[],I=[],D=[],B=[],F=[],_=0;_<x.length;_++){var E=x[_];R[_]=v[E],I[_]=m[E],D[_]=p[E],B[_]=g[E],F[_]=y[E]}return{current:R,next:I,stackedOnCurrent:D,stackedOnNext:B,status:F}}return T1=a,T1}var Mp={},aO;function FW(){if(aO)return Mp;aO=1;var e=jn,t=Pt,n=c6,r=t.min,a=t.max,i=t.scaleAndAdd,o=t.copy,s=[],l=[],u=[];function c(g){return isNaN(g[0])||isNaN(g[1])}function f(g,y,x,b,A,S,_,w,C,M,T){return M==="none"||!M?h.apply(this,arguments):d.apply(this,arguments)}function d(g,y,x,b,A,S,_,w,C,M,T){for(var E=0,P=x,R=0;R<b;R++){var I=y[P];if(P>=A||P<0)break;if(c(I)){if(T){P+=S;continue}break}if(P===x)g[S>0?"moveTo":"lineTo"](I[0],I[1]);else if(C>0){var D=y[E],B=M==="y"?1:0,F=(I[B]-D[B])*C;o(l,D),l[B]=D[B]+F,o(u,I),u[B]=I[B]-F,g.bezierCurveTo(l[0],l[1],u[0],u[1],I[0],I[1])}else g.lineTo(I[0],I[1]);E=P,P+=S}return R}function h(g,y,x,b,A,S,_,w,C,M,T){for(var E=0,P=x,R=0;R<b;R++){var I=y[P];if(P>=A||P<0)break;if(c(I)){if(T){P+=S;continue}break}if(P===x)g[S>0?"moveTo":"lineTo"](I[0],I[1]),o(l,I);else if(C>0){var D=P+S,G=y[D];if(T)for(;G&&c(y[D]);)D+=S,G=y[D];var B=.5,F=y[E],G=y[D];if(!G||c(G))o(u,I);else{c(G)&&!T&&(G=I),t.sub(s,G,F);var z,N;if(M==="x"||M==="y"){var U=M==="x"?0:1;z=Math.abs(I[U]-F[U]),N=Math.abs(I[U]-G[U])}else z=t.dist(I,F),N=t.dist(I,G);B=N/(N+z),i(u,I,s,-C*(1-B))}r(l,l,w),a(l,l,_),r(u,u,w),a(u,u,_),g.bezierCurveTo(l[0],l[1],u[0],u[1],I[0],I[1]),i(l,I,s,C*B)}else g.lineTo(I[0],I[1]);E=P,P+=S}return R}function v(g,y){var x=[1/0,1/0],b=[-1/0,-1/0];if(y)for(var A=0;A<g.length;A++){var S=g[A];S[0]<x[0]&&(x[0]=S[0]),S[1]<x[1]&&(x[1]=S[1]),S[0]>b[0]&&(b[0]=S[0]),S[1]>b[1]&&(b[1]=S[1])}return{min:y?x:b,max:y?b:x}}var m=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:n(e.prototype.brush),buildPath:function(g,y){var x=y.points,b=0,A=x.length,S=v(x,y.smoothConstraint);if(y.connectNulls){for(;A>0&&c(x[A-1]);A--);for(;b<A&&c(x[b]);b++);}for(;b<A;)b+=f(g,x,b,A,A,1,S.min,S.max,y.smooth,y.smoothMonotone,y.connectNulls)+1}}),p=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:n(e.prototype.brush),buildPath:function(g,y){var x=y.points,b=y.stackedOnPoints,A=0,S=x.length,_=y.smoothMonotone,w=v(x,y.smoothConstraint),C=v(b,y.smoothConstraint);if(y.connectNulls){for(;S>0&&c(x[S-1]);S--);for(;A<S&&c(x[A]);A++);}for(;A<S;){var M=f(g,x,A,S,S,1,w.min,w.max,y.smooth,_,y.connectNulls);f(g,b,A+M-1,M,S,-1,C.min,C.max,y.stackedOnSmooth,_,y.connectNulls),A+=M+1,g.closePath()}}});return Mp.Polyline=m,Mp.Polygon=p,Mp}var bd={},iO;function wv(){if(iO)return bd;iO=1;var e=$e,t=Rt(),n=t.round;function r(o,s,l){var u=o.getArea(),c=o.getBaseAxis().isHorizontal(),f=u.x,d=u.y,h=u.width,v=u.height,m=l.get("lineStyle.width")||2;f-=m/2,d-=m/2,h+=m,v+=m,f=Math.floor(f),h=Math.round(h);var p=new e.Rect({shape:{x:f,y:d,width:h,height:v}});return s&&(p.shape[c?"width":"height"]=0,e.initProps(p,{shape:{width:h,height:v}},l)),p}function a(o,s,l){var u=o.getArea(),c=new e.Sector({shape:{cx:n(o.cx,1),cy:n(o.cy,1),r0:n(u.r0,1),r:n(u.r,1),startAngle:u.startAngle,endAngle:u.endAngle,clockwise:u.clockwise}});return s&&(c.shape.endAngle=u.startAngle,e.initProps(c,{shape:{endAngle:u.endAngle}},l)),c}function i(o,s,l){if(o){if(o.type==="polar")return a(o,s,l);if(o.type==="cartesian2d")return r(o,s,l)}else return null;return null}return bd.createGridClipPath=r,bd.createPolarClipPath=a,bd.createClipPath=i,bd}var E1,oO;function nge(){if(oO)return E1;oO=1;var e=de,t=hv(),n=t.fromPoints,r=Av(),a=Wy(),i=tge(),o=$e,s=bt,l=FW(),u=l.Polyline,c=l.Polygon,f=_o,d=BW(),h=d.prepareDataCoordInfo,v=d.getStackedOnPoint,m=wv(),p=m.createGridClipPath,g=m.createPolarClipPath;function y(E,P){if(E.length===P.length){for(var R=0;R<E.length;R++){var I=E[R],D=P[R];if(I[0]!==D[0]||I[1]!==D[1])return}return!0}}function x(E,P){var R=[],I=[],D=[],B=[];return n(E,R,I),n(P,D,B),Math.max(Math.abs(R[0]-D[0]),Math.abs(R[1]-D[1]),Math.abs(I[0]-B[0]),Math.abs(I[1]-B[1]))}function b(E){return typeof E=="number"?E:E?.5:0}function A(E,P,R){if(!R.valueDim)return[];for(var I=[],D=0,B=P.count();D<B;D++)I.push(v(R,E,P,D));return I}function S(E,P,R){for(var I=P.getBaseAxis(),D=I.dim==="x"||I.dim==="radius"?0:1,B=[],F=0;F<E.length-1;F++){var G=E[F+1],z=E[F];B.push(z);var N=[];switch(R){case"end":N[D]=G[D],N[1-D]=z[1-D],B.push(N);break;case"middle":var U=(z[D]+G[D])/2,$=[];N[D]=$[D]=U,N[1-D]=z[1-D],$[1-D]=G[1-D],B.push(N),B.push($);break;default:N[D]=z[D],N[1-D]=G[1-D],B.push(N)}}return E[F]&&B.push(E[F]),B}function _(E,P){var R=E.getVisual("visualMeta");if(!(!R||!R.length||!E.count())&&P.type==="cartesian2d"){for(var I,D,B=R.length-1;B>=0;B--){var F=R[B].dimension,G=E.dimensions[F],z=E.getDimensionInfo(G);if(I=z&&z.coordDim,I==="x"||I==="y"){D=R[B];break}}if(D){var N=P.getAxis(I),U=e.map(D.stops,function(Y){return{coord:N.toGlobalCoord(N.dataToCoord(Y.value)),color:Y.color}}),$=U.length,k=D.outerColors.slice();$&&U[0].coord>U[$-1].coord&&(U.reverse(),k.reverse());var V=10,L=U[0].coord-V,O=U[$-1].coord+V,H=O-L;if(H<.001)return"transparent";e.each(U,function(Y){Y.offset=(Y.coord-L)/H}),U.push({offset:$?U[$-1].offset:.5,color:k[1]||"transparent"}),U.unshift({offset:$?U[0].offset:.5,color:k[0]||"transparent"});var j=new o.LinearGradient(0,0,0,0,U,!0);return j[I]=L,j[I+"2"]=O,j}}}function w(E,P,R){var I=E.get("showAllSymbol"),D=I==="auto";if(!(I&&!D)){var B=R.getAxesByScale("ordinal")[0];if(B&&!(D&&C(B,P))){var F=P.mapDimension(B.dim),G={};return e.each(B.getViewLabels(),function(z){G[z.tickValue]=1}),function(z){return!G.hasOwnProperty(P.get(F,z))}}}}function C(E,P){var R=E.getExtent(),I=Math.abs(R[1]-R[0])/E.scale.count();isNaN(I)&&(I=0);for(var D=P.count(),B=Math.max(1,Math.round(D/5)),F=0;F<D;F+=B)if(a.getSymbolSize(P,F)[E.isHorizontal()?1:0]*1.5>I)return!1;return!0}function M(E,P,R){if(E.type==="cartesian2d"){var I=E.getBaseAxis().isHorizontal(),D=p(E,P,R);if(!R.get("clip",!0)){var B=D.shape,F=Math.max(B.width,B.height);I?(B.y-=F,B.height+=F*2):(B.x-=F,B.width+=F*2)}return D}else return g(E,P,R)}var T=f.extend({type:"line",init:function(){var E=new o.Group,P=new r;this.group.add(P.group),this._symbolDraw=P,this._lineGroup=E},render:function(E,P,R){var I=E.coordinateSystem,D=this.group,B=E.getData(),F=E.getModel("lineStyle"),G=E.getModel("areaStyle"),z=B.mapArray(B.getItemLayout),N=I.type==="polar",U=this._coordSys,$=this._symbolDraw,k=this._polyline,V=this._polygon,L=this._lineGroup,O=E.get("animation"),H=!G.isEmpty(),j=G.get("origin"),Y=h(I,B,j),X=A(I,B,Y),Q=E.get("showSymbol"),K=Q&&!N&&w(E,B,I),Z=this._data;Z&&Z.eachItemGraphicEl(function(q,ae){q.__temp&&(D.remove(q),Z.setItemGraphicEl(ae,null))}),Q||$.remove(),D.add(L);var te=!N&&E.get("step"),oe;I&&I.getArea&&E.get("clip",!0)&&(oe=I.getArea(),oe.width!=null?(oe.x-=.1,oe.y-=.1,oe.width+=.2,oe.height+=.2):oe.r0&&(oe.r0-=.5,oe.r1+=.5)),this._clipShapeForSymbol=oe,k&&U.type===I.type&&te===this._step?(H&&!V?V=this._newPolygon(z,X,I,O):V&&!H&&(L.remove(V),V=this._polygon=null),L.setClipPath(M(I,!1,E)),Q&&$.updateData(B,{isIgnore:K,clipShape:oe}),B.eachItemGraphicEl(function(q){q.stopAnimation(!0)}),(!y(this._stackedOnPoints,X)||!y(this._points,z))&&(O?this._updateAnimation(B,X,I,R,te,j):(te&&(z=S(z,I,te),X=S(X,I,te)),k.setShape({points:z}),V&&V.setShape({points:z,stackedOnPoints:X})))):(Q&&$.updateData(B,{isIgnore:K,clipShape:oe}),te&&(z=S(z,I,te),X=S(X,I,te)),k=this._newPolyline(z,I,O),H&&(V=this._newPolygon(z,X,I,O)),L.setClipPath(M(I,!0,E)));var ue=_(B,I)||B.getVisual("color");k.useStyle(e.defaults(F.getLineStyle(),{fill:"none",stroke:ue,lineJoin:"bevel"}));var se=E.get("smooth");if(se=b(E.get("smooth")),k.setShape({smooth:se,smoothMonotone:E.get("smoothMonotone"),connectNulls:E.get("connectNulls")}),V){var me=B.getCalculationInfo("stackedOnSeries"),re=0;V.useStyle(e.defaults(G.getAreaStyle(),{fill:ue,opacity:.7,lineJoin:"bevel"})),me&&(re=b(me.get("smooth"))),V.setShape({smooth:se,stackedOnSmooth:re,smoothMonotone:E.get("smoothMonotone"),connectNulls:E.get("connectNulls")})}this._data=B,this._coordSys=I,this._stackedOnPoints=X,this._points=z,this._step=te,this._valueOrigin=j},dispose:function(){},highlight:function(E,P,R,I){var D=E.getData(),B=s.queryDataIndex(D,I);if(!(B instanceof Array)&&B!=null&&B>=0){var F=D.getItemGraphicEl(B);if(!F){var G=D.getItemLayout(B);if(!G||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(G[0],G[1]))return;F=new a(D,B),F.position=G,F.setZ(E.get("zlevel"),E.get("z")),F.ignore=isNaN(G[0])||isNaN(G[1]),F.__temp=!0,D.setItemGraphicEl(B,F),F.stopSymbolAnimation(!0),this.group.add(F)}F.highlight()}else f.prototype.highlight.call(this,E,P,R,I)},downplay:function(E,P,R,I){var D=E.getData(),B=s.queryDataIndex(D,I);if(B!=null&&B>=0){var F=D.getItemGraphicEl(B);F&&(F.__temp?(D.setItemGraphicEl(B,null),this.group.remove(F)):F.downplay())}else f.prototype.downplay.call(this,E,P,R,I)},_newPolyline:function(E){var P=this._polyline;return P&&this._lineGroup.remove(P),P=new u({shape:{points:E},silent:!0,z2:10}),this._lineGroup.add(P),this._polyline=P,P},_newPolygon:function(E,P){var R=this._polygon;return R&&this._lineGroup.remove(R),R=new c({shape:{points:E,stackedOnPoints:P},silent:!0}),this._lineGroup.add(R),this._polygon=R,R},_updateAnimation:function(E,P,R,I,D,B){var F=this._polyline,G=this._polygon,z=E.hostModel,N=i(this._data,E,this._stackedOnPoints,P,this._coordSys,R,this._valueOrigin,B),U=N.current,$=N.stackedOnCurrent,k=N.next,V=N.stackedOnNext;if(D&&(U=S(N.current,R,D),$=S(N.stackedOnCurrent,R,D),k=S(N.next,R,D),V=S(N.stackedOnNext,R,D)),x(U,k)>3e3||G&&x($,V)>3e3){F.setShape({points:k}),G&&G.setShape({points:k,stackedOnPoints:V});return}F.shape.__points=N.current,F.shape.points=U,o.updateProps(F,{shape:{points:k}},z),G&&(G.setShape({points:U,stackedOnPoints:$}),o.updateProps(G,{shape:{points:k,stackedOnPoints:V}},z));for(var L=[],O=N.status,H=0;H<O.length;H++){var j=O[H].cmd;if(j==="="){var Y=E.getItemGraphicEl(O[H].idx1);Y&&L.push({el:Y,ptIdx:H})}}F.animators&&F.animators.length&&F.animators[0].during(function(){for(var X=0;X<L.length;X++){var Q=L[X].el;Q.attr("position",F.shape.__points[L[X].ptIdx])}})},remove:function(E){var P=this.group,R=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),R&&R.eachItemGraphicEl(function(I,D){I.__temp&&(P.remove(I),R.setItemGraphicEl(D,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return E1=T,E1}var P1,sO;function Mu(){if(sO)return P1;sO=1;var e=de,t=e.isFunction;function n(r,a,i){return{seriesType:r,performRawSeries:!0,reset:function(o,s,l){var u=o.getData(),c=o.get("symbol"),f=o.get("symbolSize"),d=o.get("symbolKeepAspect"),h=o.get("symbolRotate"),v=t(c),m=t(f),p=t(h),g=v||m||p,y=!v&&c?c:a,x=m?null:f;if(u.setVisual({legendSymbol:i||y,symbol:y,symbolSize:x,symbolKeepAspect:d,symbolRotate:h}),s.isSeriesFiltered(o))return;function b(A,S){if(g){var _=o.getRawValue(S),w=o.getDataParams(S);v&&A.setItemVisual(S,"symbol",c(_,w)),m&&A.setItemVisual(S,"symbolSize",f(_,w)),p&&A.setItemVisual(S,"symbolRotate",h(_,w))}if(A.hasItemOption){var C=A.getItemModel(S),M=C.getShallow("symbol",!0),T=C.getShallow("symbolSize",!0),E=C.getShallow("symbolRotate",!0),P=C.getShallow("symbolKeepAspect",!0);M!=null&&A.setItemVisual(S,"symbol",M),T!=null&&A.setItemVisual(S,"symbolSize",T),E!=null&&A.setItemVisual(S,"symbolRotate",E),P!=null&&A.setItemVisual(S,"symbolKeepAspect",P)}}return{dataEach:u.hasItemOption||g?b:null}}}}return P1=n,P1}var R1,lO;function Cv(){if(lO)return R1;lO=1;var e=de,t=e.map,n=Bf,r=Ao(),a=r.isDimensionStacked;function i(o){return{seriesType:o,plan:n(),reset:function(s){var l=s.getData(),u=s.coordinateSystem,c=s.pipelineContext,f=c.large;if(!u)return;var d=t(u.dimensions,function(p){return l.mapDimension(p)}).slice(0,2),h=d.length,v=l.getCalculationInfo("stackResultDimension");a(l,d[0])&&(d[0]=v),a(l,d[1])&&(d[1]=v);function m(p,g){for(var y=p.end-p.start,x=f&&new Float32Array(y*h),b=p.start,A=0,S=[],_=[];b<p.end;b++){var w;if(h===1){var C=g.get(d[0],b);w=!isNaN(C)&&u.dataToPoint(C,null,_)}else{var C=S[0]=g.get(d[0],b),M=S[1]=g.get(d[1],b);w=!isNaN(C)&&!isNaN(M)&&u.dataToPoint(S,null,_)}f?(x[A++]=w?w[0]:NaN,x[A++]=w?w[1]:NaN):g.setItemLayout(b,w&&w.slice()||[NaN,NaN])}f&&g.setLayout("symbolPoints",x)}return h&&{progress:m}}}}return R1=i,R1}var I1,uO;function rge(){if(uO)return I1;uO=1;var e={average:function(r){for(var a=0,i=0,o=0;o<r.length;o++)isNaN(r[o])||(a+=r[o],i++);return i===0?NaN:a/i},sum:function(r){for(var a=0,i=0;i<r.length;i++)a+=r[i]||0;return a},max:function(r){for(var a=-1/0,i=0;i<r.length;i++)r[i]>a&&(a=r[i]);return isFinite(a)?a:NaN},min:function(r){for(var a=1/0,i=0;i<r.length;i++)r[i]<a&&(a=r[i]);return isFinite(a)?a:NaN},nearest:function(r){return r[0]}},t=function(r,a){return Math.round(r.length/2)};function n(r){return{seriesType:r,modifyOutputEnd:!0,reset:function(a,i,o){var s=a.getData(),l=a.get("sampling"),u=a.coordinateSystem;if(u.type==="cartesian2d"&&l){var c=u.getBaseAxis(),f=u.getOtherAxis(c),d=c.getExtent(),h=Math.abs(d[1]-d[0]),v=Math.round(s.count()/h);if(v>1){var m;typeof l=="string"?m=e[l]:typeof l=="function"&&(m=l),m&&a.setData(s.downSample(s.mapDimension(f.dim),1/v,m,t))}}}}}return I1=n,I1}var cO={},D1,fO;function age(){if(fO)return D1;fO=1;var e=de;function t(a){return this._axes[a]}var n=function(a){this._axes={},this._dimList=[],this.name=a||""};n.prototype={constructor:n,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(a){return a=a.toLowerCase(),e.filter(this.getAxes(),function(i){return i.scale.type===a})},addAxis:function(a){var i=a.dim;this._axes[i]=a,this._dimList.push(i)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,i){for(var o=this._dimList,s=a instanceof Array?[]:{},l=0;l<o.length;l++){var u=o[l],c=this._axes[u];s[u]=c[i](a[u])}return s}};var r=n;return D1=r,D1}var L1,dO;function ige(){if(dO)return L1;dO=1;var e=de,t=In,n=age();function r(i){n.call(this,i)}r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(i){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(i[0]))&&s.contain(s.toLocalCoord(i[1]))},containData:function(i){return this.getAxis("x").containData(i[0])&&this.getAxis("y").containData(i[1])},dataToPoint:function(i,o,s){var l=this.getAxis("x"),u=this.getAxis("y");return s=s||[],s[0]=l.toGlobalCoord(l.dataToCoord(i[0])),s[1]=u.toGlobalCoord(u.dataToCoord(i[1])),s},clampData:function(i,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,u=s.getExtent(),c=l.getExtent(),f=s.parse(i[0]),d=l.parse(i[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(u[0],u[1]),f),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),o},pointToData:function(i,o){var s=this.getAxis("x"),l=this.getAxis("y");return o=o||[],o[0]=s.coordToData(s.toLocalCoord(i[0])),o[1]=l.coordToData(l.toLocalCoord(i[1])),o},getOtherAxis:function(i){return this.getAxis(i.dim==="x"?"y":"x")},getArea:function(){var i=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),s=Math.min(i[0],i[1]),l=Math.min(o[0],o[1]),u=Math.max(i[0],i[1])-s,c=Math.max(o[0],o[1])-l,f=new t(s,l,u,c);return f}},e.inherits(r,n);var a=r;return L1=a,L1}var O1,hO;function oge(){if(hO)return O1;hO=1;var e=de,t=cl(),n=function(a,i,o,s,l){t.call(this,a,i,o),this.type=s||"value",this.position=l||"bottom"};n.prototype={constructor:n,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},getGlobalExtent:function(a){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),a&&i[0]>i[1]&&i.reverse(),i},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,i){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),i)},toLocalCoord:null,toGlobalCoord:null},e.inherits(n,t);var r=n;return O1=r,O1}var N1,vO;function VW(){if(vO)return N1;vO=1;var e=de,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},n={};n.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),n.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},t),n.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},n.valueAxis),n.logAxis=e.defaults({scale:!0,logBase:10},n.valueAxis);var r=n;return N1=r,N1}var k1,pO;function jy(){if(pO)return k1;pO=1;var e=de,t=VW(),n=yr,r=$t,a=r.getLayoutParams,i=r.mergeLayoutParam,o=RW(),s=["value","category","time","log"];function l(u,c,f,d){e.each(s,function(h){c.extend({type:u+"Axis."+h,mergeDefaultAndTheme:function(v,m){var p=this.layoutMode,g=p?a(v):{},y=m.getTheme();e.merge(v,y.get(h+"Axis")),e.merge(v,this.getDefaultOption()),v.type=f(u,v),p&&i(v,g,p)},optionUpdated:function(){var v=this.option;v.type==="category"&&(this.__ordinalMeta=o.createByAxisModel(this))},getCategories:function(v){var m=this.option;if(m.type==="category")return v?m.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[h+"Axis"],d],!0)})}),n.registerSubTypeDefaulter(u+"Axis",e.curry(f,u))}return k1=l,k1}var B1,gO;function zW(){if(gO)return B1;gO=1;var e=de,t=yr,n=jy(),r=zf(),a=t.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function i(l,u){return u.type||(u.data?"category":"value")}e.merge(a.prototype,r);var o={offset:0};n("x",a,i,o),n("y",a,i,o);var s=a;return B1=s,B1}var F1,mO;function sge(){if(mO)return F1;mO=1,zW();var e=yr,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return F1=t,F1}var V1,yO;function hP(){if(yO)return V1;yO=1;var e=de,t=e.isObject,n=e.each,r=e.map,a=e.indexOf;e.retrieve;var i=$t,o=i.getLayoutRect,s=Fi(),l=s.createScaleByModel,u=s.ifAxisCrossZero,c=s.niceScaleExtent,f=s.estimateLabelUnionRect,d=ige(),h=oge(),v=So,m=Ao(),p=m.getStackedDimension;sge();function g(T,E,P){return T.getCoordSysModel()===E}function y(T,E,P){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(T,E,P),this.model=T}var x=y.prototype;x.type="grid",x.axisPointerEnabled=!0,x.getRect=function(){return this._rect},x.update=function(T,E){var P=this._axesMap;this._updateScale(T,this.model),n(P.x,function(I){c(I.scale,I.model)}),n(P.y,function(I){c(I.scale,I.model)});var R={};n(P.x,function(I){b(P,"y",I,R)}),n(P.y,function(I){b(P,"x",I,R)}),this.resize(this.model,E)};function b(T,E,P,R){P.getAxesOnZeroOf=function(){return D?[D]:[]};var I=T[E],D,B=P.model,F=B.get("axisLine.onZero"),G=B.get("axisLine.onZeroAxisIndex");if(!F)return;if(G!=null)A(I[G])&&(D=I[G]);else for(var z in I)if(I.hasOwnProperty(z)&&A(I[z])&&!R[N(I[z])]){D=I[z];break}D&&(R[N(D)]=!0);function N(U){return U.dim+"_"+U.index}}function A(T){return T&&T.type!=="category"&&T.type!=="time"&&u(T)}x.resize=function(T,E,P){var R=o(T.getBoxLayoutParams(),{width:E.getWidth(),height:E.getHeight()});this._rect=R;var I=this._axesList;D(),!P&&T.get("containLabel")&&(n(I,function(B){if(!B.model.get("axisLabel.inside")){var F=f(B);if(F){var G=B.isHorizontal()?"height":"width",z=B.model.get("axisLabel.margin");R[G]-=F[G]+z,B.position==="top"?R.y+=F.height+z:B.position==="left"&&(R.x+=F.width+z)}}}),D());function D(){n(I,function(B){var F=B.isHorizontal(),G=F?[0,R.width]:[0,R.height],z=B.inverse?1:0;B.setExtent(G[z],G[1-z]),S(B,F?R.x:R.y)})}},x.getAxis=function(T,E){var P=this._axesMap[T];if(P!=null){if(E==null){for(var R in P)if(P.hasOwnProperty(R))return P[R]}return P[E]}},x.getAxes=function(){return this._axesList.slice()},x.getCartesian=function(T,E){if(T!=null&&E!=null){var P="x"+T+"y"+E;return this._coordsMap[P]}t(T)&&(E=T.yAxisIndex,T=T.xAxisIndex);for(var R=0,I=this._coordsList;R<I.length;R++)if(I[R].getAxis("x").index===T||I[R].getAxis("y").index===E)return I[R]},x.getCartesians=function(){return this._coordsList.slice()},x.convertToPixel=function(T,E,P){var R=this._findConvertTarget(T,E);return R.cartesian?R.cartesian.dataToPoint(P):R.axis?R.axis.toGlobalCoord(R.axis.dataToCoord(P)):null},x.convertFromPixel=function(T,E,P){var R=this._findConvertTarget(T,E);return R.cartesian?R.cartesian.pointToData(P):R.axis?R.axis.coordToData(R.axis.toLocalCoord(P)):null},x._findConvertTarget=function(T,E){var P=E.seriesModel,R=E.xAxisModel||P&&P.getReferringComponents("xAxis")[0],I=E.yAxisModel||P&&P.getReferringComponents("yAxis")[0],D=E.gridModel,B=this._coordsList,F,G;if(P)F=P.coordinateSystem,a(B,F)<0&&(F=null);else if(R&&I)F=this.getCartesian(R.componentIndex,I.componentIndex);else if(R)G=this.getAxis("x",R.componentIndex);else if(I)G=this.getAxis("y",I.componentIndex);else if(D){var z=D.coordinateSystem;z===this&&(F=this._coordsList[0])}return{cartesian:F,axis:G}},x.containPoint=function(T){var E=this._coordsList[0];if(E)return E.containPoint(T)},x._initCartesian=function(T,E,P){var R={left:!1,right:!1,top:!1,bottom:!1},I={x:{},y:{}},D={x:0,y:0};if(E.eachComponent("xAxis",B("x"),this),E.eachComponent("yAxis",B("y"),this),!D.x||!D.y){this._axesMap={},this._axesList=[];return}this._axesMap=I,n(I.x,function(F,G){n(I.y,function(z,N){var U="x"+G+"y"+N,$=new d(U);$.grid=this,$.model=T,this._coordsMap[U]=$,this._coordsList.push($),$.addAxis(F),$.addAxis(z)},this)},this);function B(F){return function(G,z){if(g(G,T)){var N=G.get("position");F==="x"?N!=="top"&&N!=="bottom"&&(N=R.bottom?"top":"bottom"):N!=="left"&&N!=="right"&&(N=R.left?"right":"left"),R[N]=!0;var U=new h(F,l(G),[0,0],G.get("type"),N),$=U.type==="category";U.onBand=$&&G.get("boundaryGap"),U.inverse=G.get("inverse"),G.axis=U,U.model=G,U.grid=this,U.index=z,this._axesList.push(U),I[F][z]=U,D[F]++}}}},x._updateScale=function(T,E){n(this._axesList,function(R){R.scale.setExtent(1/0,-1/0)}),T.eachSeries(function(R){if(C(R)){var I=w(R),D=I[0],B=I[1];if(!g(D,E)||!g(B,E))return;var F=this.getCartesian(D.componentIndex,B.componentIndex),G=R.getData(),z=F.getAxis("x"),N=F.getAxis("y");G.type==="list"&&(P(G,z),P(G,N))}},this);function P(R,I,D){n(R.mapDimension(I.dim,!0),function(B){I.scale.unionExtentFromData(R,p(R,B))})}},x.getTooltipAxes=function(T){var E=[],P=[];return n(this.getCartesians(),function(R){var I=T!=null&&T!=="auto"?R.getAxis(T):R.getBaseAxis(),D=R.getOtherAxis(I);a(E,I)<0&&E.push(I),a(P,D)<0&&P.push(D)}),{baseAxes:E,otherAxes:P}};function S(T,E){var P=T.getExtent(),R=P[0]+P[1];T.toGlobalCoord=T.dim==="x"?function(I){return I+E}:function(I){return R-I+E},T.toLocalCoord=T.dim==="x"?function(I){return I-E}:function(I){return R-I+E}}var _=["xAxis","yAxis"];function w(T,E){return r(_,function(P){var R=T.getReferringComponents(P)[0];return R})}function C(T){return T.get("coordinateSystem")==="cartesian2d"}y.create=function(T,E){var P=[];return T.eachComponent("grid",function(R,I){var D=new y(R,T,E);D.name="grid_"+I,D.resize(R,E,!0),R.coordinateSystem=D,P.push(D)}),T.eachSeries(function(R){if(C(R)){var I=w(R),D=I[0],B=I[1],F=D.getCoordSysModel(),G=F.coordinateSystem;R.coordinateSystem=G.getCartesian(D.componentIndex,B.componentIndex)}}),P},y.dimensions=y.prototype.dimensions=d.prototype.dimensions,v.register("cartesian2d",y);var M=y;return V1=M,V1}var xO={},bO={},z1,SO;function fl(){if(SO)return z1;SO=1;var e=de,t=e.retrieve,n=e.defaults,r=e.extend,a=e.each,i=Gt,o=$e,s=Jn,l=Rt(),u=l.isRadianAroundZero,c=l.remRadian,f=li(),d=f.createSymbol,h=Vn,v=Pt,m=v.applyTransform,p=Fi(),g=p.shouldShowAllLabels,y=Math.PI,x=function(F,G){this.opt=G,this.axisModel=F,n(G,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new o.Group;var z=new o.Group({position:G.position.slice(),rotation:G.rotation});z.updateTransform(),this._transform=z.transform,this._dumbGroup=z};x.prototype={constructor:x,hasBuilder:function(F){return!!b[F]},add:function(F){b[F].call(this)},getGroup:function(){return this.group}};var b={axisLine:function(){var F=this.opt,G=this.axisModel;if(G.get("axisLine.show")){var z=this.axisModel.axis.getExtent(),N=this._transform,U=[z[0],0],$=[z[1],0];N&&(m(U,U,N),m($,$,N));var k=r({lineCap:"round"},G.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new o.Line({anid:"line",subPixelOptimize:!0,shape:{x1:U[0],y1:U[1],x2:$[0],y2:$[1]},style:k,strokeContainThreshold:F.strokeContainThreshold||5,silent:!0,z2:1}));var V=G.get("axisLine.symbol"),L=G.get("axisLine.symbolSize"),O=G.get("axisLine.symbolOffset")||0;if(typeof O=="number"&&(O=[O,O]),V!=null){typeof V=="string"&&(V=[V,V]),(typeof L=="string"||typeof L=="number")&&(L=[L,L]);var H=L[0],j=L[1];a([{rotate:F.rotation+Math.PI/2,offset:O[0],r:0},{rotate:F.rotation-Math.PI/2,offset:O[1],r:Math.sqrt((U[0]-$[0])*(U[0]-$[0])+(U[1]-$[1])*(U[1]-$[1]))}],function(Y,X){if(V[X]!=="none"&&V[X]!=null){var Q=d(V[X],-H/2,-j/2,H,j,k.stroke,!0),K=Y.r+Y.offset,Z=[U[0]+K*Math.cos(F.rotation),U[1]-K*Math.sin(F.rotation)];Q.attr({rotation:Y.rotate,position:Z,silent:!0,z2:11}),this.group.add(Q)}},this)}}},axisTickLabel:function(){var F=this.axisModel,G=this.opt,z=R(this,F,G),N=D(this,F,G);C(F,N,z),I(this,F,G)},axisName:function(){var F=this.opt,G=this.axisModel,z=t(F.axisName,G.get("name"));if(z){var N=G.get("nameLocation"),U=F.nameDirection,$=G.getModel("nameTextStyle"),k=G.get("nameGap")||0,V=this.axisModel.axis.getExtent(),L=V[0]>V[1]?-1:1,O=[N==="start"?V[0]-L*k:N==="end"?V[1]+L*k:(V[0]+V[1])/2,E(N)?F.labelOffset+U*k:0],H,j=G.get("nameRotate");j!=null&&(j=j*y/180);var Y;E(N)?H=S(F.rotation,j??F.rotation,U):(H=_(F,N,j||0,V),Y=F.axisNameAvailableWidth,Y!=null&&(Y=Math.abs(Y/Math.sin(H.rotation)),!isFinite(Y)&&(Y=null)));var X=$.getFont(),Q=G.get("nameTruncate",!0)||{},K=Q.ellipsis,Z=t(F.nameTruncateMaxWidth,Q.maxWidth,Y),te=K!=null&&Z!=null?i.truncateText(z,Z,X,K,{minChar:2,placeholder:Q.placeholder}):z,oe=G.get("tooltip",!0),ue=G.mainType,se={componentType:ue,name:z,$vars:["name"]};se[ue+"Index"]=G.componentIndex;var me=new o.Text({anid:"name",__fullText:z,__truncatedText:te,position:O,rotation:H.rotation,silent:w(G),z2:1,tooltip:oe&&oe.show?r({content:z,formatter:function(){return z},formatterParams:se},oe):null});o.setTextStyle(me.style,$,{text:te,textFont:X,textFill:$.getTextColor()||G.get("axisLine.lineStyle.color"),textAlign:$.get("align")||H.textAlign,textVerticalAlign:$.get("verticalAlign")||H.textVerticalAlign}),G.get("triggerEvent")&&(me.eventData=A(G),me.eventData.targetType="axisName",me.eventData.name=z),this._dumbGroup.add(me),me.updateTransform(),this.group.add(me),me.decomposeTransform()}}},A=x.makeAxisEventDataBase=function(F){var G={componentType:F.mainType,componentIndex:F.componentIndex};return G[F.mainType+"Index"]=F.componentIndex,G},S=x.innerTextLayout=function(F,G,z){var N=c(G-F),U,$;return u(N)?($=z>0?"top":"bottom",U="center"):u(N-y)?($=z>0?"bottom":"top",U="center"):($="middle",N>0&&N<y?U=z>0?"right":"left":U=z>0?"left":"right"),{rotation:N,textAlign:U,textVerticalAlign:$}};function _(F,G,z,N){var U=c(z-F.rotation),$,k,V=N[0]>N[1],L=G==="start"&&!V||G!=="start"&&V;return u(U-y/2)?(k=L?"bottom":"top",$="center"):u(U-y*1.5)?(k=L?"top":"bottom",$="center"):(k="middle",U<y*1.5&&U>y/2?$=L?"left":"right":$=L?"right":"left"),{rotation:U,textAlign:$,textVerticalAlign:k}}var w=x.isLabelSilent=function(F){var G=F.get("tooltip");return F.get("silent")||!(F.get("triggerEvent")||G&&G.show)};function C(F,G,z){if(!g(F.axis)){var N=F.get("axisLabel.showMinLabel"),U=F.get("axisLabel.showMaxLabel");G=G||[],z=z||[];var $=G[0],k=G[1],V=G[G.length-1],L=G[G.length-2],O=z[0],H=z[1],j=z[z.length-1],Y=z[z.length-2];N===!1?(M($),M(O)):T($,k)&&(N?(M(k),M(H)):(M($),M(O))),U===!1?(M(V),M(j)):T(L,V)&&(U?(M(L),M(Y)):(M(V),M(j)))}}function M(F){F&&(F.ignore=!0)}function T(F,G,z){var N=F&&F.getBoundingRect().clone(),U=G&&G.getBoundingRect().clone();if(!(!N||!U)){var $=h.identity([]);return h.rotate($,$,-F.rotation),N.applyTransform(h.mul([],$,F.getLocalTransform())),U.applyTransform(h.mul([],$,G.getLocalTransform())),N.intersect(U)}}function E(F){return F==="middle"||F==="center"}function P(F,G,z,N,U){for(var $=[],k=[],V=[],L=0;L<F.length;L++){var O=F[L].coord;k[0]=O,k[1]=0,V[0]=O,V[1]=z,G&&(m(k,k,G),m(V,V,G));var H=new o.Line({anid:U+"_"+F[L].tickValue,subPixelOptimize:!0,shape:{x1:k[0],y1:k[1],x2:V[0],y2:V[1]},style:N,z2:2,silent:!0});$.push(H)}return $}function R(F,G,z){var N=G.axis,U=G.getModel("axisTick");if(!(!U.get("show")||N.scale.isBlank())){for(var $=U.getModel("lineStyle"),k=z.tickDirection*U.get("length"),V=N.getTicksCoords(),L=P(V,F._transform,k,n($.getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")}),"ticks"),O=0;O<L.length;O++)F.group.add(L[O]);return L}}function I(F,G,z){var N=G.axis,U=G.getModel("minorTick");if(!(!U.get("show")||N.scale.isBlank())){var $=N.getMinorTicksCoords();if($.length)for(var k=U.getModel("lineStyle"),V=z.tickDirection*U.get("length"),L=n(k.getLineStyle(),n(G.getModel("axisTick").getLineStyle(),{stroke:G.get("axisLine.lineStyle.color")})),O=0;O<$.length;O++)for(var H=P($[O],F._transform,V,L,"minorticks_"+O),j=0;j<H.length;j++)F.group.add(H[j])}}function D(F,G,z){var N=G.axis,U=t(z.axisLabelShow,G.get("axisLabel.show"));if(!(!U||N.scale.isBlank())){var $=G.getModel("axisLabel"),k=$.get("margin"),V=N.getViewLabels(),L=(t(z.labelRotate,$.get("rotate"))||0)*y/180,O=S(z.rotation,L,z.labelDirection),H=G.getCategories&&G.getCategories(!0),j=[],Y=w(G),X=G.get("triggerEvent");return a(V,function(Q,K){var Z=Q.tickValue,te=Q.formattedLabel,oe=Q.rawLabel,ue=$;H&&H[Z]&&H[Z].textStyle&&(ue=new s(H[Z].textStyle,$,G.ecModel));var se=ue.getTextColor()||G.get("axisLine.lineStyle.color"),me=N.dataToCoord(Z),re=[me,z.labelOffset+z.labelDirection*k],q=new o.Text({anid:"label_"+Z,position:re,rotation:O.rotation,silent:Y,z2:10});o.setTextStyle(q.style,ue,{text:te,textAlign:ue.getShallow("align",!0)||O.textAlign,textVerticalAlign:ue.getShallow("verticalAlign",!0)||ue.getShallow("baseline",!0)||O.textVerticalAlign,textFill:typeof se=="function"?se(N.type==="category"?oe:N.type==="value"?Z+"":Z,K):se}),X&&(q.eventData=A(G),q.eventData.targetType="axisLabel",q.eventData.value=oe),F._dumbGroup.add(q),q.updateTransform(),j.push(q),F.group.add(q),q.decomposeTransform()}),j}}var B=x;return z1=B,z1}var Rl={},_O;function Yy(){if(_O)return Rl;_O=1;var e=de,t=Jn,n=e.each,r=e.curry;function a(m,p){var g={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i(g,m,p),g.seriesInvolved&&s(g,m),g}function i(m,p,g){var y=p.getComponent("tooltip"),x=p.getComponent("axisPointer"),b=x.get("link",!0)||[],A=[];n(g.getCoordinateSystems(),function(S){if(!S.axisPointerEnabled)return;var _=v(S.model),w=m.coordSysAxesInfo[_]={};m.coordSysMap[_]=S;var C=S.model,M=C.getModel("tooltip",y);if(n(S.getAxes(),r(R,!1,null)),S.getTooltipAxes&&y&&M.get("show")){var T=M.get("trigger")==="axis",E=M.get("axisPointer.type")==="cross",P=S.getTooltipAxes(M.get("axisPointer.axis"));(T||E)&&n(P.baseAxes,r(R,E?"cross":!0,T)),E&&n(P.otherAxes,r(R,"cross",!1))}function R(I,D,B){var F=B.model.getModel("axisPointer",x),G=F.get("show");if(!(!G||G==="auto"&&!I&&!h(F))){D==null&&(D=F.get("triggerTooltip")),F=I?o(B,M,x,p,I,D):F;var z=F.get("snap"),N=v(B.model),U=D||z||B.type==="category",$=m.axesInfo[N]={key:N,axis:B,coordSys:S,axisPointerModel:F,triggerTooltip:D,involveSeries:U,snap:z,useHandle:h(F),seriesModels:[]};w[N]=$,m.seriesInvolved|=U;var k=l(b,B);if(k!=null){var V=A[k]||(A[k]={axesInfo:{}});V.axesInfo[N]=$,V.mapper=b[k].mapper,$.linkGroup=V}}}})}function o(m,p,g,y,x,b){var A=p.getModel("axisPointer"),S={};n(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(M){S[M]=e.clone(A.get(M))}),S.snap=m.type!=="category"&&!!b,A.get("type")==="cross"&&(S.type="line");var _=S.label||(S.label={});if(_.show==null&&(_.show=!1),x==="cross"){var w=A.get("label.show");if(_.show=w??!0,!b){var C=S.lineStyle=A.get("crossStyle");C&&e.defaults(_,C.textStyle)}}return m.model.getModel("axisPointer",new t(S,g,y))}function s(m,p){p.eachSeries(function(g){var y=g.coordinateSystem,x=g.get("tooltip.trigger",!0),b=g.get("tooltip.show",!0);!y||x==="none"||x===!1||x==="item"||b===!1||g.get("axisPointer.show",!0)===!1||n(m.coordSysAxesInfo[v(y.model)],function(A){var S=A.axis;y.getAxis(S.dim)===S&&(A.seriesModels.push(g),A.seriesDataCount==null&&(A.seriesDataCount=0),A.seriesDataCount+=g.getData().count())})},this)}function l(m,p){for(var g=p.model,y=p.dim,x=0;x<m.length;x++){var b=m[x]||{};if(u(b[y+"AxisId"],g.id)||u(b[y+"AxisIndex"],g.componentIndex)||u(b[y+"AxisName"],g.name))return x}}function u(m,p){return m==="all"||e.isArray(m)&&e.indexOf(m,p)>=0||m===p}function c(m){var p=f(m);if(p){var g=p.axisPointerModel,y=p.axis.scale,x=g.option,b=g.get("status"),A=g.get("value");A!=null&&(A=y.parse(A));var S=h(g);b==null&&(x.status=S?"show":"hide");var _=y.getExtent().slice();_[0]>_[1]&&_.reverse(),(A==null||A>_[1])&&(A=_[1]),A<_[0]&&(A=_[0]),x.value=A,S&&(x.status=p.axis.scale.isBlank()?"hide":"show")}}function f(m){var p=(m.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return p&&p.axesInfo[v(m)]}function d(m){var p=f(m);return p&&p.axisPointerModel}function h(m){return!!m.get("handle.show")}function v(m){return m.type+"||"+m.id}return Rl.collect=a,Rl.fixValue=c,Rl.getAxisInfo=f,Rl.getAxisPointerModel=d,Rl.makeKey=v,Rl}var U1,AO;function Tu(){if(AO)return U1;AO=1;var e=et,t=Yy(),n=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(s,l,u,c){this.axisPointerClass&&t.fixValue(s),n.superApply(this,"render",arguments),r(this,s,l,u,c,!0)},updateAxisPointer:function(s,l,u,c,f){r(this,s,l,u,c,!1)},remove:function(s,l){var u=this._axisPointer;u&&u.remove(l),n.superApply(this,"remove",arguments)},dispose:function(s,l){a(this,l),n.superApply(this,"dispose",arguments)}});function r(s,l,u,c,f,d){var h=n.getAxisPointerClass(s.axisPointerClass);if(h){var v=t.getAxisPointerModel(l);v?(s._axisPointer||(s._axisPointer=new h)).render(l,v,c,d):a(s,c)}}function a(s,l,u){var c=s._axisPointer;c&&c.dispose(l,u),s._axisPointer=null}var i=[];n.registerAxisPointerClass=function(s,l){i[s]=l},n.getAxisPointerClass=function(s){return s&&i[s]};var o=n;return U1=o,U1}var H1={},wO;function UW(){if(wO)return H1;wO=1;var e=de;function t(n,r,a){a=a||{};var i=n.coordinateSystem,o=r.axis,s={},l=o.getAxesOnZeroOf()[0],u=o.position,c=l?"onZero":u,f=o.dim,d=i.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],v={left:0,right:1,top:0,bottom:1,onZero:2},m=r.get("offset")||0,p=f==="x"?[h[2]-m,h[3]+m]:[h[0]-m,h[1]+m];if(l){var g=l.toGlobalCoord(l.dataToCoord(0));p[v.onZero]=Math.max(Math.min(g,p[1]),p[0])}s.position=[f==="y"?p[v[c]]:h[0],f==="x"?p[v[c]]:h[3]],s.rotation=Math.PI/2*(f==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};s.labelDirection=s.tickDirection=s.nameDirection=y[u],s.labelOffset=l?p[v[u]]-p[v.onZero]:0,r.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var x=r.get("axisLabel.rotate");return s.labelRotate=c==="top"?-x:x,s.z2=1,s}return H1.layout=t,H1}var Tp={},CO;function HW(){if(CO)return Tp;CO=1;var e=de,t=$e;function n(a,i,o,s){var l=o.axis;if(!l.scale.isBlank()){var u=o.getModel("splitArea"),c=u.getModel("areaStyle"),f=c.get("color"),d=s.coordinateSystem.getRect(),h=l.getTicksCoords({tickModel:u,clamp:!0});if(h.length){var v=f.length,m=a.__splitAreaColors,p=e.createHashMap(),g=0;if(m)for(var y=0;y<h.length;y++){var x=m.get(h[y].tickValue);if(x!=null){g=(x+(v-1)*y)%v;break}}var b=l.toGlobalCoord(h[0].coord),A=c.getAreaStyle();f=e.isArray(f)?f:[f];for(var y=1;y<h.length;y++){var S=l.toGlobalCoord(h[y].coord),_,w,C,M;l.isHorizontal()?(_=b,w=d.y,C=S-_,M=d.height,b=_+C):(_=d.x,w=b,C=d.width,M=S-w,b=w+M);var T=h[y-1].tickValue;T!=null&&p.set(T,g),i.add(new t.Rect({anid:T!=null?"area_"+T:null,shape:{x:_,y:w,width:C,height:M},style:e.defaults({fill:f[g]},A),silent:!0})),g=(g+1)%v}a.__splitAreaColors=p}}}function r(a){a.__splitAreaColors=null}return Tp.rectCoordAxisBuildSplitArea=n,Tp.rectCoordAxisHandleRemove=r,Tp}var MO;function lge(){if(MO)return bO;MO=1;var e=de,t=$e,n=fl(),r=Tu(),a=UW(),i=HW(),o=i.rectCoordAxisBuildSplitArea,s=i.rectCoordAxisHandleRemove,l=["axisLine","axisTickLabel","axisName"],u=["splitArea","splitLine","minorSplitLine"],c=r.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(f,d,h,v){this.group.removeAll();var m=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!f.get("show")){var p=f.getCoordSysModel(),g=a.layout(p,f),y=new n(f,g);e.each(l,y.add,y),this._axisGroup.add(y.getGroup()),e.each(u,function(x){f.get(x+".show")&&this["_"+x](f,p)},this),t.groupTransition(m,this._axisGroup,f),c.superCall(this,"render",f,d,h,v)}},remove:function(){s(this)},_splitLine:function(f,d){var h=f.axis;if(!h.scale.isBlank()){var v=f.getModel("splitLine"),m=v.getModel("lineStyle"),p=m.get("color");p=e.isArray(p)?p:[p];for(var g=d.coordinateSystem.getRect(),y=h.isHorizontal(),x=0,b=h.getTicksCoords({tickModel:v}),A=[],S=[],_=m.getLineStyle(),w=0;w<b.length;w++){var C=h.toGlobalCoord(b[w].coord);y?(A[0]=C,A[1]=g.y,S[0]=C,S[1]=g.y+g.height):(A[0]=g.x,A[1]=C,S[0]=g.x+g.width,S[1]=C);var M=x++%p.length,T=b[w].tickValue;this._axisGroup.add(new t.Line({anid:T!=null?"line_"+b[w].tickValue:null,subPixelOptimize:!0,shape:{x1:A[0],y1:A[1],x2:S[0],y2:S[1]},style:e.defaults({stroke:p[M]},_),silent:!0}))}}},_minorSplitLine:function(f,d){var h=f.axis,v=f.getModel("minorSplitLine"),m=v.getModel("lineStyle"),p=d.coordinateSystem.getRect(),g=h.isHorizontal(),y=h.getMinorTicksCoords();if(y.length)for(var x=[],b=[],A=m.getLineStyle(),S=0;S<y.length;S++)for(var _=0;_<y[S].length;_++){var w=h.toGlobalCoord(y[S][_].coord);g?(x[0]=w,x[1]=p.y,b[0]=w,b[1]=p.y+p.height):(x[0]=p.x,x[1]=w,b[0]=p.x+p.width,b[1]=w),this._axisGroup.add(new t.Line({anid:"minor_line_"+y[S][_].tickValue,subPixelOptimize:!0,shape:{x1:x[0],y1:x[1],x2:b[0],y2:b[1]},style:A,silent:!0}))}},_splitArea:function(f,d){o(this,this._axisGroup,f,d)}});return c.extend({type:"xAxis"}),c.extend({type:"yAxis"}),bO}var TO;function uge(){return TO||(TO=1,zW(),lge()),xO}var EO;function Mv(){if(EO)return cO;EO=1;var e=et,t=de,n=$e;return hP(),uge(),e.extendComponentView({type:"grid",render:function(r,a){this.group.removeAll(),r.get("show")&&this.group.add(new n.Rect({shape:r.coordinateSystem.getRect(),style:t.defaults({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})}),cO}var PO;function cge(){if(PO)return ZL;PO=1;var e=et;ege(),nge();var t=Mu(),n=Cv(),r=rge();return Mv(),e.registerVisual(t("line","circle","line")),e.registerLayout(n("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,r("line")),ZL}var RO={},$1,IO;function $W(){if(IO)return $1;IO=1;var e=xr,t=us(),n=e.extend({type:"series.__base_bar__",getInitialData:function(r,a){return t(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(r){var a=this.coordinateSystem;if(a){var i=a.dataToPoint(a.clampData(r)),o=this.getData(),s=o.getLayout("offset"),l=o.getLayout("size"),u=a.getBaseAxis().isHorizontal()?0:1;return i[u]+=s+l/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return $1=n,$1}var G1,DO;function fge(){if(DO)return G1;DO=1;var e=$W(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});return G1=t,G1}var W1={},LO;function GW(){if(LO)return W1;LO=1;var e=$e,t=dP(),n=t.getDefaultLabel;function r(i,o,s,l,u,c,f){var d=s.getModel("label"),h=s.getModel("emphasis.label");e.setLabelStyle(i,o,d,h,{labelFetcher:u,labelDataIndex:c,defaultText:n(u.getData(),c),isRectText:!0,autoColor:l}),a(i),a(o)}function a(i,o){i.textPosition==="outside"&&(i.textPosition=o)}return W1.setLabel=r,W1}var j1,OO;function dge(){if(OO)return j1;OO=1;var e=Df,t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n={getBarItemStyle:function(r){var a=t(this,r);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(a.lineDash=i)}return a}};return j1=n,j1}var Y1,NO;function hge(){if(NO)return Y1;NO=1;var e=$e,t=e.extendShape,n=t({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(r,a){var i=a.cx,o=a.cy,s=Math.max(a.r0||0,0),l=Math.max(a.r,0),u=(l-s)*.5,c=s+u,f=a.startAngle,d=a.endAngle,h=a.clockwise,v=Math.cos(f),m=Math.sin(f),p=Math.cos(d),g=Math.sin(d),y=h?d-f<Math.PI*2:f-d<Math.PI*2;y&&(r.moveTo(v*s+i,m*s+o),r.arc(v*c+i,m*c+o,u,-Math.PI+f,f,!h)),r.arc(i,o,l,f,d,!h),r.moveTo(p*l+i,g*l+o),r.arc(p*c+i,g*c+o,u,d-Math.PI*2,d-Math.PI,!h),s!==0&&(r.arc(i,o,s,d,f,h),r.moveTo(v*s+i,g*s+o)),r.closePath()}});return Y1=n,Y1}var X1,kO;function vge(){if(kO)return X1;kO=1;var e=et,t=de,n=$e,r=GW(),a=r.setLabel,i=Jn,o=dge(),s=jn,l=Su,u=Bi,c=u.throttle,f=wv(),d=f.createClipPath,h=hge(),v=["itemStyle","barBorderWidth"],m=[0,0];t.extend(i.prototype,o);function p(z,N){var U=z.getArea&&z.getArea();if(z.type==="cartesian2d"){var $=z.getBaseAxis();if($.type!=="category"||!$.onBand){var k=N.getLayout("bandWidth");$.isHorizontal()?(U.x-=k,U.width+=k*2):(U.y-=k,U.height+=k*2)}}return U}var g=e.extendChartView({type:"bar",render:function(z,N,U){this._updateDrawMode(z);var $=z.get("coordinateSystem");return($==="cartesian2d"||$==="polar")&&(this._isLargeDraw?this._renderLarge(z,N,U):this._renderNormal(z,N,U)),this.group},incrementalPrepareRender:function(z,N,U){this._clear(),this._updateDrawMode(z)},incrementalRender:function(z,N,U,$){this._incrementalRenderLarge(z,N)},_updateDrawMode:function(z){var N=z.pipelineContext.large;(this._isLargeDraw==null||N^this._isLargeDraw)&&(this._isLargeDraw=N,this._clear())},_renderNormal:function(z,N,U){var $=this.group,k=z.getData(),V=this._data,L=z.coordinateSystem,O=L.getBaseAxis(),H;L.type==="cartesian2d"?H=O.isHorizontal():L.type==="polar"&&(H=O.dim==="angle");var j=z.isAnimationEnabled()?z:null,Y=z.get("clip",!0),X=p(L,k);$.removeClipPath();var Q=z.get("roundCap",!0),K=z.get("showBackground",!0),Z=z.getModel("backgroundStyle"),te=Z.get("barBorderRadius")||0,oe=[],ue=this._backgroundEls||[],se=function(q){var ae=w[L.type](k,q),ce=G(L,H,ae);return ce.useStyle(Z.getBarItemStyle()),L.type==="cartesian2d"&&ce.setShape("r",te),oe[q]=ce,ce};k.diff(V).add(function(q){var ae=k.getItemModel(q),ce=w[L.type](k,q,ae);if(K&&se(q),!!k.hasValue(q)){if(Y){var ee=b[L.type](X,ce);if(ee){$.remove(ne);return}}var ne=A[L.type](q,ce,H,j,!1,Q);k.setItemGraphicEl(q,ne),$.add(ne),M(ne,k,q,ae,ce,z,H,L.type==="polar")}}).update(function(q,ae){var ce=k.getItemModel(q),ee=w[L.type](k,q,ce);if(K){var ne;ue.length===0?ne=se(ae):(ne=ue[ae],ne.useStyle(Z.getBarItemStyle()),L.type==="cartesian2d"&&ne.setShape("r",te),oe[q]=ne);var le=w[L.type](k,q),he=F(H,le,L);n.updateProps(ne,{shape:he},j,q)}var pe=V.getItemGraphicEl(ae);if(!k.hasValue(q)){$.remove(pe);return}if(Y){var ye=b[L.type](X,ee);if(ye){$.remove(pe);return}}pe?n.updateProps(pe,{shape:ee},j,q):pe=A[L.type](q,ee,H,j,!0,Q),k.setItemGraphicEl(q,pe),$.add(pe),M(pe,k,q,ce,ee,z,H,L.type==="polar")}).remove(function(q){var ae=V.getItemGraphicEl(q);L.type==="cartesian2d"?ae&&S(q,j,ae):ae&&_(q,j,ae)}).execute();var me=this._backgroundGroup||(this._backgroundGroup=new l);me.removeAll();for(var re=0;re<oe.length;++re)me.add(oe[re]);$.add(me),this._backgroundEls=oe,this._data=k},_renderLarge:function(z,N,U){this._clear(),P(z,this.group);var $=z.get("clip",!0)?d(z.coordinateSystem,!1,z):null;$?this.group.setClipPath($):this.group.removeClipPath()},_incrementalRenderLarge:function(z,N){this._removeBackground(),P(N,this.group,!0)},dispose:t.noop,remove:function(z){this._clear(z)},_clear:function(z){var N=this.group,U=this._data;z&&z.get("animation")&&U&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],U.eachItemGraphicEl(function($){$.type==="sector"?_($.dataIndex,z,$):S($.dataIndex,z,$)})):N.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),y=Math.max,x=Math.min,b={cartesian2d:function(z,N){var U=N.width<0?-1:1,$=N.height<0?-1:1;U<0&&(N.x+=N.width,N.width=-N.width),$<0&&(N.y+=N.height,N.height=-N.height);var k=y(N.x,z.x),V=x(N.x+N.width,z.x+z.width),L=y(N.y,z.y),O=x(N.y+N.height,z.y+z.height);N.x=k,N.y=L,N.width=V-k,N.height=O-L;var H=N.width<0||N.height<0;return U<0&&(N.x+=N.width,N.width=-N.width),$<0&&(N.y+=N.height,N.height=-N.height),H},polar:function(z,N){var U=N.r0<=N.r?1:-1;if(U<0){var $=N.r;N.r=N.r0,N.r0=$}var $=x(N.r,z.r),k=y(N.r0,z.r0);N.r=$,N.r0=k;var V=$-k<0;if(U<0){var $=N.r;N.r=N.r0,N.r0=$}return V}},A={cartesian2d:function(z,N,U,$,k){var V=new n.Rect({shape:t.extend({},N),z2:1});if(V.name="item",$){var L=V.shape,O=U?"height":"width",H={};L[O]=0,H[O]=N[O],n[k?"updateProps":"initProps"](V,{shape:H},$,z)}return V},polar:function(z,N,U,$,k,V){var L=N.startAngle<N.endAngle,O=!U&&V?h:n.Sector,H=new O({shape:t.defaults({clockwise:L},N),z2:1});if(H.name="item",$){var j=H.shape,Y=U?"r":"endAngle",X={};j[Y]=U?0:N.startAngle,X[Y]=N[Y],n[k?"updateProps":"initProps"](H,{shape:X},$,z)}return H}};function S(z,N,U){U.style.text=null,n.updateProps(U,{shape:{width:0}},N,z,function(){U.parent&&U.parent.remove(U)})}function _(z,N,U){U.style.text=null,n.updateProps(U,{shape:{r:U.shape.r0}},N,z,function(){U.parent&&U.parent.remove(U)})}var w={cartesian2d:function(z,N,U){var $=z.getItemLayout(N),k=U?T(U,$):0,V=$.width>0?1:-1,L=$.height>0?1:-1;return{x:$.x+V*k/2,y:$.y+L*k/2,width:$.width-V*k,height:$.height-L*k}},polar:function(z,N,U){var $=z.getItemLayout(N);return{cx:$.cx,cy:$.cy,r0:$.r0,r:$.r,startAngle:$.startAngle,endAngle:$.endAngle}}};function C(z){return z.startAngle!=null&&z.endAngle!=null&&z.startAngle===z.endAngle}function M(z,N,U,$,k,V,L,O){var H=N.getItemVisual(U,"color"),j=N.getItemVisual(U,"opacity"),Y=N.getVisual("borderColor"),X=$.getModel("itemStyle"),Q=$.getModel("emphasis.itemStyle").getBarItemStyle();O||z.setShape("r",X.get("barBorderRadius")||0),z.useStyle(t.defaults({stroke:C(k)?"none":Y,fill:C(k)?"none":H,opacity:j},X.getBarItemStyle()));var K=$.getShallow("cursor");K&&z.attr("cursor",K);var Z=L?k.height>0?"bottom":"top":k.width>0?"left":"right";O||a(z.style,Q,$,H,V,U,Z),C(k)&&(Q.fill=Q.stroke="none"),n.setHoverStyle(z,Q)}function T(z,N){var U=z.get(v)||0,$=isNaN(N.width)?Number.MAX_VALUE:Math.abs(N.width),k=isNaN(N.height)?Number.MAX_VALUE:Math.abs(N.height);return Math.min(U,$,k)}var E=s.extend({type:"largeBar",shape:{points:[]},buildPath:function(z,N){for(var U=N.points,$=this.__startPoint,k=this.__baseDimIdx,V=0;V<U.length;V+=2)$[k]=U[V+k],z.moveTo($[0],$[1]),z.lineTo(U[V],U[V+1])}});function P(z,N,U){var $=z.getData(),k=[],V=$.getLayout("valueAxisHorizontal")?1:0;k[1-V]=$.getLayout("valueAxisStart");var L=$.getLayout("largeDataIndices"),O=$.getLayout("barWidth"),H=z.getModel("backgroundStyle"),j=z.get("showBackground",!0);if(j){var Y=$.getLayout("largeBackgroundPoints"),X=[];X[1-V]=$.getLayout("backgroundStart");var Q=new E({shape:{points:Y},incremental:!!U,__startPoint:X,__baseDimIdx:V,__largeDataIndices:L,__barWidth:O,silent:!0,z2:0});B(Q,H,$),N.add(Q)}var K=new E({shape:{points:$.getLayout("largePoints")},incremental:!!U,__startPoint:k,__baseDimIdx:V,__largeDataIndices:L,__barWidth:O});N.add(K),D(K,z,$),K.seriesIndex=z.seriesIndex,z.get("silent")||(K.on("mousedown",R),K.on("mousemove",R))}var R=c(function(z){var N=this,U=I(N,z.offsetX,z.offsetY);N.dataIndex=U>=0?U:null},30,!1);function I(z,N,U){var $=z.__baseDimIdx,k=1-$,V=z.shape.points,L=z.__largeDataIndices,O=Math.abs(z.__barWidth/2),H=z.__startPoint[k];m[0]=N,m[1]=U;for(var j=m[$],Y=m[1-$],X=j-O,Q=j+O,K=0,Z=V.length/2;K<Z;K++){var te=K*2,oe=V[te+$],ue=V[te+k];if(oe>=X&&oe<=Q&&(H<=ue?Y>=H&&Y<=ue:Y>=ue&&Y<=H))return L[K]}return-1}function D(z,N,U){var $=U.getVisual("borderColor")||U.getVisual("color"),k=N.getModel("itemStyle").getItemStyle(["color","borderColor"]);z.useStyle(k),z.style.fill=null,z.style.stroke=$,z.style.lineWidth=U.getLayout("barWidth")}function B(z,N,U){var $=N.get("borderColor")||N.get("color"),k=N.getItemStyle(["color","borderColor"]);z.useStyle(k),z.style.fill=null,z.style.stroke=$,z.style.lineWidth=U.getLayout("barWidth")}function F(z,N,U){var $,k=U.type==="polar";return k?$=U.getArea():$=U.grid.getRect(),k?{cx:$.cx,cy:$.cy,r0:z?$.r0:N.r0,r:z?$.r:N.r,startAngle:z?N.startAngle:0,endAngle:z?N.endAngle:Math.PI*2}:{x:z?N.x:$.x,y:z?$.y:N.y,width:z?N.width:$.width,height:z?$.height:N.height}}function G(z,N,U){var $=z.type==="polar"?n.Sector:n.Rect;return new $({shape:F(N,U,z),silent:!0,z2:0})}return X1=g,X1}var BO;function pge(){if(BO)return RO;BO=1;var e=et,t=de,n=Gy(),r=n.layout,a=n.largeLayout;return hP(),fge(),vge(),Mv(),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,t.curry(r,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,a),e.registerVisual({seriesType:"bar",reset:function(i){i.getData().setVisual("legendSymbol","roundRect")}}),RO}var FO={},q1,VO;function Uf(){if(VO)return q1;VO=1;var e=Vf(),t=si(),n=de,r=n.extend,a=n.isArray;function i(o,s,l){s=a(s)&&{coordDimensions:s}||r({},s);var u=o.getSource(),c=e(u,s),f=new t(c,o);return f.initData(u,l),f}return q1=i,q1}var K1,zO;function vP(){if(zO)return K1;zO=1;var e=de,t={updateSelectedMap:function(n){this._targetList=e.isArray(n)?n.slice():[],this._selectTargetMap=e.reduce(n||[],function(r,a){return r.set(a.name,a),r},e.createHashMap())},select:function(n,r){var a=r!=null?this._targetList[r]:this._selectTargetMap.get(n),i=this.get("selectedMode");i==="single"&&this._selectTargetMap.each(function(o){o.selected=!1}),a&&(a.selected=!0)},unSelect:function(n,r){var a=r!=null?this._targetList[r]:this._selectTargetMap.get(n);a&&(a.selected=!1)},toggleSelected:function(n,r){var a=r!=null?this._targetList[r]:this._selectTargetMap.get(n);if(a!=null)return this[a.selected?"unSelect":"select"](n,r),a.selected},isSelected:function(n,r){var a=r!=null?this._targetList[r]:this._selectTargetMap.get(n);return a&&a.selected}};return K1=t,K1}var Z1,UO;function Tv(){if(UO)return Z1;UO=1;function e(n,r){this.getAllNames=function(){var a=r();return a.mapArray(a.getName)},this.containName=function(a){var i=r();return i.indexOfName(a)>=0},this.indexOfName=function(a){var i=n();return i.indexOfName(a)},this.getItemVisual=function(a,i){var o=n();return o.getItemVisual(a,i)}}var t=e;return Z1=t,Z1}var Q1,HO;function gge(){if(HO)return Q1;HO=1;var e=et,t=Uf(),n=de,r=bt,a=Rt(),i=a.getPercentWithPrecision,o=vP(),s=ki,l=s.retrieveRawAttr,u=Br,c=u.makeSeriesEncodeForNameBased,f=Tv(),d=e.extendSeriesModel({type:"series.pie",init:function(v){d.superApply(this,"init",arguments),this.legendVisualProvider=new f(n.bind(this.getData,this),n.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(v)},mergeOption:function(v){d.superCall(this,"mergeOption",v),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(v,m){return t(this,{coordDimensions:["value"],encodeDefaulter:n.curry(c,this)})},_createSelectableList:function(){for(var v=this.getRawData(),m=v.mapDimension("value"),p=[],g=0,y=v.count();g<y;g++)p.push({name:v.getName(g),value:v.get(m,g),selected:l(v,g,"selected")});return p},getDataParams:function(v){var m=this.getData(),p=d.superCall(this,"getDataParams",v),g=[];return m.each(m.mapDimension("value"),function(y){g.push(y)}),p.percent=i(g,v,m.hostModel.get("percentPrecision")),p.$vars.push("percent"),p},_defaultLabelLine:function(v){r.defaultEmphasis(v,"labelLine",["show"]);var m=v.labelLine,p=v.emphasis.labelLine;m.show=m.show&&v.label.show,p.show=p.show&&v.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});n.mixin(d,o);var h=d;return Q1=h,Q1}var J1,$O;function mge(){if($O)return J1;$O=1;var e=de,t=$e,n=_o;function r(u,c,f,d){var h=c.getData(),v=this.dataIndex,m=h.getName(v),p=c.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:u,name:m,seriesId:c.id}),h.each(function(g){a(h.getItemGraphicEl(g),h.getItemLayout(g),c.isSelected(h.getName(g)),p,f)})}function a(u,c,f,d,h){var v=(c.startAngle+c.endAngle)/2,m=Math.cos(v),p=Math.sin(v),g=f?d:0,y=[m*g,p*g];h?u.animate().when(200,{position:y}).start("bounceOut"):u.attr("position",y)}function i(u,c){t.Group.call(this);var f=new t.Sector({z2:2}),d=new t.Polyline,h=new t.Text;this.add(f),this.add(d),this.add(h),this.updateData(u,c,!0)}var o=i.prototype;o.updateData=function(u,c,f){var d=this.childAt(0),h=this.childAt(1),v=this.childAt(2),m=u.hostModel,p=u.getItemModel(c),g=u.getItemLayout(c),y=e.extend({},g);y.label=null;var x=m.getShallow("animationTypeUpdate");if(f){d.setShape(y);var b=m.getShallow("animationType");b==="scale"?(d.shape.r=g.r0,t.initProps(d,{shape:{r:g.r}},m,c)):(d.shape.endAngle=g.startAngle,t.updateProps(d,{shape:{endAngle:g.endAngle}},m,c))}else x==="expansion"?d.setShape(y):t.updateProps(d,{shape:y},m,c);var A=u.getItemVisual(c,"color");d.useStyle(e.defaults({lineJoin:"bevel",fill:A},p.getModel("itemStyle").getItemStyle())),d.hoverStyle=p.getModel("emphasis.itemStyle").getItemStyle();var S=p.getShallow("cursor");S&&d.attr("cursor",S),a(this,u.getItemLayout(c),m.isSelected(u.getName(c)),m.get("selectedOffset"),m.get("animation"));var _=!f&&x==="transition";this._updateLabel(u,c,_),this.highDownOnUpdate=m.get("silent")?null:function(w,C){var M=m.isAnimationEnabled()&&p.get("hoverAnimation");C==="emphasis"?(h.ignore=h.hoverIgnore,v.ignore=v.hoverIgnore,M&&(d.stopAnimation(!0),d.animateTo({shape:{r:g.r+m.get("hoverOffset")}},300,"elasticOut"))):(h.ignore=h.normalIgnore,v.ignore=v.normalIgnore,M&&(d.stopAnimation(!0),d.animateTo({shape:{r:g.r}},300,"elasticOut")))},t.setHoverStyle(this)},o._updateLabel=function(u,c,f){var d=this.childAt(1),h=this.childAt(2),v=u.hostModel,m=u.getItemModel(c),p=u.getItemLayout(c),g=p.label,w=u.getItemVisual(c,"color");if(!g||isNaN(g.x)||isNaN(g.y)){h.ignore=h.normalIgnore=h.hoverIgnore=d.ignore=d.normalIgnore=d.hoverIgnore=!0;return}var y={points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]},x={x:g.x,y:g.y};f?(t.updateProps(d,{shape:y},v,c),t.updateProps(h,{style:x},v,c)):(d.attr({shape:y}),h.attr({style:x})),h.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var b=m.getModel("label"),A=m.getModel("emphasis.label"),S=m.getModel("labelLine"),_=m.getModel("emphasis.labelLine"),w=u.getItemVisual(c,"color");t.setLabelStyle(h.style,h.hoverStyle={},b,A,{labelFetcher:u.hostModel,labelDataIndex:c,defaultText:g.text,autoColor:w,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:u.getItemVisual(c,"opacity")}),h.ignore=h.normalIgnore=!b.get("show"),h.hoverIgnore=!A.get("show"),d.ignore=d.normalIgnore=!S.get("show"),d.hoverIgnore=!_.get("show"),d.setStyle({stroke:w,opacity:u.getItemVisual(c,"opacity")}),d.setStyle(S.getModel("lineStyle").getLineStyle()),d.hoverStyle=_.getModel("lineStyle").getLineStyle();var C=S.get("smooth");C&&C===!0&&(C=.4),d.setShape({smooth:C})},e.inherits(i,t.Group);var s=n.extend({type:"pie",init:function(){var u=new t.Group;this._sectorGroup=u},render:function(u,c,f,d){if(!(d&&d.from===this.uid)){var h=u.getData(),v=this._data,m=this.group,p=c.get("animation"),g=!v,y=u.get("animationType"),x=u.get("animationTypeUpdate"),b=e.curry(r,this.uid,u,p,f),A=u.get("selectedMode");if(h.diff(v).add(function(M){var T=new i(h,M);g&&y!=="scale"&&T.eachChild(function(E){E.stopAnimation(!0)}),A&&T.on("click",b),h.setItemGraphicEl(M,T),m.add(T)}).update(function(M,T){var E=v.getItemGraphicEl(T);!g&&x!=="transition"&&E.eachChild(function(P){P.stopAnimation(!0)}),E.updateData(h,M),E.off("click"),A&&E.on("click",b),m.add(E),h.setItemGraphicEl(M,E)}).remove(function(M){var T=v.getItemGraphicEl(M);m.remove(T)}).execute(),p&&h.count()>0&&(g?y!=="scale":x!=="transition")){for(var S=h.getItemLayout(0),_=1;isNaN(S.startAngle)&&_<h.count();++_)S=h.getItemLayout(_);var w=Math.max(f.getWidth(),f.getHeight())/2,C=e.bind(m.removeClipPath,m);m.setClipPath(this._createClipPath(S.cx,S.cy,w,S.startAngle,S.clockwise,C,u,g))}else m.removeClipPath();this._data=h}},dispose:function(){},_createClipPath:function(u,c,f,d,h,v,m,p){var g=new t.Sector({shape:{cx:u,cy:c,r0:0,r:f,startAngle:d,endAngle:d,clockwise:h}}),y=p?t.initProps:t.updateProps;return y(g,{shape:{endAngle:d+(h?1:-1)*Math.PI*2}},m,v),g},containPoint:function(u,c){var f=c.getData(),d=f.getItemLayout(0);if(d){var h=u[0]-d.cx,v=u[1]-d.cy,m=Math.sqrt(h*h+v*v);return m<=d.r&&m>=d.r0}}}),l=s;return J1=l,J1}var eb,GO;function WW(){if(GO)return eb;GO=1;var e=et,t=de;function n(r,a){t.each(a,function(i){i.update="updateView",e.registerAction(i,function(o,s){var l={};return s.eachComponent({mainType:"series",subType:r,query:o},function(u){u[i.method]&&u[i.method](o.name,o.dataIndex);var c=u.getData();c.each(function(f){var d=c.getName(f);l[d]=u.isSelected(d)||!1})}),{name:o.name,selected:l,seriesId:o.seriesId}})})}return eb=n,eb}var tb,WO;function Xy(){if(WO)return tb;WO=1;var e=de,t=e.createHashMap;function n(r){return{getTargetSeries:function(a){var i={},o=t();return a.eachSeriesByType(r,function(s){s.__paletteScope=i,o.set(s.uid,s)}),o},reset:function(a,i){var o=a.getRawData(),s={},l=a.getData();l.each(function(u){var c=l.getRawIndex(u);s[c]=u}),o.each(function(u){var c=s[u],f=c!=null&&l.getItemVisual(c,"color",!0),d=c!=null&&l.getItemVisual(c,"borderColor",!0),h;if((!f||!d)&&(h=o.getItemModel(u)),!f){var v=h.get("itemStyle.color")||a.getColorFromPalette(o.getName(u)||u+"",a.__paletteScope,o.count());c!=null&&l.setItemVisual(c,"color",v)}if(!d){var m=h.get("itemStyle.borderColor");c!=null&&l.setItemVisual(c,"borderColor",m)}})}}}return tb=n,tb}var nb,jO;function yge(){if(jO)return nb;jO=1;var e=wn,t=Rt(),n=t.parsePercent,r=Math.PI/180;function a(l,u,c,f,d,h,v,m,p,g){l.sort(function(E,P){return E.y-P.y});function y(E,P,R,I){for(var D=E;D<P&&!(l[D].y+R>p+v);D++)if(l[D].y+=R,D>E&&D+1<P&&l[D+1].y>l[D].y+l[D].height){x(D,R/2);return}x(P-1,R/2)}function x(E,P){for(var R=E;R>=0&&!(l[R].y-P<p||(l[R].y-=P,R>0&&l[R].y>l[R-1].y+l[R-1].height));R--);}function b(E,P,R,I,D,B){for(var F=(B>0,P?Number.MAX_VALUE:0),G=0,z=E.length;G<z;G++)if(E[G].labelAlignTo==="none"){var N=Math.abs(E[G].y-I),U=E[G].len,$=E[G].len2,k=N<D+U?Math.sqrt((D+U+$)*(D+U+$)-N*N):Math.abs(E[G].x-R);P&&k>=F&&(k=F-10),!P&&k<=F&&(k=F+10),E[G].x=R+k*B,F=k}}for(var A=0,S,_=l.length,w=[],C=[],M=0;M<_;M++){if(l[M].position==="outer"&&l[M].labelAlignTo==="labelLine"){var T=l[M].x-g;l[M].linePoints[1][0]+=T,l[M].x=g}S=l[M].y-A,S<0&&y(M,_,-S),A=l[M].y+l[M].height}v-A<0&&x(_-1,A-v);for(var M=0;M<_;M++)l[M].y>=c?C.push(l[M]):w.push(l[M]);b(w,!1,u,c,f,d),b(C,!0,u,c,f,d)}function i(l,u,c,f,d,h,v,m){for(var p=[],g=[],y=Number.MAX_VALUE,x=-Number.MAX_VALUE,b=0;b<l.length;b++)o(l[b])||(l[b].x<u?(y=Math.min(y,l[b].x),p.push(l[b])):(x=Math.max(x,l[b].x),g.push(l[b])));a(g,u,c,f,1,d,h,v,m,x),a(p,u,c,f,-1,d,h,v,m,y);for(var b=0;b<l.length;b++){var A=l[b];if(!o(A)){var S=A.linePoints;if(S){var _=A.labelAlignTo==="edge",w=A.textRect.width,C;_?A.x<u?C=S[2][0]-A.labelDistance-v-A.labelMargin:C=v+d-A.labelMargin-S[2][0]-A.labelDistance:A.x<u?C=A.x-v-A.bleedMargin:C=v+d-A.x-A.bleedMargin,C<A.textRect.width&&(A.text=e.truncateText(A.text,C,A.font),A.labelAlignTo==="edge"&&(w=e.getWidth(A.text,A.font)));var M=S[1][0]-S[2][0];_?A.x<u?S[2][0]=v+A.labelMargin+w+A.labelDistance:S[2][0]=v+d-A.labelMargin-w-A.labelDistance:(A.x<u?S[2][0]=A.x+A.labelDistance:S[2][0]=A.x-A.labelDistance,S[1][0]=S[2][0]+M),S[1][1]=S[2][1]=A.y}}}}function o(l){return l.position==="center"}function s(l,u,c,f,d,h){var v=l.getData(),m=[],p,g,y=!1,x=(l.get("minShowLabelAngle")||0)*r;v.each(function(b){var A=v.getItemLayout(b),S=v.getItemModel(b),_=S.getModel("label"),w=_.get("position")||S.get("emphasis.label.position"),C=_.get("distanceToLabelLine"),M=_.get("alignTo"),T=n(_.get("margin"),c),E=_.get("bleedMargin"),P=_.getFont(),R=S.getModel("labelLine"),I=R.get("length");I=n(I,c);var D=R.get("length2");if(D=n(D,c),!(A.angle<x)){var B=(A.startAngle+A.endAngle)/2,F=Math.cos(B),G=Math.sin(B),z,N,U,$;p=A.cx,g=A.cy;var k=l.getFormattedLabel(b,"normal")||v.getName(b),V=e.getBoundingRect(k,P,$,"top"),L=w==="inside"||w==="inner";if(w==="center")z=A.cx,N=A.cy,$="center";else{var O=(L?(A.r+A.r0)/2*F:A.r*F)+p,H=(L?(A.r+A.r0)/2*G:A.r*G)+g;if(z=O+F*3,N=H+G*3,!L){var j=O+F*(I+u-A.r),Y=H+G*(I+u-A.r),X=j+(F<0?-1:1)*D,Q=Y;M==="edge"?z=F<0?d+T:d+c-T:z=X+(F<0?-C:C),N=Q,U=[[O,H],[j,Y],[X,Q]]}$=L?"center":M==="edge"?F>0?"right":"left":F>0?"left":"right"}var K,Z=_.get("rotate");typeof Z=="number"?K=Z*(Math.PI/180):K=Z?F<0?-B+Math.PI:-B:0,y=!!K,A.label={x:z,y:N,position:w,height:V.height,len:I,len2:D,linePoints:U,textAlign:$,verticalAlign:"middle",rotation:K,inside:L,labelDistance:C,labelAlignTo:M,labelMargin:T,bleedMargin:E,textRect:V,text:k,font:P},L||m.push(A.label)}}),!y&&l.get("avoidLabelOverlap")&&i(m,p,g,u,c,f,d,h)}return nb=s,nb}var rb,YO;function xge(){if(YO)return rb;YO=1;var e=Rt(),t=e.parsePercent,n=e.linearMap,r=$t,a=yge(),i=de,o=Math.PI*2,s=Math.PI/180;function l(c,f){return r.getLayoutRect(c.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()})}function u(c,f,d,h){f.eachSeriesByType(c,function(v){var m=v.getData(),p=m.mapDimension("value"),g=l(v,d),y=v.get("center"),x=v.get("radius");i.isArray(x)||(x=[0,x]),i.isArray(y)||(y=[y,y]);var b=t(g.width,d.getWidth()),A=t(g.height,d.getHeight()),S=Math.min(b,A),_=t(y[0],b)+g.x,w=t(y[1],A)+g.y,C=t(x[0],S/2),M=t(x[1],S/2),T=-v.get("startAngle")*s,E=v.get("minAngle")*s,P=0;m.each(p,function(V){!isNaN(V)&&P++});var R=m.getSum(p),I=Math.PI/(R||P)*2,D=v.get("clockwise"),B=v.get("roseType"),F=v.get("stillShowZeroSum"),G=m.getDataExtent(p);G[0]=0;var z=o,N=0,U=T,$=D?1:-1;if(m.each(p,function(V,L){var O;if(isNaN(V)){m.setItemLayout(L,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:D,cx:_,cy:w,r0:C,r:B?NaN:M,viewRect:g});return}B!=="area"?O=R===0&&F?I:V*I:O=o/P,O<E?(O=E,z-=E):N+=V;var H=U+$*O;m.setItemLayout(L,{angle:O,startAngle:U,endAngle:H,clockwise:D,cx:_,cy:w,r0:C,r:B?n(V,G,[C,M]):M,viewRect:g}),U=H}),z<o&&P)if(z<=.001){var k=o/P;m.each(p,function(V,L){if(!isNaN(V)){var O=m.getItemLayout(L);O.angle=k,O.startAngle=T+$*L*k,O.endAngle=T+$*(L+1)*k}})}else I=z/N,U=T,m.each(p,function(V,L){if(!isNaN(V)){var O=m.getItemLayout(L),H=O.angle===E?E:V*I;O.startAngle=U,O.endAngle=U+$*H,U+=$*H}});a(v,M,g.width,g.height,g.x,g.y)})}return rb=u,rb}var ab,XO;function Ev(){if(XO)return ab;XO=1;function e(t){return{seriesType:t,reset:function(n,r){var a=r.findComponents({mainType:"legend"});if(!(!a||!a.length)){var i=n.getData();i.filterSelf(function(o){for(var s=i.getName(o),l=0;l<a.length;l++)if(!a[l].isSelected(s))return!1;return!0})}}}}return ab=e,ab}var qO;function bge(){if(qO)return FO;qO=1;var e=et,t=de;gge(),mge();var n=WW(),r=Xy(),a=xge(),i=Ev();return n("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(r("pie")),e.registerLayout(t.curry(a,"pie")),e.registerProcessor(i("pie")),FO}var KO={},ib,ZO;function Sge(){if(ZO)return ib;ZO=1;var e=us(),t=xr,n=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(r,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});return ib=n,ib}var QO={},ob,JO;function _ge(){if(JO)return ob;JO=1;var e=$e,t=li(),n=t.createSymbol,r=$E,a=4,i=e.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(u,c){var f=c.points,d=c.size,h=this.symbolProxy,v=h.shape,m=u.getContext?u.getContext():u,p=m&&d[0]<a;if(!p)for(var g=0;g<f.length;){var y=f[g++],x=f[g++];isNaN(y)||isNaN(x)||this.softClipShape&&!this.softClipShape.contain(y,x)||(v.x=y-d[0]/2,v.y=x-d[1]/2,v.width=d[0],v.height=d[1],h.buildPath(u,v,!0))}},afterBrush:function(u){var c=this.shape,f=c.points,d=c.size,h=d[0]<a;if(h){this.setTransform(u);for(var v=0;v<f.length;){var m=f[v++],p=f[v++];isNaN(m)||isNaN(p)||this.softClipShape&&!this.softClipShape.contain(m,p)||u.fillRect(m-d[0]/2,p-d[1]/2,d[0],d[1])}this.restoreTransform(u)}},findDataIndex:function(u,c){for(var f=this.shape,d=f.points,h=f.size,v=Math.max(h[0],4),m=Math.max(h[1],4),p=d.length/2-1;p>=0;p--){var g=p*2,y=d[g]-v/2,x=d[g+1]-m/2;if(u>=y&&c>=x&&u<=y+v&&c<=x+m)return p}return-1}});function o(){this.group=new e.Group}var s=o.prototype;s.isPersistent=function(){return!this._incremental},s.updateData=function(u,c){this.group.removeAll();var f=new i({rectHover:!0,cursor:"default"});f.setShape({points:u.getLayout("symbolPoints")}),this._setCommon(f,u,!1,c),this.group.add(f),this._incremental=null},s.updateLayout=function(u){if(!this._incremental){var c=u.getLayout("symbolPoints");this.group.eachChild(function(f){if(f.startIndex!=null){var d=(f.endIndex-f.startIndex)*2,h=f.startIndex*4*2;c=new Float32Array(c.buffer,h,d)}f.setShape("points",c)})}},s.incrementalPrepareUpdate=function(u){this.group.removeAll(),this._clearIncremental(),u.count()>2e6?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},s.incrementalUpdate=function(u,c,f){var d;this._incremental?(d=new i,this._incremental.addDisplayable(d,!0)):(d=new i({rectHover:!0,cursor:"default",startIndex:u.start,endIndex:u.end}),d.incremental=!0,this.group.add(d)),d.setShape({points:c.getLayout("symbolPoints")}),this._setCommon(d,c,!!this._incremental,f)},s._setCommon=function(u,c,f,d){var h=c.hostModel;d=d||{};var v=c.getVisual("symbolSize");u.setShape("size",v instanceof Array?v:[v,v]),u.softClipShape=d.clipShape||null,u.symbolProxy=n(c.getVisual("symbol"),0,0,0,0),u.setColor=u.symbolProxy.setColor;var m=u.shape.size[0]<a;u.useStyle(h.getModel("itemStyle").getItemStyle(m?["color","shadowBlur","shadowColor"]:["color"]));var p=c.getVisual("color");p&&u.setColor(p),f||(u.seriesIndex=h.seriesIndex,u.on("mousemove",function(g){u.dataIndex=null;var y=u.findDataIndex(g.offsetX,g.offsetY);y>=0&&(u.dataIndex=y+(u.startIndex||0))}))},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._clearIncremental=function(){var u=this._incremental;u&&u.clearDisplaybles()};var l=o;return ob=l,ob}var eN;function Age(){if(eN)return QO;eN=1;var e=et,t=Av(),n=_ge(),r=Cv();return e.extendChartView({type:"scatter",render:function(a,i,o){var s=a.getData(),l=this._updateSymbolDraw(s,a);l.updateData(s,{clipShape:this._getClipShape(a)}),this._finished=!0},incrementalPrepareRender:function(a,i,o){var s=a.getData(),l=this._updateSymbolDraw(s,a);l.incrementalPrepareUpdate(s),this._finished=!1},incrementalRender:function(a,i,o){this._symbolDraw.incrementalUpdate(a,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=a.end===i.getData().count()},updateTransform:function(a,i,o){var s=a.getData();if(this.group.dirty(),!this._finished||s.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var l=r().reset(a);l.progress&&l.progress({start:0,end:s.count()},s),this._symbolDraw.updateLayout(s)},_getClipShape:function(a){var i=a.coordinateSystem,o=i&&i.getArea&&i.getArea();return a.get("clip",!0)?o:null},_updateSymbolDraw:function(a,i){var o=this._symbolDraw,s=i.pipelineContext,l=s.large;return(!o||l!==this._isLargeDraw)&&(o&&o.remove(),o=this._symbolDraw=l?new n:new t,this._isLargeDraw=l,this.group.removeAll()),this.group.add(o.group),o},remove:function(a,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),QO}var tN;function wge(){if(tN)return KO;tN=1;var e=et;Sge(),Age();var t=Mu(),n=Cv();return Mv(),e.registerVisual(t("scatter","circle")),e.registerLayout(n("scatter")),KO}var nN={},rN={},sb,aN;function Cge(){if(aN)return sb;aN=1;var e=de,t=cl();function n(a,i,o){t.call(this,a,i,o),this.type="value",this.angle=0,this.name="",this.model}e.inherits(n,t);var r=n;return sb=r,sb}var lb,iN;function Mge(){if(iN)return lb;iN=1;var e=de,t=Cge(),n=$y(),r=Rt(),a=Fi(),i=a.getScaleExtent,o=a.niceScaleExtent,s=So,l=DW();function u(f,d,h){this._model=f,this.dimensions=[],this._indicatorAxes=e.map(f.getIndicatorModels(),function(v,m){var p="indicator_"+m,g=new t(p,v.get("axisType")==="log"?new l:new n);return g.name=v.get("name"),g.model=v,v.axis=g,this.dimensions.push(p),g},this),this.resize(f,h),this.cx,this.cy,this.r,this.r0,this.startAngle}u.prototype.getIndicatorAxes=function(){return this._indicatorAxes},u.prototype.dataToPoint=function(f,d){var h=this._indicatorAxes[d];return this.coordToPoint(h.dataToCoord(f),d)},u.prototype.coordToPoint=function(f,d){var h=this._indicatorAxes[d],v=h.angle,m=this.cx+f*Math.cos(v),p=this.cy-f*Math.sin(v);return[m,p]},u.prototype.pointToData=function(f){var d=f[0]-this.cx,h=f[1]-this.cy,v=Math.sqrt(d*d+h*h);d/=v,h/=v;for(var m=Math.atan2(-h,d),p=1/0,g,y=-1,x=0;x<this._indicatorAxes.length;x++){var b=this._indicatorAxes[x],A=Math.abs(m-b.angle);A<p&&(g=b,y=x,p=A)}return[y,+(g&&g.coordToData(v))]},u.prototype.resize=function(f,d){var h=f.get("center"),v=d.getWidth(),m=d.getHeight(),p=Math.min(v,m)/2;this.cx=r.parsePercent(h[0],v),this.cy=r.parsePercent(h[1],m),this.startAngle=f.get("startAngle")*Math.PI/180;var g=f.get("radius");(typeof g=="string"||typeof g=="number")&&(g=[0,g]),this.r0=r.parsePercent(g[0],p),this.r=r.parsePercent(g[1],p),e.each(this._indicatorAxes,function(y,x){y.setExtent(this.r0,this.r);var b=this.startAngle+x*Math.PI*2/this._indicatorAxes.length;b=Math.atan2(Math.sin(b),Math.cos(b)),y.angle=b},this)},u.prototype.update=function(f,d){var h=this._indicatorAxes,v=this._model;e.each(h,function(g){g.scale.setExtent(1/0,-1/0)}),f.eachSeriesByType("radar",function(g,y){if(!(g.get("coordinateSystem")!=="radar"||f.getComponent("radar",g.get("radarIndex"))!==v)){var x=g.getData();e.each(h,function(b){b.scale.unionExtentFromData(x,x.mapDimension(b.dim))})}},this);var m=v.get("splitNumber");function p(g){var y=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),x=g/y;return x===2?x=5:x*=2,x*y}e.each(h,function(g,y){var x=i(g.scale,g.model).extent;o(g.scale,g.model);var b=g.model,A=g.scale,S=b.getMin(),_=b.getMax(),w=A.getInterval();if(S!=null&&_!=null)A.setExtent(+S,+_),A.setInterval((_-S)/m);else if(S!=null){var C;do C=S+w*m,A.setExtent(+S,C),A.setInterval(w),w=p(w);while(C<x[1]&&isFinite(C)&&isFinite(x[1]))}else if(_!=null){var M;do M=_-w*m,A.setExtent(M,+_),A.setInterval(w),w=p(w);while(M>x[0]&&isFinite(M)&&isFinite(x[0]))}else{var T=A.getTicks().length-1;T>m&&(w=p(w));var C=Math.ceil(x[1]/w)*w,M=r.round(C-w*m);A.setExtent(M,C),A.setInterval(w)}})},u.dimensions=[],u.create=function(f,d){var h=[];return f.eachComponent("radar",function(v){var m=new u(v,f,d);h.push(m),v.coordinateSystem=m}),f.eachSeriesByType("radar",function(v){v.get("coordinateSystem")==="radar"&&(v.coordinateSystem=h[v.get("radarIndex")||0])}),h},s.register("radar",u);var c=u;return lb=c,lb}var ub,oN;function Tge(){if(oN)return ub;oN=1;var e=et,t=de,n=VW(),r=Jn,a=zf(),i=n.valueAxis;function o(u,c){return t.defaults({show:c},u)}var s=e.extendComponentModel({type:"radar",optionUpdated:function(){var u=this.get("boundaryGap"),c=this.get("splitNumber"),f=this.get("scale"),d=this.get("axisLine"),h=this.get("axisTick"),v=this.get("axisType"),m=this.get("axisLabel"),p=this.get("name"),g=this.get("name.show"),y=this.get("name.formatter"),x=this.get("nameGap"),b=this.get("triggerEvent"),A=t.map(this.get("indicator")||[],function(S){S.max!=null&&S.max>0&&!S.min?S.min=0:S.min!=null&&S.min<0&&!S.max&&(S.max=0);var _=p;if(S.color!=null&&(_=t.defaults({color:S.color},p)),S=t.merge(t.clone(S),{boundaryGap:u,splitNumber:c,scale:f,axisLine:d,axisTick:h,axisType:v,axisLabel:m,name:S.text,nameLocation:"end",nameGap:x,nameTextStyle:_,triggerEvent:b},!1),g||(S.name=""),typeof y=="string"){var w=S.name;S.name=y.replace("{value}",w??"")}else typeof y=="function"&&(S.name=y(S.name,S));var C=t.extend(new r(S,null,this.ecModel),a);return C.mainType="radar",C.componentIndex=this.componentIndex,C},this);this.getIndicatorModels=function(){return A}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},i.axisLine),axisLabel:o(i.axisLabel,!1),axisTick:o(i.axisTick,!1),axisType:"interval",splitLine:o(i.splitLine,!0),splitArea:o(i.splitArea,!0),indicator:[]}}),l=s;return ub=l,ub}var cb,sN;function Ege(){if(sN)return cb;sN=1;var e=et,t=de,n=fl(),r=$e,a=["axisLine","axisTickLabel","axisName"],i=e.extendComponentView({type:"radar",render:function(o,s,l){var u=this.group;u.removeAll(),this._buildAxes(o),this._buildSplitLineAndArea(o)},_buildAxes:function(o){var s=o.coordinateSystem,l=s.getIndicatorAxes(),u=t.map(l,function(c){var f=new n(c.model,{position:[s.cx,s.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return f});t.each(u,function(c){t.each(a,c.add,c),this.group.add(c.getGroup())},this)},_buildSplitLineAndArea:function(o){var s=o.coordinateSystem,l=s.getIndicatorAxes();if(!l.length)return;var u=o.get("shape"),c=o.getModel("splitLine"),f=o.getModel("splitArea"),d=c.getModel("lineStyle"),h=f.getModel("areaStyle"),v=c.get("show"),m=f.get("show"),p=d.get("color"),g=h.get("color");p=t.isArray(p)?p:[p],g=t.isArray(g)?g:[g];var y=[],x=[];function b(B,F,G){var z=G%F.length;return B[z]=B[z]||[],z}if(u==="circle")for(var A=l[0].getTicksCoords(),S=s.cx,_=s.cy,w=0;w<A.length;w++){if(v){var C=b(y,p,w);y[C].push(new r.Circle({shape:{cx:S,cy:_,r:A[w].coord}}))}if(m&&w<A.length-1){var C=b(x,g,w);x[C].push(new r.Ring({shape:{cx:S,cy:_,r0:A[w].coord,r:A[w+1].coord}}))}}else for(var M,T=t.map(l,function(B,F){var G=B.getTicksCoords();return M=M==null?G.length-1:Math.min(G.length-1,M),t.map(G,function(z){return s.coordToPoint(z.coord,F)})}),E=[],w=0;w<=M;w++){for(var P=[],R=0;R<l.length;R++)P.push(T[R][w]);if(P[0]&&P.push(P[0].slice()),v){var C=b(y,p,w);y[C].push(new r.Polyline({shape:{points:P}}))}if(m&&E){var C=b(x,g,w-1);x[C].push(new r.Polygon({shape:{points:P.concat(E)}}))}E=P.slice().reverse()}var I=d.getLineStyle(),D=h.getAreaStyle();t.each(x,function(B,F){this.group.add(r.mergePath(B,{style:t.defaults({stroke:"none",fill:g[F%g.length]},D),silent:!0}))},this),t.each(y,function(B,F){this.group.add(r.mergePath(B,{style:t.defaults({fill:"none",stroke:p[F%p.length]},I),silent:!0}))},this)}});return cb=i,cb}var lN;function Pge(){return lN||(lN=1,Mge(),Tge(),Ege()),rN}var fb,uN;function Rge(){if(uN)return fb;uN=1;var e=xr,t=Uf(),n=de,r=Gt,a=r.encodeHTML,i=Tv(),o=e.extend({type:"series.radar",dependencies:["radar"],init:function(l){o.superApply(this,"init",arguments),this.legendVisualProvider=new i(n.bind(this.getData,this),n.bind(this.getRawData,this))},getInitialData:function(l,u){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(l,u,c,f){var d=this.getData(),h=this.coordinateSystem,v=h.getIndicatorAxes(),m=this.getData().getName(l),p=f==="html"?"<br/>":`
`;return a(m===""?this.name:m)+p+n.map(v,function(g,y){var x=d.get(d.mapDimension(g.dim),l);return a(g.name+" : "+x)}).join(p)},getTooltipPosition:function(l){if(l!=null){for(var u=this.getData(),c=this.coordinateSystem,f=u.getValues(n.map(c.dimensions,function(m){return u.mapDimension(m)}),l,!0),d=0,h=f.length;d<h;d++)if(!isNaN(f[d])){var v=c.getIndicatorAxes();return c.coordToPoint(v[d].dataToCoord(f[d]),d)}}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),s=o;return fb=s,fb}var db,cN;function Ige(){if(cN)return db;cN=1;var e=et,t=$e,n=de,r=li();function a(o){return n.isArray(o)||(o=[+o,+o]),o}var i=e.extendChartView({type:"radar",render:function(o,s,l){var u=o.coordinateSystem,c=this.group,f=o.getData(),d=this._data;function h(p,g){var y=p.getItemVisual(g,"symbol")||"circle",x=p.getItemVisual(g,"color");if(y!=="none"){var b=a(p.getItemVisual(g,"symbolSize")),A=r.createSymbol(y,-1,-1,2,2,x),S=p.getItemVisual(g,"symbolRotate")||0;return A.attr({style:{strokeNoScale:!0},z2:100,scale:[b[0]/2,b[1]/2],rotation:S*Math.PI/180||0}),A}}function v(p,g,y,x,b,A){y.removeAll();for(var S=0;S<g.length-1;S++){var _=h(x,b);_&&(_.__dimIdx=S,p[S]?(_.attr("position",p[S]),t[A?"initProps":"updateProps"](_,{position:g[S]},o,b)):_.attr("position",g[S]),y.add(_))}}function m(p){return n.map(p,function(g){return[u.cx,u.cy]})}f.diff(d).add(function(p){var g=f.getItemLayout(p);if(g){var y=new t.Polygon,x=new t.Polyline,b={shape:{points:g}};y.shape.points=m(g),x.shape.points=m(g),t.initProps(y,b,o,p),t.initProps(x,b,o,p);var A=new t.Group,S=new t.Group;A.add(x),A.add(y),A.add(S),v(x.shape.points,g,S,f,p,!0),f.setItemGraphicEl(p,A)}}).update(function(p,g){var y=d.getItemGraphicEl(g),x=y.childAt(0),b=y.childAt(1),A=y.childAt(2),S={shape:{points:f.getItemLayout(p)}};S.shape.points&&(v(x.shape.points,S.shape.points,A,f,p,!1),t.updateProps(x,S,o),t.updateProps(b,S,o),f.setItemGraphicEl(p,y))}).remove(function(p){c.remove(d.getItemGraphicEl(p))}).execute(),f.eachItemGraphicEl(function(p,g){var y=f.getItemModel(g),x=p.childAt(0),b=p.childAt(1),A=p.childAt(2),S=f.getItemVisual(g,"color");c.add(p),x.useStyle(n.defaults(y.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),x.hoverStyle=y.getModel("emphasis.lineStyle").getLineStyle();var _=y.getModel("areaStyle"),w=y.getModel("emphasis.areaStyle"),C=_.isEmpty()&&_.parentModel.isEmpty(),M=w.isEmpty()&&w.parentModel.isEmpty();M=M&&C,b.ignore=C,b.useStyle(n.defaults(_.getAreaStyle(),{fill:S,opacity:.7})),b.hoverStyle=w.getAreaStyle();var T=y.getModel("itemStyle").getItemStyle(["color"]),E=y.getModel("emphasis.itemStyle").getItemStyle(),P=y.getModel("label"),R=y.getModel("emphasis.label");A.eachChild(function(I){I.setStyle(T),I.hoverStyle=n.clone(E);var D=f.get(f.dimensions[I.__dimIdx],g);(D==null||isNaN(D))&&(D=""),t.setLabelStyle(I.style,I.hoverStyle,P,R,{labelFetcher:f.hostModel,labelDataIndex:g,labelDimIndex:I.__dimIdx,defaultText:D,autoColor:S,isRectText:!0})}),p.highDownOnUpdate=function(I,D){b.attr("ignore",D==="emphasis"?M:C)},t.setHoverStyle(p)}),this._data=f},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return db=i,db}var hb,fN;function Dge(){if(fN)return hb;fN=1;var e=de;function t(a){a.eachSeriesByType("radar",function(i){var o=i.getData(),s=[],l=i.coordinateSystem;if(l){var u=l.getIndicatorAxes();e.each(u,function(c,f){o.each(o.mapDimension(u[f].dim),function(d,h){s[h]=s[h]||[];var v=l.dataToPoint(d,f);s[h][f]=n(v)?v:r(l)})}),o.each(function(c){var f=e.find(s[c],function(d){return n(d)})||r(l);s[c].push(f.slice()),o.setItemLayout(c,s[c])})}})}function n(a){return!isNaN(a[0])&&!isNaN(a[1])}function r(a){return[a.cx,a.cy]}return hb=t,hb}var vb,dN;function Lge(){if(dN)return vb;dN=1;var e=de;function t(n){var r=n.polar;if(r){e.isArray(r)||(r=[r]);var a=[];e.each(r,function(i,o){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],e.isArray(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):a.push(i)}),n.polar=a}e.each(n.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}return vb=t,vb}var hN;function Oge(){if(hN)return nN;hN=1;var e=et;Pge(),Rge(),Ige();var t=Xy(),n=Mu(),r=Dge(),a=Ev(),i=Lge();return e.registerVisual(t("radar")),e.registerVisual(n("radar","circle")),e.registerLayout(r),e.registerProcessor(a("radar")),e.registerPreprocessor(i),nN}var vN={},pb,pN;function Nge(){if(pN)return pb;pN=1;for(var e=de,t=OW(),n=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<r.length;a++)for(var i=0;i<r[a].length;i++)r[a][i][0]/=10.5,r[a][i][1]/=-10.5/.75,r[a][i][0]+=n[0],r[a][i][1]+=n[1];function o(s,l){s==="china"&&l.push(new t("南海诸岛",e.map(r,function(u){return{type:"polygon",exterior:u}}),n))}return pb=o,pb}var gb,gN;function kge(){if(gN)return gb;gN=1;var e={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function t(n,r){if(n==="china"){var a=e[r.name];if(a){var i=r.center;i[0]+=a[0]/10.5,i[1]+=-a[1]/(10.5/.75)}}}return gb=t,gb}var mb,mN;function Bge(){if(mN)return mb;mN=1;var e={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function t(n,r){if(n==="world"){var a=e[r.name];if(a){var i=r.center;i[0]=a[0],i[1]=a[1]}}}return mb=t,mb}var yb,yN;function Fge(){if(yN)return yb;yN=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(n,r){n==="china"&&r.name==="台湾"&&r.geometries.push({type:"polygon",exterior:e[0]})}return yb=t,yb}var xb,xN;function Vge(){if(xN)return xb;xN=1;var e=de,t=e.each,n=NW(),r=bt,a=r.makeInner,i=Nge(),o=kge(),s=Bge(),l=Fge(),u=a(),c={load:function(d,h,v){var m=u(h).parsed;if(m)return m;var p=h.specialAreas||{},g=h.geoJSON,y;try{y=g?n(g,v):[]}catch(x){throw new Error(`Invalid geoJson format
`+x.message)}return i(d,y),t(y,function(x){var b=x.name;o(d,x),s(d,x),l(d,x);var A=p[b];A&&x.transformTo(A.left,A.top,A.width,A.height)}),u(h).parsed={regions:y,boundingRect:f(y)}}};function f(d){for(var h,v=0;v<d.length;v++){var m=d[v].getBoundingRect();h=h||m.clone(),h.union(m)}return h}return xb=c,xb}var bb,bN;function zge(){if(bN)return bb;bN=1;var e=xv,t=e.parseSVG,n=e.makeViewBoxTransform,r=Su,a=UE,i=de,o=i.assert,s=i.createHashMap,l=In,u=bt,c=u.makeInner,f=c(),d={load:function(v,m){var p=f(m).originRoot;if(p)return{root:p,boundingRect:f(m).boundingRect};var g=h(m);return f(m).originRoot=g.root,f(m).boundingRect=g.boundingRect,g},makeGraphic:function(v,m,p){var g=f(m),y=g.rootMap||(g.rootMap=s()),x=y.get(p);if(x)return x;var b=g.originRoot,A=g.boundingRect;return g.originRootHostKey?x=h(m,A).root:(g.originRootHostKey=p,x=b),y.set(p,x)},removeGraphic:function(v,m,p){var g=f(m),y=g.rootMap;y&&y.removeKey(p),p===g.originRootHostKey&&(g.originRootHostKey=null)}};function h(v,m){var p=v.svgXML,g,y;try{g=p&&t(p,{ignoreViewBox:!0,ignoreRootClip:!0})||{},y=g.root,o(y!=null)}catch(w){throw new Error(`Invalid svg format
`+w.message)}var x=g.width,b=g.height,A=g.viewBoxRect;if(m||(m=x==null||b==null?y.getBoundingRect():new l(0,0,0,0),x!=null&&(m.width=x),b!=null&&(m.height=b)),A){var S=n(A,m.width,m.height),_=y;y=new r,y.add(_),_.scale=S.scale,_.position=S.position}return y.setClipPath(new a({shape:m.plain()})),{root:y,boundingRect:m}}return bb=d,bb}var Sb,SN;function qy(){if(SN)return Sb;SN=1;var e=de,t=e.each,n=e.createHashMap,r=fP,a=Vge(),i=zge(),o=In,s={geoJSON:a,svg:i},l={load:function(f,d,h){var v=[],m=n(),p=n(),g,y=c(f);return t(y,function(x){var b=s[x.type].load(f,x,h);t(b.regions,function(S){var _=S.name;d&&d.hasOwnProperty(_)&&(S=S.cloneShallow(_=d[_])),v.push(S),m.set(_,S),p.set(_,S.center)});var A=b.boundingRect;A&&(g?g.union(A):g=A.clone())}),{regions:v,regionsMap:m,nameCoordMap:p,boundingRect:g||new o(0,0,0,0)}},makeGraphic:u("makeGraphic"),removeGraphic:u("removeGraphic")};function u(f){return function(d,h){var v=c(d),m=[];return t(v,function(p){var g=s[p.type][f];g&&m.push(g(d,p,h))}),m}}function c(f){var d=r.retrieveMap(f)||[];return d}return Sb=l,Sb}var _b,_N;function Uge(){if(_N)return _b;_N=1;var e=de,t=Uf(),n=xr,r=Gt,a=r.encodeHTML,i=r.addCommas,o=vP(),s=ki,l=s.retrieveRawAttr,u=qy(),c=Br,f=c.makeSeriesEncodeForNameBased,d=n.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(v){for(var m=t(this,{coordDimensions:["value"],encodeDefaulter:e.curry(f,this)}),p=m.mapDimension("value"),g=e.createHashMap(),y=[],x=[],b=0,A=m.count();b<A;b++){var S=m.getName(b);g.set(S,!0),y.push({name:S,value:m.get(p,b),selected:l(m,b,"selected")})}var _=u.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return e.each(_.regions,function(w){var C=w.name;g.get(C)||(y.push({name:C}),x.push(C))}),this.updateSelectedMap(y),m.appendValues([],x),m},getHostGeoModel:function(){var v=this.option.geoIndex;return v!=null?this.dependentModels.geo[v]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(v){var m=this.getData();return m.get(m.mapDimension("value"),v)},getRegionModel:function(v){var m=this.getData();return m.getItemModel(m.indexOfName(v))},formatTooltip:function(v,m,p,g){for(var y=this.getData(),x=i(this.getRawValue(v)),b=y.getName(v),A=this.seriesGroup,S=[],_=0;_<A.length;_++){var w=A[_].originalData.indexOfName(b),C=y.mapDimension("value");isNaN(A[_].originalData.get(C,w))||S.push(a(A[_].name))}var M=g==="html"?"<br/>":`
`;return S.join(", ")+M+a(b+" : "+x)},getTooltipPosition:function(v){if(v!=null){var m=this.getData().getName(v),p=this.coordinateSystem,g=p.getRegion(m);return g&&p.dataToPoint(g.center)}},setZoom:function(v){this.option.zoom=v},setCenter:function(v){this.option.center=v},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});e.mixin(d,o);var h=d;return _b=h,_b}var Sd={},AN;function jW(){if(AN)return Sd;AN=1;var e=et,t="\0_ec_interaction_mutex";function n(o,s,l){var u=i(o);u[s]=l}function r(o,s,l){var u=i(o),c=u[s];c===l&&(u[s]=null)}function a(o,s){return!!i(o)[s]}function i(o){return o[t]||(o[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Sd.take=n,Sd.release=r,Sd.isTaken=a,Sd}var Ab,wN;function Pv(){if(wN)return Ab;wN=1;var e=de,t=bu,n=mr,r=jW();function a(v){this.pointerChecker,this._zr=v,this._opt={};var m=e.bind,p=m(i,this),g=m(o,this),y=m(s,this),x=m(l,this),b=m(u,this);t.call(this),this.setPointerChecker=function(A){this.pointerChecker=A},this.enable=function(A,S){this.disable(),this._opt=e.defaults(e.clone(S)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),A==null&&(A=!0),(A===!0||A==="move"||A==="pan")&&(v.on("mousedown",p),v.on("mousemove",g),v.on("mouseup",y)),(A===!0||A==="scale"||A==="zoom")&&(v.on("mousewheel",x),v.on("pinch",b))},this.disable=function(){v.off("mousedown",p),v.off("mousemove",g),v.off("mouseup",y),v.off("mousewheel",x),v.off("pinch",b)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(a,t);function i(v){if(!(n.isMiddleOrRightButtonOnMouseUpDown(v)||v.target&&v.target.draggable)){var m=v.offsetX,p=v.offsetY;this.pointerChecker&&this.pointerChecker(v,m,p)&&(this._x=m,this._y=p,this._dragging=!0)}}function o(v){if(!(!this._dragging||!d("moveOnMouseMove",v,this._opt)||v.gestureEvent==="pinch"||r.isTaken(this._zr,"globalPan"))){var m=v.offsetX,p=v.offsetY,g=this._x,y=this._y,x=m-g,b=p-y;this._x=m,this._y=p,this._opt.preventDefaultMouseMove&&n.stop(v.event),f(this,"pan","moveOnMouseMove",v,{dx:x,dy:b,oldX:g,oldY:y,newX:m,newY:p})}}function s(v){n.isMiddleOrRightButtonOnMouseUpDown(v)||(this._dragging=!1)}function l(v){var m=d("zoomOnMouseWheel",v,this._opt),p=d("moveOnMouseWheel",v,this._opt),g=v.wheelDelta,y=Math.abs(g),x=v.offsetX,b=v.offsetY;if(!(g===0||!m&&!p)){if(m){var A=y>3?1.4:y>1?1.2:1.1,S=g>0?A:1/A;c(this,"zoom","zoomOnMouseWheel",v,{scale:S,originX:x,originY:b})}if(p){var _=Math.abs(g),w=(g>0?1:-1)*(_>3?.4:_>1?.15:.05);c(this,"scrollMove","moveOnMouseWheel",v,{scrollDelta:w,originX:x,originY:b})}}}function u(v){if(!r.isTaken(this._zr,"globalPan")){var m=v.pinchScale>1?1.1:1/1.1;c(this,"zoom",null,v,{scale:m,originX:v.pinchX,originY:v.pinchY})}}function c(v,m,p,g,y){v.pointerChecker&&v.pointerChecker(g,y.originX,y.originY)&&(n.stop(g.event),f(v,m,p,g,y))}function f(v,m,p,g,y){y.isAvailableBehavior=e.bind(d,null,p,g),v.trigger(m,y)}function d(v,m,p){var g=p[v];return!v||g&&(!e.isString(g)||m.event[g+"Key"])}var h=a;return Ab=h,Ab}var Ep={},CN;function pP(){if(CN)return Ep;CN=1;function e(n,r,a){var i=n.target,o=i.position;o[0]+=r,o[1]+=a,i.dirty()}function t(n,r,a,i){var o=n.target,s=n.zoomLimit,l=o.position,u=o.scale,c=n.zoom=n.zoom||1;if(c*=r,s){var f=s.min||0,d=s.max||1/0;c=Math.max(Math.min(d,c),f)}var h=c/n.zoom;n.zoom=c,l[0]-=(a-l[0])*(h-1),l[1]-=(i-l[1])*(h-1),u[0]*=h,u[1]*=h,o.dirty()}return Ep.updateViewOnPan=e,Ep.updateViewOnZoom=t,Ep}var wb={},MN;function Ky(){if(MN)return wb;MN=1;var e={axisPointer:1,tooltip:1,brush:1};function t(n,r,a){var i=r.getComponentByElement(n.topTarget),o=i&&i.coordinateSystem;return i&&i!==a&&!e[i.mainType]&&o&&o.model!==a}return wb.onIrrelevantElement=t,wb}var Cb,TN;function YW(){if(TN)return Cb;TN=1;var e=de,t=Pv(),n=pP(),r=Ky(),a=r.onIrrelevantElement,i=$e,o=qy(),s=sl,l=s.getUID,u=My;function c(m){var p=m.getItemStyle(),g=m.get("areaColor");return g!=null&&(p.fill=g),p}function f(m,p,g,y,x){g.off("click"),g.off("mousedown"),p.get("selectedMode")&&(g.on("mousedown",function(){m._mouseDownFlag=!0}),g.on("click",function(b){if(m._mouseDownFlag){m._mouseDownFlag=!1;for(var A=b.target;!A.__regions;)A=A.parent;if(A){var S={type:(p.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(A.__regions,function(_){return{name:_.name,from:x.uid}})};S[p.mainType+"Id"]=p.id,y.dispatchAction(S),d(p,g)}}}))}function d(m,p){p.eachChild(function(g){e.each(g.__regions,function(y){g.trigger(m.isSelected(y.name)?"emphasis":"normal")})})}function h(m,p){var g=new i.Group;this.uid=l("ec_map_draw"),this._controller=new t(m.getZr()),this._controllerHost={target:p?g:null},this.group=g,this._updateGroup=p,this._mouseDownFlag,this._mapName,this._initialized,g.add(this._regionsGroup=new i.Group),g.add(this._backgroundGroup=new i.Group)}h.prototype={constructor:h,draw:function(m,p,g,y,x){var b=m.mainType==="geo",A=m.getData&&m.getData();b&&p.eachComponent({mainType:"series",subType:"map"},function(N){!A&&N.getHostGeoModel()===m&&(A=N.getData())});var S=m.coordinateSystem;this._updateBackground(S);var _=this._regionsGroup,w=this.group,C=S.getTransformInfo(),M=!_.childAt(0)||x,T;if(M)w.transform=C.roamTransform,w.decomposeTransform(),w.dirty();else{var E=new u;E.transform=C.roamTransform,E.decomposeTransform();var P={scale:E.scale,position:E.position};T=E.scale,i.updateProps(w,P,m)}var R=C.rawScale,I=C.rawPosition;_.removeAll();var D=["itemStyle"],B=["emphasis","itemStyle"],F=["label"],G=["emphasis","label"],z=e.createHashMap();e.each(S.regions,function(N){var U=z.get(N.name)||z.set(N.name,new i.Group),$=new i.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});U.add($);var k=m.getRegionModel(N.name)||m,V=k.getModel(D),L=k.getModel(B),O=c(V),H=c(L),j=k.getModel(F),Y=k.getModel(G),X;if(A){X=A.indexOfName(N.name);var Q=A.getItemVisual(X,"color",!0);Q&&(O.fill=Q)}var K=function(ce){return[ce[0]*R[0]+I[0],ce[1]*R[1]+I[1]]};e.each(N.geometries,function(ce){if(ce.type==="polygon"){for(var ee=[],ne=0;ne<ce.exterior.length;++ne)ee.push(K(ce.exterior[ne]));$.shape.paths.push(new i.Polygon({segmentIgnoreThreshold:1,shape:{points:ee}}));for(var ne=0;ne<(ce.interiors?ce.interiors.length:0);++ne){for(var le=ce.interiors[ne],ee=[],he=0;he<le.length;++he)ee.push(K(le[he]));$.shape.paths.push(new i.Polygon({segmentIgnoreThreshold:1,shape:{points:ee}}))}}}),$.setStyle(O),$.style.strokeNoScale=!0,$.culling=!0;var Z=j.get("show"),te=Y.get("show"),oe=A&&isNaN(A.get(A.mapDimension("value"),X)),ue=A&&A.getItemLayout(X);if(b||oe&&(Z||te)||ue&&ue.showLabel){var se=b?N.name:X,me;(!A||X>=0)&&(me=m);var re=new i.Text({position:K(N.center.slice()),scale:[1/w.scale[0],1/w.scale[1]],z2:10,silent:!0});if(i.setLabelStyle(re.style,re.hoverStyle={},j,Y,{labelFetcher:me,labelDataIndex:se,defaultText:N.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),!M){var q=[1/T[0],1/T[1]];i.updateProps(re,{scale:q},m)}U.add(re)}if(A)A.setItemGraphicEl(X,U);else{var k=m.getRegionModel(N.name);$.eventData={componentType:"geo",componentIndex:m.componentIndex,geoIndex:m.componentIndex,name:N.name,region:k&&k.option||{}}}var ae=U.__regions||(U.__regions=[]);ae.push(N),U.highDownSilentOnTouch=!!m.get("selectedMode"),i.setHoverStyle(U,H),_.add(U)}),this._updateController(m,p,g),f(this,m,_,g,y),d(m,_)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&o.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(m){var p=m.map;this._mapName!==p&&e.each(o.makeGraphic(p,this.uid),function(g){this._backgroundGroup.add(g)},this),this._mapName=p},_updateController:function(m,p,g){var y=m.coordinateSystem,x=this._controller,b=this._controllerHost;b.zoomLimit=m.get("scaleLimit"),b.zoom=y.getZoom(),x.enable(m.get("roam")||!1);var A=m.mainType;function S(){var _={type:"geoRoam",componentType:A};return _[A+"Id"]=m.id,_}x.off("pan").on("pan",function(_){this._mouseDownFlag=!1,n.updateViewOnPan(b,_.dx,_.dy),g.dispatchAction(e.extend(S(),{dx:_.dx,dy:_.dy}))},this),x.off("zoom").on("zoom",function(_){if(this._mouseDownFlag=!1,n.updateViewOnZoom(b,_.scale,_.originX,_.originY),g.dispatchAction(e.extend(S(),{zoom:_.scale,originX:_.originX,originY:_.originY})),this._updateGroup){var w=this.group.scale;this._regionsGroup.traverse(function(C){C.type==="text"&&C.attr("scale",[1/w[0],1/w[1]])})}},this),x.setPointerChecker(function(_,w,C){return y.getViewRectAfterRoam().contain(w,C)&&!a(_,g,m)})}};var v=h;return Cb=v,Cb}var Mb,EN;function Hge(){if(EN)return Mb;EN=1;var e=et,t=de,n=$e,r=YW(),a="__seriesMapHighDown",i="__seriesMapCallKey",o=e.extendChartView({type:"map",render:function(u,c,f,d){if(!(d&&d.type==="mapToggleSelect"&&d.from===this.uid)){var h=this.group;if(h.removeAll(),!u.getHostGeoModel()){if(d&&d.type==="geoRoam"&&d.componentType==="series"&&d.seriesId===u.id){var v=this._mapDraw;v&&h.add(v.group)}else if(u.needsDrawMap){var v=this._mapDraw||new r(f,!0);h.add(v.group),v.draw(u,c,f,this,d),this._mapDraw=v}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;u.get("showLegendSymbol")&&c.getComponent("legend")&&this._renderSymbols(u,c,f)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(u,c,f){var d=u.originalData,h=this.group;d.each(d.mapDimension("value"),function(v,m){if(!isNaN(v)){var p=d.getItemLayout(m);if(!(!p||!p.point)){var g=p.point,y=p.offset,x=new n.Circle({style:{fill:u.getData().getVisual("color")},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:n.Z2_EMPHASIS_LIFT+1)});if(!y){var b=u.mainSeries.getData(),A=d.getName(m),S=b.indexOfName(A),_=d.getItemModel(m),w=_.getModel("label"),C=_.getModel("emphasis.label"),M=b.getItemGraphicEl(S),T=t.retrieve2(u.getFormattedLabel(S,"normal"),A),E=t.retrieve2(u.getFormattedLabel(S,"emphasis"),T),P=M[a],R=Math.random();if(!P){P=M[a]={};var I=t.curry(s,!0),D=t.curry(s,!1);M.on("mouseover",I).on("mouseout",D).on("emphasis",I).on("normal",D)}M[i]=R,t.extend(P,{recordVersion:R,circle:x,labelModel:w,hoverLabelModel:C,emphasisText:E,normalText:T}),l(P,!1)}h.add(x)}}})}});function s(u){var c=this[a];c&&c.recordVersion===this[i]&&l(c,u)}function l(u,c){var f=u.circle,d=u.labelModel,h=u.hoverLabelModel,v=u.emphasisText,m=u.normalText;c?(f.style.extendFrom(n.setTextStyle({},h,{text:h.get("show")?v:null},{isRectText:!0,useInsideStyle:!1},!0)),f.__mapOriginalZ2=f.z2,f.z2+=n.Z2_EMPHASIS_LIFT):(n.setTextStyle(f.style,d,{text:d.get("show")?m:null,textPosition:d.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),f.dirty(!1),f.__mapOriginalZ2!=null&&(f.z2=f.__mapOriginalZ2,f.__mapOriginalZ2=null))}return Mb=o,Mb}var PN={},Tb={},RN;function gP(){if(RN)return Tb;RN=1;function e(t,n,r){var a=t.getZoom(),i=t.getCenter(),o=n.zoom,s=t.dataToPoint(i);if(n.dx!=null&&n.dy!=null){s[0]-=n.dx,s[1]-=n.dy;var i=t.pointToData(s);t.setCenter(i)}if(o!=null){if(r){var l=r.min||0,u=r.max||1/0;o=Math.max(Math.min(a*o,u),l)/a}t.scale[0]*=o,t.scale[1]*=o;var c=t.position,f=(n.originX-c[0])*(o-1),d=(n.originY-c[1])*(o-1);c[0]-=f,c[1]-=d,t.updateTransform();var i=t.pointToData(s);t.setCenter(i),t.setZoom(o*a)}return{center:t.getCenter(),zoom:t.getZoom()}}return Tb.updateCenterAndZoom=e,Tb}var IN;function XW(){if(IN)return PN;IN=1;var e=et,t=de,n=gP(),r=n.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,i){var o=a.componentType||"series";i.eachComponent({mainType:o,query:a},function(s){var l=s.coordinateSystem;if(l.type==="geo"){var u=r(l,a,s.get("scaleLimit"));s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom),o==="series"&&t.each(s.seriesGroup,function(c){c.setCenter(u.center),c.setZoom(u.zoom)})}})}),PN}var Eb,DN;function mP(){if(DN)return Eb;DN=1;var e=de,t=Pt,n=Vn,r=In,a=My,i=t.applyTransform;function o(){a.call(this)}e.mixin(o,a);function s(c){this.name=c,this.zoomLimit,a.call(this),this._roamTransformable=new o,this._rawTransformable=new o,this._center,this._zoom}s.prototype={constructor:s,type:"view",dimensions:["x","y"],setBoundingRect:function(c,f,d,h){return this._rect=new r(c,f,d,h),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(c,f,d,h){this.transformTo(c,f,d,h),this._viewRect=new r(c,f,d,h)},transformTo:function(c,f,d,h){var v=this.getBoundingRect(),m=this._rawTransformable;m.transform=v.calculateTransform(new r(c,f,d,h)),m.decomposeTransform(),this._updateTransform()},setCenter:function(c){c&&(this._center=c,this._updateCenterAndZoom())},setZoom:function(c){c=c||1;var f=this.zoomLimit;f&&(f.max!=null&&(c=Math.min(f.max,c)),f.min!=null&&(c=Math.max(f.min,c))),this._zoom=c,this._updateCenterAndZoom()},getDefaultCenter:function(){var c=this.getBoundingRect(),f=c.x+c.width/2,d=c.y+c.height/2;return[f,d]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var c=this._rawTransformable.getLocalTransform(),f=this._roamTransformable,d=this.getDefaultCenter(),h=this.getCenter(),v=this.getZoom();h=t.applyTransform([],h,c),d=t.applyTransform([],d,c),f.origin=h,f.position=[d[0]-h[0],d[1]-h[1]],f.scale=[v,v],this._updateTransform()},_updateTransform:function(){var c=this._roamTransformable,f=this._rawTransformable;f.parent=c,c.updateTransform(),f.updateTransform(),n.copy(this.transform||(this.transform=[]),f.transform||n.create()),this._rawTransform=f.getLocalTransform(),this.invTransform=this.invTransform||[],n.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var c=this._roamTransformable.transform,f=this._rawTransformable;return{roamTransform:c?e.slice(c):n.create(),rawScale:e.slice(f.scale),rawPosition:e.slice(f.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var c=this.getBoundingRect().clone();return c.applyTransform(this.transform),c},dataToPoint:function(c,f,d){var h=f?this._rawTransform:this.transform;return d=d||[],h?i(d,c,h):t.copy(d,c)},pointToData:function(c){var f=this.invTransform;return f?i([],c,f):[c[0],c[1]]},convertToPixel:e.curry(l,"dataToPoint"),convertFromPixel:e.curry(l,"pointToData"),containPoint:function(c){return this.getViewRectAfterRoam().contain(c[0],c[1])}},e.mixin(s,a);function l(c,f,d,h){var v=d.seriesModel,m=v?v.coordinateSystem:null;return m===this?m[c](h):null}var u=s;return Eb=u,Eb}var Pb,LN;function $ge(){if(LN)return Pb;LN=1;var e=de,t=In,n=mP(),r=qy();function a(s,l,u,c){n.call(this,s),this.map=l;var f=r.load(l,u);this._nameCoordMap=f.nameCoordMap,this._regionsMap=f.regionsMap,this._invertLongitute=c??!0,this.regions=f.regions,this._rect=f.boundingRect}a.prototype={constructor:a,type:"geo",dimensions:["lng","lat"],containCoord:function(s){for(var l=this.regions,u=0;u<l.length;u++)if(l[u].contain(s))return!0;return!1},transformTo:function(s,l,u,c){var f=this.getBoundingRect(),d=this._invertLongitute;f=f.clone(),d&&(f.y=-f.y-f.height);var h=this._rawTransformable;if(h.transform=f.calculateTransform(new t(s,l,u,c)),h.decomposeTransform(),d){var v=h.scale;v[1]=-v[1]}h.updateTransform(),this._updateTransform()},getRegion:function(s){return this._regionsMap.get(s)},getRegionByCoord:function(s){for(var l=this.regions,u=0;u<l.length;u++)if(l[u].contain(s))return l[u]},addGeoCoord:function(s,l){this._nameCoordMap.set(s,l)},getGeoCoord:function(s){return this._nameCoordMap.get(s)},getBoundingRect:function(){return this._rect},dataToPoint:function(s,l,u){if(typeof s=="string"&&(s=this.getGeoCoord(s)),s)return n.prototype.dataToPoint.call(this,s,l,u)},convertToPixel:e.curry(i,"dataToPoint"),convertFromPixel:e.curry(i,"pointToData")},e.mixin(a,n);function i(s,l,u,c){var f=u.geoModel,d=u.seriesModel,h=f?f.coordinateSystem:d?d.coordinateSystem||(d.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return h===this?h[s](c):null}var o=a;return Pb=o,Pb}var Rb,ON;function yP(){if(ON)return Rb;ON=1;var e=et,t=de,n=$ge(),r=$t,a=Rt(),i=qy(),o=fP;function s(f,d){var h=f.get("boundingCoords");if(h!=null){var v=h[0],m=h[1];isNaN(v[0])||isNaN(v[1])||isNaN(m[0])||isNaN(m[1])||this.setBoundingRect(v[0],v[1],m[0]-v[0],m[1]-v[1])}var p=this.getBoundingRect(),g,y=f.get("layoutCenter"),x=f.get("layoutSize"),b=d.getWidth(),A=d.getHeight(),S=p.width/p.height*this.aspectScale,_=!1;y&&x&&(y=[a.parsePercent(y[0],b),a.parsePercent(y[1],A)],x=a.parsePercent(x,Math.min(b,A)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(x)&&(_=!0));var w;if(_){var w={};S>1?(w.width=x,w.height=x/S):(w.height=x,w.width=x*S),w.y=y[1]-w.height/2,w.x=y[0]-w.width/2}else g=f.getBoxLayoutParams(),g.aspect=S,w=r.getLayoutRect(g,{width:b,height:A});this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(f.get("center")),this.setZoom(f.get("zoom"))}function l(f,d){t.each(d.get("geoCoord"),function(h,v){f.addGeoCoord(v,h)})}var u={dimensions:n.prototype.dimensions,create:function(f,d){var h=[];f.eachComponent("geo",function(m,p){var g=m.get("map"),y=m.get("aspectScale"),x=!0,b=o.retrieveMap(g);b&&b[0]&&b[0].type==="svg"?(y==null&&(y=1),x=!1):y==null&&(y=.75);var A=new n(g+p,g,m.get("nameMap"),x);A.aspectScale=y,A.zoomLimit=m.get("scaleLimit"),h.push(A),l(A,m),m.coordinateSystem=A,A.model=m,A.resize=s,A.resize(m,d)}),f.eachSeries(function(m){var p=m.get("coordinateSystem");if(p==="geo"){var g=m.get("geoIndex")||0;m.coordinateSystem=h[g]}});var v={};return f.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var p=m.getMapType();v[p]=v[p]||[],v[p].push(m)}}),t.each(v,function(m,p){var g=t.map(m,function(x){return x.get("nameMap")}),y=new n(p,p,t.mergeAll(g));y.zoomLimit=t.retrieve.apply(null,t.map(m,function(x){return x.get("scaleLimit")})),h.push(y),y.resize=s,y.aspectScale=m[0].get("aspectScale"),y.resize(m[0],d),t.each(m,function(x){x.coordinateSystem=y,l(y,x)})}),h},getFilledRegions:function(f,d,h){for(var v=(f||[]).slice(),m=t.createHashMap(),p=0;p<v.length;p++)m.set(v[p].name,v[p]);var g=i.load(d,h);return t.each(g.regions,function(y){var x=y.name;!m.get(x)&&v.push({name:x})}),v}};e.registerCoordinateSystem("geo",u);var c=u;return Rb=c,Rb}var Ib,NN;function Gge(){if(NN)return Ib;NN=1;var e=de;function t(n){var r={};n.eachSeriesByType("map",function(a){var i=a.getMapType();if(!(a.getHostGeoModel()||r[i])){var o={};e.each(a.seriesGroup,function(l){var u=l.coordinateSystem,c=l.originalData;l.get("showLegendSymbol")&&n.getComponent("legend")&&c.each(c.mapDimension("value"),function(f,d){var h=c.getName(d),v=u.getRegion(h);if(!(!v||isNaN(f))){var m=o[h]||0,p=u.dataToPoint(v.center);o[h]=m+1,c.setItemLayout(d,{point:p,offset:m})}})});var s=a.getData();s.each(function(l){var u=s.getName(l),c=s.getItemLayout(l)||{};c.showLabel=!o[u],s.setItemLayout(l,c)}),r[i]=!0}})}return Ib=t,Ib}var Db,kN;function Wge(){if(kN)return Db;kN=1;function e(t){t.eachSeriesByType("map",function(n){var r=n.get("color"),a=n.getModel("itemStyle"),i=a.get("areaColor"),o=a.get("color")||r[n.seriesIndex%r.length];n.getData().setVisual({areaColor:i,color:o})})}return Db=e,Db}var Lb,BN;function jge(){if(BN)return Lb;BN=1;var e=de;function t(r,a){var i={};return e.each(r,function(o){o.each(o.mapDimension("value"),function(s,l){var u="ec-"+o.getName(l);i[u]=i[u]||[],isNaN(s)||i[u].push(s)})}),r[0].map(r[0].mapDimension("value"),function(o,s){for(var l="ec-"+r[0].getName(s),u=0,c=1/0,f=-1/0,d=i[l].length,h=0;h<d;h++)c=Math.min(c,i[l][h]),f=Math.max(f,i[l][h]),u+=i[l][h];var v;return a==="min"?v=c:a==="max"?v=f:a==="average"?v=u/d:v=u,d===0?NaN:v})}function n(r){var a={};r.eachSeriesByType("map",function(i){var o=i.getHostGeoModel(),s=o?"o"+o.id:"i"+i.getMapType();(a[s]=a[s]||[]).push(i)}),e.each(a,function(i,o){for(var s=t(e.map(i,function(u){return u.getData()}),i[0].get("mapValueCalculation")),l=0;l<i.length;l++)i[l].originalData=i[l].getData();for(var l=0;l<i.length;l++)i[l].seriesGroup=i,i[l].needsDrawMap=l===0&&!i[l].getHostGeoModel(),i[l].setData(s.cloneShallow()),i[l].mainSeries=i[0]})}return Lb=n,Lb}var Ob,FN;function Yge(){if(FN)return Ob;FN=1;var e=de;function t(n){e.each(n.series,function(r){r&&r.type==="map"&&(r.map=r.map||r.mapType,e.defaults(r,r.mapLocation))})}return Ob=t,Ob}var VN;function Xge(){if(VN)return vN;VN=1;var e=et;Uge(),Hge(),XW(),yP();var t=Gge(),n=Wge(),r=jge(),a=Yge(),i=WW();return e.registerLayout(t),e.registerVisual(n),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,r),e.registerPreprocessor(a),i("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),vN}var zN={},Nb,UN;function qW(){if(UN)return Nb;UN=1;var e=de,t=e.each,n="\0__link_datas",r="\0__link_mainData";function a(h){var v=h.mainData,m=h.datas;m||(m={main:v},h.datasAttr={main:"data"}),h.datas=h.mainData=null,c(v,m,h),t(m,function(p){t(v.TRANSFERABLE_METHODS,function(g){p.wrapMethod(g,e.curry(i,h))})}),v.wrapMethod("cloneShallow",e.curry(s,h)),t(v.CHANGABLE_METHODS,function(p){v.wrapMethod(p,e.curry(o,h))}),e.assert(m[v.dataType]===v)}function i(h,v){if(u(this)){var m=e.extend({},this[n]);m[this.dataType]=v,c(v,m,h)}else f(v,this.dataType,this[r],h);return v}function o(h,v){return h.struct&&h.struct.update(this),v}function s(h,v){return t(v[n],function(m,p){m!==v&&f(m.cloneShallow(),p,v,h)}),v}function l(h){var v=this[r];return h==null||v==null?v:v[n][h]}function u(h){return h[r]===h}function c(h,v,m){h[n]={},t(v,function(p,g){f(p,g,h,m)})}function f(h,v,m,p){m[n][v]=h,h[r]=m,h.dataType=v,p.struct&&(h[p.structAttr]=p.struct,p.struct[p.datasAttr[v]]=h),h.getLinkedData=l}var d=a;return Nb=d,Nb}var kb,HN;function xP(){if(HN)return kb;HN=1;var e=de,t=qW(),n=si(),r=Vf(),a=function(l,u){this.name=l||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=u};a.prototype={constructor:a,isRemoved:function(){return this.dataIndex<0},eachNode:function(l,u,c){typeof l=="function"&&(c=u,u=l,l=null),l=l||{},e.isString(l)&&(l={order:l});var f=l.order||"preorder",d=this[l.attr||"children"],h;f==="preorder"&&(h=u.call(c,this));for(var v=0;!h&&v<d.length;v++)d[v].eachNode(l,u,c);f==="postorder"&&u.call(c,this)},updateDepthAndHeight:function(l){var u=0;this.depth=l;for(var c=0;c<this.children.length;c++){var f=this.children[c];f.updateDepthAndHeight(l+1),f.height>u&&(u=f.height)}this.height=u+1},getNodeById:function(l){if(this.getId()===l)return this;for(var u=0,c=this.children,f=c.length;u<f;u++){var d=c[u].getNodeById(l);if(d)return d}},contains:function(l){if(l===this)return!0;for(var u=0,c=this.children,f=c.length;u<f;u++){var d=c[u].contains(l);if(d)return d}},getAncestors:function(l){for(var u=[],c=l?this:this.parentNode;c;)u.push(c),c=c.parentNode;return u.reverse(),u},getValue:function(l){var u=this.hostTree.data;return u.get(u.getDimension(l||"value"),this.dataIndex)},setLayout:function(l,u){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,l,u)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(l){if(!(this.dataIndex<0)){var u=this.hostTree,c=u.data.getItemModel(this.dataIndex);return c.getModel(l)}},setVisual:function(l,u){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,l,u)},getVisual:function(l,u){return this.hostTree.data.getItemVisual(this.dataIndex,l,u)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(l){for(var u=l.parentNode;u;){if(u===this)return!0;u=u.parentNode}return!1},isDescendantOf:function(l){return l!==this&&l.isAncestorOf(this)}};function i(l){this.root,this.data,this._nodes=[],this.hostModel=l}i.prototype={constructor:i,type:"tree",eachNode:function(l,u,c){this.root.eachNode(l,u,c)},getNodeByDataIndex:function(l){var u=this.data.getRawIndex(l);return this._nodes[u]},getNodeByName:function(l){return this.root.getNodeByName(l)},update:function(){for(var l=this.data,u=this._nodes,c=0,f=u.length;c<f;c++)u[c].dataIndex=-1;for(var c=0,f=l.count();c<f;c++)u[l.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}},i.createTree=function(l,u,c){var f=new i(u),d=[],h=1;v(l);function v(g,y){var x=g.value;h=Math.max(h,e.isArray(x)?x.length:1),d.push(g);var b=new a(g.name,f);y?o(b,y):f.root=b,f._nodes.push(b);var A=g.children;if(A)for(var S=0;S<A.length;S++)v(A[S],b)}f.root.updateDepthAndHeight(0);var m=r(d,{coordDimensions:["value"],dimensionsCount:h}),p=new n(m,u);return p.initData(d),c&&c(p),t({mainData:p,struct:f,structAttr:"tree"}),f.update(),f};function o(l,u){var c=u.children;l.parentNode!==u&&(c.push(l),l.parentNode=u)}var s=i;return kb=s,kb}var Bb,$N;function qge(){if($N)return Bb;$N=1;var e=xr,t=xP(),n=Gt,r=n.encodeHTML,a=Jn,i=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(o){var s={name:o.name,children:o.data},l=o.leaves||{},u=new a(l,this,this.ecModel),c=t.createTree(s,this,f);function f(m){m.wrapMethod("getItemModel",function(p,g){var y=c.getNodeByDataIndex(g);return(!y.children.length||!y.isExpand)&&(p.parentModel=u),p})}var d=0;c.eachNode("preorder",function(m){m.depth>d&&(d=m.depth)});var h=o.expandAndCollapse,v=h&&o.initialTreeDepth>=0?o.initialTreeDepth:d;return c.root.eachNode("preorder",function(m){var p=m.hostTree.data.getRawDataItem(m.dataIndex);m.isExpand=p&&p.collapsed!=null?!p.collapsed:m.depth<=v}),c.data},getOrient:function(){var o=this.get("orient");return o==="horizontal"?o="LR":o==="vertical"&&(o="TB"),o},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o},formatTooltip:function(o){for(var s=this.getData().tree,l=s.root.children[0],u=s.getNodeByDataIndex(o),c=u.getValue(),f=u.name;u&&u!==l;)f=u.parentNode.name+"."+f,u=u.parentNode;return r(f+(isNaN(c)||c==null?"":" : "+c))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return Bb=i,Bb}var Ms={},GN;function KW(){if(GN)return Ms;GN=1;var e=$t;function t(v){v.hierNode={defaultAncestor:null,ancestor:v,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var m=[v],p,g;p=m.pop();)if(g=p.children,p.isExpand&&g.length)for(var y=g.length,x=y-1;x>=0;x--){var b=g[x];b.hierNode={defaultAncestor:null,ancestor:b,prelim:0,modifier:0,change:0,shift:0,i:x,thread:null},m.push(b)}}function n(v,m){var p=v.isExpand?v.children:[],g=v.parentNode.children,y=v.hierNode.i?g[v.hierNode.i-1]:null;if(p.length){s(v);var x=(p[0].hierNode.prelim+p[p.length-1].hierNode.prelim)/2;y?(v.hierNode.prelim=y.hierNode.prelim+m(v,y),v.hierNode.modifier=v.hierNode.prelim-x):v.hierNode.prelim=x}else y&&(v.hierNode.prelim=y.hierNode.prelim+m(v,y));v.parentNode.hierNode.defaultAncestor=l(v,y,v.parentNode.hierNode.defaultAncestor||g[0],m)}function r(v){var m=v.hierNode.prelim+v.parentNode.hierNode.modifier;v.setLayout({x:m},!0),v.hierNode.modifier+=v.parentNode.hierNode.modifier}function a(v){return arguments.length?v:h}function i(v,m){var p={};return v-=Math.PI/2,p.x=m*Math.cos(v),p.y=m*Math.sin(v),p}function o(v,m){return e.getLayoutRect(v.getBoxLayoutParams(),{width:m.getWidth(),height:m.getHeight()})}function s(v){for(var m=v.children,p=m.length,g=0,y=0;--p>=0;){var x=m[p];x.hierNode.prelim+=g,x.hierNode.modifier+=g,y+=x.hierNode.change,g+=x.hierNode.shift+y}}function l(v,m,p,g){if(m){for(var y=v,x=v,b=x.parentNode.children[0],A=m,S=y.hierNode.modifier,_=x.hierNode.modifier,w=b.hierNode.modifier,C=A.hierNode.modifier;A=u(A),x=c(x),A&&x;){y=u(y),b=c(b),y.hierNode.ancestor=v;var M=A.hierNode.prelim+C-x.hierNode.prelim-_+g(A,x);M>0&&(d(f(A,v,p),v,M),_+=M,S+=M),C+=A.hierNode.modifier,_+=x.hierNode.modifier,S+=y.hierNode.modifier,w+=b.hierNode.modifier}A&&!u(y)&&(y.hierNode.thread=A,y.hierNode.modifier+=C-S),x&&!c(b)&&(b.hierNode.thread=x,b.hierNode.modifier+=_-w,p=v)}return p}function u(v){var m=v.children;return m.length&&v.isExpand?m[m.length-1]:v.hierNode.thread}function c(v){var m=v.children;return m.length&&v.isExpand?m[0]:v.hierNode.thread}function f(v,m,p){return v.hierNode.ancestor.parentNode===m.parentNode?v.hierNode.ancestor:p}function d(v,m,p){var g=p/(m.hierNode.i-v.hierNode.i);m.hierNode.change-=g,m.hierNode.shift+=p,m.hierNode.modifier+=p,m.hierNode.prelim+=p,v.hierNode.change+=g}function h(v,m){return v.parentNode===m.parentNode?1:2}return Ms.init=t,Ms.firstWalk=n,Ms.secondWalk=r,Ms.separation=a,Ms.radialCoordinate=i,Ms.getViewRect=o,Ms}var Fb,WN;function Kge(){if(WN)return Fb;WN=1;var e=de,t=$e,n=Wy(),r=KW(),a=r.radialCoordinate,i=et,o=hv(),s=mP(),l=pP(),u=Pv(),c=Ky(),f=c.onIrrelevantElement,d=Rt(),h=d.parsePercent,v=t.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(S,_){var w=_.childPoints,C=w.length,M=_.parentPoint,T=w[0],E=w[C-1];if(C===1){S.moveTo(M[0],M[1]),S.lineTo(T[0],T[1]);return}var P=_.orient,R=P==="TB"||P==="BT"?0:1,I=1-R,D=h(_.forkPosition,1),B=[];B[R]=M[R],B[I]=M[I]+(E[I]-M[I])*D,S.moveTo(M[0],M[1]),S.lineTo(B[0],B[1]),S.moveTo(T[0],T[1]),B[R]=T[R],S.lineTo(B[0],B[1]),B[R]=E[R],S.lineTo(B[0],B[1]),S.lineTo(E[0],E[1]);for(var F=1;F<C-1;F++){var G=w[F];S.moveTo(G[0],G[1]),B[R]=G[R],S.lineTo(B[0],B[1])}}}),m=i.extendChartView({type:"tree",init:function(S,_){this._oldTree,this._mainGroup=new t.Group,this._controller=new u(_.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(S,_,w,C){var M=S.getData(),T=S.layoutInfo,E=this._mainGroup,P=S.get("layout");P==="radial"?E.attr("position",[T.x+T.width/2,T.y+T.height/2]):E.attr("position",[T.x,T.y]),this._updateViewCoordSys(S,T,P),this._updateController(S,_,w);var R=this._data,I={expandAndCollapse:S.get("expandAndCollapse"),layout:P,edgeShape:S.get("edgeShape"),edgeForkPosition:S.get("edgeForkPosition"),orient:S.getOrient(),curvature:S.get("lineStyle.curveness"),symbolRotate:S.get("symbolRotate"),symbolOffset:S.get("symbolOffset"),hoverAnimation:S.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};M.diff(R).add(function(D){p(M,D)&&y(M,D,null,E,S,I)}).update(function(D,B){var F=R.getItemGraphicEl(B);if(!p(M,D)){F&&b(R,B,F,E,S,I);return}y(M,D,F,E,S,I)}).remove(function(D){var B=R.getItemGraphicEl(D);B&&b(R,D,B,E,S,I)}).execute(),this._nodeScaleRatio=S.get("nodeScaleRatio"),this._updateNodeAndLinkScale(S),I.expandAndCollapse===!0&&M.eachItemGraphicEl(function(D,B){D.off("click").on("click",function(){w.dispatchAction({type:"treeExpandAndCollapse",seriesId:S.id,dataIndex:B})})}),this._data=M},_updateViewCoordSys:function(S){var _=S.getData(),w=[];_.each(function(R){var I=_.getItemLayout(R);I&&!isNaN(I.x)&&!isNaN(I.y)&&w.push([+I.x,+I.y])});var C=[],M=[];o.fromPoints(w,C,M);var T=this._min,E=this._max;M[0]-C[0]===0&&(C[0]=T?T[0]:C[0]-1,M[0]=E?E[0]:M[0]+1),M[1]-C[1]===0&&(C[1]=T?T[1]:C[1]-1,M[1]=E?E[1]:M[1]+1);var P=S.coordinateSystem=new s;P.zoomLimit=S.get("scaleLimit"),P.setBoundingRect(C[0],C[1],M[0]-C[0],M[1]-C[1]),P.setCenter(S.get("center")),P.setZoom(S.get("zoom")),this.group.attr({position:P.position,scale:P.scale}),this._viewCoordSys=P,this._min=C,this._max=M},_updateController:function(S,_,w){var C=this._controller,M=this._controllerHost,T=this.group;C.setPointerChecker(function(E,P,R){var I=T.getBoundingRect();return I.applyTransform(T.transform),I.contain(P,R)&&!f(E,w,S)}),C.enable(S.get("roam")),M.zoomLimit=S.get("scaleLimit"),M.zoom=S.coordinateSystem.getZoom(),C.off("pan").off("zoom").on("pan",function(E){l.updateViewOnPan(M,E.dx,E.dy),w.dispatchAction({seriesId:S.id,type:"treeRoam",dx:E.dx,dy:E.dy})},this).on("zoom",function(E){l.updateViewOnZoom(M,E.scale,E.originX,E.originY),w.dispatchAction({seriesId:S.id,type:"treeRoam",zoom:E.scale,originX:E.originX,originY:E.originY}),this._updateNodeAndLinkScale(S)},this)},_updateNodeAndLinkScale:function(S){var _=S.getData(),w=this._getNodeGlobalScale(S),C=[w,w];_.eachItemGraphicEl(function(M,T){M.attr("scale",C)})},_getNodeGlobalScale:function(S){var _=S.coordinateSystem;if(_.type!=="view")return 1;var w=this._nodeScaleRatio,C=_.scale,M=C&&C[0]||1,T=_.getZoom(),E=(T-1)*w+1;return E/M},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function p(S,_){var w=S.getItemLayout(_);return w&&!isNaN(w.x)&&!isNaN(w.y)&&S.getItemVisual(_,"symbol")!=="none"}function g(S,_,w){return w.itemModel=_,w.itemStyle=_.getModel("itemStyle").getItemStyle(),w.hoverItemStyle=_.getModel("emphasis.itemStyle").getItemStyle(),w.lineStyle=_.getModel("lineStyle").getLineStyle(),w.labelModel=_.getModel("label"),w.hoverLabelModel=_.getModel("emphasis.label"),S.isExpand===!1&&S.children.length!==0?w.symbolInnerColor=w.itemStyle.fill:w.symbolInnerColor="#fff",w}function y(S,_,w,C,M,I){var E=!w,P=S.tree.getNodeByDataIndex(_),R=P.getModel(),I=g(P,R,I),D=S.tree.root,B=P.parentNode===D?P:P.parentNode||P,F=S.getItemGraphicEl(B.dataIndex),G=B.getLayout(),z=F?{x:F.position[0],y:F.position[1],rawX:F.__radialOldRawX,rawY:F.__radialOldRawY}:G,N=P.getLayout();E?(w=new n(S,_,I),w.attr("position",[z.x,z.y])):w.updateData(S,_,I),w.__radialOldRawX=w.__radialRawX,w.__radialOldRawY=w.__radialRawY,w.__radialRawX=N.rawX,w.__radialRawY=N.rawY,C.add(w),S.setItemGraphicEl(_,w),t.updateProps(w,{position:[N.x,N.y]},M);var U=w.getSymbolPath();if(I.layout==="radial"){var $=D.children[0],k=$.getLayout(),V=$.children.length,L,O;if(N.x===k.x&&P.isExpand===!0){var H={};H.x=($.children[0].getLayout().x+$.children[V-1].getLayout().x)/2,H.y=($.children[0].getLayout().y+$.children[V-1].getLayout().y)/2,L=Math.atan2(H.y-k.y,H.x-k.x),L<0&&(L=Math.PI*2+L),O=H.x<k.x,O&&(L=L-Math.PI)}else L=Math.atan2(N.y-k.y,N.x-k.x),L<0&&(L=Math.PI*2+L),P.children.length===0||P.children.length!==0&&P.isExpand===!1?(O=N.x<k.x,O&&(L=L-Math.PI)):(O=N.x>k.x,O||(L=L-Math.PI));var j=O?"left":"right",Y=I.labelModel.get("rotate"),X=Y*(Math.PI/180);U.setStyle({textPosition:I.labelModel.get("position")||j,textRotation:Y==null?-L:X,textOrigin:"center",verticalAlign:"middle"})}x(M,P,D,w,z,G,N,C,I)}function x(S,_,w,C,M,T,E,P,R){var I=R.edgeShape,D=C.__edge;if(I==="curve")_.parentNode&&_.parentNode!==w&&(D||(D=C.__edge=new t.BezierCurve({shape:A(R,M,M),style:e.defaults({opacity:0,strokeNoScale:!0},R.lineStyle)})),t.updateProps(D,{shape:A(R,T,E),style:e.defaults({opacity:1},R.lineStyle)},S));else if(I==="polyline"&&R.layout==="orthogonal"&&_!==w&&_.children&&_.children.length!==0&&_.isExpand===!0){for(var B=_.children,F=[],G=0;G<B.length;G++){var z=B[G].getLayout();F.push([z.x,z.y])}D||(D=C.__edge=new v({shape:{parentPoint:[E.x,E.y],childPoints:[[E.x,E.y]],orient:R.orient,forkPosition:R.edgeForkPosition},style:e.defaults({opacity:0,strokeNoScale:!0},R.lineStyle)})),t.updateProps(D,{shape:{parentPoint:[E.x,E.y],childPoints:F},style:e.defaults({opacity:1},R.lineStyle)},S)}P.add(D)}function b(S,_,w,C,M,I){for(var E=S.tree.getNodeByDataIndex(_),P=S.tree.root,R=E.getModel(),I=g(E,R,I),D=E.parentNode===P?E:E.parentNode||E,N=I.edgeShape,B;B=D.getLayout(),B==null;)D=D.parentNode===P?D:D.parentNode||D;t.updateProps(w,{position:[B.x+1,B.y+1]},M,function(){C.remove(w),S.setItemGraphicEl(_,null)}),w.fadeOut(null,{keepLabel:!0});var F=S.getItemGraphicEl(D.dataIndex),G=F.__edge,z=w.__edge||(D.isExpand===!1||D.children.length===1?G:void 0),N=I.edgeShape;z&&(N==="curve"?t.updateProps(z,{shape:A(I,B,B),style:{opacity:0}},M,function(){C.remove(z)}):N==="polyline"&&I.layout==="orthogonal"&&t.updateProps(z,{shape:{parentPoint:[B.x,B.y],childPoints:[[B.x,B.y]]},style:{opacity:0}},M,function(){C.remove(z)}))}function A(S,_,w){var C,M,T,E,P=S.orient,R,I,D,B;if(S.layout==="radial"){R=_.rawX,D=_.rawY,I=w.rawX,B=w.rawY;var F=a(R,D),G=a(R,D+(B-D)*S.curvature),z=a(I,B+(D-B)*S.curvature),N=a(I,B);return{x1:F.x,y1:F.y,x2:N.x,y2:N.y,cpx1:G.x,cpy1:G.y,cpx2:z.x,cpy2:z.y}}else R=_.x,D=_.y,I=w.x,B=w.y,(P==="LR"||P==="RL")&&(C=R+(I-R)*S.curvature,M=D,T=I+(R-I)*S.curvature,E=B),(P==="TB"||P==="BT")&&(C=R,M=D+(B-D)*S.curvature,T=I,E=B+(D-B)*S.curvature);return{x1:R,y1:D,x2:I,y2:B,cpx1:C,cpy1:M,cpx2:T,cpy2:E}}return Fb=m,Fb}var jN={},YN;function Zge(){if(YN)return jN;YN=1;var e=et,t=gP(),n=t.updateCenterAndZoom;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(r,a){a.eachComponent({mainType:"series",subType:"tree",query:r},function(i){var o=r.dataIndex,s=i.getData().tree,l=s.getNodeByDataIndex(o);l.isExpand=!l.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(r,a){a.eachComponent({mainType:"series",subType:"tree",query:r},function(i){var o=i.coordinateSystem,s=n(o,r);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})}),jN}var Pp={},XN;function Qge(){if(XN)return Pp;XN=1;function e(n,r,a){for(var i=[n],o=[],s;s=i.pop();)if(o.push(s),s.isExpand){var l=s.children;if(l.length)for(var u=0;u<l.length;u++)i.push(l[u])}for(;s=o.pop();)r(s,a)}function t(n,r){for(var a=[n],i;i=a.pop();)if(r(i),i.isExpand){var o=i.children;if(o.length)for(var s=o.length-1;s>=0;s--)a.push(o[s])}}return Pp.eachAfter=e,Pp.eachBefore=t,Pp}var Vb,qN;function Jge(){if(qN)return Vb;qN=1;var e=Qge(),t=e.eachAfter,n=e.eachBefore,r=KW(),a=r.init,i=r.firstWalk,o=r.secondWalk,s=r.separation,l=r.radialCoordinate,u=r.getViewRect;function c(d,h){d.eachSeriesByType("tree",function(v){f(v,h)})}function f(d,h){var v=u(d,h);d.layoutInfo=v;var m=d.get("layout"),p=0,g=0,y=null;m==="radial"?(p=2*Math.PI,g=Math.min(v.height,v.width)/2,y=s(function(I,D){return(I.parentNode===D.parentNode?1:2)/I.depth})):(p=v.width,g=v.height,y=s());var x=d.getData().tree.root,b=x.children[0];if(b){a(x),t(b,i,y),x.hierNode.modifier=-b.hierNode.prelim,n(b,o);var A=b,S=b,_=b;n(b,function(I){var D=I.getLayout().x;D<A.getLayout().x&&(A=I),D>S.getLayout().x&&(S=I),I.depth>_.depth&&(_=I)});var w=A===S?1:y(A,S)/2,C=w-A.getLayout().x,M=0,T=0,E=0,P=0;if(m==="radial")M=p/(S.getLayout().x+w+C),T=g/(_.depth-1||1),n(b,function(I){E=(I.getLayout().x+C)*M,P=(I.depth-1)*T;var D=l(E,P);I.setLayout({x:D.x,y:D.y,rawX:E,rawY:P},!0)});else{var R=d.getOrient();R==="RL"||R==="LR"?(T=g/(S.getLayout().x+w+C),M=p/(_.depth-1||1),n(b,function(I){P=(I.getLayout().x+C)*T,E=R==="LR"?(I.depth-1)*M:p-(I.depth-1)*M,I.setLayout({x:E,y:P},!0)})):(R==="TB"||R==="BT")&&(M=p/(S.getLayout().x+w+C),T=g/(_.depth-1||1),n(b,function(I){E=(I.getLayout().x+C)*M,P=R==="TB"?(I.depth-1)*T:g-(I.depth-1)*T,I.setLayout({x:E,y:P},!0)}))}}}return Vb=c,Vb}var KN;function eme(){if(KN)return zN;KN=1;var e=et;qge(),Kge(),Zge();var t=Mu(),n=Jge();return e.registerVisual(t("tree","circle")),e.registerLayout(n),zN}var ZN={},Xu={},QN;function Eu(){if(QN)return Xu;QN=1;var e=de;function t(i,o,s){if(i&&e.indexOf(o,i.type)>=0){var l=s.getData().tree.root,u=i.targetNode;if(typeof u=="string"&&(u=l.getNodeById(u)),u&&l.contains(u))return{node:u};var c=i.targetNodeId;if(c!=null&&(u=l.getNodeById(c)))return{node:u}}}function n(i){for(var o=[];i;)i=i.parentNode,i&&o.push(i);return o.reverse()}function r(i,o){var s=n(i);return e.indexOf(s,o)>=0}function a(i,o){for(var s=[];i;){var l=i.dataIndex;s.push({name:i.name,dataIndex:l,value:o.getRawValue(l)}),i=i.parentNode}return s.reverse(),s}return Xu.retrieveTargetInfo=t,Xu.getPathToRoot=n,Xu.aboveViewRoot=r,Xu.wrapTreePathInfo=a,Xu}var zb,JN;function tme(){if(JN)return zb;JN=1;var e=de,t=xr,n=xP(),r=Jn,a=Gt,i=a.encodeHTML,o=a.addCommas,s=Eu(),l=s.wrapTreePathInfo,u=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(d,h){var v={name:d.name,children:d.data};c(v);var m=d.levels||[],p=this.designatedVisualItemStyle={},g=new r({itemStyle:p},this,h);m=d.levels=f(m,h);var y=e.map(m||[],function(A){return new r(A,g,h)},this),x=n.createTree(v,this,b);function b(A){A.wrapMethod("getItemModel",function(S,_){var w=x.getNodeByDataIndex(_),C=y[w.depth];return S.parentModel=C||g,S})}return x.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(d){var h=this.getData(),v=this.getRawValue(d),m=e.isArray(v)?o(v[0]):o(v),p=h.getName(d);return i(p+": "+m)},getDataParams:function(d){var h=t.prototype.getDataParams.apply(this,arguments),v=this.getData().tree.getNodeByDataIndex(d);return h.treePathInfo=l(v,this),h},setLayoutInfo:function(d){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,d)},mapIdToIndex:function(d){var h=this._idIndexMap;h||(h=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var v=h.get(d);return v==null&&h.set(d,v=this._idIndexMapCount++),v},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(d){d?this._viewRoot=d:d=this._viewRoot;var h=this.getRawData().tree.root;(!d||d!==h&&!h.contains(d))&&(this._viewRoot=h)}});function c(d){var h=0;e.each(d.children,function(m){c(m);var p=m.value;e.isArray(p)&&(p=p[0]),h+=p});var v=d.value;e.isArray(v)&&(v=v[0]),(v==null||isNaN(v))&&(v=h),v<0&&(v=0),e.isArray(d.value)?d.value[0]=v:d.value=v}function f(d,h){var v=h.get("color");if(v){d=d||[];var m;if(e.each(d,function(g){var y=new r(g),x=y.get("color");(y.get("itemStyle.color")||x&&x!=="none")&&(m=!0)}),!m){var p=d[0]||(d[0]={});p.color=v.slice()}return d}}return zb=u,zb}var Ub,ek;function nme(){if(ek)return Ub;ek=1;var e=$e,t=$t,n=de,r=Eu(),a=r.wrapTreePathInfo,i=8,o=8,s=5;function l(d){this.group=new e.Group,d.add(this.group)}l.prototype={constructor:l,render:function(d,h,v,m){var p=d.getModel("breadcrumb"),g=this.group;if(g.removeAll(),!(!p.get("show")||!v)){var y=p.getModel("itemStyle"),x=y.getModel("textStyle"),b={pos:{left:p.get("left"),right:p.get("right"),top:p.get("top"),bottom:p.get("bottom")},box:{width:h.getWidth(),height:h.getHeight()},emptyItemWidth:p.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(v,b,x),this._renderContent(d,b,y,x,m),t.positionElement(g,b.pos,b.box)}},_prepare:function(d,h,v){for(var m=d;m;m=m.parentNode){var p=m.getModel().get("name"),g=v.getTextRect(p),y=Math.max(g.width+i*2,h.emptyItemWidth);h.totalWidth+=y+o,h.renderList.push({node:m,text:p,width:y})}},_renderContent:function(d,h,v,m,p){for(var g=0,y=h.emptyItemWidth,x=d.get("breadcrumb.height"),b=t.getAvailableSize(h.pos,h.box),A=h.totalWidth,S=h.renderList,_=S.length-1;_>=0;_--){var w=S[_],C=w.node,M=w.width,T=w.text;A>b.width&&(A-=M-y,M=y,T=null);var E=new e.Polygon({shape:{points:u(g,0,M,x,_===S.length-1,_===0)},style:n.defaults(v.getItemStyle(),{lineJoin:"bevel",text:T,textFill:m.getTextColor(),textFont:m.getFont()}),z:10,onclick:n.curry(p,C)});this.group.add(E),c(E,d,C),g+=M+o}},remove:function(){this.group.removeAll()}};function u(d,h,v,m,p,g){var y=[[p?d:d-s,h],[d+v,h],[d+v,h+m],[p?d:d-s,h+m]];return!g&&y.splice(2,0,[d+v+s,h+m/2]),!p&&y.push([d,h+m/2]),y}function c(d,h,v){d.eventData={componentType:"series",componentSubType:"treemap",componentIndex:h.componentIndex,seriesIndex:h.componentIndex,seriesName:h.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:v&&v.dataIndex,name:v&&v.name},treePathInfo:v&&a(v,h)}}var f=l;return Ub=f,Ub}var Hb={},tk;function rme(){if(tk)return Hb;tk=1;var e=de;function t(){var n=[],r={},a;return{add:function(i,o,s,l,u){return e.isString(l)&&(u=l,l=0),r[i.id]?!1:(r[i.id]=1,n.push({el:i,target:o,time:s,delay:l,easing:u}),!0)},done:function(i){return a=i,this},start:function(){for(var i=n.length,o=0,s=n.length;o<s;o++){var l=n[o];l.el.animateTo(l.target,l.time,l.delay,l.easing,u)}return this;function u(){i--,i||(n.length=0,r={},a&&a())}}}}return Hb.createWrap=t,Hb}var $b,nk;function ame(){if(nk)return $b;nk=1;var e=et,t=de,n=$e,r=Cu(),a=Eu(),i=nme(),o=Pv(),s=In,l=Vn,u=rme(),c=Df,f=Gt,d=f.windowOpen,h=t.bind,v=n.Group,m=n.Rect,p=t.each,g=3,y=["label"],x=["emphasis","label"],b=["upperLabel"],A=["emphasis","upperLabel"],S=10,_=1,w=2,C=c([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),M=function(I){var D=C(I);return D.stroke=D.fill=D.lineWidth=null,D},T=e.extendChartView({type:"treemap",init:function(I,D){this._containerGroup,this._storage=E(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(I,D,B,F){var G=D.findComponents({mainType:"series",subType:"treemap",query:F});if(!(t.indexOf(G,I)<0)){this.seriesModel=I,this.api=B,this.ecModel=D;var z=["treemapZoomToNode","treemapRootToNode"],N=a.retrieveTargetInfo(F,z,I),U=F&&F.type,$=I.layoutInfo,k=!this._oldTree,V=this._storage,L=U==="treemapRootToNode"&&N&&V?{rootNodeGroup:V.nodeGroup[N.node.getRawIndex()],direction:F.direction}:null,O=this._giveContainerGroup($),H=this._doRender(O,I,L);!k&&(!U||U==="treemapZoomToNode"||U==="treemapRootToNode")?this._doAnimation(O,H,I,L):H.renderFinally(),this._resetController(B),this._renderBreadcrumb(I,B,N)}},_giveContainerGroup:function(I){var D=this._containerGroup;return D||(D=this._containerGroup=new v,this._initEvents(D),this.group.add(D)),D.attr("position",[I.x,I.y]),D},_doRender:function(I,D,B){var F=D.getData().tree,G=this._oldTree,z=E(),N=E(),U=this._storage,$=[],k=t.curry(P,D,N,U,B,z,$);L(F.root?[F.root]:[],G&&G.root?[G.root]:[],I,F===G||!G,0);var V=O(U);return this._oldTree=F,this._storage=N,{lastsForAnimation:z,willDeleteEls:V,renderFinally:H};function L(j,Y,X,Q,K){Q?(Y=j,p(j,function(oe,ue){!oe.isRemoved()&&te(ue,ue)})):new r(Y,j,Z,Z).add(te).update(te).remove(t.curry(te,null)).execute();function Z(oe){return oe.getId()}function te(oe,ue){var se=oe!=null?j[oe]:null,me=ue!=null?Y[ue]:null,re=k(se,me,X,K);re&&L(se&&se.viewChildren||[],me&&me.viewChildren||[],re,Q,K+1)}}function O(j){var Y=E();return j&&p(j,function(X,Q){var K=Y[Q];p(X,function(Z){Z&&(K.push(Z),Z.__tmWillDelete=1)})}),Y}function H(){p(V,function(j){p(j,function(Y){Y.parent&&Y.parent.remove(Y)})}),p($,function(j){j.invisible=!0,j.dirty()})}},_doAnimation:function(I,D,B,F){if(B.get("animation")){var G=B.get("animationDurationUpdate"),z=B.get("animationEasing"),N=u.createWrap();p(D.willDeleteEls,function(U,$){p(U,function(k,V){if(!k.invisible){var L=k.parent,O;if(F&&F.direction==="drillDown")O=L===F.rootNodeGroup?{shape:{x:0,y:0,width:L.__tmNodeWidth,height:L.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var H=0,j=0;L.__tmWillDelete||(H=L.__tmNodeWidth/2,j=L.__tmNodeHeight/2),O=$==="nodeGroup"?{position:[H,j],style:{opacity:0}}:{shape:{x:H,y:j,width:0,height:0},style:{opacity:0}}}O&&N.add(k,O,G,z)}})}),p(this._storage,function(U,$){p(U,function(k,V){var L=D.lastsForAnimation[$][V],O={};L&&($==="nodeGroup"?L.old&&(O.position=k.position.slice(),k.attr("position",L.old)):(L.old&&(O.shape=t.extend({},k.shape),k.setShape(L.old)),L.fadein?(k.setStyle("opacity",0),O.style={opacity:1}):k.style.opacity!==1&&(O.style={opacity:1})),N.add(k,O,G,z))})},this),this._state="animating",N.done(h(function(){this._state="ready",D.renderFinally()},this)).start()}},_resetController:function(I){var D=this._controller;D||(D=this._controller=new o(I.getZr()),D.enable(this.seriesModel.get("roam")),D.on("pan",h(this._onPan,this)),D.on("zoom",h(this._onZoom,this)));var B=new s(0,0,I.getWidth(),I.getHeight());D.setPointerChecker(function(F,G,z){return B.contain(G,z)})},_clearController:function(){var I=this._controller;I&&(I.dispose(),I=null)},_onPan:function(I){if(this._state!=="animating"&&(Math.abs(I.dx)>g||Math.abs(I.dy)>g)){var D=this.seriesModel.getData().tree.root;if(!D)return;var B=D.getLayout();if(!B)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:B.x+I.dx,y:B.y+I.dy,width:B.width,height:B.height}})}},_onZoom:function(I){var D=I.originX,B=I.originY;if(this._state!=="animating"){var F=this.seriesModel.getData().tree.root;if(!F)return;var G=F.getLayout();if(!G)return;var z=new s(G.x,G.y,G.width,G.height),N=this.seriesModel.layoutInfo;D-=N.x,B-=N.y;var U=l.create();l.translate(U,U,[-D,-B]),l.scale(U,U,[I.scale,I.scale]),l.translate(U,U,[D,B]),z.applyTransform(U),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:z.x,y:z.y,width:z.width,height:z.height}})}},_initEvents:function(I){I.on("click",function(D){if(this._state==="ready"){var B=this.seriesModel.get("nodeClick",!0);if(B){var F=this.findTarget(D.offsetX,D.offsetY);if(F){var G=F.node;if(G.getLayout().isLeafRoot)this._rootToNode(F);else if(B==="zoomToNode")this._zoomToNode(F);else if(B==="link"){var z=G.hostTree.data.getItemModel(G.dataIndex),N=z.get("link",!0),U=z.get("target",!0)||"blank";N&&d(N,U)}}}}},this)},_renderBreadcrumb:function(I,D,B){B||(B=I.get("leafDepth",!0)!=null?{node:I.getViewRoot()}:this.findTarget(D.getWidth()/2,D.getHeight()/2),B||(B={node:I.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new i(this.group))).render(I,D,B.node,h(F,this));function F(G){this._state!=="animating"&&(a.aboveViewRoot(I.getViewRoot(),G)?this._rootToNode({node:G}):this._zoomToNode({node:G}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=E(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(I){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},_rootToNode:function(I){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},findTarget:function(I,D){var B,F=this.seriesModel.getViewRoot();return F.eachNode({attr:"viewChildren",order:"preorder"},function(G){var z=this._storage.background[G.getRawIndex()];if(z){var N=z.transformCoordToLocal(I,D),U=z.shape;if(U.x<=N[0]&&N[0]<=U.x+U.width&&U.y<=N[1]&&N[1]<=U.y+U.height)B={node:G,offsetX:N[0],offsetY:N[1]};else return!1}},this),B}});function E(){return{nodeGroup:[],background:[],content:[]}}function P(I,D,B,F,G,z,N,U,$,k){if(!N)return;var V=N.getLayout(),L=I.getData();if(L.setItemGraphicEl(N.dataIndex,null),!V||!V.isInView)return;var O=V.width,H=V.height,j=V.borderWidth,Y=V.invisible,X=N.getRawIndex(),Q=U&&U.getRawIndex(),K=N.viewChildren,Z=V.upperHeight,te=K&&K.length,oe=N.getModel("itemStyle"),ue=N.getModel("emphasis.itemStyle"),se=he("nodeGroup",v);if(!se)return;if($.add(se),se.attr("position",[V.x||0,V.y||0]),se.__tmNodeWidth=O,se.__tmNodeHeight=H,V.isAboveViewRoot)return se;var me=N.getModel(),re=he("background",m,k,_);if(re&&ae(se,re,te&&V.upperLabelHeight),te)n.isHighDownDispatcher(se)&&n.setAsHighDownDispatcher(se,!1),re&&(n.setAsHighDownDispatcher(re,!0),L.setItemGraphicEl(N.dataIndex,re));else{var q=he("content",m,k,w);q&&ce(se,q),re&&n.isHighDownDispatcher(re)&&n.setAsHighDownDispatcher(re,!1),n.setAsHighDownDispatcher(se,!0),L.setItemGraphicEl(N.dataIndex,se)}return se;function ae(ge,Ce,xe){if(Ce.dataIndex=N.dataIndex,Ce.seriesIndex=I.seriesIndex,Ce.setShape({x:0,y:0,width:O,height:H}),Y)ee(Ce);else{Ce.invisible=!1;var be=N.getVisual("borderColor",!0),_e=ue.get("borderColor"),Ee=M(oe);Ee.fill=be;var Pe=C(ue);if(Pe.fill=_e,xe){var Ne=O-2*j;ne(Ee,Pe,be,Ne,Z,{x:j,y:0,width:Ne,height:Z})}else Ee.text=Pe.text=null;Ce.setStyle(Ee),n.setElementHoverStyle(Ce,Pe)}ge.add(Ce)}function ce(ge,Ce){Ce.dataIndex=N.dataIndex,Ce.seriesIndex=I.seriesIndex;var xe=Math.max(O-2*j,0),be=Math.max(H-2*j,0);if(Ce.culling=!0,Ce.setShape({x:j,y:j,width:xe,height:be}),Y)ee(Ce);else{Ce.invisible=!1;var _e=N.getVisual("color",!0),Ee=M(oe);Ee.fill=_e;var Pe=C(ue);ne(Ee,Pe,_e,xe,be),Ce.setStyle(Ee),n.setElementHoverStyle(Ce,Pe)}ge.add(Ce)}function ee(ge){!ge.invisible&&z.push(ge)}function ne(ge,Ce,xe,be,_e,Ee){var Pe=me.get("name"),Ne=me.getModel(Ee?b:y),J=me.getModel(Ee?A:x),Ae=Ne.getShallow("show");n.setLabelStyle(ge,Ce,Ne,J,{defaultText:Ae?Pe:null,autoColor:xe,isRectText:!0,labelFetcher:I,labelDataIndex:N.dataIndex,labelProp:Ee?"upperLabel":"label"}),le(ge,Ee,V),le(Ce,Ee,V),Ee&&(ge.textRect=t.clone(Ee)),ge.truncate=Ae&&Ne.get("ellipsis")?{outerWidth:be,outerHeight:_e,minChar:2}:null}function le(ge,Ce,xe){var be=ge.text;if(!Ce&&xe.isLeafRoot&&be!=null){var _e=I.get("drillDownIcon",!0);ge.text=_e?_e+" "+be:be}}function he(ge,Ce,xe,be){var _e=Q!=null&&B[ge][Q],Ee=G[ge];return _e?(B[ge][Q]=null,pe(Ee,_e,ge)):Y||(_e=new Ce({z:R(xe,be)}),_e.__tmDepth=xe,_e.__tmStorageName=ge,ye(Ee,_e,ge)),D[ge][X]=_e}function pe(ge,Ce,xe){var be=ge[X]={};be.old=xe==="nodeGroup"?Ce.position.slice():t.extend({},Ce.shape)}function ye(ge,Ce,xe){var be=ge[X]={},_e=N.parentNode;if(_e&&(!F||F.direction==="drillDown")){var Ee=0,Pe=0,Ne=G.background[_e.getRawIndex()];!F&&Ne&&Ne.old&&(Ee=Ne.old.width,Pe=Ne.old.height),be.old=xe==="nodeGroup"?[0,Pe]:{x:Ee,y:Pe,width:0,height:0}}be.fadein=xe!=="nodeGroup"}}function R(I,D){var B=I*S+D;return(B-1)/B}return $b=T,$b}var rk={},ak;function ime(){if(ak)return rk;ak=1;for(var e=et,t=Eu(),n=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],a=0;a<r.length;a++)e.registerAction({type:r[a],update:"updateView"},n);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"treemap",query:i},s);function s(l,u){var c=["treemapZoomToNode","treemapRootToNode"],f=t.retrieveTargetInfo(i,c,l);if(f){var d=l.getViewRoot();d&&(i.direction=t.aboveViewRoot(d,f.node)?"rollUp":"drillDown"),l.resetViewRoot(f.node)}}}),rk}var Gb,ik;function Pu(){if(ik)return Gb;ik=1;var e=de,t=ur,n=Rt(),r=n.linearMap,a=e.each,i=e.isObject,o=-1,s=function(_){var w=_.mappingMethod,C=_.type,M=this.option=e.clone(_);this.type=C,this.mappingMethod=w,this._normalizeData=b[w];var T=l[C];this.applyVisual=T.applyVisual,this.getColorMapper=T.getColorMapper,this._doMap=T._doMap[w],w==="piecewise"?(f(M),u(M)):w==="category"?M.categories?c(M):f(M,!0):(e.assert(w!=="linear"||M.dataExtent),f(M))};s.prototype={constructor:s,mapValueToVisual:function(_){var w=this._normalizeData(_);return this._doMap(w,_)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var l=s.visualHandlers={color:{applyVisual:v("color"),getColorMapper:function(){var _=this.option;return e.bind(_.mappingMethod==="category"?function(w,C){return!C&&(w=this._normalizeData(w)),m.call(this,w)}:function(w,C,M){var T=!!M;return!C&&(w=this._normalizeData(w)),M=t.fastLerp(w,_.parsedVisual,M),T?M:t.stringify(M,"rgba")},this)},_doMap:{linear:function(_){return t.stringify(t.fastLerp(_,this.option.parsedVisual),"rgba")},category:m,piecewise:function(_,w){var C=y.call(this,w);return C==null&&(C=t.stringify(t.fastLerp(_,this.option.parsedVisual),"rgba")),C},fixed:p}},colorHue:d(function(_,w){return t.modifyHSL(_,w)}),colorSaturation:d(function(_,w){return t.modifyHSL(_,null,w)}),colorLightness:d(function(_,w){return t.modifyHSL(_,null,null,w)}),colorAlpha:d(function(_,w){return t.modifyAlpha(_,w)}),opacity:{applyVisual:v("opacity"),_doMap:g([0,1])},liftZ:{applyVisual:v("liftZ"),_doMap:{linear:p,category:p,piecewise:p,fixed:p}},symbol:{applyVisual:function(_,w,C){var M=this.mapValueToVisual(_);if(e.isString(M))C("symbol",M);else if(i(M))for(var T in M)M.hasOwnProperty(T)&&C(T,M[T])},_doMap:{linear:h,category:m,piecewise:function(_,w){var C=y.call(this,w);return C==null&&(C=h.call(this,_)),C},fixed:p}},symbolSize:{applyVisual:v("symbolSize"),_doMap:g([0,1])}};function u(_){var w=_.pieceList;_.hasSpecialVisual=!1,e.each(w,function(C,M){C.originIndex=M,C.visual!=null&&(_.hasSpecialVisual=!0)})}function c(_){var w=_.categories,C=_.visual,M=_.categoryMap={};if(a(w,function(P,R){M[P]=R}),!e.isArray(C)){var T=[];e.isObject(C)?a(C,function(P,R){var I=M[R];T[I??o]=P}):T[o]=C,C=x(_,T)}for(var E=w.length-1;E>=0;E--)C[E]==null&&(delete M[w[E]],w.pop())}function f(_,w){var C=_.visual,M=[];e.isObject(C)?a(C,function(E){M.push(E)}):C!=null&&M.push(C);var T={color:1,symbol:1};!w&&M.length===1&&!T.hasOwnProperty(_.type)&&(M[1]=M[0]),x(_,M)}function d(_){return{applyVisual:function(w,C,M){w=this.mapValueToVisual(w),M("color",_(C("color"),w))},_doMap:g([0,1])}}function h(_){var w=this.option.visual;return w[Math.round(r(_,[0,1],[0,w.length-1],!0))]||{}}function v(_){return function(w,C,M){M(_,this.mapValueToVisual(w))}}function m(_){var w=this.option.visual;return w[this.option.loop&&_!==o?_%w.length:_]}function p(){return this.option.visual[0]}function g(_){return{linear:function(w){return r(w,_,this.option.visual,!0)},category:m,piecewise:function(w,C){var M=y.call(this,C);return M==null&&(M=r(w,_,this.option.visual,!0)),M},fixed:p}}function y(_){var w=this.option,C=w.pieceList;if(w.hasSpecialVisual){var M=s.findPieceIndex(_,C),T=C[M];if(T&&T.visual)return T.visual[this.type]}}function x(_,w){return _.visual=w,_.type==="color"&&(_.parsedVisual=e.map(w,function(C){return t.parse(C)})),w}var b={linear:function(_){return r(_,this.option.dataExtent,[0,1],!0)},piecewise:function(_){var w=this.option.pieceList,C=s.findPieceIndex(_,w,!0);if(C!=null)return r(C,[0,w.length-1],[0,1],!0)},category:function(_){var w=this.option.categories?this.option.categoryMap[_]:_;return w??o},fixed:e.noop};s.listVisualTypes=function(){var _=[];return e.each(l,function(w,C){_.push(C)}),_},s.addVisualHandler=function(_,w){l[_]=w},s.isValidType=function(_){return l.hasOwnProperty(_)},s.eachVisual=function(_,w,C){e.isObject(_)?e.each(_,w,C):w.call(C,_)},s.mapVisual=function(_,w,C){var M,T=e.isArray(_)?[]:e.isObject(_)?{}:(M=!0,null);return s.eachVisual(_,function(E,P){var R=w.call(C,E,P);M?T=R:T[P]=R}),T},s.retrieveVisuals=function(_){var w={},C;return _&&a(l,function(M,T){_.hasOwnProperty(T)&&(w[T]=_[T],C=!0)}),C?w:null},s.prepareVisualTypes=function(_){if(i(_)){var w=[];a(_,function(C,M){w.push(M)}),_=w}else if(e.isArray(_))_=_.slice();else return[];return _.sort(function(C,M){return M==="color"&&C!=="color"&&C.indexOf("color")===0?1:-1}),_},s.dependsOn=function(_,w){return w==="color"?!!(_&&_.indexOf(w)===0):_===w},s.findPieceIndex=function(_,w,C){for(var M,T=1/0,E=0,P=w.length;E<P;E++){var R=w[E].value;if(R!=null){if(R===_||typeof R=="string"&&R===_+"")return E;C&&F(R,E)}}for(var E=0,P=w.length;E<P;E++){var I=w[E],D=I.interval,B=I.close;if(D){if(D[0]===-1/0){if(A(B[1],_,D[1]))return E}else if(D[1]===1/0){if(A(B[0],D[0],_))return E}else if(A(B[0],D[0],_)&&A(B[1],_,D[1]))return E;C&&F(D[0],E),C&&F(D[1],E)}}if(C)return _===1/0?w.length-1:_===-1/0?0:M;function F(G,z){var N=Math.abs(G-_);N<T&&(T=N,M=z)}};function A(_,w,C){return _?w<=C:w<C}var S=s;return Gb=S,Gb}var Wb,ok;function ome(){if(ok)return Wb;ok=1;var e=Pu(),t=ur,n=de,r=n.isArray,a="itemStyle",i={seriesType:"treemap",reset:function(v,m,p,g){var y=v.getData().tree,x=y.root;x.isRemoved()||o(x,{},v.getViewRoot().getAncestors(),v)}};function o(v,m,p,g){var y=v.getModel(),x=v.getLayout();if(!(!x||x.invisible||!x.isInView)){var b=v.getModel(a),A=s(b,m,g),S=b.get("borderColor"),_=b.get("borderColorSaturation"),w;_!=null&&(w=l(A),S=u(_,w)),v.setVisual("borderColor",S);var C=v.viewChildren;if(!C||!C.length)w=l(A),v.setVisual("color",w);else{var M=f(v,y,x,b,A,C);n.each(C,function(T,E){if(T.depth>=p.length||T===p[T.depth]){var P=h(y,A,T,E,M,g);o(T,P,p,g)}})}}}function s(v,m,p){var g=n.extend({},m),y=p.designatedVisualItemStyle;return n.each(["color","colorAlpha","colorSaturation"],function(x){y[x]=m[x];var b=v.get(x);y[x]=null,b!=null&&(g[x]=b)}),g}function l(v){var m=c(v,"color");if(m){var p=c(v,"colorAlpha"),g=c(v,"colorSaturation");return g&&(m=t.modifyHSL(m,null,null,g)),p&&(m=t.modifyAlpha(m,p)),m}}function u(v,m){return m!=null?t.modifyHSL(m,null,null,v):null}function c(v,m){var p=v[m];if(p!=null&&p!=="none")return p}function f(v,m,p,g,y,x){if(!(!x||!x.length)){var b=d(m,"color")||y.color!=null&&y.color!=="none"&&(d(m,"colorAlpha")||d(m,"colorSaturation"));if(b){var A=m.get("visualMin"),S=m.get("visualMax"),_=p.dataExtent.slice();A!=null&&A<_[0]&&(_[0]=A),S!=null&&S>_[1]&&(_[1]=S);var w=m.get("colorMappingBy"),C={type:b.name,dataExtent:_,visual:b.range};C.type==="color"&&(w==="index"||w==="id")?(C.mappingMethod="category",C.loop=!0):C.mappingMethod="linear";var M=new e(C);return M.__drColorMappingBy=w,M}}}function d(v,m){var p=v.get(m);return r(p)&&p.length?{name:m,range:p}:null}function h(v,m,p,g,y,x){var b=n.extend({},m);if(y){var A=y.type,S=A==="color"&&y.__drColorMappingBy,_=S==="index"?g:S==="id"?x.mapIdToIndex(p.getId()):p.getValue(v.get("visualDimension"));b[A]=y.mapValueToVisual(_)}return b}return Wb=i,Wb}var jb,sk;function sme(){if(sk)return jb;sk=1;var e=de,t=In,n=Rt(),r=n.parsePercent,a=n.MAX_SAFE_INTEGER,i=$t,o=Eu(),s=Math.max,l=Math.min,u=e.retrieve,c=e.each,f=["itemStyle","borderWidth"],d=["itemStyle","gapWidth"],h=["upperLabel","show"],v=["upperLabel","height"],m={seriesType:"treemap",reset:function(T,E,P,R){var I=P.getWidth(),D=P.getHeight(),B=T.option,F=i.getLayoutRect(T.getBoxLayoutParams(),{width:P.getWidth(),height:P.getHeight()}),G=B.size||[],z=r(u(F.width,G[0]),I),N=r(u(F.height,G[1]),D),U=R&&R.type,$=["treemapZoomToNode","treemapRootToNode"],k=o.retrieveTargetInfo(R,$,T),V=U==="treemapRender"||U==="treemapMove"?R.rootRect:null,L=T.getViewRoot(),O=o.getPathToRoot(L);if(U!=="treemapMove"){var H=U==="treemapZoomToNode"?_(T,k,L,z,N):V?[V.width,V.height]:[z,N],j=B.sort;j&&j!=="asc"&&j!=="desc"&&(j="desc");var Y={squareRatio:B.squareRatio,sort:j,leafDepth:B.leafDepth};L.hostTree.clearLayouts();var X={x:0,y:0,width:H[0],height:H[1],area:H[0]*H[1]};L.setLayout(X),p(L,Y,!1,0);var X=L.getLayout();c(O,function(K,Z){var te=(O[Z+1]||L).getValue();K.setLayout(e.extend({dataExtent:[te,te],borderWidth:0,upperHeight:0},X))})}var Q=T.getData().tree.root;Q.setLayout(w(F,V,k),!0),T.setLayoutInfo(F),C(Q,new t(-F.x,-F.y,I,D),O,L,0)}};function p(T,E,P,R){var I,D;if(!T.isRemoved()){var B=T.getLayout();I=B.width,D=B.height;var k=T.getModel(),F=k.get(f),G=k.get(d)/2,z=M(k),N=Math.max(F,z),U=F-G,$=N-G,k=T.getModel();T.setLayout({borderWidth:F,upperHeight:N,upperLabelHeight:z},!0),I=s(I-2*U,0),D=s(D-U-$,0);var V=I*D,L=g(T,k,V,E,P,R);if(L.length){var O={x:U,y:$,width:I,height:D},H=l(I,D),j=1/0,Y=[];Y.area=0;for(var X=0,Q=L.length;X<Q;){var K=L[X];Y.push(K),Y.area+=K.getLayout().area;var Z=A(Y,H,E.squareRatio);Z<=j?(X++,j=Z):(Y.area-=Y.pop().getLayout().area,S(Y,H,O,G,!1),H=l(O.width,O.height),Y.length=Y.area=0,j=1/0)}if(Y.length&&S(Y,H,O,G,!0),!P){var te=k.get("childrenVisibleMin");te!=null&&V<te&&(P=!0)}for(var X=0,Q=L.length;X<Q;X++)p(L[X],E,P,R+1)}}}function g(T,E,P,R,I,D){var B=T.children||[],F=R.sort;F!=="asc"&&F!=="desc"&&(F=null);var G=R.leafDepth!=null&&R.leafDepth<=D;if(I&&!G)return T.viewChildren=[];B=e.filter(B,function(k){return!k.isRemoved()}),x(B,F);var z=b(E,B,F);if(z.sum===0)return T.viewChildren=[];if(z.sum=y(E,P,z.sum,F,B),z.sum===0)return T.viewChildren=[];for(var N=0,U=B.length;N<U;N++){var $=B[N].getValue()/z.sum*P;B[N].setLayout({area:$})}return G&&(B.length&&T.setLayout({isLeafRoot:!0},!0),B.length=0),T.viewChildren=B,T.setLayout({dataExtent:z.dataExtent},!0),B}function y(T,E,P,R,I){if(!R)return P;for(var D=T.get("visibleMin"),B=I.length,F=B,G=B-1;G>=0;G--){var z=I[R==="asc"?B-G-1:G].getValue();z/P*E<D&&(F=G,P-=z)}return R==="asc"?I.splice(0,B-F):I.splice(F,B-F),P}function x(T,E){return E&&T.sort(function(P,R){var I=E==="asc"?P.getValue()-R.getValue():R.getValue()-P.getValue();return I===0?E==="asc"?P.dataIndex-R.dataIndex:R.dataIndex-P.dataIndex:I}),T}function b(T,E,P){for(var R=0,I=0,D=E.length;I<D;I++)R+=E[I].getValue();var B=T.get("visualDimension"),F;if(!E||!E.length)F=[NaN,NaN];else if(B==="value"&&P)F=[E[E.length-1].getValue(),E[0].getValue()],P==="asc"&&F.reverse();else{var F=[1/0,-1/0];c(E,function(z){var N=z.getValue(B);N<F[0]&&(F[0]=N),N>F[1]&&(F[1]=N)})}return{sum:R,dataExtent:F}}function A(T,E,P){for(var R=0,I=1/0,D=0,B,F=T.length;D<F;D++)B=T[D].getLayout().area,B&&(B<I&&(I=B),B>R&&(R=B));var G=T.area*T.area,z=E*E*P;return G?s(z*R/G,G/(z*I)):1/0}function S(T,E,P,R,I){var D=E===P.width?0:1,B=1-D,F=["x","y"],G=["width","height"],z=P[F[D]],N=E?T.area/E:0;(I||N>P[G[B]])&&(N=P[G[B]]);for(var U=0,$=T.length;U<$;U++){var k=T[U],V={},L=N?k.getLayout().area/N:0,O=V[G[B]]=s(N-2*R,0),H=P[F[D]]+P[G[D]]-z,j=U===$-1||H<L?H:L,Y=V[G[D]]=s(j-2*R,0);V[F[B]]=P[F[B]]+l(R,O/2),V[F[D]]=z+l(R,Y/2),z+=j,k.setLayout(V,!0)}P[F[B]]+=N,P[G[B]]-=N}function _(T,E,P,R,I){var D=(E||{}).node,B=[R,I];if(!D||D===P)return B;for(var F,G=R*I,z=G*T.option.zoomToNodeRatio;F=D.parentNode;){for(var N=0,U=F.children,$=0,k=U.length;$<k;$++)N+=U[$].getValue();var V=D.getValue();if(V===0)return B;z*=N/V;var L=F.getModel(),O=L.get(f),H=Math.max(O,M(L));z+=4*O*O+(3*O+H)*Math.pow(z,.5),z>a&&(z=a),D=F}z<G&&(z=G);var j=Math.pow(z/G,.5);return[R*j,I*j]}function w(T,E,P){if(E)return{x:E.x,y:E.y};var R={x:0,y:0};if(!P)return R;var I=P.node,D=I.getLayout();if(!D)return R;for(var B=[D.width/2,D.height/2],F=I;F;){var G=F.getLayout();B[0]+=G.x,B[1]+=G.y,F=F.parentNode}return{x:T.width/2-B[0],y:T.height/2-B[1]}}function C(T,E,P,R,I){var D=T.getLayout(),B=P[I],F=B&&B===T;if(!(B&&!F||I===P.length&&T!==R)){T.setLayout({isInView:!0,invisible:!F&&!E.intersect(D),isAboveViewRoot:F},!0);var G=new t(E.x-D.x,E.y-D.y,E.width,E.height);c(T.viewChildren||[],function(z){C(z,G,P,R,I+1)})}}function M(T){return T.get(h)?T.get(v):0}return jb=m,jb}var lk;function lme(){if(lk)return ZN;lk=1;var e=et;tme(),ame(),ime();var t=ome(),n=sme();return e.registerVisual(t),e.registerLayout(n),ZN}var uk={},Yb,ck;function ume(){if(ck)return Yb;ck=1;var e=de,t=ga,n=t.enableClassCheck;function r(c){return"_EC_"+c}var a=function(c){this._directed=c||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},i=a.prototype;i.type="graph",i.isDirected=function(){return this._directed},i.addNode=function(c,f){c=c==null?""+f:""+c;var d=this._nodesMap;if(!d[r(c)]){var h=new o(c,f);return h.hostGraph=this,this.nodes.push(h),d[r(c)]=h,h}},i.getNodeByIndex=function(c){var f=this.data.getRawIndex(c);return this.nodes[f]},i.getNodeById=function(c){return this._nodesMap[r(c)]},i.addEdge=function(c,f,d){var h=this._nodesMap,v=this._edgesMap;if(typeof c=="number"&&(c=this.nodes[c]),typeof f=="number"&&(f=this.nodes[f]),o.isInstance(c)||(c=h[r(c)]),o.isInstance(f)||(f=h[r(f)]),!(!c||!f)){var m=c.id+"-"+f.id,p=new s(c,f,d);return p.hostGraph=this,this._directed&&(c.outEdges.push(p),f.inEdges.push(p)),c.edges.push(p),c!==f&&f.edges.push(p),this.edges.push(p),v[m]=p,p}},i.getEdgeByIndex=function(c){var f=this.edgeData.getRawIndex(c);return this.edges[f]},i.getEdge=function(c,f){o.isInstance(c)&&(c=c.id),o.isInstance(f)&&(f=f.id);var d=this._edgesMap;return this._directed?d[c+"-"+f]:d[c+"-"+f]||d[f+"-"+c]},i.eachNode=function(c,f){for(var d=this.nodes,h=d.length,v=0;v<h;v++)d[v].dataIndex>=0&&c.call(f,d[v],v)},i.eachEdge=function(c,f){for(var d=this.edges,h=d.length,v=0;v<h;v++)d[v].dataIndex>=0&&d[v].node1.dataIndex>=0&&d[v].node2.dataIndex>=0&&c.call(f,d[v],v)},i.breadthFirstTraverse=function(c,f,d,h){if(o.isInstance(f)||(f=this._nodesMap[r(f)]),!!f){for(var v=d==="out"?"outEdges":d==="in"?"inEdges":"edges",m=0;m<this.nodes.length;m++)this.nodes[m].__visited=!1;if(!c.call(h,f,null))for(var p=[f];p.length;)for(var g=p.shift(),y=g[v],m=0;m<y.length;m++){var x=y[m],b=x.node1===g?x.node2:x.node1;if(!b.__visited){if(c.call(h,b,g))return;p.push(b),b.__visited=!0}}}},i.update=function(){for(var c=this.data,f=this.edgeData,d=this.nodes,h=this.edges,v=0,m=d.length;v<m;v++)d[v].dataIndex=-1;for(var v=0,m=c.count();v<m;v++)d[c.getRawIndex(v)].dataIndex=v;f.filterSelf(function(p){var g=h[f.getRawIndex(p)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});for(var v=0,m=h.length;v<m;v++)h[v].dataIndex=-1;for(var v=0,m=f.count();v<m;v++)h[f.getRawIndex(v)].dataIndex=v},i.clone=function(){for(var c=new a(this._directed),f=this.nodes,d=this.edges,h=0;h<f.length;h++)c.addNode(f[h].id,f[h].dataIndex);for(var h=0;h<d.length;h++){var v=d[h];c.addEdge(v.node1.id,v.node2.id,v.dataIndex)}return c};function o(c,f){this.id=c??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=f??-1}o.prototype={constructor:o,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(c){if(!(this.dataIndex<0)){var f=this.hostGraph,d=f.data.getItemModel(this.dataIndex);return d.getModel(c)}}};function s(c,f,d){this.node1=c,this.node2=f,this.dataIndex=d??-1}s.prototype.getModel=function(c){if(!(this.dataIndex<0)){var f=this.hostGraph,d=f.edgeData.getItemModel(this.dataIndex);return d.getModel(c)}};var l=function(c,f){return{getValue:function(d){var h=this[c][f];return h.get(h.getDimension(d||"value"),this.dataIndex)},setVisual:function(d,h){this.dataIndex>=0&&this[c][f].setItemVisual(this.dataIndex,d,h)},getVisual:function(d,h){return this[c][f].getItemVisual(this.dataIndex,d,h)},setLayout:function(d,h){this.dataIndex>=0&&this[c][f].setItemLayout(this.dataIndex,d,h)},getLayout:function(){return this[c][f].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[c][f].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[c][f].getRawIndex(this.dataIndex)}}};e.mixin(o,l("hostGraph","data")),e.mixin(s,l("hostGraph","edgeData")),a.Node=o,a.Edge=s,n(o),n(s);var u=a;return Yb=u,Yb}var Xb,fk;function ZW(){if(fk)return Xb;fk=1;var e=de,t=si(),n=ume(),r=qW(),a=Vf(),i=So,o=us();function s(l,u,c,f,d){for(var h=new n(f),v=0;v<l.length;v++)h.addNode(e.retrieve(l[v].id,l[v].name,v),v);for(var m=[],p=[],g=0,v=0;v<u.length;v++){var y=u[v],x=y.source,b=y.target;h.addEdge(x,b,g)&&(p.push(y),m.push(e.retrieve(y.id,x+" > "+b)),g++)}var A=c.get("coordinateSystem"),S;if(A==="cartesian2d"||A==="polar")S=o(l,c);else{var _=i.get(A),w=_&&_.type!=="view"?_.dimensions||[]:[];e.indexOf(w,"value")<0&&w.concat(["value"]);var C=a(l,{coordDimensions:w});S=new t(C,c),S.initData(l)}var M=new t(["value"],c);return M.initData(p,m),d&&d(S,M),r({mainData:S,struct:h,structAttr:"graph",datas:{node:S,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}return Xb=s,Xb}var _d={},dk;function Zy(){if(dk)return _d;dk=1;var e=de,t="-->",n=function(d){return d.get("autoCurveness")||null},r=function(d,h){var v=n(d),m=20,p=[];if(typeof v=="number")m=v;else if(e.isArray(v)){d.__curvenessList=v;return}h>m&&(m=h);var g=m%2?m+2:m+3;p=[];for(var y=0;y<g;y++)p.push((y%2?y+1:y)/10*(y%2?-1:1));d.__curvenessList=p},a=function(d,h,v){var m=[d.id,d.dataIndex].join("."),p=[h.id,h.dataIndex].join(".");return[v.uid,m,p].join(t)},i=function(d){var h=d.split(t);return[h[0],h[2],h[1]].join(t)},o=function(d,h){var v=a(d.node1,d.node2,h);return h.__edgeMap[v]},s=function(d,h){var v=l(a(d.node1,d.node2,h),h),m=l(a(d.node2,d.node1,h),h);return v+m},l=function(d,h){var v=h.__edgeMap;return v[d]?v[d].length:0};function u(d){n(d)&&(d.__curvenessList=[],d.__edgeMap={},r(d))}function c(d,h,v,m){if(n(v)){var p=a(d,h,v),g=v.__edgeMap,y=g[i(p)];g[p]&&!y?g[p].isForward=!0:y&&g[p]&&(y.isForward=!0,g[p].isForward=!1),g[p]=g[p]||[],g[p].push(m)}}function f(d,h,v,m){var p=n(h),g=e.isArray(p);if(!p)return null;var y=o(d,h);if(!y)return null;for(var x=-1,b=0;b<y.length;b++)if(y[b]===v){x=b;break}var A=s(d,h);r(h,A),d.lineStyle=d.lineStyle||{};var S=a(d.node1,d.node2,h),_=h.__curvenessList,w=g||A%2?0:1;if(y.isForward)return _[w+x];var C=i(S),M=l(C,h),T=_[x+M+w];return m?g?p&&p[0]===0?(M+w)%2?T:-T:((M%2?0:1)+w)%2?T:-T:(M+w)%2?T:-T:_[x+M+w]}return _d.initCurvenessList=u,_d.createEdgeMapForCurveness=c,_d.getCurvenessForEdge=f,_d}var qb,hk;function cme(){if(hk)return qb;hk=1;var e=et,t=si(),n=de,r=bt,a=r.defaultEmphasis,i=Jn,o=Gt,s=o.encodeHTML,l=ZW(),u=Tv(),c=Zy(),f=c.initCurvenessList,d=c.createEdgeMapForCurveness,h=e.extendSeriesModel({type:"series.graph",init:function(m){h.superApply(this,"init",arguments);var p=this;function g(){return p._categoriesData}this.legendVisualProvider=new u(g,g),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeOption:function(m){h.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(m.edges||m.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(m){h.superApply(this,"mergeDefaultAndTheme",arguments),a(m,["edgeLabel"],["show"])},getInitialData:function(m,p){var g=m.edges||m.links||[],y=m.data||m.nodes||[],x=this;if(y&&g){f(this);var b=l(y,g,this,!0,A);return n.each(b.edges,function(S){d(S.node1,S.node2,this,S.dataIndex)},this),b.data}function A(S,_){S.wrapMethod("getItemModel",function(P){var R=x._categoriesModels,I=P.getShallow("category"),D=R[I];return D&&(D.parentModel=P.parentModel,P.parentModel=D),P});var w=x.getModel("edgeLabel"),C=new i({label:w.option},w.parentModel,p),M=x.getModel("emphasis.edgeLabel"),T=new i({emphasis:{label:M.option}},M.parentModel,p);_.wrapMethod("getItemModel",function(P){return P.customizeGetParent(E),P});function E(P){return P=this.parsePath(P),P&&P[0]==="label"?C:P&&P[0]==="emphasis"&&P[1]==="label"?T:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(m,p,g){if(g==="edge"){var y=this.getData(),x=this.getDataParams(m,g),b=y.graph.getEdgeByIndex(m),A=y.getName(b.node1.dataIndex),S=y.getName(b.node2.dataIndex),_=[];return A!=null&&_.push(A),S!=null&&_.push(S),_=s(_.join(" > ")),x.value&&(_+=" : "+s(x.value)),_}else return h.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var m=n.map(this.option.categories||[],function(g){return g.value!=null?g:n.extend({value:0},g)}),p=new t(["value"],this);p.initData(m),this._categoriesData=p,this._categoriesModels=p.mapArray(function(g){return p.getItemModel(g,!0)})},setZoom:function(m){this.option.zoom=m},setCenter:function(m){this.option.center=m},isAnimationEnabled:function(){return h.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),v=h;return qb=v,qb}var Kb,vk;function fme(){if(vk)return Kb;vk=1;var e=$e,t=Pt,n=e.Line.prototype,r=e.BezierCurve.prototype;function a(o){return isNaN(+o.cpx1)||isNaN(+o.cpy1)}var i=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(o,s){this[a(s)?"_buildPathLine":"_buildPathCurve"](o,s)},_buildPathLine:n.buildPath,_buildPathCurve:r.buildPath,pointAt:function(o){return this[a(this.shape)?"_pointAtLine":"_pointAtCurve"](o)},_pointAtLine:n.pointAt,_pointAtCurve:r.pointAt,tangentAt:function(o){var s=this.shape,l=a(s)?[s.x2-s.x1,s.y2-s.y1]:this._tangentAtCurve(o);return t.normalize(l,l)},_tangentAtCurve:r.tangentAt});return Kb=i,Kb}var Zb,pk;function bP(){if(pk)return Zb;pk=1;var e=de,t=Pt,n=li(),r=fme(),a=$e,i=Rt(),o=i.round,s=["fromSymbol","toSymbol"];function l(p){return"_"+p+"Type"}function u(p,g,y){var x=g.getItemVisual(y,p);if(!(!x||x==="none")){var b=g.getItemVisual(y,"color"),A=g.getItemVisual(y,p+"Size"),S=g.getItemVisual(y,p+"Rotate");e.isArray(A)||(A=[A,A]);var _=n.createSymbol(x,-A[0]/2,-A[1]/2,A[0],A[1],b);return _.__specifiedRotation=S==null||isNaN(S)?void 0:+S*Math.PI/180||0,_.name=p,_}}function c(p){var g=new r({name:"line",subPixelOptimize:!0});return f(g.shape,p),g}function f(p,g){p.x1=g[0][0],p.y1=g[0][1],p.x2=g[1][0],p.y2=g[1][1],p.percent=1;var y=g[2];y?(p.cpx1=y[0],p.cpy1=y[1]):(p.cpx1=NaN,p.cpy1=NaN)}function d(){var p=this,g=p.childOfName("fromSymbol"),y=p.childOfName("toSymbol"),x=p.childOfName("label");if(!(!g&&!y&&x.ignore)){for(var b=1,A=this.parent;A;)A.scale&&(b/=A.scale[0]),A=A.parent;var S=p.childOfName("line");if(!(!this.__dirty&&!S.__dirty)){var _=S.shape.percent,w=S.pointAt(0),C=S.pointAt(_),M=t.sub([],C,w);if(t.normalize(M,M),g){g.attr("position",w);var T=g.__specifiedRotation;if(T==null){var E=S.tangentAt(0);g.attr("rotation",Math.PI/2-Math.atan2(E[1],E[0]))}else g.attr("rotation",T);g.attr("scale",[b*_,b*_])}if(y){y.attr("position",C);var T=y.__specifiedRotation;if(T==null){var E=S.tangentAt(1);y.attr("rotation",-Math.PI/2-Math.atan2(E[1],E[0]))}else y.attr("rotation",T);y.attr("scale",[b*_,b*_])}if(!x.ignore){x.attr("position",C);var P,R,I,D,B=x.__labelDistance,F=B[0]*b,G=B[1]*b,z=_/2,E=S.tangentAt(z),N=[E[1],-E[0]],U=S.pointAt(z);N[1]>0&&(N[0]=-N[0],N[1]=-N[1]);var $=E[0]<0?-1:1;if(x.__position!=="start"&&x.__position!=="end"){var k=-Math.atan2(E[1],E[0]);C[0]<w[0]&&(k=Math.PI+k),x.attr("rotation",k)}var V;switch(x.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":V=-G,I="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":V=G,I="top";break;default:V=0,I="middle"}switch(x.__position){case"end":P=[M[0]*F+C[0],M[1]*G+C[1]],R=M[0]>.8?"left":M[0]<-.8?"right":"center",I=M[1]>.8?"top":M[1]<-.8?"bottom":"middle";break;case"start":P=[-M[0]*F+w[0],-M[1]*G+w[1]],R=M[0]>.8?"right":M[0]<-.8?"left":"center",I=M[1]>.8?"bottom":M[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":P=[F*$+w[0],w[1]+V],R=E[0]<0?"right":"left",D=[-F*$,-V];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":P=[U[0],U[1]+V],R="center",D=[0,-V];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":P=[-F*$+C[0],C[1]+V],R=E[0]>=0?"right":"left",D=[F*$,-V];break}x.attr({style:{textVerticalAlign:x.__verticalAlign||I,textAlign:x.__textAlign||R},position:P,scale:[b,b],origin:D})}}}}function h(p,g,y){a.Group.call(this),this._createLine(p,g,y)}var v=h.prototype;v.beforeUpdate=d,v._createLine=function(p,g,y){var x=p.hostModel,b=p.getItemLayout(g),A=c(b);A.shape.percent=0,a.initProps(A,{shape:{percent:1}},x,g),this.add(A);var S=new a.Text({name:"label",lineLabelOriginalOpacity:1});this.add(S),e.each(s,function(_){var w=u(_,p,g);this.add(w),this[l(_)]=p.getItemVisual(g,_)},this),this._updateCommonStl(p,g,y)},v.updateData=function(p,g,y){var x=p.hostModel,b=this.childOfName("line"),A=p.getItemLayout(g),S={shape:{}};f(S.shape,A),a.updateProps(b,S,x,g),e.each(s,function(_){var w=p.getItemVisual(g,_),C=l(_);if(this[C]!==w){this.remove(this.childOfName(_));var M=u(_,p,g);this.add(M)}this[C]=w},this),this._updateCommonStl(p,g,y)},v._updateCommonStl=function(p,g,y){var x=p.hostModel,b=this.childOfName("line"),A=y&&y.lineStyle,S=y&&y.hoverLineStyle,_=y&&y.labelModel,w=y&&y.hoverLabelModel;if(!y||p.hasItemOption){var C=p.getItemModel(g);A=C.getModel("lineStyle").getLineStyle(),S=C.getModel("emphasis.lineStyle").getLineStyle(),_=C.getModel("label"),w=C.getModel("emphasis.label")}var M=p.getItemVisual(g,"color"),T=e.retrieve3(p.getItemVisual(g,"opacity"),A.opacity,1);b.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:M,opacity:T},A)),b.hoverStyle=S,e.each(s,function(U){var $=this.childOfName(U);$&&($.setColor(M),$.setStyle({opacity:T}))},this);var E=_.getShallow("show"),P=w.getShallow("show"),R=this.childOfName("label"),I,D;if((E||P)&&(I=M||"#000",D=x.getFormattedLabel(g,"normal",p.dataType),D==null)){var B=x.getRawValue(g);D=B==null?p.getName(g):isFinite(B)?o(B):B}var F=E?D:null,G=P?e.retrieve2(x.getFormattedLabel(g,"emphasis",p.dataType),D):null,z=R.style;if(F!=null||G!=null){a.setTextStyle(R.style,_,{text:F},{autoColor:I}),R.__textAlign=z.textAlign,R.__verticalAlign=z.textVerticalAlign,R.__position=_.get("position")||"middle";var N=_.get("distance");e.isArray(N)||(N=[N,N]),R.__labelDistance=N}G!=null?R.hoverStyle={text:G,textFill:w.getTextColor(!0),fontStyle:w.getShallow("fontStyle"),fontWeight:w.getShallow("fontWeight"),fontSize:w.getShallow("fontSize"),fontFamily:w.getShallow("fontFamily")}:R.hoverStyle={text:null},R.ignore=!E&&!P,a.setHoverStyle(this)},v.highlight=function(){this.trigger("emphasis")},v.downplay=function(){this.trigger("normal")},v.updateLayout=function(p,g){this.setLinePoints(p.getItemLayout(g))},v.setLinePoints=function(p){var g=this.childOfName("line");f(g.shape,p),g.dirty()},e.inherits(h,a.Group);var m=h;return Zb=m,Zb}var Qb,gk;function SP(){if(gk)return Qb;gk=1;var e=$e,t=bP();function n(f){this._ctor=f||t,this.group=new e.Group}var r=n.prototype;r.isPersistent=function(){return!0},r.updateData=function(f){var d=this,h=d.group,v=d._lineData;d._lineData=f,v||h.removeAll();var m=s(f);f.diff(v).add(function(p){a(d,f,p,m)}).update(function(p,g){i(d,v,f,g,p,m)}).remove(function(p){h.remove(v.getItemGraphicEl(p))}).execute()};function a(f,d,h,v){var m=d.getItemLayout(h);if(u(m)){var p=new f._ctor(d,h,v);d.setItemGraphicEl(h,p),f.group.add(p)}}function i(f,d,h,v,m,p){var g=d.getItemGraphicEl(v);if(!u(h.getItemLayout(m))){f.group.remove(g);return}g?g.updateData(h,m,p):g=new f._ctor(h,m,p),h.setItemGraphicEl(m,g),f.group.add(g)}r.updateLayout=function(){var f=this._lineData;f&&f.eachItemGraphicEl(function(d,h){d.updateLayout(f,h)},this)},r.incrementalPrepareUpdate=function(f){this._seriesScope=s(f),this._lineData=null,this.group.removeAll()};function o(f){return f.animators&&f.animators.length>0}r.incrementalUpdate=function(f,d){function h(g){!g.isGroup&&!o(g)&&(g.incremental=g.useHoverLayer=!0)}for(var v=f.start;v<f.end;v++){var m=d.getItemLayout(v);if(u(m)){var p=new this._ctor(d,v,this._seriesScope);p.traverse(h),this.group.add(p),d.setItemGraphicEl(v,p)}}};function s(f){var d=f.hostModel;return{lineStyle:d.getModel("lineStyle").getLineStyle(),hoverLineStyle:d.getModel("emphasis.lineStyle").getLineStyle(),labelModel:d.getModel("label"),hoverLabelModel:d.getModel("emphasis.label")}}r.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},r._clearIncremental=function(){var f=this._incremental;f&&f.clearDisplaybles()};function l(f){return isNaN(f[0])||isNaN(f[1])}function u(f){return!l(f[0])&&!l(f[1])}var c=n;return Qb=c,Qb}var Rp={},mk;function _P(){if(mk)return Rp;mk=1;function e(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var a=n.option.nodeScaleRatio,i=r.scale,o=i&&i[0]||1,s=r.getZoom(),l=(s-1)*a+1;return l/o}function t(n){var r=n.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}return Rp.getNodeGlobalScale=e,Rp.getSymbolSize=t,Rp}var Jb,yk;function dme(){if(yk)return Jb;yk=1;var e=cr,t=Pt,n=_P(),r=n.getSymbolSize,a=[],i=[],o=[],s=e.quadraticAt,l=t.distSquare,u=Math.abs;function c(d,h,v){for(var m=d[0],p=d[1],g=d[2],y=1/0,x,b=v*v,A=.1,S=.1;S<=.9;S+=.1){a[0]=s(m[0],p[0],g[0],S),a[1]=s(m[1],p[1],g[1],S);var _=u(l(a,h)-b);_<y&&(y=_,x=S)}for(var w=0;w<32;w++){var C=x+A;i[0]=s(m[0],p[0],g[0],x),i[1]=s(m[1],p[1],g[1],x),o[0]=s(m[0],p[0],g[0],C),o[1]=s(m[1],p[1],g[1],C);var _=l(i,h)-b;if(u(_)<.01)break;var M=l(o,h)-b;A/=2,_<0?M>=0?x=x+A:x=x-A:M>=0?x=x-A:x=x+A}return x}function f(d,h){var v=[],m=e.quadraticSubdivide,p=[[],[],[]],g=[[],[]],y=[];h/=2,d.eachEdge(function(x,b){var A=x.getLayout(),S=x.getVisual("fromSymbol"),_=x.getVisual("toSymbol");A.__original||(A.__original=[t.clone(A[0]),t.clone(A[1])],A[2]&&A.__original.push(t.clone(A[2])));var w=A.__original;if(A[2]!=null){if(t.copy(p[0],w[0]),t.copy(p[1],w[2]),t.copy(p[2],w[1]),S&&S!=="none"){var C=r(x.node1),M=c(p,w[0],C*h);m(p[0][0],p[1][0],p[2][0],M,v),p[0][0]=v[3],p[1][0]=v[4],m(p[0][1],p[1][1],p[2][1],M,v),p[0][1]=v[3],p[1][1]=v[4]}if(_&&_!=="none"){var C=r(x.node2),M=c(p,w[1],C*h);m(p[0][0],p[1][0],p[2][0],M,v),p[1][0]=v[1],p[2][0]=v[2],m(p[0][1],p[1][1],p[2][1],M,v),p[1][1]=v[1],p[2][1]=v[2]}t.copy(A[0],p[0]),t.copy(A[1],p[2]),t.copy(A[2],p[1])}else{if(t.copy(g[0],w[0]),t.copy(g[1],w[1]),t.sub(y,g[1],g[0]),t.normalize(y,y),S&&S!=="none"){var C=r(x.node1);t.scaleAndAdd(g[0],g[0],y,C*h)}if(_&&_!=="none"){var C=r(x.node2);t.scaleAndAdd(g[1],g[1],y,-C*h)}t.copy(A[0],g[0]),t.copy(A[1],g[1])}})}return Jb=f,Jb}var eS,xk;function hme(){if(xk)return eS;xk=1;var e=et,t=de,n=Av(),r=SP(),a=Pv(),i=pP(),o=Ky(),s=o.onIrrelevantElement,l=$e,u=dme(),c=_P(),f=c.getNodeGlobalScale,d="__focusNodeAdjacency",h="__unfocusNodeAdjacency",v=["itemStyle","opacity"],m=["lineStyle","opacity"];function p(b,A){var S=b.getVisual("opacity");return S??b.getModel().get(A)}function g(b,A,S){var _=b.getGraphicEl(),w=p(b,A);S!=null&&(w==null&&(w=1),w*=S),_.downplay&&_.downplay(),_.traverse(function(C){if(!C.isGroup){var M=C.lineLabelOriginalOpacity;(M==null||S!=null)&&(M=w),C.setStyle("opacity",M)}})}function y(b,A){var S=p(b,A),_=b.getGraphicEl();_.traverse(function(w){!w.isGroup&&w.setStyle("opacity",S)}),_.highlight&&_.highlight()}var x=e.extendChartView({type:"graph",init:function(b,A){var S=new n,_=new r,w=this.group;this._controller=new a(A.getZr()),this._controllerHost={target:w},w.add(S.group),w.add(_.group),this._symbolDraw=S,this._lineDraw=_,this._firstRender=!0},render:function(b,A,S){var _=this,w=b.coordinateSystem;this._model=b;var C=this._symbolDraw,M=this._lineDraw,T=this.group;if(w.type==="view"){var E={position:w.position,scale:w.scale};this._firstRender?T.attr(E):l.updateProps(T,E,b)}u(b.getGraph(),f(b));var P=b.getData();C.updateData(P);var R=b.getEdgeData();M.updateData(R),this._updateNodeAndLinkScale(),this._updateController(b,A,S),clearTimeout(this._layoutTimeout);var I=b.forceLayout,D=b.get("force.layoutAnimation");I&&this._startForceLayoutIteration(I,D),P.eachItemGraphicEl(function(z,N){var U=P.getItemModel(N);z.off("drag").off("dragend");var $=U.get("draggable");$&&z.on("drag",function(){I&&(I.warmUp(),!this._layouting&&this._startForceLayoutIteration(I,D),I.setFixed(N),P.setItemLayout(N,z.position))},this).on("dragend",function(){I&&I.setUnfixed(N)},this),z.setDraggable($&&I),z[d]&&z.off("mouseover",z[d]),z[h]&&z.off("mouseout",z[h]),U.get("focusNodeAdjacency")&&(z.on("mouseover",z[d]=function(){_._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:b.id,dataIndex:z.dataIndex})}),z.on("mouseout",z[h]=function(){_._dispatchUnfocus(S)}))},this),P.graph.eachEdge(function(z){var N=z.getGraphicEl();N[d]&&N.off("mouseover",N[d]),N[h]&&N.off("mouseout",N[h]),z.getModel().get("focusNodeAdjacency")&&(N.on("mouseover",N[d]=function(){_._clearTimer(),S.dispatchAction({type:"focusNodeAdjacency",seriesId:b.id,edgeDataIndex:z.dataIndex})}),N.on("mouseout",N[h]=function(){_._dispatchUnfocus(S)}))});var B=b.get("layout")==="circular"&&b.get("circular.rotateLabel"),F=P.getLayout("cx"),G=P.getLayout("cy");P.eachItemGraphicEl(function(z,N){var U=P.getItemModel(N),$=U.get("label.rotate")||0,k=z.getSymbolPath();if(B){var V=P.getItemLayout(N),L=Math.atan2(V[1]-G,V[0]-F);L<0&&(L=Math.PI*2+L);var O=V[0]<F;O&&(L=L-Math.PI);var H=O?"left":"right";l.modifyLabelStyle(k,{textRotation:-L,textPosition:H,textOrigin:"center"},{textPosition:H})}else l.modifyLabelStyle(k,{textRotation:$*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(b,A){var S=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){S._unfocusDelayTimer=null,b.dispatchAction({type:"unfocusNodeAdjacency",seriesId:S._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(b,A,S,_){var w=b.getData(),C=w.graph,M=_.dataIndex,T=_.edgeDataIndex,E=C.getNodeByIndex(M),P=C.getEdgeByIndex(T);!E&&!P||(C.eachNode(function(R){g(R,v,.1)}),C.eachEdge(function(R){g(R,m,.1)}),E&&(y(E,v),t.each(E.edges,function(R){R.dataIndex<0||(y(R,m),y(R.node1,v),y(R.node2,v))})),P&&(y(P,m),y(P.node1,v),y(P.node2,v)))},unfocusNodeAdjacency:function(b,A,S,_){var w=b.getData().graph;w.eachNode(function(C){g(C,v)}),w.eachEdge(function(C){g(C,m)})},_startForceLayoutIteration:function(b,A){var S=this;(function _(){b.step(function(w){S.updateLayout(S._model),(S._layouting=!w)&&(A?S._layoutTimeout=setTimeout(_,16):_())})})()},_updateController:function(b,A,S){var _=this._controller,w=this._controllerHost,C=this.group;if(_.setPointerChecker(function(M,T,E){var P=C.getBoundingRect();return P.applyTransform(C.transform),P.contain(T,E)&&!s(M,S,b)}),b.coordinateSystem.type!=="view"){_.disable();return}_.enable(b.get("roam")),w.zoomLimit=b.get("scaleLimit"),w.zoom=b.coordinateSystem.getZoom(),_.off("pan").off("zoom").on("pan",function(M){i.updateViewOnPan(w,M.dx,M.dy),S.dispatchAction({seriesId:b.id,type:"graphRoam",dx:M.dx,dy:M.dy})}).on("zoom",function(M){i.updateViewOnZoom(w,M.scale,M.originX,M.originY),S.dispatchAction({seriesId:b.id,type:"graphRoam",zoom:M.scale,originX:M.originX,originY:M.originY}),this._updateNodeAndLinkScale(),u(b.getGraph(),f(b)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var b=this._model,A=b.getData(),S=f(b),_=[S,S];A.eachItemGraphicEl(function(w,C){w.attr("scale",_)})},updateLayout:function(b){u(b.getGraph(),f(b)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(b,A){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return eS=x,eS}var bk={},Sk={},_k;function QW(){if(_k)return Sk;_k=1;var e=et;return e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),Sk}var Ak;function vme(){if(Ak)return bk;Ak=1;var e=et,t=gP(),n=t.updateCenterAndZoom;QW();var r={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(r,function(a,i){i.eachComponent({mainType:"series",query:a},function(o){var s=o.coordinateSystem,l=n(s,a);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom)})}),bk}var tS,wk;function pme(){if(wk)return tS;wk=1;function e(t){var n=t.findComponents({mainType:"legend"});!n||!n.length||t.eachSeriesByType("graph",function(r){var a=r.getCategoriesData(),i=r.getGraph(),o=i.data,s=a.mapArray(a.getName);o.filterSelf(function(l){var u=o.getItemModel(l),c=u.getShallow("category");if(c!=null){typeof c=="number"&&(c=s[c]);for(var f=0;f<n.length;f++)if(!n[f].isSelected(c))return!1}return!0})},this)}return tS=e,tS}var nS,Ck;function gme(){if(Ck)return nS;Ck=1;function e(t){var n={};t.eachSeriesByType("graph",function(r){var a=r.getCategoriesData(),i=r.getData(),o={};a.each(function(s){var l=a.getName(s);o["ec-"+l]=s;var u=a.getItemModel(s),c=u.get("itemStyle.color")||r.getColorFromPalette(l,n);a.setItemVisual(s,"color",c);for(var f=["opacity","symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++){var h=u.getShallow(f[d],!0);h!=null&&a.setItemVisual(s,f[d],h)}}),a.count()&&i.each(function(s){var l=i.getItemModel(s),u=l.getShallow("category");if(u!=null){typeof u=="string"&&(u=o["ec-"+u]);for(var c=["color","opacity","symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++)i.getItemVisual(s,c[f],!0)==null&&i.setItemVisual(s,c[f],a.getItemVisual(u,c[f]))}})})}return nS=e,nS}var rS,Mk;function mme(){if(Mk)return rS;Mk=1;function e(n){return n instanceof Array||(n=[n,n]),n}function t(n){n.eachSeriesByType("graph",function(r){var a=r.getGraph(),i=r.getEdgeData(),o=e(r.get("edgeSymbol")),s=e(r.get("edgeSymbolSize")),l="lineStyle.color".split("."),u="lineStyle.opacity".split(".");i.setVisual("fromSymbol",o&&o[0]),i.setVisual("toSymbol",o&&o[1]),i.setVisual("fromSymbolSize",s&&s[0]),i.setVisual("toSymbolSize",s&&s[1]),i.setVisual("color",r.get(l)),i.setVisual("opacity",r.get(u)),i.each(function(c){var f=i.getItemModel(c),d=a.getEdgeByIndex(c),h=e(f.getShallow("symbol",!0)),v=e(f.getShallow("symbolSize",!0)),m=f.get(l),p=f.get(u);switch(m){case"source":m=d.node1.getVisual("color");break;case"target":m=d.node2.getVisual("color");break}h[0]&&d.setVisual("fromSymbol",h[0]),h[1]&&d.setVisual("toSymbol",h[1]),v[0]&&d.setVisual("fromSymbolSize",v[0]),v[1]&&d.setVisual("toSymbolSize",v[1]),d.setVisual("color",m),d.setVisual("opacity",p)})})}return rS=t,rS}var Ip={},Tk;function JW(){if(Tk)return Ip;Tk=1;var e=Pt,t=de,n=Zy(),r=n.getCurvenessForEdge;function a(o){var s=o.coordinateSystem;if(!(s&&s.type!=="view")){var l=o.getGraph();l.eachNode(function(u){var c=u.getModel();u.setLayout([+c.get("x"),+c.get("y")])}),i(l,o)}}function i(o,s){o.eachEdge(function(l,u){var c=t.retrieve3(l.getModel().get("lineStyle.curveness"),-r(l,s,u,!0),0),f=e.clone(l.node1.getLayout()),d=e.clone(l.node2.getLayout()),h=[f,d];+c&&h.push([(f[0]+d[0])/2-(f[1]-d[1])*c,(f[1]+d[1])/2-(d[0]-f[0])*c]),l.setLayout(h)})}return Ip.simpleLayout=a,Ip.simpleLayoutEdge=i,Ip}var aS,Ek;function yme(){if(Ek)return aS;Ek=1;var e=de,t=e.each,n=JW(),r=n.simpleLayout,a=n.simpleLayoutEdge;function i(o,s){o.eachSeriesByType("graph",function(l){var u=l.get("layout"),c=l.coordinateSystem;if(c&&c.type!=="view"){var f=l.getData(),d=[];t(c.dimensions,function(y){d=d.concat(f.mapDimension(y,!0))});for(var h=0;h<f.count();h++){for(var v=[],m=!1,p=0;p<d.length;p++){var g=f.get(d[p],h);isNaN(g)||(m=!0),v.push(g)}m?f.setItemLayout(h,c.dataToPoint(v)):f.setItemLayout(h,[NaN,NaN])}a(f.graph,l)}else(!u||u==="none")&&r(l)})}return aS=i,aS}var iS={},Pk;function e9(){if(Pk)return iS;Pk=1;var e=Pt,t=_P(),n=t.getSymbolSize,r=t.getNodeGlobalScale,a=de,i=Zy(),o=i.getCurvenessForEdge,s=Math.PI,l=[];function u(f,d){var h=f.coordinateSystem;if(!(h&&h.type!=="view")){var v=h.getBoundingRect(),m=f.getData(),p=m.graph,g=v.width/2+v.x,y=v.height/2+v.y,x=Math.min(v.width,v.height)/2,b=m.count();m.setLayout({cx:g,cy:y}),b&&(c[d](f,h,p,m,x,g,y,b),p.eachEdge(function(A,S){var _=a.retrieve3(A.getModel().get("lineStyle.curveness"),o(A,f,S),0),w=e.clone(A.node1.getLayout()),C=e.clone(A.node2.getLayout()),M,T=(w[0]+C[0])/2,E=(w[1]+C[1])/2;+_&&(_*=3,M=[g*_+T*(1-_),y*_+E*(1-_)]),A.setLayout([w,C,M])}))}}var c={value:function(f,d,h,v,m,p,g,y){var x=0,b=v.getSum("value"),A=Math.PI*2/(b||y);h.eachNode(function(S){var _=S.getValue("value"),w=A*(b?_:1)/2;x+=w,S.setLayout([m*Math.cos(x)+p,m*Math.sin(x)+g]),x+=w})},symbolSize:function(f,d,h,v,m,p,g,y){var x=0;l.length=y;var b=r(f);h.eachNode(function(_){var w=n(_);isNaN(w)&&(w=2),w<0&&(w=0),w*=b;var C=Math.asin(w/2/m);isNaN(C)&&(C=s/2),l[_.dataIndex]=C,x+=C*2});var A=(2*s-x)/y/2,S=0;h.eachNode(function(_){var w=A+l[_.dataIndex];S+=w,_.setLayout([m*Math.cos(S)+p,m*Math.sin(S)+g]),S+=w})}};return iS.circularLayout=u,iS}var oS,Rk;function xme(){if(Rk)return oS;Rk=1;var e=e9(),t=e.circularLayout;function n(r){r.eachSeriesByType("graph",function(a){a.get("layout")==="circular"&&t(a,"symbolSize")})}return oS=n,oS}var sS={},Ik;function bme(){if(Ik)return sS;Ik=1;var e=Pt,t=e.scaleAndAdd;function n(r,a,i){for(var o=i.rect,s=o.width,l=o.height,u=[o.x+s/2,o.y+l/2],c=i.gravity==null?.1:i.gravity,f=0;f<r.length;f++){var d=r[f];d.p||(d.p=e.create(s*(Math.random()-.5)+u[0],l*(Math.random()-.5)+u[1])),d.pp=e.clone(d.p),d.edges=null}var h=i.friction==null?.6:i.friction,v=h;return{warmUp:function(){v=h*.8},setFixed:function(m){r[m].fixed=!0},setUnfixed:function(m){r[m].fixed=!1},step:function(m){for(var p=[],g=r.length,y=0;y<a.length;y++){var x=a[y];if(!x.ignoreForceLayout){var b=x.n1,A=x.n2;e.sub(p,A.p,b.p);var S=e.len(p)-x.d,_=A.w/(b.w+A.w);isNaN(_)&&(_=0),e.normalize(p,p),!b.fixed&&t(b.p,b.p,p,_*S*v),!A.fixed&&t(A.p,A.p,p,-(1-_)*S*v)}}for(var y=0;y<g;y++){var w=r[y];w.fixed||(e.sub(p,u,w.p),t(w.p,w.p,p,c*v))}for(var y=0;y<g;y++)for(var b=r[y],C=y+1;C<g;C++){var A=r[C];e.sub(p,A.p,b.p);var S=e.len(p);S===0&&(e.set(p,Math.random()-.5,Math.random()-.5),S=1);var M=(b.rep+A.rep)/S/S;!b.fixed&&t(b.pp,b.pp,p,M),!A.fixed&&t(A.pp,A.pp,p,-M)}for(var T=[],y=0;y<g;y++){var w=r[y];w.fixed||(e.sub(T,w.p,w.pp),t(w.p,w.p,T,v),e.copy(w.pp,w.p))}v=v*.992,m&&m(r,a,v<.01)}}}return sS.forceLayout=n,sS}var lS,Dk;function Sme(){if(Dk)return lS;Dk=1;var e=bme(),t=e.forceLayout,n=JW(),r=n.simpleLayout,a=e9(),i=a.circularLayout,o=Rt(),s=o.linearMap,l=Pt,u=de,c=Zy(),f=c.getCurvenessForEdge;function d(h){h.eachSeriesByType("graph",function(v){var m=v.coordinateSystem;if(!(m&&m.type!=="view"))if(v.get("layout")==="force"){var p=v.preservedPoints||{},g=v.getGraph(),y=g.data,x=g.edgeData,b=v.getModel("force"),A=b.get("initLayout");v.preservedPoints?y.each(function(D){var B=y.getId(D);y.setItemLayout(D,p[B]||[NaN,NaN])}):!A||A==="none"?r(v):A==="circular"&&i(v,"value");var S=y.getDataExtent("value"),_=x.getDataExtent("value"),w=b.get("repulsion"),C=b.get("edgeLength");u.isArray(w)||(w=[w,w]),u.isArray(C)||(C=[C,C]),C=[C[1],C[0]];var M=y.mapArray("value",function(D,B){var F=y.getItemLayout(B),G=s(D,S,w);return isNaN(G)&&(G=(w[0]+w[1])/2),{w:G,rep:G,fixed:y.getItemModel(B).get("fixed"),p:!F||isNaN(F[0])||isNaN(F[1])?null:F}}),T=x.mapArray("value",function(D,B){var F=g.getEdgeByIndex(B),G=s(D,_,C);isNaN(G)&&(G=(C[0]+C[1])/2);var z=F.getModel(),N=u.retrieve3(z.get("lineStyle.curveness"),-f(F,v,B,!0),0);return{n1:M[F.node1.dataIndex],n2:M[F.node2.dataIndex],d:G,curveness:N,ignoreForceLayout:z.get("ignoreForceLayout")}}),m=v.coordinateSystem,E=m.getBoundingRect(),P=t(M,T,{rect:E,gravity:b.get("gravity"),friction:b.get("friction")}),R=P.step;P.step=function(D){for(var B=0,F=M.length;B<F;B++)M[B].fixed&&l.copy(M[B].p,g.getNodeByIndex(B).getLayout());R(function(G,z,N){for(var U=0,$=G.length;U<$;U++)G[U].fixed||g.getNodeByIndex(U).setLayout(G[U].p),p[y.getId(U)]=G[U].p;for(var U=0,$=z.length;U<$;U++){var k=z[U],V=g.getEdgeByIndex(U),L=k.n1.p,O=k.n2.p,H=V.getLayout();H=H?H.slice():[],H[0]=H[0]||[],H[1]=H[1]||[],l.copy(H[0],L),l.copy(H[1],O),+k.curveness&&(H[2]=[(L[0]+O[0])/2-(L[1]-O[1])*k.curveness,(L[1]+O[1])/2-(O[0]-L[0])*k.curveness]),V.setLayout(H)}D&&D(N)})},v.forceLayout=P,v.preservedPoints=p,P.step()}else v.forceLayout=null})}return lS=d,lS}var uS,Lk;function _me(){if(Lk)return uS;Lk=1;var e=mP(),t=$t,n=t.getLayoutRect,r=hv();function a(o,s,l){var u=o.getBoxLayoutParams();return u.aspect=l,n(u,{width:s.getWidth(),height:s.getHeight()})}function i(o,s){var l=[];return o.eachSeriesByType("graph",function(u){var c=u.get("coordinateSystem");if(!c||c==="view"){var f=u.getData(),d=f.mapArray(function(S){var _=f.getItemModel(S);return[+_.get("x"),+_.get("y")]}),h=[],v=[];r.fromPoints(d,h,v),v[0]-h[0]===0&&(v[0]+=1,h[0]-=1),v[1]-h[1]===0&&(v[1]+=1,h[1]-=1);var m=(v[0]-h[0])/(v[1]-h[1]),p=a(u,s,m);isNaN(m)&&(h=[p.x,p.y],v=[p.x+p.width,p.y+p.height]);var g=v[0]-h[0],y=v[1]-h[1],x=p.width,b=p.height,A=u.coordinateSystem=new e;A.zoomLimit=u.get("scaleLimit"),A.setBoundingRect(h[0],h[1],g,y),A.setViewRect(p.x,p.y,x,b),A.setCenter(u.get("center")),A.setZoom(u.get("zoom")),l.push(A)}}),l}return uS=i,uS}var Ok;function Ame(){if(Ok)return uk;Ok=1;var e=et;cme(),hme(),vme();var t=pme(),n=Mu(),r=gme(),a=mme(),i=yme(),o=xme(),s=Sme(),l=_me();return e.registerProcessor(t),e.registerVisual(n("graph","circle",null)),e.registerVisual(r),e.registerVisual(a),e.registerLayout(i),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,o),e.registerLayout(s),e.registerCoordinateSystem("graphView",{create:l}),uk}var Nk={},cS,kk;function wme(){if(kk)return cS;kk=1;var e=Uf(),t=xr,n=t.extend({type:"series.gauge",getInitialData:function(a,i){return e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),r=n;return cS=r,cS}var fS,Bk;function Cme(){if(Bk)return fS;Bk=1;var e=jn,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(n,r){var a=Math.cos,i=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-a(l)*s*(s>=o/3?1:2),c=r.y-i(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,c),n.lineTo(r.x+a(l)*s,r.y+i(l)*s),n.lineTo(r.x+a(r.angle)*o,r.y+i(r.angle)*o),n.lineTo(r.x-a(l)*s,r.y-i(l)*s),n.lineTo(u,c)}});return fS=t,fS}var dS,Fk;function Mme(){if(Fk)return dS;Fk=1;var e=Cme(),t=$e,n=_o,r=Rt(),a=r.parsePercent,i=r.round,o=r.linearMap;function s(d,h){var v=d.get("center"),m=h.getWidth(),p=h.getHeight(),g=Math.min(m,p),y=a(v[0],h.getWidth()),x=a(v[1],h.getHeight()),b=a(d.get("radius"),g/2);return{cx:y,cy:x,r:b}}function l(d,h){return h&&(typeof h=="string"?d=h.replace("{value}",d??""):typeof h=="function"&&(d=h(d))),d}var u=Math.PI*2,c=n.extend({type:"gauge",render:function(d,h,v){this.group.removeAll();var m=d.get("axisLine.lineStyle.color"),p=s(d,v);this._renderMain(d,h,v,m,p)},dispose:function(){},_renderMain:function(d,h,v,m,p){for(var g=this.group,y=d.getModel("axisLine"),x=y.getModel("lineStyle"),b=d.get("clockwise"),A=-d.get("startAngle")/180*Math.PI,S=-d.get("endAngle")/180*Math.PI,_=(S-A)%u,w=A,C=x.get("width"),M=y.get("show"),T=0;M&&T<m.length;T++){var E=Math.min(Math.max(m[T][0],0),1),S=A+_*E,P=new t.Sector({shape:{startAngle:w,endAngle:S,cx:p.cx,cy:p.cy,clockwise:b,r0:p.r-C,r:p.r},silent:!0});P.setStyle({fill:m[T][1]}),P.setStyle(x.getLineStyle(["color","borderWidth","borderColor"])),g.add(P),w=S}var R=function(D){if(D<=0)return m[0][1];for(var B=0;B<m.length;B++)if(m[B][0]>=D&&(B===0?0:m[B-1][0])<D)return m[B][1];return m[B-1][1]};if(!b){var I=A;A=S,S=I}this._renderTicks(d,h,v,R,p,A,S,b),this._renderPointer(d,h,v,R,p,A,S,b),this._renderTitle(d,h,v,R,p),this._renderDetail(d,h,v,R,p)},_renderTicks:function(d,h,v,m,p,g,y,x){for(var b=this.group,A=p.cx,S=p.cy,_=p.r,w=+d.get("min"),C=+d.get("max"),M=d.getModel("splitLine"),T=d.getModel("axisTick"),E=d.getModel("axisLabel"),P=d.get("splitNumber"),R=T.get("splitNumber"),I=a(M.get("length"),_),D=a(T.get("length"),_),B=g,F=(y-g)/P,G=F/R,z=M.getModel("lineStyle").getLineStyle(),N=T.getModel("lineStyle").getLineStyle(),U=0;U<=P;U++){var $=Math.cos(B),k=Math.sin(B);if(M.get("show")){var V=new t.Line({shape:{x1:$*_+A,y1:k*_+S,x2:$*(_-I)+A,y2:k*(_-I)+S},style:z,silent:!0});z.stroke==="auto"&&V.setStyle({stroke:m(U/P)}),b.add(V)}if(E.get("show")){var L=l(i(U/P*(C-w)+w),E.get("formatter")),O=E.get("distance"),H=m(U/P);b.add(new t.Text({style:t.setTextStyle({},E,{text:L,x:$*(_-I-O)+A,y:k*(_-I-O)+S,textVerticalAlign:k<-.4?"top":k>.4?"bottom":"middle",textAlign:$<-.4?"left":$>.4?"right":"center"},{autoColor:H}),silent:!0}))}if(T.get("show")&&U!==P){for(var j=0;j<=R;j++){var $=Math.cos(B),k=Math.sin(B),Y=new t.Line({shape:{x1:$*_+A,y1:k*_+S,x2:$*(_-D)+A,y2:k*(_-D)+S},silent:!0,style:N});N.stroke==="auto"&&Y.setStyle({stroke:m((U+j/R)/P)}),b.add(Y),B+=G}B-=G}else B+=F}},_renderPointer:function(d,h,v,m,p,g,y,x){var b=this.group,A=this._data;if(!d.get("pointer.show")){A&&A.eachItemGraphicEl(function(M){b.remove(M)});return}var S=[+d.get("min"),+d.get("max")],_=[g,y],w=d.getData(),C=w.mapDimension("value");w.diff(A).add(function(M){var T=new e({shape:{angle:g}});t.initProps(T,{shape:{angle:o(w.get(C,M),S,_,!0)}},d),b.add(T),w.setItemGraphicEl(M,T)}).update(function(M,T){var E=A.getItemGraphicEl(T);t.updateProps(E,{shape:{angle:o(w.get(C,M),S,_,!0)}},d),b.add(E),w.setItemGraphicEl(M,E)}).remove(function(M){var T=A.getItemGraphicEl(M);b.remove(T)}).execute(),w.eachItemGraphicEl(function(M,T){var E=w.getItemModel(T),P=E.getModel("pointer");M.setShape({x:p.cx,y:p.cy,width:a(P.get("width"),p.r),r:a(P.get("length"),p.r)}),M.useStyle(E.getModel("itemStyle").getItemStyle()),M.style.fill==="auto"&&M.setStyle("fill",m(o(w.get(C,T),S,[0,1],!0))),t.setHoverStyle(M,E.getModel("emphasis.itemStyle").getItemStyle())}),this._data=w},_renderTitle:function(d,h,v,m,p){var g=d.getData(),y=g.mapDimension("value"),x=d.getModel("title");if(x.get("show")){var b=x.get("offsetCenter"),A=p.cx+a(b[0],p.r),S=p.cy+a(b[1],p.r),_=+d.get("min"),w=+d.get("max"),C=d.getData().get(y,0),M=m(o(C,[_,w],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},x,{x:A,y:S,text:g.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(d,h,v,m,p){var g=d.getModel("detail"),y=+d.get("min"),x=+d.get("max");if(g.get("show")){var b=g.get("offsetCenter"),A=p.cx+a(b[0],p.r),S=p.cy+a(b[1],p.r),_=a(g.get("width"),p.r),w=a(g.get("height"),p.r),C=d.getData(),M=C.get(C.mapDimension("value"),0),T=m(o(M,[y,x],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},g,{x:A,y:S,text:l(M,g.get("formatter")),textWidth:isNaN(_)?null:_,textHeight:isNaN(w)?null:w,textAlign:"center",textVerticalAlign:"middle"},{autoColor:T,forceRich:!0})}))}}}),f=c;return dS=f,dS}var Vk;function Tme(){return Vk||(Vk=1,wme(),Mme()),Nk}var zk={},hS,Uk;function Eme(){if(Uk)return hS;Uk=1;var e=et,t=de,n=Uf(),r=bt,a=r.defaultEmphasis,i=Br,o=i.makeSeriesEncodeForNameBased,s=Tv(),l=e.extendSeriesModel({type:"series.funnel",init:function(c){l.superApply(this,"init",arguments),this.legendVisualProvider=new s(t.bind(this.getData,this),t.bind(this.getRawData,this)),this._defaultLabelLine(c)},getInitialData:function(c,f){return n(this,{coordDimensions:["value"],encodeDefaulter:t.curry(o,this)})},_defaultLabelLine:function(c){a(c,"labelLine",["show"]);var f=c.labelLine,d=c.emphasis.labelLine;f.show=f.show&&c.label.show,d.show=d.show&&c.emphasis.label.show},getDataParams:function(c){var f=this.getData(),d=l.superCall(this,"getDataParams",c),h=f.mapDimension("value"),v=f.getSum(h);return d.percent=v?+(f.get(h,c)/v*100).toFixed(2):0,d.$vars.push("percent"),d},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),u=l;return hS=u,hS}var vS,Hk;function Pme(){if(Hk)return vS;Hk=1;var e=$e,t=de,n=_o;function r(l,u){e.Group.call(this);var c=new e.Polygon,f=new e.Polyline,d=new e.Text;this.add(c),this.add(f),this.add(d),this.highDownOnUpdate=function(h,v){v==="emphasis"?(f.ignore=f.hoverIgnore,d.ignore=d.hoverIgnore):(f.ignore=f.normalIgnore,d.ignore=d.normalIgnore)},this.updateData(l,u,!0)}var a=r.prototype,i=["itemStyle","opacity"];a.updateData=function(l,u,c){var f=this.childAt(0),d=l.hostModel,h=l.getItemModel(u),v=l.getItemLayout(u),m=l.getItemModel(u).get(i);m=m??1,f.useStyle({}),c?(f.setShape({points:v.points}),f.setStyle({opacity:0}),e.initProps(f,{style:{opacity:m}},d,u)):e.updateProps(f,{style:{opacity:m},shape:{points:v.points}},d,u);var p=h.getModel("itemStyle"),g=l.getItemVisual(u,"color");f.setStyle(t.defaults({lineJoin:"round",fill:g},p.getItemStyle(["opacity"]))),f.hoverStyle=p.getModel("emphasis").getItemStyle(),this._updateLabel(l,u),e.setHoverStyle(this)},a._updateLabel=function(l,u){var c=this.childAt(1),f=this.childAt(2),d=l.hostModel,h=l.getItemModel(u),v=l.getItemLayout(u),m=v.label,b=l.getItemVisual(u,"color");e.updateProps(c,{shape:{points:m.linePoints||m.linePoints}},d,u),e.updateProps(f,{style:{x:m.x,y:m.y}},d,u),f.attr({rotation:m.rotation,origin:[m.x,m.y],z2:10});var p=h.getModel("label"),g=h.getModel("emphasis.label"),y=h.getModel("labelLine"),x=h.getModel("emphasis.labelLine"),b=l.getItemVisual(u,"color");e.setLabelStyle(f.style,f.hoverStyle={},p,g,{labelFetcher:l.hostModel,labelDataIndex:u,defaultText:l.getName(u),autoColor:b,useInsideStyle:!!m.inside},{textAlign:m.textAlign,textVerticalAlign:m.verticalAlign}),f.ignore=f.normalIgnore=!p.get("show"),f.hoverIgnore=!g.get("show"),c.ignore=c.normalIgnore=!y.get("show"),c.hoverIgnore=!x.get("show"),c.setStyle({stroke:b}),c.setStyle(y.getModel("lineStyle").getLineStyle()),c.hoverStyle=x.getModel("lineStyle").getLineStyle()},t.inherits(r,e.Group);var o=n.extend({type:"funnel",render:function(l,u,c){var f=l.getData(),d=this._data,h=this.group;f.diff(d).add(function(v){var m=new r(f,v);f.setItemGraphicEl(v,m),h.add(m)}).update(function(v,m){var p=d.getItemGraphicEl(m);p.updateData(f,v),h.add(p),f.setItemGraphicEl(v,p)}).remove(function(v){var m=d.getItemGraphicEl(v);h.remove(m)}).execute(),this._data=f},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),s=o;return vS=s,vS}var pS,$k;function Rme(){if($k)return pS;$k=1;var e=$t,t=Rt(),n=t.parsePercent,r=t.linearMap;function a(l,u){return e.getLayoutRect(l.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})}function i(l,u){for(var c=l.mapDimension("value"),f=l.mapArray(c,function(p){return p}),d=[],h=u==="ascending",v=0,m=l.count();v<m;v++)d[v]=v;return typeof u=="function"?d.sort(u):u!=="none"&&d.sort(function(p,g){return h?f[p]-f[g]:f[g]-f[p]}),d}function o(l){l.each(function(u){var c=l.getItemModel(u),f=c.getModel("label"),d=f.get("position"),h=c.get("orient"),v=c.getModel("labelLine"),m=l.getItemLayout(u),p=m.points,g=d==="inner"||d==="inside"||d==="center"||d==="insideLeft"||d==="insideRight",y,x,b,A;if(g)d==="insideLeft"?(x=(p[0][0]+p[3][0])/2+5,b=(p[0][1]+p[3][1])/2,y="left"):d==="insideRight"?(x=(p[1][0]+p[2][0])/2-5,b=(p[1][1]+p[2][1])/2,y="right"):(x=(p[0][0]+p[1][0]+p[2][0]+p[3][0])/4,b=(p[0][1]+p[1][1]+p[2][1]+p[3][1])/4,y="center"),A=[[x,b],[x,b]];else{var S,_,w,C,M=v.get("length");d==="left"?(S=(p[3][0]+p[0][0])/2,_=(p[3][1]+p[0][1])/2,w=S-M,x=w-5,y="right"):d==="right"?(S=(p[1][0]+p[2][0])/2,_=(p[1][1]+p[2][1])/2,w=S+M,x=w+5,y="left"):d==="top"?(S=(p[3][0]+p[0][0])/2,_=(p[3][1]+p[0][1])/2,C=_-M,b=C-5,y="center"):d==="bottom"?(S=(p[1][0]+p[2][0])/2,_=(p[1][1]+p[2][1])/2,C=_+M,b=C+5,y="center"):d==="rightTop"?(S=h==="horizontal"?p[3][0]:p[1][0],_=h==="horizontal"?p[3][1]:p[1][1],h==="horizontal"?(C=_-M,b=C-5,y="center"):(w=S+M,x=w+5,y="top")):d==="rightBottom"?(S=p[2][0],_=p[2][1],h==="horizontal"?(C=_+M,b=C+5,y="center"):(w=S+M,x=w+5,y="bottom")):d==="leftTop"?(S=p[0][0],_=h==="horizontal"?p[0][1]:p[1][1],h==="horizontal"?(C=_-M,b=C-5,y="center"):(w=S-M,x=w-5,y="right")):d==="leftBottom"?(S=h==="horizontal"?p[1][0]:p[3][0],_=h==="horizontal"?p[1][1]:p[2][1],h==="horizontal"?(C=_+M,b=C+5,y="center"):(w=S-M,x=w-5,y="right")):(S=(p[1][0]+p[2][0])/2,_=(p[1][1]+p[2][1])/2,h==="horizontal"?(C=_+M,b=C+5,y="center"):(w=S+M,x=w+5,y="left")),h==="horizontal"?(w=S,x=w):(C=_,b=C),A=[[S,_],[w,C]]}m.label={linePoints:A,x,y:b,verticalAlign:"middle",textAlign:y,inside:g}})}function s(l,u,c){l.eachSeriesByType("funnel",function(f){var d=f.getData(),h=d.mapDimension("value"),v=f.get("sort"),m=a(f,u),p=i(d,v),g=f.get("orient"),y=m.width,x=m.height,b=m.x,A=m.y,S=g==="horizontal"?[n(f.get("minSize"),x),n(f.get("maxSize"),x)]:[n(f.get("minSize"),y),n(f.get("maxSize"),y)],_=d.getDataExtent(h),w=f.get("min"),C=f.get("max");w==null&&(w=Math.min(_[0],0)),C==null&&(C=_[1]);var M=f.get("funnelAlign"),T=f.get("gap"),E=g==="horizontal"?y:x,P=(E-T*(d.count()-1))/d.count(),R=function($,k){if(g==="horizontal"){var O=d.get(h,$)||0,V=r(O,[w,C],S,!0),L;switch(M){case"top":L=A;break;case"center":L=A+(x-V)/2;break;case"bottom":L=A+(x-V);break}return[[k,L],[k,L+V]]}var O=d.get(h,$)||0,H=r(O,[w,C],S,!0),j;switch(M){case"left":j=b;break;case"center":j=b+(y-H)/2;break;case"right":j=b+y-H;break}return[[j,k],[j+H,k]]};v==="ascending"&&(P=-P,T=-T,g==="horizontal"?b+=y:A+=x,p=p.reverse());for(var I=0;I<p.length;I++){var D=p[I],B=p[I+1],F=d.getItemModel(D);if(g==="horizontal"){var G=F.get("itemStyle.width");G==null?G=P:(G=n(G,y),v==="ascending"&&(G=-G));var z=R(D,b),N=R(B,b+G);b+=G+T,d.setItemLayout(D,{points:z.concat(N.slice().reverse())})}else{var U=F.get("itemStyle.height");U==null?U=P:(U=n(U,x),v==="ascending"&&(U=-U));var z=g==="horizontal"?R(D,b):R(D,A),N=g==="horizontal"?R(B,b+G):R(B,A+U);A+=U+T,d.setItemLayout(D,{points:z.concat(N.slice().reverse())})}}o(d)})}return pS=s,pS}var Gk;function Ime(){if(Gk)return zk;Gk=1;var e=et;Eme(),Pme();var t=Xy(),n=Rme(),r=Ev();return e.registerVisual(t("funnel")),e.registerLayout(n),e.registerProcessor(r("funnel")),zk}var Wk={},jk={},gS,Yk;function Dme(){if(Yk)return gS;Yk=1;var e=de,t=bt;function n(i){r(i),a(i)}function r(i){if(!i.parallel){var o=!1;e.each(i.series,function(s){s&&s.type==="parallel"&&(o=!0)}),o&&(i.parallel=[{}])}}function a(i){var o=t.normalizeToArray(i.parallelAxis);e.each(o,function(s){if(e.isObject(s)){var l=s.parallelIndex||0,u=t.normalizeToArray(i.parallel)[l];u&&u.parallelAxisDefault&&e.merge(s,u.parallelAxisDefault,!1)}})}return gS=n,gS}var Xk={},mS,qk;function Lme(){if(qk)return mS;qk=1;var e=de,t=cl(),n=function(a,i,o,s,l){t.call(this,a,i,o),this.type=s||"value",this.axisIndex=l};n.prototype={constructor:n,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(n,t);var r=n;return mS=r,mS}var yS,Kk;function Hf(){if(Kk)return yS;Kk=1;function e(r,a,i,o,s,l){r=r||0;var u=i[1]-i[0];if(s!=null&&(s=n(s,[0,u])),l!=null&&(l=Math.max(l,s??0)),o==="all"){var c=Math.abs(a[1]-a[0]);c=n(c,[0,u]),s=l=n(c,[s,l]),o=0}a[0]=n(a[0],i),a[1]=n(a[1],i);var f=t(a,o);a[o]+=r;var d=s||0,h=i.slice();f.sign<0?h[0]+=d:h[1]-=d,a[o]=n(a[o],h);var v=t(a,o);s!=null&&(v.sign!==f.sign||v.span<s)&&(a[1-o]=a[o]+f.sign*s);var v=t(a,o);return l!=null&&v.span>l&&(a[1-o]=a[o]+v.sign*l),a}function t(r,a){var i=r[a]-r[1-a];return{span:Math.abs(i),sign:i>0?-1:i<0?1:a?-1:1}}function n(r,a){return Math.min(a[1]!=null?a[1]:1/0,Math.max(a[0]!=null?a[0]:-1/0,r))}return yS=e,yS}var xS,Zk;function Ome(){if(Zk)return xS;Zk=1;var e=de,t=Vn,n=$t,r=Fi(),a=Lme(),i=$e,o=Rt(),s=Hf(),l=e.each,u=Math.min,c=Math.max,f=Math.floor,d=Math.ceil,h=o.round,v=Math.PI;function m(b,A,S){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=b.dimensions,this._rect,this._model=b,this._init(b,A,S)}m.prototype={type:"parallel",constructor:m,_init:function(b,A,S){var _=b.dimensions,w=b.parallelAxisIndex;l(_,function(C,M){var T=w[M],E=A.getComponent("parallelAxis",T),P=this._axesMap.set(C,new a(C,r.createScaleByModel(E),[0,0],E.get("type"),T)),R=P.type==="category";P.onBand=R&&E.get("boundaryGap"),P.inverse=E.get("inverse"),E.axis=P,P.model=E,P.coordinateSystem=E.coordinateSystem=this},this)},update:function(b,A){this._updateAxesFromSeries(this._model,b)},containPoint:function(b){var A=this._makeLayoutInfo(),S=A.axisBase,_=A.layoutBase,w=A.pixelDimIndex,C=b[1-w],M=b[w];return C>=S&&C<=S+A.axisLength&&M>=_&&M<=_+A.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(b,A){A.eachSeries(function(S){if(b.contains(S,A)){var _=S.getData();l(this.dimensions,function(w){var C=this._axesMap.get(w);C.scale.unionExtentFromData(_,_.mapDimension(w)),r.niceScaleExtent(C.scale,C.model)},this)}},this)},resize:function(b,A){this._rect=n.getLayoutRect(b.getBoxLayoutParams(),{width:A.getWidth(),height:A.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var b=this._model,A=this._rect,S=["x","y"],_=["width","height"],w=b.get("layout"),C=w==="horizontal"?0:1,M=A[_[C]],T=[0,M],E=this.dimensions.length,P=p(b.get("axisExpandWidth"),T),R=p(b.get("axisExpandCount")||0,[0,E]),I=b.get("axisExpandable")&&E>3&&E>R&&R>1&&P>0&&M>0,D=b.get("axisExpandWindow"),B;if(D)B=p(D[1]-D[0],T),D[1]=D[0]+B;else{B=p(P*(R-1),T);var F=b.get("axisExpandCenter")||f(E/2);D=[P*F-B/2],D[1]=D[0]+B}var G=(M-B)/(E-R);G<3&&(G=0);var z=[f(h(D[0]/P,1))+1,d(h(D[1]/P,1))-1],N=G/P*D[0];return{layout:w,pixelDimIndex:C,layoutBase:A[S[C]],layoutLength:M,axisBase:A[S[1-C]],axisLength:A[_[1-C]],axisExpandable:I,axisExpandWidth:P,axisCollapseWidth:G,axisExpandWindow:D,axisCount:E,winInnerIndices:z,axisExpandWindow0Pos:N}},_layoutAxes:function(){var b=this._rect,A=this._axesMap,S=this.dimensions,_=this._makeLayoutInfo(),w=_.layout;A.each(function(C){var M=[0,_.axisLength],T=C.inverse?1:0;C.setExtent(M[T],M[1-T])}),l(S,function(C,M){var T=(_.axisExpandable?y:g)(M,_),E={horizontal:{x:T.position,y:_.axisLength},vertical:{x:0,y:T.position}},P={horizontal:v/2,vertical:0},R=[E[w].x+b.x,E[w].y+b.y],I=P[w],D=t.create();t.rotate(D,D,I),t.translate(D,D,R),this._axesLayout[C]={position:R,rotation:I,transform:D,axisNameAvailableWidth:T.axisNameAvailableWidth,axisLabelShow:T.axisLabelShow,nameTruncateMaxWidth:T.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(b){return this._axesMap.get(b)},dataToPoint:function(b,A){return this.axisCoordToPoint(this._axesMap.get(A).dataToCoord(b),A)},eachActiveState:function(b,A,S,_){S==null&&(S=0),_==null&&(_=b.count());var w=this._axesMap,C=this.dimensions,M=[],T=[];e.each(C,function(G){M.push(b.mapDimension(G)),T.push(w.get(G).model)});for(var E=this.hasAxisBrushed(),P=S;P<_;P++){var R;if(!E)R="normal";else{R="active";for(var I=b.getValues(M,P),D=0,B=C.length;D<B;D++){var F=T[D].getActiveState(I[D]);if(F==="inactive"){R="inactive";break}}}A(R,P)}},hasAxisBrushed:function(){for(var b=this.dimensions,A=this._axesMap,S=!1,_=0,w=b.length;_<w;_++)A.get(b[_]).model.getActiveState()!=="normal"&&(S=!0);return S},axisCoordToPoint:function(b,A){var S=this._axesLayout[A];return i.applyTransform([b,0],S.transform)},getAxisLayout:function(b){return e.clone(this._axesLayout[b])},getSlidedAxisExpandWindow:function(b){var A=this._makeLayoutInfo(),S=A.pixelDimIndex,_=A.axisExpandWindow.slice(),w=_[1]-_[0],C=[0,A.axisExpandWidth*(A.axisCount-1)];if(!this.containPoint(b))return{behavior:"none",axisExpandWindow:_};var M=b[S]-A.layoutBase-A.axisExpandWindow0Pos,T,E="slide",P=A.axisCollapseWidth,R=this._model.get("axisExpandSlideTriggerArea"),I=R[0]!=null;if(P)I&&P&&M<w*R[0]?(E="jump",T=M-w*R[2]):I&&P&&M>w*(1-R[0])?(E="jump",T=M-w*(1-R[2])):(T=M-w*R[1])>=0&&(T=M-w*(1-R[1]))<=0&&(T=0),T*=A.axisExpandWidth/P,T?s(T,_,C,"all"):E="none";else{var w=_[1]-_[0],D=C[1]*M/w;_=[c(0,D-w/2)],_[1]=u(C[1],_[0]+w),_[0]=_[1]-w}return{axisExpandWindow:_,behavior:E}}};function p(b,A){return u(c(b,A[0]),A[1])}function g(b,A){var S=A.layoutLength/(A.axisCount-1);return{position:S*b,axisNameAvailableWidth:S,axisLabelShow:!0}}function y(b,A){var S=A.layoutLength,_=A.axisExpandWidth,w=A.axisCount,C=A.axisCollapseWidth,M=A.winInnerIndices,T,E=C,P=!1,R;return b<M[0]?(T=b*C,R=C):b<=M[1]?(T=A.axisExpandWindow0Pos+b*_-A.axisExpandWindow[0],E=_,P=!0):(T=S-(w-1-b)*C,R=C),{position:T,axisNameAvailableWidth:E,axisLabelShow:P,nameTruncateMaxWidth:R}}var x=m;return xS=x,xS}var Qk;function t9(){if(Qk)return Xk;Qk=1;var e=Ome(),t=So;function n(r,a){var i=[];return r.eachComponent("parallel",function(o,s){var l=new e(o,r,a);l.name="parallel_"+s,l.resize(o,a),o.coordinateSystem=l,l.model=o,i.push(l)}),r.eachSeries(function(o){if(o.get("coordinateSystem")==="parallel"){var s=r.queryComponents({mainType:"parallel",index:o.get("parallelIndex"),id:o.get("parallelId")})[0];o.coordinateSystem=s.coordinateSystem}}),i}return t.register("parallel",{create:n}),Xk}var bS,Jk;function Nme(){if(Jk)return bS;Jk=1;var e=de,t=yr,n=Df,r=jy(),a=Rt(),i=zf(),o=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return n([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(c){var f=this.activeIntervals=e.clone(c);if(f)for(var d=f.length-1;d>=0;d--)a.asc(f[d])},getActiveState:function(c){var f=this.activeIntervals;if(!f.length)return"normal";if(c==null||isNaN(c))return"inactive";if(f.length===1){var d=f[0];if(d[0]<=c&&c<=d[1])return"active"}else for(var h=0,v=f.length;h<v;h++)if(f[h][0]<=c&&c<=f[h][1])return"active";return"inactive"}}),s={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(o.prototype,i);function l(c,f){return f.type||(f.data?"category":"value")}r("parallel",o,l,s);var u=o;return bS=u,bS}var SS,eB;function kme(){if(eB)return SS;eB=1;var e=de,t=yr;Nme();var n=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(r){var a=this.option;r&&e.merge(a,r,!0),this._initDimensions()},contains:function(r,a){var i=r.get("parallelIndex");return i!=null&&a.getComponent("parallel",i)===this},setAxisExpand:function(r){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(a){r.hasOwnProperty(a)&&(this.option[a]=r[a])},this)},_initDimensions:function(){var r=this.dimensions=[],a=this.parallelAxisIndex=[],i=e.filter(this.dependentModels.parallelAxis,function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this);e.each(i,function(o){r.push("dim"+o.get("dim")),a.push(o.componentIndex)})}});return SS=n,SS}var tB={},nB={},rB;function Bme(){if(rB)return nB;rB=1;var e=et,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function(a){a.axis.model.setActiveIntervals(n.intervals)})}),e.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function(a){a.setAxisExpand(n)})}),nB}var _S,aB;function AP(){if(aB)return _S;aB=1;var e=de,t=bu,n=$e,r=jW(),a=Cu(),i=e.curry,o=e.each,s=e.map,l=Math.min,u=Math.max,c=Math.pow,f=1e4,d=6,h=6,v="globalPan",m={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},p={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},y=0;function x(ee){t.call(this),this._zr=ee,this.group=new n.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+y++,this._handlers={},o(se,function(ne,le){this._handlers[le]=e.bind(ne,this)},this)}x.prototype={constructor:x,enableBrush:function(ee){return this._brushType&&A(this),ee.brushType&&b(this,ee),this},setPanels:function(ee){if(ee&&ee.length){var ne=this._panels={};e.each(ee,function(le){ne[le.panelId]=e.clone(le)})}else this._panels=null;return this},mount:function(ee){ee=ee||{},this._enableGlobalPan=ee.enableGlobalPan;var ne=this.group;return this._zr.add(ne),ne.attr({position:ee.position||[0,0],rotation:ee.rotation||0,scale:ee.scale||[1,1]}),this._transform=ne.getLocalTransform(),this},eachCover:function(ee,ne){o(this._covers,ee,ne)},updateCovers:function(ee){ee=e.map(ee,function(_e){return e.merge(e.clone(g),_e,!0)});var ne="\0-brush-index-",le=this._covers,he=this._covers=[],pe=this,ye=this._creatingCover;return new a(le,ee,Ce,ge).add(xe).update(xe).remove(be).execute(),this;function ge(_e,Ee){return(_e.id!=null?_e.id:ne+Ee)+"-"+_e.brushType}function Ce(_e,Ee){return ge(_e.__brushOption,Ee)}function xe(_e,Ee){var Pe=ee[_e];if(Ee!=null&&le[Ee]===ye)he[_e]=le[Ee];else{var Ne=he[_e]=Ee!=null?(le[Ee].__brushOption=Pe,le[Ee]):C(pe,w(pe,Pe));E(pe,Ne)}}function be(_e){le[_e]!==ye&&pe.group.remove(le[_e])}},unmount:function(){return this.enableBrush(!1),D(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(x,t);function b(ee,ne){var le=ee._zr;ee._enableGlobalPan||r.take(le,v,ee._uid),S(le,ee._handlers),ee._brushType=ne.brushType,ee._brushOption=e.merge(e.clone(g),ne,!0)}function A(ee){var ne=ee._zr;r.release(ne,v,ee._uid),_(ne,ee._handlers),ee._brushType=ee._brushOption=null}function S(ee,ne){o(ne,function(le,he){ee.on(he,le)})}function _(ee,ne){o(ne,function(le,he){ee.off(he,le)})}function w(ee,ne){var le=q[ne.brushType].createCover(ee,ne);return le.__brushOption=ne,T(le,ne),ee.group.add(le),le}function C(ee,ne){var le=P(ne);return le.endCreating&&(le.endCreating(ee,ne),T(ne,ne.__brushOption)),ne}function M(ee,ne){var le=ne.__brushOption;P(ne).updateCoverShape(ee,ne,le.range,le)}function T(ee,ne){var le=ne.z;le==null&&(le=f),ee.traverse(function(he){he.z=le,he.z2=le})}function E(ee,ne){P(ne).updateCommon(ee,ne),M(ee,ne)}function P(ee){return q[ee.__brushOption.brushType]}function R(ee,ne,le){var he=ee._panels;if(!he)return!0;var pe,ye=ee._transform;return o(he,function(ge){ge.isTargetByCursor(ne,le,ye)&&(pe=ge)}),pe}function I(ee,ne){var le=ee._panels;if(!le)return!0;var he=ne.__brushOption.panelId;return he!=null?le[he]:!0}function D(ee){var ne=ee._covers,le=ne.length;return o(ne,function(he){ee.group.remove(he)},ee),ne.length=0,!!le}function B(ee,ne){var le=s(ee._covers,function(he){var pe=he.__brushOption,ye=e.clone(pe.range);return{brushType:pe.brushType,panelId:pe.panelId,range:ye}});ee.trigger("brush",le,{isEnd:!!ne.isEnd,removeOnClick:!!ne.removeOnClick})}function F(ee){var ne=ee._track;if(!ne.length)return!1;var le=ne[ne.length-1],he=ne[0],pe=le[0]-he[0],ye=le[1]-he[1],ge=c(pe*pe+ye*ye,.5);return ge>d}function G(ee){var ne=ee.length-1;return ne<0&&(ne=0),[ee[0],ee[ne]]}function z(ee,ne,le,he){var pe=new n.Group;return pe.add(new n.Rect({name:"main",style:k(le),silent:!0,draggable:!0,cursor:"move",drift:i(ee,ne,pe,"nswe"),ondragend:i(B,ne,{isEnd:!0})})),o(he,function(ye){pe.add(new n.Rect({name:ye,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:i(ee,ne,pe,ye),ondragend:i(B,ne,{isEnd:!0})}))}),pe}function N(ee,ne,le,he){var pe=he.brushStyle.lineWidth||0,ye=u(pe,h),ge=le[0][0],Ce=le[1][0],xe=ge-pe/2,be=Ce-pe/2,_e=le[0][1],Ee=le[1][1],Pe=_e-ye+pe/2,Ne=Ee-ye+pe/2,J=_e-ge,Ae=Ee-Ce,Se=J+pe,Te=Ae+pe;$(ee,ne,"main",ge,Ce,J,Ae),he.transformable&&($(ee,ne,"w",xe,be,ye,Te),$(ee,ne,"e",Pe,be,ye,Te),$(ee,ne,"n",xe,be,Se,ye),$(ee,ne,"s",xe,Ne,Se,ye),$(ee,ne,"nw",xe,be,ye,ye),$(ee,ne,"ne",Pe,be,ye,ye),$(ee,ne,"sw",xe,Ne,ye,ye),$(ee,ne,"se",Pe,Ne,ye,ye))}function U(ee,ne){var le=ne.__brushOption,he=le.transformable,pe=ne.childAt(0);pe.useStyle(k(le)),pe.attr({silent:!he,cursor:he?"move":"default"}),o(["w","e","n","s","se","sw","ne","nw"],function(ye){var ge=ne.childOfName(ye),Ce=O(ee,ye);ge&&ge.attr({silent:!he,invisible:!he,cursor:he?p[Ce]+"-resize":null})})}function $(ee,ne,le,he,pe,ye,ge){var Ce=ne.childOfName(le);Ce&&Ce.setShape(Q(X(ee,ne,[[he,pe],[he+ye,pe+ge]])))}function k(ee){return e.defaults({strokeNoScale:!0},ee.brushStyle)}function V(ee,ne,le,he){var pe=[l(ee,le),l(ne,he)],ye=[u(ee,le),u(ne,he)];return[[pe[0],ye[0]],[pe[1],ye[1]]]}function L(ee){return n.getTransform(ee.group)}function O(ee,ne){if(ne.length>1){ne=ne.split("");var le=[O(ee,ne[0]),O(ee,ne[1])];return(le[0]==="e"||le[0]==="w")&&le.reverse(),le.join("")}else{var he={w:"left",e:"right",n:"top",s:"bottom"},pe={left:"w",right:"e",top:"n",bottom:"s"},le=n.transformDirection(he[ne],L(ee));return pe[le]}}function H(ee,ne,le,he,pe,ye,ge,Ce){var xe=he.__brushOption,be=ee(xe.range),_e=Y(le,ye,ge);o(pe.split(""),function(Ee){var Pe=m[Ee];be[Pe[0]][Pe[1]]+=_e[Pe[0]]}),xe.range=ne(V(be[0][0],be[1][0],be[0][1],be[1][1])),E(le,he),B(le,{isEnd:!1})}function j(ee,ne,le,he,pe){var ye=ne.__brushOption.range,ge=Y(ee,le,he);o(ye,function(Ce){Ce[0]+=ge[0],Ce[1]+=ge[1]}),E(ee,ne),B(ee,{isEnd:!1})}function Y(ee,ne,le){var he=ee.group,pe=he.transformCoordToLocal(ne,le),ye=he.transformCoordToLocal(0,0);return[pe[0]-ye[0],pe[1]-ye[1]]}function X(ee,ne,le){var he=I(ee,ne);return he&&he!==!0?he.clipPath(le,ee._transform):e.clone(le)}function Q(ee){var ne=l(ee[0][0],ee[1][0]),le=l(ee[0][1],ee[1][1]),he=u(ee[0][0],ee[1][0]),pe=u(ee[0][1],ee[1][1]);return{x:ne,y:le,width:he-ne,height:pe-le}}function K(ee,ne,le){if(!(!ee._brushType||re(ee,ne))){var he=ee._zr,pe=ee._covers,ye=R(ee,ne,le);if(!ee._dragging)for(var ge=0;ge<pe.length;ge++){var Ce=pe[ge].__brushOption;if(ye&&(ye===!0||Ce.panelId===ye.panelId)&&q[Ce.brushType].contain(pe[ge],le[0],le[1]))return}ye&&he.setCursorStyle("crosshair")}}function Z(ee){var ne=ee.event;ne.preventDefault&&ne.preventDefault()}function te(ee,ne,le){return ee.childOfName("main").contain(ne,le)}function oe(ee,ne,le,he){var pe=ee._creatingCover,ye=ee._creatingPanel,ge=ee._brushOption,Ce;if(ee._track.push(le.slice()),F(ee)||pe){if(ye&&!pe){ge.brushMode==="single"&&D(ee);var xe=e.clone(ge);xe.brushType=ue(xe.brushType,ye),xe.panelId=ye===!0?null:ye.panelId,pe=ee._creatingCover=w(ee,xe),ee._covers.push(pe)}if(pe){var be=q[ue(ee._brushType,ye)],_e=pe.__brushOption;_e.range=be.getCreatingRange(X(ee,pe,ee._track)),he&&(C(ee,pe),be.updateCommon(ee,pe)),M(ee,pe),Ce={isEnd:he}}}else he&&ge.brushMode==="single"&&ge.removeOnClick&&R(ee,ne,le)&&D(ee)&&(Ce={isEnd:he,removeOnClick:!0});return Ce}function ue(ee,ne){return ee==="auto"?ne.defaultBrushType:ee}var se={mousedown:function(ee){if(this._dragging)me(this,ee);else if(!ee.target||!ee.target.draggable){Z(ee);var ne=this.group.transformCoordToLocal(ee.offsetX,ee.offsetY);this._creatingCover=null;var le=this._creatingPanel=R(this,ee,ne);le&&(this._dragging=!0,this._track=[ne.slice()])}},mousemove:function(ee){var ne=ee.offsetX,le=ee.offsetY,he=this.group.transformCoordToLocal(ne,le);if(K(this,ee,he),this._dragging){Z(ee);var pe=oe(this,ee,he,!1);pe&&B(this,pe)}},mouseup:function(ee){me(this,ee)}};function me(ee,ne){if(ee._dragging){Z(ne);var le=ne.offsetX,he=ne.offsetY,pe=ee.group.transformCoordToLocal(le,he),ye=oe(ee,ne,pe,!0);ee._dragging=!1,ee._track=[],ee._creatingCover=null,ye&&B(ee,ye)}}function re(ee,ne,le){var he=ee._zr;return ne<0||ne>he.getWidth()||le<0||le>he.getHeight()}var q={lineX:ae(0),lineY:ae(1),rect:{createCover:function(ee,ne){return z(i(H,function(le){return le},function(le){return le}),ee,ne,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(ee){var ne=G(ee);return V(ne[1][0],ne[1][1],ne[0][0],ne[0][1])},updateCoverShape:function(ee,ne,le,he){N(ee,ne,le,he)},updateCommon:U,contain:te},polygon:{createCover:function(ee,ne){var le=new n.Group;return le.add(new n.Polyline({name:"main",style:k(ne),silent:!0})),le},getCreatingRange:function(ee){return ee},endCreating:function(ee,ne){ne.remove(ne.childAt(0)),ne.add(new n.Polygon({name:"main",draggable:!0,drift:i(j,ee,ne),ondragend:i(B,ee,{isEnd:!0})}))},updateCoverShape:function(ee,ne,le,he){ne.childAt(0).setShape({points:X(ee,ne,le)})},updateCommon:U,contain:te}};function ae(ee){return{createCover:function(ne,le){return z(i(H,function(he){var pe=[he,[0,100]];return ee&&pe.reverse(),pe},function(he){return he[ee]}),ne,le,[["w","e"],["n","s"]][ee])},getCreatingRange:function(ne){var le=G(ne),he=l(le[0][ee],le[1][ee]),pe=u(le[0][ee],le[1][ee]);return[he,pe]},updateCoverShape:function(ne,le,he,pe){var ye,ge=I(ne,le);if(ge!==!0&&ge.getLinearBrushOtherExtent)ye=ge.getLinearBrushOtherExtent(ee,ne._transform);else{var Ce=ne._zr;ye=[0,[Ce.getWidth(),Ce.getHeight()][1-ee]]}var xe=[he,ye];ee&&xe.reverse(),N(ne,le,xe,pe)},updateCommon:U,contain:te}}var ce=x;return _S=ce,_S}var Ad={},iB;function n9(){if(iB)return Ad;iB=1;var e=In,t=Ky(),n=t.onIrrelevantElement,r=$e;function a(l){return l=s(l),function(u,c){return r.clipPointsByRect(u,l)}}function i(l,u){return l=s(l),function(c){var f=u??c,d=f?l.width:l.height,h=f?l.x:l.y;return[h,h+(d||0)]}}function o(l,u,c){return l=s(l),function(f,d,h){return l.contain(d[0],d[1])&&!n(f,u,c)}}function s(l){return e.create(l)}return Ad.makeRectPanelClipPath=a,Ad.makeLinearBrushOtherExtent=i,Ad.makeRectIsTargetByCursor=o,Ad}var AS,oB;function Fme(){if(oB)return AS;oB=1;var e=et,t=de,n=fl(),r=AP(),a=n9(),i=$e,o=["axisLine","axisTickLabel","axisName"],s=e.extendComponentView({type:"parallelAxis",init:function(d,h){s.superApply(this,"init",arguments),(this._brushController=new r(h.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(d,h,v,m){if(!l(d,h,m)){this.axisModel=d,this.api=v,this.group.removeAll();var p=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),!!d.get("show")){var g=c(d,h),y=g.coordinateSystem,x=d.getAreaSelectStyle(),b=x.width,A=d.axis.dim,S=y.getAxisLayout(A),_=t.extend({strokeContainThreshold:b},S),w=new n(d,_);t.each(o,w.add,w),this._axisGroup.add(w.getGroup()),this._refreshBrushController(_,x,d,g,b,v);var C=m&&m.animation===!1?null:d;i.groupTransition(p,this._axisGroup,C)}}},_refreshBrushController:function(d,h,v,m,p,g){var y=v.axis.getExtent(),x=y[1]-y[0],b=Math.min(30,Math.abs(x)*.1),A=i.BoundingRect.create({x:y[0],y:-p/2,width:x,height:p});A.x-=b,A.width+=2*b,this._brushController.mount({enableGlobalPan:!0,rotation:d.rotation,position:d.position}).setPanels([{panelId:"pl",clipPath:a.makeRectPanelClipPath(A),isTargetByCursor:a.makeRectIsTargetByCursor(A,g,m),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(A,0)}]).enableBrush({brushType:"lineX",brushStyle:h,removeOnClick:!0}).updateCovers(u(v))},_onBrush:function(d,h){var v=this.axisModel,m=v.axis,p=t.map(d,function(g){return[m.coordToData(g.range[0],!0),m.coordToData(g.range[1],!0)]});(!v.option.realtime===h.isEnd||h.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:v.id,intervals:p})},dispose:function(){this._brushController.dispose()}});function l(d,h,v){return v&&v.type==="axisAreaSelect"&&h.findComponents({mainType:"parallelAxis",query:v})[0]===d}function u(d){var h=d.axis;return t.map(d.activeIntervals,function(v){return{brushType:"lineX",panelId:"pl",range:[h.dataToCoord(v[0],!0),h.dataToCoord(v[1],!0)]}})}function c(d,h){return h.getComponent("parallel",d.get("parallelIndex"))}var f=s;return AS=f,AS}var sB;function Vme(){return sB||(sB=1,t9(),Bme(),Fme()),tB}var lB;function r9(){if(lB)return jk;lB=1;var e=et,t=de,n=Bi,r=Dme();t9(),kme(),Vme();var a=5;e.extendComponentView({type:"parallel",render:function(s,l,u){this._model=s,this._api=u,this._handlers||(this._handlers={},t.each(i,function(c,f){u.getZr().on(f,this._handlers[f]=t.bind(c,this))},this)),n.createOrUpdate(this,"_throttledDispatchExpand",s.get("axisExpandRate"),"fixRate")},dispose:function(s,l){t.each(this._handlers,function(u,c){l.getZr().off(c,u)}),this._handlers=null},_throttledDispatchExpand:function(s){this._dispatchExpand(s)},_dispatchExpand:function(s){s&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},s))}});var i={mousedown:function(s){o(this,"click")&&(this._mouseDownPoint=[s.offsetX,s.offsetY])},mouseup:function(s){var l=this._mouseDownPoint;if(o(this,"click")&&l){var u=[s.offsetX,s.offsetY],c=Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2);if(c>a)return;var f=this._model.coordinateSystem.getSlidedAxisExpandWindow([s.offsetX,s.offsetY]);f.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:f.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(s){if(!(this._mouseDownPoint||!o(this,"mousemove"))){var l=this._model,u=l.coordinateSystem.getSlidedAxisExpandWindow([s.offsetX,s.offsetY]),c=u.behavior;c==="jump"&&this._throttledDispatchExpand.debounceNextCall(l.get("axisExpandDebounce")),this._throttledDispatchExpand(c==="none"?null:{axisExpandWindow:u.axisExpandWindow,animation:c==="jump"?null:!1})}}};function o(s,l){var u=s._model;return u.get("axisExpandable")&&u.get("axisExpandTriggerOn")===l}return e.registerPreprocessor(r),jk}var wS,uB;function zme(){if(uB)return wS;uB=1;var e=de,t=e.each,n=e.createHashMap,r=xr,a=us(),i=r.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(l,u){var c=this.getSource();return o(c,this),a(c,this)},getRawIndicesByActiveState:function(l){var u=this.coordinateSystem,c=this.getData(),f=[];return u.eachActiveState(c,function(d,h){l===d&&f.push(c.getRawIndex(h))}),f},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function o(l,u){if(!l.encodeDefine){var c=u.ecModel.getComponent("parallel",u.get("parallelIndex"));if(c){var f=l.encodeDefine=n();t(c.dimensions,function(d){var h=s(d);f.set(d,h)})}}}function s(l){return+l.replace("dim","")}return wS=i,wS}var CS,cB;function Ume(){if(cB)return CS;cB=1;var e=$e,t=_o,n=.3,r=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(f,d,h,v){var m=this._dataGroup,p=f.getData(),g=this._data,y=f.coordinateSystem,x=y.dimensions,b=s(f);p.diff(g).add(A).update(S).remove(_).execute();function A(C){var M=o(p,m,C,x,y);l(M,p,C,b)}function S(C,M){var T=g.getItemGraphicEl(M),E=i(p,C,x,y);p.setItemGraphicEl(C,T);var P=v&&v.animation===!1?null:f;e.updateProps(T,{shape:{points:E}},P,C),l(T,p,C,b)}function _(C){var M=g.getItemGraphicEl(C);m.remove(M)}if(!this._initialized){this._initialized=!0;var w=a(y,f,function(){setTimeout(function(){m.removeClipPath()})});m.setClipPath(w)}this._data=p},incrementalPrepareRender:function(f,d,h){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(f,d,h){for(var v=d.getData(),m=d.coordinateSystem,p=m.dimensions,g=s(d),y=f.start;y<f.end;y++){var x=o(v,this._dataGroup,y,p,m);x.incremental=!0,l(x,v,y,g)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function a(f,d,h){var v=f.model,m=f.getRect(),p=new e.Rect({shape:{x:m.x,y:m.y,width:m.width,height:m.height}}),g=v.get("layout")==="horizontal"?"width":"height";return p.setShape(g,0),e.initProps(p,{shape:{width:m.width,height:m.height}},d,h),p}function i(f,d,h,v){for(var m=[],p=0;p<h.length;p++){var g=h[p],y=f.get(f.mapDimension(g),d);u(y,v.getAxis(g).type)||m.push(v.dataToPoint(y,g))}return m}function o(f,d,h,v,m){var p=i(f,h,v,m),g=new e.Polyline({shape:{points:p},silent:!0,z2:10});return d.add(g),f.setItemGraphicEl(h,g),g}function s(f){var d=f.get("smooth",!0);return d===!0&&(d=n),{lineStyle:f.getModel("lineStyle").getLineStyle(),smooth:d??n}}function l(f,d,h,v){var m=v.lineStyle;if(d.hasItemOption){var p=d.getItemModel(h).getModel("lineStyle");m=p.getLineStyle()}f.useStyle(m);var g=f.style;g.fill=null,g.stroke=d.getItemVisual(h,"color"),g.opacity=d.getItemVisual(h,"opacity"),v.smooth&&(f.shape.smooth=v.smooth)}function u(f,d){return d==="category"?f==null:f==null||isNaN(f)}var c=r;return CS=c,CS}var MS,fB;function Hme(){if(fB)return MS;fB=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(n,r,a){var i=n.getModel("itemStyle"),o=n.getModel("lineStyle"),s=r.get("color"),l=o.get("color")||i.get("color")||s[n.seriesIndex%s.length],u=n.get("inactiveOpacity"),c=n.get("activeOpacity"),f=n.getModel("lineStyle").getLineStyle(),d=n.coordinateSystem,h=n.getData(),v={normal:f.opacity,active:c,inactive:u};h.setVisual("color",l);function m(p,g){d.eachActiveState(g,function(y,x){var b=v[y];if(y==="normal"&&g.hasItemOption){var A=g.getItemModel(x).get(e,!0);A!=null&&(b=A)}g.setItemVisual(x,"opacity",b)},p.start,p.end)}return{progress:m}}};return MS=t,MS}var dB;function $me(){if(dB)return Wk;dB=1;var e=et;r9(),zme(),Ume();var t=Hme();return e.registerVisual(t),Wk}var hB={},TS,vB;function Gme(){if(vB)return TS;vB=1;var e=xr,t=ZW(),n=Gt,r=n.encodeHTML,a=Jn,i=e.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(s,l){for(var u=s.edges||s.links,c=s.data||s.nodes,f=s.levels,d=this.levelModels={},h=0;h<f.length;h++)f[h].depth!=null&&f[h].depth>=0&&(d[f[h].depth]=new a(f[h],this,l));if(c&&u){var v=t(c,u,this,!0,m);return v.data}function m(p,g){p.wrapMethod("getItemModel",function(y,x){return y.customizeGetParent(function(b){var A=this.parentModel,S=A.getData().getItemLayout(x).depth,_=A.levelModels[S];return _||this.parentModel}),y}),g.wrapMethod("getItemModel",function(y,x){return y.customizeGetParent(function(b){var A=this.parentModel,S=A.getGraph().getEdgeByIndex(x),_=S.node1.getLayout().depth,w=A.levelModels[_];return w||this.parentModel}),y})}},setNodePosition:function(s,l){var u=this.option.data[s];u.localX=l[0],u.localY=l[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(s,l,u){if(u==="edge"){var c=this.getDataParams(s,u),f=c.data,d=f.source+" -- "+f.target;return c.value&&(d+=" : "+c.value),r(d)}else if(u==="node"){var h=this.getGraph().getNodeByIndex(s),v=h.getLayout().value,m=this.getDataParams(s,u).data.name;if(v)var d=m+" : "+v;return r(d)}return i.superCall(this,"formatTooltip",s,l)},optionUpdated:function(){var s=this.option;s.focusNodeAdjacency===!0&&(s.focusNodeAdjacency="allEdges")},getDataParams:function(s,l){var u=i.superCall(this,"getDataParams",s,l);if(u.value==null&&l==="node"){var c=this.getGraph().getNodeByIndex(s),f=c.getLayout().value;u.value=f}return u},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}),o=i;return TS=o,TS}var ES,pB;function Wme(){if(pB)return ES;pB=1;var e=$e,t=et,n=de,r=["itemStyle","opacity"],a=["emphasis","itemStyle","opacity"],i=["lineStyle","opacity"],o=["emphasis","lineStyle","opacity"];function s(h,v){return h.getVisual("opacity")||h.getModel().get(v)}function l(h,v,m){var p=h.getGraphicEl(),g=s(h,v);m!=null&&(g==null&&(g=1),g*=m),p.downplay&&p.downplay(),p.traverse(function(y){y.type!=="group"&&y.setStyle("opacity",g)})}function u(h,v){var m=s(h,v),p=h.getGraphicEl();p.traverse(function(g){g.type!=="group"&&g.setStyle("opacity",m)}),p.highlight&&p.highlight()}var c=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(h,v){var m=v.extent;h.moveTo(v.x1,v.y1),h.bezierCurveTo(v.cpx1,v.cpy1,v.cpx2,v.cpy2,v.x2,v.y2),v.orient==="vertical"?(h.lineTo(v.x2+m,v.y2),h.bezierCurveTo(v.cpx2+m,v.cpy2,v.cpx1+m,v.cpy1,v.x1+m,v.y1)):(h.lineTo(v.x2,v.y2+m),h.bezierCurveTo(v.cpx2,v.cpy2+m,v.cpx1,v.cpy1+m,v.x1,v.y1+m)),h.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),f=t.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(h,v,m){var p=this,g=h.getGraph(),y=this.group,x=h.layoutInfo,b=x.width,A=x.height,S=h.getData(),_=h.getData("edge"),w=h.get("orient");this._model=h,y.removeAll(),y.attr("position",[x.x,x.y]),g.eachEdge(function(C){var M=new c;M.dataIndex=C.dataIndex,M.seriesIndex=h.seriesIndex,M.dataType="edge";var T=C.getModel("lineStyle"),E=T.get("curveness"),P=C.node1.getLayout(),R=C.node1.getModel(),I=R.get("localX"),D=R.get("localY"),B=C.node2.getLayout(),F=C.node2.getModel(),G=F.get("localX"),z=F.get("localY"),N=C.getLayout(),U,$,k,V,L,O,H,j;switch(M.shape.extent=Math.max(1,N.dy),M.shape.orient=w,w==="vertical"?(U=(I!=null?I*b:P.x)+N.sy,$=(D!=null?D*A:P.y)+P.dy,k=(G!=null?G*b:B.x)+N.ty,V=z!=null?z*A:B.y,L=U,O=$*(1-E)+V*E,H=k,j=$*E+V*(1-E)):(U=(I!=null?I*b:P.x)+P.dx,$=(D!=null?D*A:P.y)+N.sy,k=G!=null?G*b:B.x,V=(z!=null?z*A:B.y)+N.ty,L=U*(1-E)+k*E,O=$,H=U*E+k*(1-E),j=V),M.setShape({x1:U,y1:$,x2:k,y2:V,cpx1:L,cpy1:O,cpx2:H,cpy2:j}),M.setStyle(T.getItemStyle()),M.style.fill){case"source":M.style.fill=C.node1.getVisual("color");break;case"target":M.style.fill=C.node2.getVisual("color");break}e.setHoverStyle(M,C.getModel("emphasis.lineStyle").getItemStyle()),y.add(M),_.setItemGraphicEl(C.dataIndex,M)}),g.eachNode(function(C){var M=C.getLayout(),T=C.getModel(),E=T.get("localX"),P=T.get("localY"),R=T.getModel("label"),I=T.getModel("emphasis.label"),D=new e.Rect({shape:{x:E!=null?E*b:M.x,y:P!=null?P*A:M.y,width:M.dx,height:M.dy},style:T.getModel("itemStyle").getItemStyle()}),B=C.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(D.style,B,R,I,{labelFetcher:h,labelDataIndex:C.dataIndex,defaultText:C.id,isRectText:!0}),D.setStyle("fill",C.getVisual("color")),e.setHoverStyle(D,B),y.add(D),S.setItemGraphicEl(C.dataIndex,D),D.dataType="node"}),S.eachItemGraphicEl(function(C,M){var T=S.getItemModel(M);T.get("draggable")&&(C.drift=function(E,P){p._focusAdjacencyDisabled=!0,this.shape.x+=E,this.shape.y+=P,this.dirty(),m.dispatchAction({type:"dragNode",seriesId:h.id,dataIndex:S.getRawIndex(M),localX:this.shape.x/b,localY:this.shape.y/A})},C.ondragend=function(){p._focusAdjacencyDisabled=!1},C.draggable=!0,C.cursor="move"),C.highlight=function(){this.trigger("emphasis")},C.downplay=function(){this.trigger("normal")},C.focusNodeAdjHandler&&C.off("mouseover",C.focusNodeAdjHandler),C.unfocusNodeAdjHandler&&C.off("mouseout",C.unfocusNodeAdjHandler),T.get("focusNodeAdjacency")&&(C.on("mouseover",C.focusNodeAdjHandler=function(){p._focusAdjacencyDisabled||(p._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:h.id,dataIndex:C.dataIndex}))}),C.on("mouseout",C.unfocusNodeAdjHandler=function(){p._focusAdjacencyDisabled||p._dispatchUnfocus(m)}))}),_.eachItemGraphicEl(function(C,M){var T=_.getItemModel(M);C.focusNodeAdjHandler&&C.off("mouseover",C.focusNodeAdjHandler),C.unfocusNodeAdjHandler&&C.off("mouseout",C.unfocusNodeAdjHandler),T.get("focusNodeAdjacency")&&(C.on("mouseover",C.focusNodeAdjHandler=function(){p._focusAdjacencyDisabled||(p._clearTimer(),m.dispatchAction({type:"focusNodeAdjacency",seriesId:h.id,edgeDataIndex:C.dataIndex}))}),C.on("mouseout",C.unfocusNodeAdjHandler=function(){p._focusAdjacencyDisabled||p._dispatchUnfocus(m)}))}),!this._data&&h.get("animation")&&y.setClipPath(d(y.getBoundingRect(),h,function(){y.removeClipPath()})),this._data=h.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(h){var v=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){v._unfocusDelayTimer=null,h.dispatchAction({type:"unfocusNodeAdjacency",seriesId:v._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(h,v,m,p){var g=h.getData(),y=g.graph,x=p.dataIndex,b=g.getItemModel(x),A=p.edgeDataIndex;if(!(x==null&&A==null)){var S=y.getNodeByIndex(x),_=y.getEdgeByIndex(A);if(y.eachNode(function(C){l(C,r,.1)}),y.eachEdge(function(C){l(C,i,.1)}),S){u(S,a);var w=b.get("focusNodeAdjacency");w==="outEdges"?n.each(S.outEdges,function(C){C.dataIndex<0||(u(C,o),u(C.node2,a))}):w==="inEdges"?n.each(S.inEdges,function(C){C.dataIndex<0||(u(C,o),u(C.node1,a))}):w==="allEdges"&&n.each(S.edges,function(C){C.dataIndex<0||(u(C,o),C.node1!==S&&u(C.node1,a),C.node2!==S&&u(C.node2,a))})}_&&(u(_,o),u(_.node1,a),u(_.node2,a))}},unfocusNodeAdjacency:function(h,v,m,p){var g=h.getGraph();g.eachNode(function(y){l(y,r)}),g.eachEdge(function(y){l(y,i)})}});function d(h,v,m){var p=new e.Rect({shape:{x:h.x-10,y:h.y-10,width:0,height:h.height+20}});return e.initProps(p,{shape:{width:h.width+20}},v,m),p}return ES=f,ES}var gB={},mB;function jme(){if(mB)return gB;mB=1;var e=et;return QW(),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),gB}var PS,yB;function Yme(){if(yB)return PS;yB=1;var e=$t,t=de,n=bt,r=n.groupData;function a(T,E,P){T.eachSeriesByType("sankey",function(R){var I=R.get("nodeWidth"),D=R.get("nodeGap"),B=i(R,E);R.layoutInfo=B;var F=B.width,G=B.height,z=R.getGraph(),N=z.nodes,U=z.edges;s(N);var $=t.filter(N,function(O){return O.getLayout().value===0}),k=$.length!==0?0:R.get("layoutIterations"),V=R.get("orient"),L=R.get("nodeAlign");o(N,U,I,D,F,G,k,V,L)})}function i(T,E){return e.getLayoutRect(T.getBoxLayoutParams(),{width:E.getWidth(),height:E.getHeight()})}function o(T,E,P,R,I,D,B,F,G){l(T,E,P,I,D,F,G),h(T,E,D,I,R,B,F),M(T,F)}function s(T){t.each(T,function(E){var P=w(E.outEdges,_),R=w(E.inEdges,_),I=E.getValue()||0,D=Math.max(P,R,I);E.setLayout({value:D},!0)})}function l(T,E,P,R,I,D,B){for(var F=[],G=[],z=[],N=[],U=0,te=0,$=0;$<E.length;$++)F[$]=1;for($=0;$<T.length;$++)G[$]=T[$].inEdges.length,G[$]===0&&z.push(T[$]);for(var k=-1;z.length;){for(var V=0;V<z.length;V++){var L=z[V],O=L.hostGraph.data.getRawDataItem(L.dataIndex),H=O.depth!=null&&O.depth>=0;H&&O.depth>k&&(k=O.depth),L.setLayout({depth:H?O.depth:U},!0),D==="vertical"?L.setLayout({dy:P},!0):L.setLayout({dx:P},!0);for(var j=0;j<L.outEdges.length;j++){var Y=L.outEdges[j],X=E.indexOf(Y);F[X]=0;var Q=Y.node2,K=T.indexOf(Q);--G[K]===0&&N.indexOf(Q)<0&&N.push(Q)}}++U,z=N,N=[]}for($=0;$<F.length;$++)if(F[$]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var Z=k>U-1?k:U-1;B&&B!=="left"&&c(T,B,D,Z);var te=D==="vertical"?(I-P)/Z:(R-P)/Z;d(T,te,D)}function u(T){var E=T.hostGraph.data.getRawDataItem(T.dataIndex);return E.depth!=null&&E.depth>=0}function c(T,E,P,R){if(E==="right"){for(var I=[],D=T,B=0;D.length;){for(var F=0;F<D.length;F++){var G=D[F];G.setLayout({skNodeHeight:B},!0);for(var z=0;z<G.inEdges.length;z++){var N=G.inEdges[z];I.indexOf(N.node1)<0&&I.push(N.node1)}}D=I,I=[],++B}t.each(T,function(U){u(U)||U.setLayout({depth:Math.max(0,R-U.getLayout().skNodeHeight)},!0)})}else E==="justify"&&f(T,R)}function f(T,E){t.each(T,function(P){!u(P)&&!P.outEdges.length&&P.setLayout({depth:E},!0)})}function d(T,E,P){t.each(T,function(R){var I=R.getLayout().depth*E;P==="vertical"?R.setLayout({y:I},!0):R.setLayout({x:I},!0)})}function h(T,E,P,R,I,D,B){var F=v(T,B);m(F,E,P,R,I,B),p(F,I,P,R,B);for(var G=1;D>0;D--)G*=.99,g(F,G,B),p(F,I,P,R,B),C(F,G,B),p(F,I,P,R,B)}function v(T,E){var P=[],R=E==="vertical"?"y":"x",I=r(T,function(D){return D.getLayout()[R]});return I.keys.sort(function(D,B){return D-B}),t.each(I.keys,function(D){P.push(I.buckets.get(D))}),P}function m(T,E,P,R,I,D){var B=1/0;t.each(T,function(F){var G=F.length,z=0;t.each(F,function(U){z+=U.getLayout().value});var N=D==="vertical"?(R-(G-1)*I)/z:(P-(G-1)*I)/z;N<B&&(B=N)}),t.each(T,function(F){t.each(F,function(G,z){var N=G.getLayout().value*B;D==="vertical"?(G.setLayout({x:z},!0),G.setLayout({dx:N},!0)):(G.setLayout({y:z},!0),G.setLayout({dy:N},!0))})}),t.each(E,function(F){var G=+F.getValue()*B;F.setLayout({dy:G},!0)})}function p(T,E,P,R,I){var D=I==="vertical"?"x":"y";t.each(T,function(B){B.sort(function(L,O){return L.getLayout()[D]-O.getLayout()[D]});for(var F,G,z,N=0,U=B.length,$=I==="vertical"?"dx":"dy",k=0;k<U;k++)G=B[k],z=N-G.getLayout()[D],z>0&&(F=G.getLayout()[D]+z,I==="vertical"?G.setLayout({x:F},!0):G.setLayout({y:F},!0)),N=G.getLayout()[D]+G.getLayout()[$]+E;var V=I==="vertical"?R:P;if(z=N-E-V,z>0)for(F=G.getLayout()[D]-z,I==="vertical"?G.setLayout({x:F},!0):G.setLayout({y:F},!0),N=F,k=U-2;k>=0;--k)G=B[k],z=G.getLayout()[D]+G.getLayout()[$]+E-N,z>0&&(F=G.getLayout()[D]-z,I==="vertical"?G.setLayout({x:F},!0):G.setLayout({y:F},!0)),N=G.getLayout()[D]})}function g(T,E,P){t.each(T.slice().reverse(),function(R){t.each(R,function(I){if(I.outEdges.length){var D=w(I.outEdges,y,P)/w(I.outEdges,_,P);if(isNaN(D)){var B=I.outEdges.length;D=B?w(I.outEdges,x,P)/B:0}if(P==="vertical"){var F=I.getLayout().x+(D-S(I,P))*E;I.setLayout({x:F},!0)}else{var G=I.getLayout().y+(D-S(I,P))*E;I.setLayout({y:G},!0)}}})})}function y(T,E){return S(T.node2,E)*T.getValue()}function x(T,E){return S(T.node2,E)}function b(T,E){return S(T.node1,E)*T.getValue()}function A(T,E){return S(T.node1,E)}function S(T,E){return E==="vertical"?T.getLayout().x+T.getLayout().dx/2:T.getLayout().y+T.getLayout().dy/2}function _(T){return T.getValue()}function w(T,E,P){for(var R=0,I=T.length,D=-1;++D<I;){var B=+E.call(T,T[D],P);isNaN(B)||(R+=B)}return R}function C(T,E,P){t.each(T,function(R){t.each(R,function(I){if(I.inEdges.length){var D=w(I.inEdges,b,P)/w(I.inEdges,_,P);if(isNaN(D)){var B=I.inEdges.length;D=B?w(I.inEdges,A,P)/B:0}if(P==="vertical"){var F=I.getLayout().x+(D-S(I,P))*E;I.setLayout({x:F},!0)}else{var G=I.getLayout().y+(D-S(I,P))*E;I.setLayout({y:G},!0)}}})})}function M(T,E){var P=E==="vertical"?"x":"y";t.each(T,function(R){R.outEdges.sort(function(I,D){return I.node2.getLayout()[P]-D.node2.getLayout()[P]}),R.inEdges.sort(function(I,D){return I.node1.getLayout()[P]-D.node1.getLayout()[P]})}),t.each(T,function(R){var I=0,D=0;t.each(R.outEdges,function(B){B.setLayout({sy:I},!0),I+=B.getLayout().dy}),t.each(R.inEdges,function(B){B.setLayout({ty:D},!0),D+=B.getLayout().dy})})}return PS=a,PS}var RS,xB;function Xme(){if(xB)return RS;xB=1;var e=Pu(),t=de;function n(r,a){r.eachSeriesByType("sankey",function(i){var o=i.getGraph(),s=o.nodes;if(s.length){var l=1/0,u=-1/0;t.each(s,function(c){var f=c.getLayout().value;f<l&&(l=f),f>u&&(u=f)}),t.each(s,function(c){var f=new e({type:"color",mappingMethod:"linear",dataExtent:[l,u],visual:i.get("color")}),d=f.mapValueToVisual(c.getLayout().value),h=c.getModel().get("itemStyle.color");h!=null?c.setVisual("color",h):c.setVisual("color",d)})}})}return RS=n,RS}var bB;function qme(){if(bB)return hB;bB=1;var e=et;Gme(),Wme(),jme();var t=Yme(),n=Xme();return e.registerLayout(t),e.registerVisual(n),hB}var SB={},IS={},_B;function a9(){if(_B)return IS;_B=1;var e=Uf(),t=de,n=_v(),r=n.getDimensionTypeByAxis,a=Br,i=a.makeSeriesEncodeForAxisCoordSys,o={_baseAxisDim:null,getInitialData:function(s,l){var u,c=l.getComponent("xAxis",this.get("xAxisIndex")),f=l.getComponent("yAxis",this.get("yAxisIndex")),d=c.get("type"),h=f.get("type"),v;d==="category"?(s.layout="horizontal",u=c.getOrdinalMeta(),v=!0):h==="category"?(s.layout="vertical",u=f.getOrdinalMeta(),v=!0):s.layout=s.layout||"horizontal";var m=["x","y"],p=s.layout==="horizontal"?0:1,g=this._baseAxisDim=m[p],y=m[1-p],x=[c,f],b=x[p].get("type"),A=x[1-p].get("type"),S=s.data;if(S&&v){var _=[];t.each(S,function(M,T){var E;M.value&&t.isArray(M.value)?(E=M.value.slice(),M.value.unshift(T)):t.isArray(M)?(E=M.slice(),M.unshift(T)):E=M,_.push(E)}),s.data=_}var w=this.defaultValueDimensions,C=[{name:g,type:r(b),ordinalMeta:u,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:y,type:r(A),dimsDef:w.slice()}];return e(this,{coordDimensions:C,dimensionsCount:w.length+1,encodeDefaulter:t.curry(i,C,this)})},getBaseAxis:function(){var s=this._baseAxisDim;return this.ecModel.getComponent(s+"Axis",this.get(s+"AxisIndex")).axis}};return IS.seriesModelMixin=o,IS}var DS,AB;function Kme(){if(AB)return DS;AB=1;var e=de,t=xr,n=a9(),r=n.seriesModelMixin,a=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(a,r,!0);var i=a;return DS=i,DS}var LS,wB;function Zme(){if(wB)return LS;wB=1;var e=de,t=_o,n=$e,r=jn,a=["itemStyle"],i=["emphasis","itemStyle"],o=t.extend({type:"boxplot",render:function(d,h,v){var m=d.getData(),p=this.group,g=this._data;this._data||p.removeAll();var y=d.get("layout")==="horizontal"?1:0;m.diff(g).add(function(x){if(m.hasValue(x)){var b=m.getItemLayout(x),A=l(b,m,x,y,!0);m.setItemGraphicEl(x,A),p.add(A)}}).update(function(x,b){var A=g.getItemGraphicEl(b);if(!m.hasValue(x)){p.remove(A);return}var S=m.getItemLayout(x);A?u(S,A,m,x):A=l(S,m,x,y),p.add(A),m.setItemGraphicEl(x,A)}).remove(function(x){var b=g.getItemGraphicEl(x);b&&p.remove(b)}).execute(),this._data=m},remove:function(d){var h=this.group,v=this._data;this._data=null,v&&v.eachItemGraphicEl(function(m){m&&h.remove(m)})},dispose:e.noop}),s=r.extend({type:"boxplotBoxPath",shape:{},buildPath:function(d,h){var v=h.points,m=0;for(d.moveTo(v[m][0],v[m][1]),m++;m<4;m++)d.lineTo(v[m][0],v[m][1]);for(d.closePath();m<v.length;m++)d.moveTo(v[m][0],v[m][1]),m++,d.lineTo(v[m][0],v[m][1])}});function l(d,h,v,m,p){var g=d.ends,y=new s({shape:{points:p?c(g,m,d):g}});return u(d,y,h,v,p),y}function u(d,h,v,m,p){var g=v.hostModel,y=n[p?"initProps":"updateProps"];y(h,{shape:{points:d.ends}},g,m);var x=v.getItemModel(m),b=x.getModel(a),A=v.getItemVisual(m,"color"),S=b.getItemStyle(["borderColor"]);S.stroke=A,S.strokeNoScale=!0,h.useStyle(S),h.z2=100;var _=x.getModel(i).getItemStyle();n.setHoverStyle(h,_)}function c(d,h,v){return e.map(d,function(m){return m=m.slice(),m[h]=v.initBaseline,m})}var f=o;return LS=f,LS}var OS,CB;function Qme(){if(CB)return OS;CB=1;var e=["itemStyle","borderColor"];function t(n,r){var a=n.get("color");n.eachRawSeriesByType("boxplot",function(i){var o=a[i.seriesIndex%a.length],s=i.getData();s.setVisual({legendSymbol:"roundRect",color:i.get(e)||o}),n.isSeriesFiltered(i)||s.each(function(l){var u=s.getItemModel(l);s.setItemVisual(l,{color:u.get(e,!0)})})})}return OS=t,OS}var NS,MB;function Jme(){if(MB)return NS;MB=1;var e=de,t=Rt(),n=t.parsePercent,r=e.each;function a(l){var u=i(l);r(u,function(c){var f=c.seriesModels;f.length&&(o(c),r(f,function(d,h){s(d,c.boxOffsetList[h],c.boxWidthList[h])}))})}function i(l){var u=[],c=[];return l.eachSeriesByType("boxplot",function(f){var d=f.getBaseAxis(),h=e.indexOf(c,d);h<0&&(h=c.length,c[h]=d,u[h]={axis:d,seriesModels:[]}),u[h].seriesModels.push(f)}),u}function o(l){var u,c=l.axis,f=l.seriesModels,d=f.length,h=l.boxWidthList=[],v=l.boxOffsetList=[],m=[],p;if(c.type==="category")p=c.getBandWidth();else{var g=0;r(f,function(S){g=Math.max(g,S.getData().count())}),u=c.getExtent(),Math.abs(u[1]-u[0])/g}r(f,function(S){var _=S.get("boxWidth");e.isArray(_)||(_=[_,_]),m.push([n(_[0],p)||0,n(_[1],p)||0])});var y=p*.8-2,x=y/d*.3,b=(y-x*(d-1))/d,A=b/2-y/2;r(f,function(S,_){v.push(A),A+=x+b,h.push(Math.min(Math.max(b,m[_][0]),m[_][1]))})}function s(l,u,c){var f=l.coordinateSystem,d=l.getData(),h=c/2,v=l.get("layout")==="horizontal"?0:1,m=1-v,p=["x","y"],g=d.mapDimension(p[v]),y=d.mapDimension(p[m],!0);if(g==null||y.length<5)return;for(var x=0;x<d.count();x++){var b=d.get(g,x),A=T(b,y[2],x),S=T(b,y[0],x),_=T(b,y[1],x),w=T(b,y[3],x),C=T(b,y[4],x),M=[];E(M,_,0),E(M,w,1),M.push(S,_,C,w),P(M,S),P(M,C),P(M,A),d.setItemLayout(x,{initBaseline:A[m],ends:M})}function T(R,I,D){var B=d.get(I,D),F=[];F[v]=R,F[m]=B;var G;return isNaN(R)||isNaN(B)?G=[NaN,NaN]:(G=f.dataToPoint(F),G[v]+=u),G}function E(R,I,D){var B=I.slice(),F=I.slice();B[v]+=h,F[v]-=h,D?R.push(B,F):R.push(F,B)}function P(R,I){var D=I.slice(),B=I.slice();D[v]-=h,B[v]+=h,R.push(D,B)}}return NS=a,NS}var TB;function eye(){if(TB)return SB;TB=1;var e=et;Kme(),Zme();var t=Qme(),n=Jme();return e.registerVisual(t),e.registerLayout(n),SB}var EB={},kS,PB;function tye(){if(PB)return kS;PB=1;var e=de,t=xr,n=a9(),r=n.seriesModelMixin,a=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(o,s,l){var u=s.getItemLayout(o);return u&&l.rect(u.brushRect)}});e.mixin(a,r,!0);var i=a;return kS=i,kS}var BS,RB;function nye(){if(RB)return BS;RB=1;var e=de,t=_o,n=$e,r=jn,a=wv(),i=a.createClipPath,o=["itemStyle"],s=["emphasis","itemStyle"],l=["color","color0","borderColor","borderColor0"],u=t.extend({type:"candlestick",render:function(x,b,A){this.group.removeClipPath(),this._updateDrawMode(x),this._isLargeDraw?this._renderLarge(x):this._renderNormal(x)},incrementalPrepareRender:function(x,b,A){this._clear(),this._updateDrawMode(x)},incrementalRender:function(x,b,A,S){this._isLargeDraw?this._incrementalRenderLarge(x,b):this._incrementalRenderNormal(x,b)},_updateDrawMode:function(x){var b=x.pipelineContext.large;(this._isLargeDraw==null||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(x){var b=x.getData(),A=this._data,S=this.group,_=b.getLayout("isSimpleBox"),w=x.get("clip",!0),C=x.coordinateSystem,M=C.getArea&&C.getArea();this._data||S.removeAll(),b.diff(A).add(function(T){if(b.hasValue(T)){var E,P=b.getItemLayout(T);if(w&&d(M,P))return;E=f(P,T,!0),n.initProps(E,{shape:{points:P.ends}},x,T),h(E,b,T,_),S.add(E),b.setItemGraphicEl(T,E)}}).update(function(T,E){var P=A.getItemGraphicEl(E);if(!b.hasValue(T)){S.remove(P);return}var R=b.getItemLayout(T);if(w&&d(M,R)){S.remove(P);return}P?n.updateProps(P,{shape:{points:R.ends}},x,T):P=f(R),h(P,b,T,_),S.add(P),b.setItemGraphicEl(T,P)}).remove(function(T){var E=A.getItemGraphicEl(T);E&&S.remove(E)}).execute(),this._data=b},_renderLarge:function(x){this._clear(),p(x,this.group);var b=x.get("clip",!0)?i(x.coordinateSystem,!1,x):null;b?this.group.setClipPath(b):this.group.removeClipPath()},_incrementalRenderNormal:function(x,b){for(var A=b.getData(),S=A.getLayout("isSimpleBox"),_;(_=x.next())!=null;){var w,C=A.getItemLayout(_);w=f(C),h(w,A,_,S),w.incremental=!0,this.group.add(w)}},_incrementalRenderLarge:function(x,b){p(b,this.group,!0)},remove:function(x){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),c=r.extend({type:"normalCandlestickBox",shape:{},buildPath:function(x,b){var A=b.points;this.__simpleBox?(x.moveTo(A[4][0],A[4][1]),x.lineTo(A[6][0],A[6][1])):(x.moveTo(A[0][0],A[0][1]),x.lineTo(A[1][0],A[1][1]),x.lineTo(A[2][0],A[2][1]),x.lineTo(A[3][0],A[3][1]),x.closePath(),x.moveTo(A[4][0],A[4][1]),x.lineTo(A[5][0],A[5][1]),x.moveTo(A[6][0],A[6][1]),x.lineTo(A[7][0],A[7][1]))}});function f(x,b,A){var S=x.ends;return new c({shape:{points:A?v(S,x):S},z2:100})}function d(x,b){for(var A=!0,S=0;S<b.ends.length;S++)if(x.contain(b.ends[S][0],b.ends[S][1])){A=!1;break}return A}function h(x,b,A,S){var _=b.getItemModel(A),w=_.getModel(o),C=b.getItemVisual(A,"color"),M=b.getItemVisual(A,"borderColor")||C,T=w.getItemStyle(l);x.useStyle(T),x.style.strokeNoScale=!0,x.style.fill=C,x.style.stroke=M,x.__simpleBox=S;var E=_.getModel(s).getItemStyle();n.setHoverStyle(x,E)}function v(x,b){return e.map(x,function(A){return A=A.slice(),A[1]=b.initBaseline,A})}var m=r.extend({type:"largeCandlestickBox",shape:{},buildPath:function(x,b){for(var A=b.points,S=0;S<A.length;)if(this.__sign===A[S++]){var _=A[S++];x.moveTo(_,A[S++]),x.lineTo(_,A[S++])}else S+=3}});function p(x,b,A){var S=x.getData(),_=S.getLayout("largePoints"),w=new m({shape:{points:_},__sign:1});b.add(w);var C=new m({shape:{points:_},__sign:-1});b.add(C),g(1,w,x,S),g(-1,C,x,S),A&&(w.incremental=!0,C.incremental=!0)}function g(x,b,A,S){var _=x>0?"P":"N",w=S.getVisual("borderColor"+_)||S.getVisual("color"+_),C=A.getModel(o).getItemStyle(l);b.useStyle(C),b.style.fill=null,b.style.stroke=w}var y=u;return BS=y,BS}var FS,IB;function rye(){if(IB)return FS;IB=1;var e=de;function t(n){!n||!e.isArray(n.series)||e.each(n.series,function(r){e.isObject(r)&&r.type==="k"&&(r.type="candlestick")})}return FS=t,FS}var VS,DB;function aye(){if(DB)return VS;DB=1;var e=Bf,t=["itemStyle","borderColor"],n=["itemStyle","borderColor0"],r=["itemStyle","color"],a=["itemStyle","color0"],i={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(o,s){var l=o.getData();if(l.setVisual({legendSymbol:"roundRect",colorP:f(1,o),colorN:f(-1,o),borderColorP:d(1,o),borderColorN:d(-1,o)}),s.isSeriesFiltered(o))return;var u=o.pipelineContext.large;return!u&&{progress:c};function c(h,v){for(var m;(m=h.next())!=null;){var p=v.getItemModel(m),g=v.getItemLayout(m).sign;v.setItemVisual(m,{color:f(g,p),borderColor:d(g,p)})}}function f(h,v){return v.get(h>0?r:a)}function d(h,v){return v.get(h>0?t:n)}}};return VS=i,VS}var zS,LB;function iye(){if(LB)return zS;LB=1;var e=$e,t=e.subPixelOptimize,n=Bf,r=Rt(),a=r.parsePercent,i=de,o=i.retrieve2,s=typeof Float32Array<"u"?Float32Array:Array,l={seriesType:"candlestick",plan:n(),reset:function(f){var d=f.coordinateSystem,h=f.getData(),v=c(f,h),m=0,p=1,g=["x","y"],y=h.mapDimension(g[m]),x=h.mapDimension(g[p],!0),b=x[0],A=x[1],S=x[2],_=x[3];if(h.setLayout({candleWidth:v,isSimpleBox:v<=1.3}),y==null||x.length<4)return;return{progress:f.pipelineContext.large?C:w};function w(M,T){for(var E;(E=M.next())!=null;){var P=T.get(y,E),R=T.get(b,E),I=T.get(A,E),D=T.get(S,E),B=T.get(_,E),F=Math.min(R,I),G=Math.max(R,I),z=V(F,P),N=V(G,P),U=V(D,P),$=V(B,P),k=[];L(k,N,0),L(k,z,1),k.push(H($),H(N),H(U),H(z)),T.setItemLayout(E,{sign:u(T,E,R,I,A),initBaseline:R>I?N[p]:z[p],ends:k,brushRect:O(D,B,P)})}function V(j,Y){var X=[];return X[m]=Y,X[p]=j,isNaN(Y)||isNaN(j)?[NaN,NaN]:d.dataToPoint(X)}function L(j,Y,X){var Q=Y.slice(),K=Y.slice();Q[m]=t(Q[m]+v/2,1,!1),K[m]=t(K[m]-v/2,1,!0),X?j.push(Q,K):j.push(K,Q)}function O(j,Y,X){var Q=V(j,X),K=V(Y,X);return Q[m]-=v/2,K[m]-=v/2,{x:Q[0],y:Q[1],width:v,height:K[1]-Q[1]}}function H(j){return j[m]=t(j[m],1),j}}function C(M,T){for(var E=new s(M.count*4),P=0,R,I=[],D=[],B;(B=M.next())!=null;){var F=T.get(y,B),G=T.get(b,B),z=T.get(A,B),N=T.get(S,B),U=T.get(_,B);if(isNaN(F)||isNaN(N)||isNaN(U)){E[P++]=NaN,P+=3;continue}E[P++]=u(T,B,G,z,A),I[m]=F,I[p]=N,R=d.dataToPoint(I,null,D),E[P++]=R?R[0]:NaN,E[P++]=R?R[1]:NaN,I[p]=U,R=d.dataToPoint(I,null,D),E[P++]=R?R[1]:NaN}T.setLayout("largePoints",E)}}};function u(f,d,h,v,m){var p;return h>v?p=-1:h<v?p=1:p=d>0?f.get(m,d-1)<=v?1:-1:1,p}function c(f,d){var h=f.getBaseAxis(),v,m=h.type==="category"?h.getBandWidth():(v=h.getExtent(),Math.abs(v[1]-v[0])/d.count()),p=a(o(f.get("barMaxWidth"),m),m),g=a(o(f.get("barMinWidth"),1),m),y=f.get("barWidth");return y!=null?a(y,m):Math.max(Math.min(m/2,p),g)}return zS=l,zS}var OB;function oye(){if(OB)return EB;OB=1;var e=et;tye(),nye();var t=rye(),n=aye(),r=iye();return e.registerPreprocessor(t),e.registerVisual(n),e.registerLayout(r),EB}var NB={},US,kB;function sye(){if(kB)return US;kB=1;var e=us(),t=xr,n=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(r,a){return e(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return US=n,US}var HS,BB;function lye(){if(BB)return HS;BB=1;var e=de,t=li(),n=t.createSymbol,r=$e,a=r.Group,i=Rt(),o=i.parsePercent,s=Wy(),l=3;function u(v){return e.isArray(v)||(v=[+v,+v]),v}function c(v,m){var p=m.rippleEffectColor||m.color;v.eachChild(function(g){g.attr({z:m.z,zlevel:m.zlevel,style:{stroke:m.brushType==="stroke"?p:null,fill:m.brushType==="fill"?p:null}})})}function f(v,m){a.call(this);var p=new s(v,m),g=new a;this.add(p),this.add(g),g.beforeUpdate=function(){this.attr(p.getScale())},this.updateData(v,m)}var d=f.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(v){for(var m=v.symbolType,p=v.color,g=this.childAt(1),y=0;y<l;y++){var x=n(m,-1,-1,2,2,p);x.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var b=-y/l*v.period+v.effectOffset;x.animate("",!0).when(v.period,{scale:[v.rippleScale/2,v.rippleScale/2]}).delay(b).start(),x.animateStyle(!0).when(v.period,{opacity:0}).delay(b).start(),g.add(x)}c(g,v)},d.updateEffectAnimation=function(v){for(var m=this._effectCfg,p=this.childAt(1),g=["symbolType","period","rippleScale"],y=0;y<g.length;y++){var x=g[y];if(m[x]!==v[x]){this.stopEffectAnimation(),this.startEffectAnimation(v);return}}c(p,v)},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(v,m){var p=v.hostModel;this.childAt(0).updateData(v,m);var g=this.childAt(1),y=v.getItemModel(m),x=v.getItemVisual(m,"symbol"),b=u(v.getItemVisual(m,"symbolSize")),A=v.getItemVisual(m,"color");g.attr("scale",b),g.traverse(function(P){P.attr({fill:A})});var S=y.getShallow("symbolOffset");if(S){var _=g.position;_[0]=o(S[0],b[0]),_[1]=o(S[1],b[1])}var w=v.getItemVisual(m,"symbolRotate");g.rotation=(w||0)*Math.PI/180||0;var C={};if(C.showEffectOn=p.get("showEffectOn"),C.rippleScale=y.get("rippleEffect.scale"),C.brushType=y.get("rippleEffect.brushType"),C.period=y.get("rippleEffect.period")*1e3,C.effectOffset=m/v.count(),C.z=y.getShallow("z")||0,C.zlevel=y.getShallow("zlevel")||0,C.symbolType=x,C.color=A,C.rippleEffectColor=y.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),C.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(C):this.startEffectAnimation(C),this._effectCfg=C;else{this._effectCfg=null,this.stopEffectAnimation();var M=this.childAt(0),T=function(){M.highlight(),C.showEffectOn!=="render"&&this.startEffectAnimation(C)},E=function(){M.downplay(),C.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",T,this).on("mouseout",E,this).on("emphasis",T,this).on("normal",E,this)}this._effectCfg=C},d.fadeOut=function(v){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),v&&v()},e.inherits(f,a);var h=f;return HS=h,HS}var $S,FB;function uye(){if(FB)return $S;FB=1;var e=et,t=Av(),n=lye(),r=Vn,a=Cv(),i=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(n)},render:function(o,s,l){var u=o.getData(),c=this._symbolDraw;c.updateData(u),this.group.add(c.group)},updateTransform:function(o,s,l){var u=o.getData();this.group.dirty();var c=a().reset(o);c.progress&&c.progress({start:0,end:u.count()},u),this._symbolDraw.updateLayout(u)},_updateGroupTransform:function(o){var s=o.coordinateSystem;s&&s.getRoamTransform&&(this.group.transform=r.clone(s.getRoamTransform()),this.group.decomposeTransform())},remove:function(o,s){this._symbolDraw&&this._symbolDraw.remove(s)},dispose:function(){}});return $S=i,$S}var VB;function cye(){if(VB)return NB;VB=1;var e=et;sye(),uye();var t=Mu(),n=Cv();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(n("effectScatter")),NB}var zB={},GS,UB;function fye(){if(UB)return GS;UB=1;var e=xr,t=si(),n=de,r=n.concatArray,a=n.mergeAll,i=n.map,o=Gt,s=o.encodeHTML,l=typeof Uint32Array>"u"?Array:Uint32Array,u=typeof Float64Array>"u"?Array:Float64Array;function c(h){var v=h.data;v&&v[0]&&v[0][0]&&v[0][0].coord&&(h.data=i(v,function(m){var p=[m[0].coord,m[1].coord],g={coords:p};return m[0].name&&(g.fromName=m[0].name),m[1].name&&(g.toName=m[1].name),a([g,m[0],m[1]])}))}var f=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(h){h.data=h.data||[],c(h);var v=this._processFlatCoordsArray(h.data);this._flatCoords=v.flatCoords,this._flatCoordsOffset=v.flatCoordsOffset,v.flatCoords&&(h.data=new Float32Array(v.count)),f.superApply(this,"init",arguments)},mergeOption:function(h){if(c(h),h.data){var v=this._processFlatCoordsArray(h.data);this._flatCoords=v.flatCoords,this._flatCoordsOffset=v.flatCoordsOffset,v.flatCoords&&(h.data=new Float32Array(v.count))}f.superApply(this,"mergeOption",arguments)},appendData:function(h){var v=this._processFlatCoordsArray(h.data);v.flatCoords&&(this._flatCoords?(this._flatCoords=r(this._flatCoords,v.flatCoords),this._flatCoordsOffset=r(this._flatCoordsOffset,v.flatCoordsOffset)):(this._flatCoords=v.flatCoords,this._flatCoordsOffset=v.flatCoordsOffset),h.data=new Float32Array(v.count)),this.getRawData().appendData(h.data)},_getCoordsFromItemModel:function(h){var v=this.getData().getItemModel(h),m=v.option instanceof Array?v.option:v.getShallow("coords");return m},getLineCoordsCount:function(h){return this._flatCoordsOffset?this._flatCoordsOffset[h*2+1]:this._getCoordsFromItemModel(h).length},getLineCoords:function(h,v){if(this._flatCoordsOffset){for(var m=this._flatCoordsOffset[h*2],p=this._flatCoordsOffset[h*2+1],g=0;g<p;g++)v[g]=v[g]||[],v[g][0]=this._flatCoords[m+g*2],v[g][1]=this._flatCoords[m+g*2+1];return p}else{for(var y=this._getCoordsFromItemModel(h),g=0;g<y.length;g++)v[g]=v[g]||[],v[g][0]=y[g][0],v[g][1]=y[g][1];return y.length}},_processFlatCoordsArray:function(h){var v=0;if(this._flatCoords&&(v=this._flatCoords.length),typeof h[0]=="number"){for(var m=h.length,p=new l(m),g=new u(m),y=0,x=0,b=0,A=0;A<m;){b++;var S=h[A++];p[x++]=y+v,p[x++]=S;for(var _=0;_<S;_++){var w=h[A++],C=h[A++];g[y++]=w,g[y++]=C}}return{flatCoordsOffset:new Uint32Array(p.buffer,0,x),flatCoords:g,count:b}}return{flatCoordsOffset:null,flatCoords:null,count:h.length}},getInitialData:function(h,v){var m=new t(["value"],this);return m.hasItemOption=!1,m.initData(h.data,[],function(p,g,y,x){if(p instanceof Array)return NaN;m.hasItemOption=!0;var b=p.value;if(b!=null)return b instanceof Array?b[x]:b}),m},formatTooltip:function(h){var v=this.getData(),m=v.getItemModel(h),p=m.get("name");if(p)return p;var g=m.get("fromName"),y=m.get("toName"),x=[];return g!=null&&x.push(g),y!=null&&x.push(y),s(x.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var h=this.option.progressive;return h??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var h=this.option.progressiveThreshold;return h??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),d=f;return GS=d,GS}var WS,HB;function i9(){if(HB)return WS;HB=1;var e=$e,t=bP(),n=de,r=li(),a=r.createSymbol,i=Pt,o=cr;function s(c,f,d){e.Group.call(this),this.add(this.createLine(c,f,d)),this._updateEffectSymbol(c,f)}var l=s.prototype;l.createLine=function(c,f,d){return new t(c,f,d)},l._updateEffectSymbol=function(c,f){var d=c.getItemModel(f),h=d.getModel("effect"),v=h.get("symbolSize"),m=h.get("symbol");n.isArray(v)||(v=[v,v]);var p=h.get("color")||c.getItemVisual(f,"color"),g=this.childAt(1);this._symbolType!==m&&(this.remove(g),g=a(m,-.5,-.5,1,1,p),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",p),g.setStyle(h.getItemStyle(["color"])),g.attr("scale",v),g.setColor(p),g.attr("scale",v),this._symbolType=m,this._symbolScale=v,this._updateEffectAnimation(c,h,f))},l._updateEffectAnimation=function(c,f,d){var h=this.childAt(1);if(h){var v=this,m=c.getItemLayout(d),p=f.get("period")*1e3,g=f.get("loop"),y=f.get("constantSpeed"),x=n.retrieve(f.get("delay"),function(_){return _/c.count()*p/3}),b=typeof x=="function";if(h.ignore=!0,this.updateAnimationPoints(h,m),y>0&&(p=this.getLineLength(h)/y*1e3),p!==this._period||g!==this._loop){h.stopAnimation();var A=x;b&&(A=x(d)),h.__t>0&&(A=-p*h.__t),h.__t=0;var S=h.animate("",g).when(p,{__t:1}).delay(A).during(function(){v.updateSymbolPosition(h)});g||S.done(function(){v.remove(h)}),S.start()}this._period=p,this._loop=g}},l.getLineLength=function(c){return i.dist(c.__p1,c.__cp1)+i.dist(c.__cp1,c.__p2)},l.updateAnimationPoints=function(c,f){c.__p1=f[0],c.__p2=f[1],c.__cp1=f[2]||[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]},l.updateData=function(c,f,d){this.childAt(0).updateData(c,f,d),this._updateEffectSymbol(c,f)},l.updateSymbolPosition=function(c){var f=c.__p1,d=c.__p2,h=c.__cp1,v=c.__t,m=c.position,p=[m[0],m[1]],g=o.quadraticAt,y=o.quadraticDerivativeAt;m[0]=g(f[0],h[0],d[0],v),m[1]=g(f[1],h[1],d[1],v);var x=y(f[0],h[0],d[0],v),b=y(f[1],h[1],d[1],v);if(c.rotation=-Math.atan2(b,x)-Math.PI/2,this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")if(c.__lastT!==void 0&&c.__lastT<c.__t){var A=i.dist(p,m)*1.05;c.attr("scale",[c.scale[0],A]),v===1&&(m[0]=p[0]+(m[0]-p[0])/2,m[1]=p[1]+(m[1]-p[1])/2)}else if(c.__lastT===1){var A=2*i.dist(f,m);c.attr("scale",[c.scale[0],A])}else c.attr("scale",this._symbolScale);c.__lastT=c.__t,c.ignore=!1},l.updateLayout=function(c,f){this.childAt(0).updateLayout(c,f);var d=c.getItemModel(f).getModel("effect");this._updateEffectAnimation(c,d,f)},n.inherits(s,e.Group);var u=s;return WS=u,WS}var jS,$B;function o9(){if($B)return jS;$B=1;var e=$e,t=de;function n(i,o,s){e.Group.call(this),this._createPolyline(i,o,s)}var r=n.prototype;r._createPolyline=function(i,o,s){var l=i.getItemLayout(o),u=new e.Polyline({shape:{points:l}});this.add(u),this._updateCommonStl(i,o,s)},r.updateData=function(i,o,s){var l=i.hostModel,u=this.childAt(0),c={shape:{points:i.getItemLayout(o)}};e.updateProps(u,c,l,o),this._updateCommonStl(i,o,s)},r._updateCommonStl=function(i,o,s){var l=this.childAt(0),u=i.getItemModel(o),c=i.getItemVisual(o,"color"),f=s&&s.lineStyle,d=s&&s.hoverLineStyle;(!s||i.hasItemOption)&&(f=u.getModel("lineStyle").getLineStyle(),d=u.getModel("emphasis.lineStyle").getLineStyle()),l.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:c},f)),l.hoverStyle=d,e.setHoverStyle(this)},r.updateLayout=function(i,o){var s=this.childAt(0);s.setShape("points",i.getItemLayout(o))},t.inherits(n,e.Group);var a=n;return jS=a,jS}var YS,GB;function dye(){if(GB)return YS;GB=1;var e=o9(),t=de,n=i9(),r=Pt;function a(s,l,u){n.call(this,s,l,u),this._lastFrame=0,this._lastFramePercent=0}var i=a.prototype;i.createLine=function(s,l,u){return new e(s,l,u)},i.updateAnimationPoints=function(s,l){this._points=l;for(var u=[0],c=0,f=1;f<l.length;f++){var d=l[f-1],h=l[f];c+=r.dist(d,h),u.push(c)}if(c!==0){for(var f=0;f<u.length;f++)u[f]/=c;this._offsets=u,this._length=c}},i.getLineLength=function(s){return this._length},i.updateSymbolPosition=function(s){var l=s.__t,u=this._points,c=this._offsets,f=u.length;if(c){var d=this._lastFrame,h;if(l<this._lastFramePercent){var v=Math.min(d+1,f-1);for(h=v;h>=0&&!(c[h]<=l);h--);h=Math.min(h,f-2)}else{for(var h=d;h<f&&!(c[h]>l);h++);h=Math.min(h-1,f-2)}r.lerp(s.position,u[h],u[h+1],(l-c[h])/(c[h+1]-c[h]));var m=u[h+1][0]-u[h][0],p=u[h+1][1]-u[h][1];s.rotation=-Math.atan2(p,m)-Math.PI/2,this._lastFrame=h,this._lastFramePercent=l,s.ignore=!1}},t.inherits(a,n);var o=a;return YS=o,YS}var XS,WB;function hye(){if(WB)return XS;WB=1;var e=$e,t=$E,n=OE,r=NE,a=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(l,u){var c=u.segs,f=u.curveness;if(u.polyline)for(var d=0;d<c.length;){var h=c[d++];if(h>0){l.moveTo(c[d++],c[d++]);for(var v=1;v<h;v++)l.lineTo(c[d++],c[d++])}}else for(var d=0;d<c.length;){var m=c[d++],p=c[d++],g=c[d++],y=c[d++];if(l.moveTo(m,p),f>0){var x=(m+g)/2-(p-y)*f,b=(p+y)/2-(g-m)*f;l.quadraticCurveTo(x,b,g,y)}else l.lineTo(g,y)}},findDataIndex:function(l,u){var c=this.shape,f=c.segs,d=c.curveness;if(c.polyline)for(var h=0,v=0;v<f.length;){var m=f[v++];if(m>0)for(var p=f[v++],g=f[v++],y=1;y<m;y++){var x=f[v++],b=f[v++];if(n.containStroke(p,g,x,b))return h}h++}else for(var h=0,v=0;v<f.length;){var p=f[v++],g=f[v++],x=f[v++],b=f[v++];if(d>0){var A=(p+x)/2-(g-b)*d,S=(g+b)/2-(x-p)*d;if(r.containStroke(p,g,A,S,x,b))return h}else if(n.containStroke(p,g,x,b))return h;h++}return-1}});function i(){this.group=new e.Group}var o=i.prototype;o.isPersistent=function(){return!this._incremental},o.updateData=function(l){this.group.removeAll();var u=new a({rectHover:!0,cursor:"default"});u.setShape({segs:l.getLayout("linesPoints")}),this._setCommon(u,l),this.group.add(u),this._incremental=null},o.incrementalPrepareUpdate=function(l){this.group.removeAll(),this._clearIncremental(),l.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},o.incrementalUpdate=function(l,u){var c=new a;c.setShape({segs:u.getLayout("linesPoints")}),this._setCommon(c,u,!!this._incremental),this._incremental?this._incremental.addDisplayable(c,!0):(c.rectHover=!0,c.cursor="default",c.__startIndex=l.start,this.group.add(c))},o.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},o._setCommon=function(l,u,c){var f=u.hostModel;l.setShape({polyline:f.get("polyline"),curveness:f.get("lineStyle.curveness")}),l.useStyle(f.getModel("lineStyle").getLineStyle()),l.style.strokeNoScale=!0;var d=u.getVisual("color");d&&l.setStyle("stroke",d),l.setStyle("fill"),c||(l.seriesIndex=f.seriesIndex,l.on("mousemove",function(h){l.dataIndex=null;var v=l.findDataIndex(h.offsetX,h.offsetY);v>0&&(l.dataIndex=v+l.__startIndex)}))},o._clearIncremental=function(){var l=this._incremental;l&&l.clearDisplaybles()};var s=i;return XS=s,XS}var qS,jB;function s9(){if(jB)return qS;jB=1;var e=Bf,t={seriesType:"lines",plan:e(),reset:function(n){var r=n.coordinateSystem,a=n.get("polyline"),i=n.pipelineContext.large;function o(s,l){var u=[];if(i){var c,f=s.end-s.start;if(a){for(var d=0,h=s.start;h<s.end;h++)d+=n.getLineCoordsCount(h);c=new Float32Array(f+d*2)}else c=new Float32Array(f*4);for(var v=0,m=[],h=s.start;h<s.end;h++){var p=n.getLineCoords(h,u);a&&(c[v++]=p);for(var g=0;g<p;g++)m=r.dataToPoint(u[g],!1,m),c[v++]=m[0],c[v++]=m[1]}l.setLayout("linesPoints",c)}else for(var h=s.start;h<s.end;h++){var y=l.getItemModel(h),p=n.getLineCoords(h,u),x=[];if(a)for(var b=0;b<p;b++)x.push(r.dataToPoint(u[b]));else{x[0]=r.dataToPoint(u[0]),x[1]=r.dataToPoint(u[1]);var A=y.get("lineStyle.curveness");+A&&(x[2]=[(x[0][0]+x[1][0])/2-(x[0][1]-x[1][1])*A,(x[0][1]+x[1][1])/2-(x[1][0]-x[0][0])*A])}l.setItemLayout(h,x)}}return{progress:o}}};return qS=t,qS}var KS,YB;function vye(){if(YB)return KS;YB=1;var e=et,t=SP(),n=i9(),r=bP(),a=o9(),i=dye(),o=hye(),s=s9(),l=wv(),u=l.createClipPath,c=e.extendChartView({type:"lines",init:function(){},render:function(f,d,h){var v=f.getData(),m=this._updateLineDraw(v,f),p=f.get("zlevel"),g=f.get("effect.trailLength"),y=h.getZr(),x=y.painter.getType()==="svg";x||y.painter.getLayer(p).clear(!0),this._lastZlevel!=null&&!x&&y.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(f)&&g&&(x||y.configLayer(p,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})),m.updateData(v);var b=f.get("clip",!0)&&u(f.coordinateSystem,!1,f);b?this.group.setClipPath(b):this.group.removeClipPath(),this._lastZlevel=p,this._finished=!0},incrementalPrepareRender:function(f,d,h){var v=f.getData(),m=this._updateLineDraw(v,f);m.incrementalPrepareUpdate(v),this._clearLayer(h),this._finished=!1},incrementalRender:function(f,d,h){this._lineDraw.incrementalUpdate(f,d.getData()),this._finished=f.end===d.getData().count()},updateTransform:function(f,d,h){var v=f.getData(),m=f.pipelineContext;if(!this._finished||m.large||m.progressiveRender)return{update:!0};var p=s.reset(f);p.progress&&p.progress({start:0,end:v.count()},v),this._lineDraw.updateLayout(),this._clearLayer(h)},_updateLineDraw:function(f,d){var h=this._lineDraw,v=this._showEffect(d),m=!!d.get("polyline"),p=d.pipelineContext,g=p.large;return(!h||v!==this._hasEffet||m!==this._isPolyline||g!==this._isLargeDraw)&&(h&&h.remove(),h=this._lineDraw=g?new o:new t(m?v?i:a:v?n:r),this._hasEffet=v,this._isPolyline=m,this._isLargeDraw=g,this.group.removeAll()),this.group.add(h.group),h},_showEffect:function(f){return!!f.get("effect.show")},_clearLayer:function(f){var d=f.getZr(),h=d.painter.getType()==="svg";!h&&this._lastZlevel!=null&&d.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(f,d){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(d)},dispose:function(){}});return KS=c,KS}var ZS,XB;function pye(){if(XB)return ZS;XB=1;function e(r){return r instanceof Array||(r=[r,r]),r}var t="lineStyle.opacity".split("."),n={seriesType:"lines",reset:function(r,a,i){var o=e(r.get("symbol")),s=e(r.get("symbolSize")),l=r.getData();l.setVisual("fromSymbol",o&&o[0]),l.setVisual("toSymbol",o&&o[1]),l.setVisual("fromSymbolSize",s&&s[0]),l.setVisual("toSymbolSize",s&&s[1]),l.setVisual("opacity",r.get(t));function u(c,f){var d=c.getItemModel(f),h=e(d.getShallow("symbol",!0)),v=e(d.getShallow("symbolSize",!0)),m=d.get(t);h[0]&&c.setItemVisual(f,"fromSymbol",h[0]),h[1]&&c.setItemVisual(f,"toSymbol",h[1]),v[0]&&c.setItemVisual(f,"fromSymbolSize",v[0]),v[1]&&c.setItemVisual(f,"toSymbolSize",v[1]),c.setItemVisual(f,"opacity",m)}return{dataEach:l.hasItemOption?u:null}}};return ZS=n,ZS}var qB;function gye(){if(qB)return zB;qB=1;var e=et;fye(),vye();var t=s9(),n=pye();return e.registerLayout(t),e.registerVisual(n),zB}var KB={},QS,ZB;function mye(){if(ZB)return QS;ZB=1;var e=xr,t=us(),n=So,r=e.extend({type:"series.heatmap",getInitialData:function(a,i){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var a=n.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return QS=r,QS}var JS,QB;function yye(){if(QB)return JS;QB=1;var e=de,t=256;function n(){var a=e.createCanvas();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}n.prototype={update:function(a,i,o,s,l,u){var c=this._getBrush(),f=this._getGradient(a,l,"inRange"),d=this._getGradient(a,l,"outOfRange"),h=this.pointSize+this.blurSize,v=this.canvas,m=v.getContext("2d"),p=a.length;v.width=i,v.height=o;for(var g=0;g<p;++g){var y=a[g],x=y[0],b=y[1],A=y[2],S=s(A);m.globalAlpha=S,m.drawImage(c,x-h,b-h)}if(!v.width||!v.height)return v;for(var _=m.getImageData(0,0,v.width,v.height),w=_.data,C=0,M=w.length,T=this.minOpacity,E=this.maxOpacity,P=E-T;C<M;){var S=w[C+3]/256,R=Math.floor(S*(t-1))*4;if(S>0){var I=u(S)?f:d;S>0&&(S=S*P+T),w[C++]=I[R],w[C++]=I[R+1],w[C++]=I[R+2],w[C++]=I[R+3]*S*256}else C+=4}return m.putImageData(_,0,0),v},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=e.createCanvas()),i=this.pointSize+this.blurSize,o=i*2;a.width=o,a.height=o;var s=a.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-i,i,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),a},_getGradient:function(a,i,o){for(var s=this._gradientPixels,l=s[o]||(s[o]=new Uint8ClampedArray(256*4)),u=[0,0,0,0],c=0,f=0;f<256;f++)i[o](f/255,!0,u),l[c++]=u[0],l[c++]=u[1],l[c++]=u[2],l[c++]=u[3];return l}};var r=n;return JS=r,JS}var e_,JB;function xye(){if(JB)return e_;JB=1;var e=et,t=$e,n=yye(),r=de;function a(l,u,c){var f=l[1]-l[0];u=r.map(u,function(v){return{interval:[(v.interval[0]-l[0])/f,(v.interval[1]-l[0])/f]}});var d=u.length,h=0;return function(v){for(var m=h;m<d;m++){var p=u[m].interval;if(p[0]<=v&&v<=p[1]){h=m;break}}if(m===d)for(var m=h-1;m>=0;m--){var p=u[m].interval;if(p[0]<=v&&v<=p[1]){h=m;break}}return m>=0&&m<d&&c[m]}}function i(l,u){var c=l[1]-l[0];return u=[(u[0]-l[0])/c,(u[1]-l[0])/c],function(f){return f>=u[0]&&f<=u[1]}}function o(l){var u=l.dimensions;return u[0]==="lng"&&u[1]==="lat"}var s=e.extendChartView({type:"heatmap",render:function(l,u,c){var f;u.eachComponent("visualMap",function(h){h.eachTargetSeries(function(v){v===l&&(f=h)})}),this.group.removeAll(),this._incrementalDisplayable=null;var d=l.coordinateSystem;d.type==="cartesian2d"||d.type==="calendar"?this._renderOnCartesianAndCalendar(l,c,0,l.getData().count()):o(d)&&this._renderOnGeo(d,l,f,c)},incrementalPrepareRender:function(l,u,c){this.group.removeAll()},incrementalRender:function(l,u,c,f){var d=u.coordinateSystem;d&&this._renderOnCartesianAndCalendar(u,f,l.start,l.end,!0)},_renderOnCartesianAndCalendar:function(l,u,c,f,d){var h=l.coordinateSystem,v,m;if(h.type==="cartesian2d"){var p=h.getAxis("x"),g=h.getAxis("y");v=p.getBandWidth(),m=g.getBandWidth()}for(var y=this.group,x=l.getData(),b="itemStyle",A="emphasis.itemStyle",S="label",_="emphasis.label",w=l.getModel(b).getItemStyle(["color"]),C=l.getModel(A).getItemStyle(),M=l.getModel(S),T=l.getModel(_),E=h.type,P=E==="cartesian2d"?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],R=c;R<f;R++){var I;if(E==="cartesian2d"){if(isNaN(x.get(P[2],R)))continue;var D=h.dataToPoint([x.get(P[0],R),x.get(P[1],R)]);I=new t.Rect({shape:{x:Math.floor(Math.round(D[0])-v/2),y:Math.floor(Math.round(D[1])-m/2),width:Math.ceil(v),height:Math.ceil(m)},style:{fill:x.getItemVisual(R,"color"),opacity:x.getItemVisual(R,"opacity")}})}else{if(isNaN(x.get(P[1],R)))continue;I=new t.Rect({z2:1,shape:h.dataToRect([x.get(P[0],R)]).contentShape,style:{fill:x.getItemVisual(R,"color"),opacity:x.getItemVisual(R,"opacity")}})}var B=x.getItemModel(R);x.hasItemOption&&(w=B.getModel(b).getItemStyle(["color"]),C=B.getModel(A).getItemStyle(),M=B.getModel(S),T=B.getModel(_));var F=l.getRawValue(R),G="-";F&&F[2]!=null&&(G=F[2]),t.setLabelStyle(w,C,M,T,{labelFetcher:l,labelDataIndex:R,defaultText:G,isRectText:!0}),I.setStyle(w),t.setHoverStyle(I,x.hasItemOption?C:r.extend({},C)),I.incremental=d,d&&(I.useHoverLayer=!0),y.add(I),x.setItemGraphicEl(R,I)}},_renderOnGeo:function(l,u,c,f){var d=c.targetVisuals.inRange,h=c.targetVisuals.outOfRange,v=u.getData(),m=this._hmLayer||this._hmLayer||new n;m.blurSize=u.get("blurSize"),m.pointSize=u.get("pointSize"),m.minOpacity=u.get("minOpacity"),m.maxOpacity=u.get("maxOpacity");var p=l.getViewRect().clone(),g=l.getRoamTransform();p.applyTransform(g);var y=Math.max(p.x,0),x=Math.max(p.y,0),b=Math.min(p.width+p.x,f.getWidth()),A=Math.min(p.height+p.y,f.getHeight()),S=b-y,_=A-x,w=[v.mapDimension("lng"),v.mapDimension("lat"),v.mapDimension("value")],C=v.mapArray(w,function(P,R,I){var D=l.dataToPoint([P,R]);return D[0]-=y,D[1]-=x,D.push(I),D}),M=c.getExtent(),T=c.type==="visualMap.continuous"?i(M,c.option.range):a(M,c.getPieceList(),c.option.selected);m.update(C,S,_,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:h.color.getColorMapper()},T);var E=new t.Image({style:{width:S,height:_,x:y,y:x,image:m.canvas},silent:!0});this.group.add(E)},dispose:function(){}});return e_=s,e_}var e3;function bye(){return e3||(e3=1,mye(),xye()),KB}var t3={},t_,n3;function Sye(){if(n3)return t_;n3=1;var e=$W(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(r){return r.stack=null,t.superApply(this,"getInitialData",arguments)}}),n=t;return t_=n,t_}var n_,r3;function _ye(){if(r3)return n_;r3=1;var e=et,t=de,n=$e,r=li(),a=r.createSymbol,i=Rt(),o=i.parsePercent,s=i.isNumeric,l=GW(),u=l.setLabel,c=["itemStyle","borderWidth"],f=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],d=new n.Circle,h=e.extendChartView({type:"pictorialBar",render:function(U,$,k){var V=this.group,L=U.getData(),O=this._data,H=U.coordinateSystem,j=H.getBaseAxis(),Y=!!j.isHorizontal(),X=H.grid.getRect(),Q={ecSize:{width:k.getWidth(),height:k.getHeight()},seriesModel:U,coordSys:H,coordSysExtent:[[X.x,X.x+X.width],[X.y,X.y+X.height]],isHorizontal:Y,valueDim:f[+Y],categoryDim:f[1-Y]};return L.diff(O).add(function(K){if(L.hasValue(K)){var Z=C(L,K),te=v(L,K,Z,Q),oe=P(L,Q,te);L.setItemGraphicEl(K,oe),V.add(oe),G(oe,Q,te)}}).update(function(K,Z){var te=O.getItemGraphicEl(Z);if(!L.hasValue(K)){V.remove(te);return}var oe=C(L,K),ue=v(L,K,oe,Q),se=D(L,ue);te&&se!==te.__pictorialShapeStr&&(V.remove(te),L.setItemGraphicEl(K,null),te=null),te?R(te,Q,ue):te=P(L,Q,ue,!0),L.setItemGraphicEl(K,te),te.__pictorialSymbolMeta=ue,V.add(te),G(te,Q,ue)}).remove(function(K){var Z=O.getItemGraphicEl(K);Z&&I(O,K,Z.__pictorialSymbolMeta.animationModel,Z)}).execute(),this._data=L,this.group},dispose:t.noop,remove:function(U,$){var k=this.group,V=this._data;U.get("animation")?V&&V.eachItemGraphicEl(function(L){I(V,L.dataIndex,U,L)}):k.removeAll()}});function v(U,$,k,V){var L=U.getItemLayout($),O=k.get("symbolRepeat"),H=k.get("symbolClip"),j=k.get("symbolPosition")||"start",Y=k.get("symbolRotate"),X=(Y||0)*Math.PI/180||0,Q=k.get("symbolPatternSize")||2,K=k.isAnimationEnabled(),Z={dataIndex:$,layout:L,itemModel:k,symbolType:U.getItemVisual($,"symbol")||"circle",color:U.getItemVisual($,"color"),symbolClip:H,symbolRepeat:O,symbolRepeatDirection:k.get("symbolRepeatDirection"),symbolPatternSize:Q,rotation:X,animationModel:K?k:null,hoverAnimation:K&&k.get("hoverAnimation"),z2:k.getShallow("z",!0)||0};m(k,O,L,V,Z),g(U,$,L,O,H,Z.boundingLength,Z.pxSign,Q,V,Z),y(k,Z.symbolScale,X,V,Z);var te=Z.symbolSize,oe=k.get("symbolOffset");return t.isArray(oe)&&(oe=[o(oe[0],te[0]),o(oe[1],te[1])]),x(k,te,L,O,H,oe,j,Z.valueLineWidth,Z.boundingLength,Z.repeatCutLength,V,Z),Z}function m(U,$,k,V,L){var O=V.valueDim,H=U.get("symbolBoundingData"),j=V.coordSys.getOtherAxis(V.coordSys.getBaseAxis()),Y=j.toGlobalCoord(j.dataToCoord(0)),X=1-+(k[O.wh]<=0),Q;if(t.isArray(H)){var K=[p(j,H[0])-Y,p(j,H[1])-Y];K[1]<K[0]&&K.reverse(),Q=K[X]}else H!=null?Q=p(j,H)-Y:$?Q=V.coordSysExtent[O.index][X]-Y:Q=k[O.wh];L.boundingLength=Q,$&&(L.repeatCutLength=k[O.wh]),L.pxSign=Q>0?1:Q<0?-1:0}function p(U,$){return U.toGlobalCoord(U.dataToCoord(U.scale.parse($)))}function g(U,$,k,V,L,O,H,j,Y,X){var Q=Y.valueDim,K=Y.categoryDim,Z=Math.abs(k[K.wh]),te=U.getItemVisual($,"symbolSize");t.isArray(te)?te=te.slice():(te==null&&(te="100%"),te=[te,te]),te[K.index]=o(te[K.index],Z),te[Q.index]=o(te[Q.index],V?Z:Math.abs(O)),X.symbolSize=te;var oe=X.symbolScale=[te[0]/j,te[1]/j];oe[Q.index]*=(Y.isHorizontal?-1:1)*H}function y(U,$,k,V,L){var O=U.get(c)||0;O&&(d.attr({scale:$.slice(),rotation:k}),d.updateTransform(),O/=d.getLineScale(),O*=$[V.valueDim.index]),L.valueLineWidth=O}function x(U,$,k,V,L,O,H,j,Y,X,Q,K){var Z=Q.categoryDim,te=Q.valueDim,oe=K.pxSign,ue=Math.max($[te.index]+j,0),se=ue;if(V){var me=Math.abs(Y),re=t.retrieve(U.get("symbolMargin"),"15%")+"",q=!1;re.lastIndexOf("!")===re.length-1&&(q=!0,re=re.slice(0,re.length-1)),re=o(re,$[te.index]);var ae=Math.max(ue+re*2,0),ce=q?0:re*2,ee=s(V),ne=ee?V:z((me+ce)/ae),le=me-ne*ue;re=le/2/(q?ne:ne-1),ae=ue+re*2,ce=q?0:re*2,!ee&&V!=="fixed"&&(ne=X?z((Math.abs(X)+ce)/ae):0),se=ne*ae-ce,K.repeatTimes=ne,K.symbolMargin=re}var he=oe*(se/2),pe=K.pathPosition=[];pe[Z.index]=k[Z.wh]/2,pe[te.index]=H==="start"?he:H==="end"?Y-he:Y/2,O&&(pe[0]+=O[0],pe[1]+=O[1]);var ye=K.bundlePosition=[];ye[Z.index]=k[Z.xy],ye[te.index]=k[te.xy];var ge=K.barRectShape=t.extend({},k);ge[te.wh]=oe*Math.max(Math.abs(k[te.wh]),Math.abs(pe[te.index]+he)),ge[Z.wh]=k[Z.wh];var Ce=K.clipShape={};Ce[Z.xy]=-k[Z.xy],Ce[Z.wh]=Q.ecSize[Z.wh],Ce[te.xy]=0,Ce[te.wh]=k[te.wh]}function b(U){var $=U.symbolPatternSize,k=a(U.symbolType,-$/2,-$/2,$,$,U.color);return k.attr({culling:!0}),k.type!=="image"&&k.setStyle({strokeNoScale:!0}),k}function A(U,$,k,V){var L=U.__pictorialBundle,O=k.symbolSize,H=k.valueLineWidth,j=k.pathPosition,Y=$.valueDim,X=k.repeatTimes||0,Q=0,K=O[$.valueDim.index]+H+k.symbolMargin*2;for(B(U,function(me){me.__pictorialAnimationIndex=Q,me.__pictorialRepeatTimes=X,Q<X?F(me,null,oe(Q),k,V):F(me,null,{scale:[0,0]},k,V,function(){L.remove(me)}),E(me,k),Q++});Q<X;Q++){var Z=b(k);Z.__pictorialAnimationIndex=Q,Z.__pictorialRepeatTimes=X,L.add(Z);var te=oe(Q);F(Z,{position:te.position,scale:[0,0]},{scale:te.scale,rotation:te.rotation},k,V),Z.on("mouseover",ue).on("mouseout",se),E(Z,k)}function oe(me){var re=j.slice(),q=k.pxSign,ae=me;return(k.symbolRepeatDirection==="start"?q>0:q<0)&&(ae=X-1-me),re[Y.index]=K*(ae-X/2+.5)+j[Y.index],{position:re,scale:k.symbolScale.slice(),rotation:k.rotation}}function ue(){B(U,function(me){me.trigger("emphasis")})}function se(){B(U,function(me){me.trigger("normal")})}}function S(U,$,k,V){var L=U.__pictorialBundle,O=U.__pictorialMainPath;O?F(O,null,{position:k.pathPosition.slice(),scale:k.symbolScale.slice(),rotation:k.rotation},k,V):(O=U.__pictorialMainPath=b(k),L.add(O),F(O,{position:k.pathPosition.slice(),scale:[0,0],rotation:k.rotation},{scale:k.symbolScale.slice()},k,V),O.on("mouseover",H).on("mouseout",j)),E(O,k);function H(){this.trigger("emphasis")}function j(){this.trigger("normal")}}function _(U,$,k){var V=t.extend({},$.barRectShape),L=U.__pictorialBarRect;L?F(L,null,{shape:V},$,k):(L=U.__pictorialBarRect=new n.Rect({z2:2,shape:V,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),U.add(L))}function w(U,$,k,V){if(k.symbolClip){var L=U.__pictorialClipPath,O=t.extend({},k.clipShape),H=$.valueDim,j=k.animationModel,Y=k.dataIndex;if(L)n.updateProps(L,{shape:O},j,Y);else{O[H.wh]=0,L=new n.Rect({shape:O}),U.__pictorialBundle.setClipPath(L),U.__pictorialClipPath=L;var X={};X[H.wh]=k.clipShape[H.wh],n[V?"updateProps":"initProps"](L,{shape:X},j,Y)}}}function C(U,$){var k=U.getItemModel($);return k.getAnimationDelayParams=M,k.isAnimationEnabled=T,k}function M(U){return{index:U.__pictorialAnimationIndex,count:U.__pictorialRepeatTimes}}function T(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function E(U,$){U.off("emphasis").off("normal");var k=$.symbolScale.slice();$.hoverAnimation&&U.on("emphasis",function(){this.animateTo({scale:[k[0]*1.1,k[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:k.slice()},400,"elasticOut")})}function P(U,$,k,V){var L=new n.Group,O=new n.Group;return L.add(O),L.__pictorialBundle=O,O.attr("position",k.bundlePosition.slice()),k.symbolRepeat?A(L,$,k):S(L,$,k),_(L,k,V),w(L,$,k,V),L.__pictorialShapeStr=D(U,k),L.__pictorialSymbolMeta=k,L}function R(U,$,k){var V=k.animationModel,L=k.dataIndex,O=U.__pictorialBundle;n.updateProps(O,{position:k.bundlePosition.slice()},V,L),k.symbolRepeat?A(U,$,k,!0):S(U,$,k,!0),_(U,k,!0),w(U,$,k,!0)}function I(U,$,k,V){var L=V.__pictorialBarRect;L&&(L.style.text=null);var O=[];B(V,function(H){O.push(H)}),V.__pictorialMainPath&&O.push(V.__pictorialMainPath),V.__pictorialClipPath&&(k=null),t.each(O,function(H){n.updateProps(H,{scale:[0,0]},k,$,function(){V.parent&&V.parent.remove(V)})}),U.setItemGraphicEl($,null)}function D(U,$){return[U.getItemVisual($.dataIndex,"symbol")||"none",!!$.symbolRepeat,!!$.symbolClip].join(":")}function B(U,$,k){t.each(U.__pictorialBundle.children(),function(V){V!==U.__pictorialBarRect&&$.call(k,V)})}function F(U,$,k,V,L,O){$&&U.attr($),V.symbolClip&&!L?k&&U.attr(k):k&&n[L?"updateProps":"initProps"](U,k,V.animationModel,V.dataIndex,O)}function G(U,$,k){var V=k.color,L=k.dataIndex,O=k.itemModel,H=O.getModel("itemStyle").getItemStyle(["color"]),j=O.getModel("emphasis.itemStyle").getItemStyle(),Y=O.getShallow("cursor");B(U,function(Z){Z.setColor(V),Z.setStyle(t.defaults({fill:V,opacity:k.opacity},H)),n.setHoverStyle(Z,j),Y&&(Z.cursor=Y),Z.z2=k.z2});var X={},Q=$.valueDim.posDesc[+(k.boundingLength>0)],K=U.__pictorialBarRect;u(K.style,X,O,V,$.seriesModel,L,Q),n.setHoverStyle(K,X)}function z(U){var $=Math.round(U);return Math.abs(U-$)<1e-4?$:Math.ceil(U)}var N=h;return n_=N,n_}var a3;function Aye(){if(a3)return t3;a3=1;var e=et,t=de;hP(),Sye(),_ye();var n=Gy(),r=n.layout,a=Mu();return Mv(),e.registerLayout(t.curry(r,"pictorialBar")),e.registerVisual(a("pictorialBar","roundRect")),t3}var i3={},o3={},s3={},r_,l3;function wye(){if(l3)return r_;l3=1;var e=de,t=cl(),n=function(a,i,o,s,l){t.call(this,a,i,o),this.type=s||"value",this.position=l||"bottom",this.orient=null};n.prototype={constructor:n,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},pointToData:function(a,i){return this.coordinateSystem.pointToData(a,i)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(n,t);var r=n;return r_=r,r_}var a_,u3;function Cye(){if(u3)return a_;u3=1;var e=wye(),t=Fi(),n=$t,r=n.getLayoutRect,a=de,i=a.each;function o(l,u,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(l,u,c),this.model=l}o.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:o,_init:function(l,u,c){var f=this.dimension,d=new e(f,t.createScaleByModel(l),[0,0],l.get("type"),l.get("position")),h=d.type==="category";d.onBand=h&&l.get("boundaryGap"),d.inverse=l.get("inverse"),d.orient=l.get("orient"),l.axis=d,d.model=l,d.coordinateSystem=this,this._axis=d},update:function(l,u){l.eachSeries(function(c){if(c.coordinateSystem===this){var f=c.getData();i(f.mapDimension(this.dimension,!0),function(d){this._axis.scale.unionExtentFromData(f,d)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(l,u){this._rect=r({left:l.get("left"),top:l.get("top"),right:l.get("right"),bottom:l.get("bottom"),width:l.get("width"),height:l.get("height")},{width:u.getWidth(),height:u.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var l=this._rect,u=this._axis,c=u.isHorizontal(),f=c?[0,l.width]:[0,l.height],d=u.reverse?1:0;u.setExtent(f[d],f[1-d]),this._updateAxisTransform(u,c?l.x:l.y)},_updateAxisTransform:function(l,u){var c=l.getExtent(),f=c[0]+c[1],d=l.isHorizontal();l.toGlobalCoord=d?function(h){return h+u}:function(h){return f-h+u},l.toLocalCoord=d?function(h){return h-u}:function(h){return f-h+u}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(l){var u=this.getRect(),c=this.getAxis(),f=c.orient;return f==="horizontal"?c.contain(c.toLocalCoord(l[0]))&&l[1]>=u.y&&l[1]<=u.y+u.height:c.contain(c.toLocalCoord(l[1]))&&l[0]>=u.y&&l[0]<=u.y+u.height},pointToData:function(l){var u=this.getAxis();return[u.coordToData(u.toLocalCoord(l[u.orient==="horizontal"?0:1]))]},dataToPoint:function(l){var u=this.getAxis(),c=this.getRect(),f=[],d=u.orient==="horizontal"?0:1;return l instanceof Array&&(l=l[0]),f[d]=u.toGlobalCoord(u.dataToCoord(+l)),f[1-d]=d===0?c.y+c.height/2:c.x+c.width/2,f}};var s=o;return a_=s,a_}var c3;function Mye(){if(c3)return s3;c3=1;var e=Cye(),t=So;function n(r,a){var i=[];return r.eachComponent("singleAxis",function(o,s){var l=new e(o,r,a);l.name="single_"+s,l.resize(o,a),o.coordinateSystem=l,i.push(l)}),r.eachSeries(function(o){if(o.get("coordinateSystem")==="singleAxis"){var s=r.queryComponents({mainType:"singleAxis",index:o.get("singleAxisIndex"),id:o.get("singleAxisId")})[0];o.coordinateSystem=s&&s.coordinateSystem}}),i}return t.register("single",{create:n,dimensions:e.prototype.dimensions}),s3}var i_={},f3;function l9(){if(f3)return i_;f3=1;var e=de;function t(n,r){r=r||{};var a=n.coordinateSystem,i=n.axis,o={},s=i.position,l=i.orient,u=a.getRect(),c=[u.x,u.x+u.width,u.y,u.y+u.height],f={horizontal:{top:c[2],bottom:c[3]},vertical:{left:c[0],right:c[1]}};o.position=[l==="vertical"?f.vertical[s]:c[0],l==="horizontal"?f.horizontal[s]:c[3]];var d={horizontal:0,vertical:1};o.rotation=Math.PI/2*d[l];var h={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=h[s],n.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),e.retrieve(r.labelInside,n.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var v=r.rotate;return v==null&&(v=n.get("axisLabel.rotate")),o.labelRotation=s==="top"?-v:v,o.z2=1,o}return i_.layout=t,i_}var o_,d3;function Tye(){if(d3)return o_;d3=1;var e=de,t=fl(),n=$e,r=l9(),a=Tu(),i=HW(),o=i.rectCoordAxisBuildSplitArea,s=i.rectCoordAxisHandleRemove,l=["axisLine","axisTickLabel","axisName"],u=["splitArea","splitLine"],c=a.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(d,h,v,m){var p=this.group;p.removeAll();var g=this._axisGroup;this._axisGroup=new n.Group;var y=r.layout(d),x=new t(d,y);e.each(l,x.add,x),p.add(this._axisGroup),p.add(x.getGroup()),e.each(u,function(b){d.get(b+".show")&&this["_"+b](d)},this),n.groupTransition(g,this._axisGroup,d),c.superCall(this,"render",d,h,v,m)},remove:function(){s(this)},_splitLine:function(d){var h=d.axis;if(!h.scale.isBlank()){var v=d.getModel("splitLine"),m=v.getModel("lineStyle"),p=m.get("width"),g=m.get("color");g=g instanceof Array?g:[g];for(var y=d.coordinateSystem.getRect(),x=h.isHorizontal(),b=[],A=0,S=h.getTicksCoords({tickModel:v}),_=[],w=[],C=0;C<S.length;++C){var M=h.toGlobalCoord(S[C].coord);x?(_[0]=M,_[1]=y.y,w[0]=M,w[1]=y.y+y.height):(_[0]=y.x,_[1]=M,w[0]=y.x+y.width,w[1]=M);var T=A++%g.length;b[T]=b[T]||[],b[T].push(new n.Line({subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:w[0],y2:w[1]},style:{lineWidth:p},silent:!0}))}for(var C=0;C<b.length;++C)this.group.add(n.mergePath(b[C],{style:{stroke:g[C%g.length],lineDash:m.getLineDash(p),lineWidth:p},silent:!0}))}},_splitArea:function(d){o(this,this._axisGroup,d,d)}}),f=c;return o_=f,o_}var s_,h3;function Eye(){if(h3)return s_;h3=1;var e=de,t=yr,n=jy(),r=zf(),a=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),i={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function o(l,u){return u.type||(u.data?"category":"value")}e.merge(a.prototype,r),n("single",a,o,i);var s=a;return s_=s,s_}var v3={},l_,p3;function u9(){if(p3)return l_;p3=1;var e=de,t=bt;function n(r,a){var i=[],o=r.seriesIndex,s;if(o==null||!(s=a.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),u=t.queryDataIndex(l,r);if(u==null||u<0||e.isArray(u))return{point:[]};var c=l.getItemGraphicEl(u),f=s.coordinateSystem;if(s.getTooltipPosition)i=s.getTooltipPosition(u)||[];else if(f&&f.dataToPoint)i=f.dataToPoint(l.getValues(e.map(f.dimensions,function(h){return l.mapDimension(h)}),u,!0))||[];else if(c){var d=c.getBoundingRect().clone();d.applyTransform(c.transform),i=[d.x+d.width/2,d.y+d.height/2]}return{point:i,el:c}}return l_=n,l_}var u_,g3;function Pye(){if(g3)return u_;g3=1;var e=de,t=bt,n=t.makeInner,r=Yy(),a=u9(),i=e.each,o=e.curry,s=n();function l(x,b,A){var S=x.currTrigger,_=[x.x,x.y],w=x,C=x.dispatchAction||e.bind(A.dispatchAction,A),M=b.getComponent("axisPointer").coordSysAxesInfo;if(M){y(_)&&(_=a({seriesIndex:w.seriesIndex,dataIndex:w.dataIndex},b).point);var T=y(_),E=w.axesInfo,P=M.axesInfo,R=S==="leave"||y(_),I={},D={},B={list:[],map:{}},F={showPointer:o(f,D),showTooltip:o(d,B)};i(M.coordSysMap,function(z,N){var U=T||z.containPoint(_);i(M.coordSysAxesInfo[N],function($,k){var V=$.axis,L=p(E,$);if(!R&&U&&(!E||L)){var O=L&&L.value;O==null&&!T&&(O=V.pointToData(_)),O!=null&&u($,O,F,!1,I)}})});var G={};return i(P,function(z,N){var U=z.linkGroup;U&&!D[N]&&i(U.axesInfo,function($,k){var V=D[k];if($!==z&&V){var L=V.value;U.mapper&&(L=z.axis.scale.parse(U.mapper(L,g($),g(z)))),G[z.key]=L}})}),i(G,function(z,N){u(P[N],z,F,!0,I)}),h(D,P,I),v(B,_,x,C),m(P,C,A),I}}function u(x,b,A,S,_){var w=x.axis;if(!(w.scale.isBlank()||!w.containData(b))){if(!x.involveSeries){A.showPointer(x,b);return}var C=c(b,x),M=C.payloadBatch,T=C.snapToValue;M[0]&&_.seriesIndex==null&&e.extend(_,M[0]),!S&&x.snap&&w.containData(T)&&T!=null&&(b=T),A.showPointer(x,b,M,_),A.showTooltip(x,C,T)}}function c(x,b){var A=b.axis,S=A.dim,_=x,w=[],C=Number.MAX_VALUE,M=-1;return i(b.seriesModels,function(T,E){var P=T.getData().mapDimension(S,!0),R,I;if(T.getAxisTooltipData){var D=T.getAxisTooltipData(P,x,A);I=D.dataIndices,R=D.nestestValue}else{if(I=T.getData().indicesOfNearest(P[0],x,A.type==="category"?.5:null),!I.length)return;R=T.getData().get(P[0],I[0])}if(!(R==null||!isFinite(R))){var B=x-R,F=Math.abs(B);F<=C&&((F<C||B>=0&&M<0)&&(C=F,M=B,_=R,w.length=0),i(I,function(G){w.push({seriesIndex:T.seriesIndex,dataIndexInside:G,dataIndex:T.getData().getRawIndex(G)})}))}}),{payloadBatch:w,snapToValue:_}}function f(x,b,A,S){x[b.key]={value:A,payloadBatch:S}}function d(x,b,A,S){var _=A.payloadBatch,w=b.axis,C=w.model,M=b.axisPointerModel;if(!(!b.triggerTooltip||!_.length)){var T=b.coordSys.model,E=r.makeKey(T),P=x.map[E];P||(P=x.map[E]={coordSysId:T.id,coordSysIndex:T.componentIndex,coordSysType:T.type,coordSysMainType:T.mainType,dataByAxis:[]},x.list.push(P)),P.dataByAxis.push({axisDim:w.dim,axisIndex:C.componentIndex,axisType:C.type,axisId:C.id,value:S,valueLabelOpt:{precision:M.get("label.precision"),formatter:M.get("label.formatter")},seriesDataIndices:_.slice()})}}function h(x,b,A){var S=A.axesInfo=[];i(b,function(_,w){var C=_.axisPointerModel.option,M=x[w];M?(!_.useHandle&&(C.status="show"),C.value=M.value,C.seriesDataIndices=(M.payloadBatch||[]).slice()):!_.useHandle&&(C.status="hide"),C.status==="show"&&S.push({axisDim:_.axis.dim,axisIndex:_.axis.model.componentIndex,value:C.value})})}function v(x,b,A,S){if(y(b)||!x.list.length){S({type:"hideTip"});return}var _=((x.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};S({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:A.tooltipOption,position:A.position,dataIndexInside:_.dataIndexInside,dataIndex:_.dataIndex,seriesIndex:_.seriesIndex,dataByCoordSys:x.list})}function m(x,b,A){var S=A.getZr(),_="axisPointerLastHighlights",w=s(S)[_]||{},C=s(S)[_]={};i(x,function(E,P){var R=E.axisPointerModel.option;R.status==="show"&&i(R.seriesDataIndices,function(I){var D=I.seriesIndex+" | "+I.dataIndex;C[D]=I})});var M=[],T=[];e.each(w,function(E,P){!C[P]&&T.push(E)}),e.each(C,function(E,P){!w[P]&&M.push(E)}),T.length&&A.dispatchAction({type:"downplay",escapeConnect:!0,batch:T}),M.length&&A.dispatchAction({type:"highlight",escapeConnect:!0,batch:M})}function p(x,b){for(var A=0;A<(x||[]).length;A++){var S=x[A];if(b.axis.dim===S.axisDim&&b.axis.model.componentIndex===S.axisIndex)return S}}function g(x){var b=x.axis.model,A={},S=A.axisDim=x.axis.dim;return A.axisIndex=A[S+"AxisIndex"]=b.componentIndex,A.axisName=A[S+"AxisName"]=b.name,A.axisId=A[S+"AxisId"]=b.id,A}function y(x){return!x||x[0]==null||isNaN(x[0])||x[1]==null||isNaN(x[1])}return u_=l,u_}var c_,m3;function Rye(){if(m3)return c_;m3=1;var e=et,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),n=t;return c_=n,c_}var Dp={},y3;function c9(){if(y3)return Dp;y3=1;var e=de,t=Qn,n=bt,r=n.makeInner,a=r(),i=e.each;function o(h,v,m){if(!t.node){var p=v.getZr();a(p).records||(a(p).records={}),s(p,v);var g=a(p).records[h]||(a(p).records[h]={});g.handler=m}}function s(h,v){if(a(h).initialized)return;a(h).initialized=!0,m("click",e.curry(c,"click")),m("mousemove",e.curry(c,"mousemove")),m("globalout",u);function m(p,g){h.on(p,function(y){var x=f(v);i(a(h).records,function(b){b&&g(b,y,x.dispatchAction)}),l(x.pendings,v)})}}function l(h,v){var m=h.showTip.length,p=h.hideTip.length,g;m?g=h.showTip[m-1]:p&&(g=h.hideTip[p-1]),g&&(g.dispatchAction=null,v.dispatchAction(g))}function u(h,v,m){h.handler("leave",null,m)}function c(h,v,m,p){v.handler(h,m,p)}function f(h){var v={showTip:[],hideTip:[]},m=function(p){var g=v[p.type];g?g.push(p):(p.dispatchAction=m,h.dispatchAction(p))};return{dispatchAction:m,pendings:v}}function d(h,v){if(!t.node){var m=v.getZr(),p=(a(m).records||{})[h];p&&(a(m).records[h]=null)}}return Dp.register=o,Dp.unregister=d,Dp}var f_,x3;function Iye(){if(x3)return f_;x3=1;var e=et,t=c9(),n=e.extendComponentView({type:"axisPointer",render:function(a,i,o){var s=i.getComponent("tooltip"),l=a.get("triggerOn")||s&&s.get("triggerOn")||"mousemove|click";t.register("axisPointer",o,function(u,c,f){l!=="none"&&(u==="leave"||l.indexOf(u)>=0)&&f({type:"updateAxisPointer",currTrigger:u,x:c&&c.offsetX,y:c&&c.offsetY})})},remove:function(a,i){t.unregister(i.getZr(),"axisPointer"),n.superApply(this._model,"remove",arguments)},dispose:function(a,i){t.unregister("axisPointer",i),n.superApply(this._model,"dispose",arguments)}}),r=n;return f_=r,f_}var d_,b3;function wP(){if(b3)return d_;b3=1;var e=de,t=ga,n=$e,r=Yy(),a=mr,i=Bi,o=bt,s=o.makeInner,l=s(),u=e.clone,c=e.bind;function f(){}f.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(y,x,b,A){var S=x.get("value"),_=x.get("status");if(this._axisModel=y,this._axisPointerModel=x,this._api=b,!(!A&&this._lastValue===S&&this._lastStatus===_)){this._lastValue=S,this._lastStatus=_;var w=this._group,C=this._handle;if(!_||_==="hide"){w&&w.hide(),C&&C.hide();return}w&&w.show(),C&&C.show();var M={};this.makeElOption(M,S,y,x,b);var T=M.graphicKey;T!==this._lastGraphicKey&&this.clear(b),this._lastGraphicKey=T;var E=this._moveAnimation=this.determineAnimation(y,x);if(!w)w=this._group=new n.Group,this.createPointerEl(w,M,y,x),this.createLabelEl(w,M,y,x),b.getZr().add(w);else{var P=e.curry(d,x,E);this.updatePointerEl(w,M,P,x),this.updateLabelEl(w,M,P,x)}p(w,x,!0),this._renderHandle(S)}},remove:function(y){this.clear(y)},dispose:function(y){this.clear(y)},determineAnimation:function(y,x){var b=x.get("animation"),A=y.axis,S=A.type==="category",_=x.get("snap");if(!_&&!S)return!1;if(b==="auto"||b==null){var w=this.animationThreshold;if(S&&A.getBandWidth()>w)return!0;if(_){var C=r.getAxisInfo(y).seriesDataCount,M=A.getExtent();return Math.abs(M[0]-M[1])/C>w}return!1}return b===!0},makeElOption:function(y,x,b,A,S){},createPointerEl:function(y,x,b,A){var S=x.pointer;if(S){var _=l(y).pointerEl=new n[S.type](u(x.pointer));y.add(_)}},createLabelEl:function(y,x,b,A){if(x.label){var S=l(y).labelEl=new n.Rect(u(x.label));y.add(S),v(S,A)}},updatePointerEl:function(y,x,b){var A=l(y).pointerEl;A&&x.pointer&&(A.setStyle(x.pointer.style),b(A,{shape:x.pointer.shape}))},updateLabelEl:function(y,x,b,A){var S=l(y).labelEl;S&&(S.setStyle(x.label.style),b(S,{shape:x.label.shape,position:x.label.position}),v(S,A))},_renderHandle:function(y){if(!(this._dragging||!this.updateHandleTransform)){var x=this._axisPointerModel,b=this._api.getZr(),A=this._handle,S=x.getModel("handle"),_=x.get("status");if(!S.get("show")||!_||_==="hide"){A&&b.remove(A),this._handle=null;return}var w;this._handle||(w=!0,A=this._handle=n.createIcon(S.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(T){a.stop(T.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),b.add(A)),p(A,x,!1);var C=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];A.setStyle(S.getItemStyle(null,C));var M=S.get("size");e.isArray(M)||(M=[M,M]),A.attr("scale",[M[0]/2,M[1]/2]),i.createOrUpdate(this,"_doDispatchAxisPointer",S.get("throttle")||0,"fixRate"),this._moveHandleToValue(y,w)}},_moveHandleToValue:function(y,x){d(this._axisPointerModel,!x&&this._moveAnimation,this._handle,m(this.getHandleTransform(y,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(y,x){var b=this._handle;if(b){this._dragging=!0;var A=this.updateHandleTransform(m(b),[y,x],this._axisModel,this._axisPointerModel);this._payloadInfo=A,b.stopAnimation(),b.attr(m(A)),l(b).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var y=this._handle;if(y){var x=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:x.cursorPoint[0],y:x.cursorPoint[1],tooltipOption:x.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(y){this._dragging=!1;var x=this._handle;if(x){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(y){this._lastValue=null,this._lastStatus=null;var x=y.getZr(),b=this._group,A=this._handle;x&&b&&(this._lastGraphicKey=null,b&&x.remove(b),A&&x.remove(A),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(y,x,b){return b=b||0,{x:y[b],y:y[1-b],width:x[b],height:x[1-b]}}},f.prototype.constructor=f;function d(y,x,b,A){h(l(b).lastProp,A)||(l(b).lastProp=A,x?n.updateProps(b,A,y):(b.stopAnimation(),b.attr(A)))}function h(y,x){if(e.isObject(y)&&e.isObject(x)){var b=!0;return e.each(x,function(A,S){b=b&&h(y[S],A)}),!!b}else return y===x}function v(y,x){y[x.get("label.show")?"show":"hide"]()}function m(y){return{position:y.position.slice(),rotation:y.rotation||0}}function p(y,x,b){var A=x.get("z"),S=x.get("zlevel");y&&y.traverse(function(_){_.type!=="group"&&(A!=null&&(_.z=A),S!=null&&(_.zlevel=S),_.silent=b)})}t.enableClassExtend(f);var g=f;return d_=g,d_}var Wi={},S3;function Qy(){if(S3)return Wi;S3=1;var e=de,t=$e,n=wn,r=Gt,a=Vn,i=Fi(),o=fl();function s(p){var g=p.get("type"),y=p.getModel(g+"Style"),x;return g==="line"?(x=y.getLineStyle(),x.fill=null):g==="shadow"&&(x=y.getAreaStyle(),x.stroke=null),x}function l(p,g,y,x,b){var A=y.get("value"),S=c(A,g.axis,g.ecModel,y.get("seriesDataIndices"),{precision:y.get("label.precision"),formatter:y.get("label.formatter")}),_=y.getModel("label"),w=r.normalizeCssArray(_.get("padding")||0),C=_.getFont(),M=n.getBoundingRect(S,C),T=b.position,E=M.width+w[1]+w[3],P=M.height+w[0]+w[2],R=b.align;R==="right"&&(T[0]-=E),R==="center"&&(T[0]-=E/2);var I=b.verticalAlign;I==="bottom"&&(T[1]-=P),I==="middle"&&(T[1]-=P/2),u(T,E,P,x);var D=_.get("backgroundColor");(!D||D==="auto")&&(D=g.get("axisLine.lineStyle.color")),p.label={shape:{x:0,y:0,width:E,height:P,r:_.get("borderRadius")},position:T.slice(),style:{text:S,textFont:C,textFill:_.getTextColor(),textPosition:"inside",textPadding:w,fill:D,stroke:_.get("borderColor")||"transparent",lineWidth:_.get("borderWidth")||0,shadowBlur:_.get("shadowBlur"),shadowColor:_.get("shadowColor"),shadowOffsetX:_.get("shadowOffsetX"),shadowOffsetY:_.get("shadowOffsetY")},z2:10}}function u(p,g,y,x){var b=x.getWidth(),A=x.getHeight();p[0]=Math.min(p[0]+g,b)-g,p[1]=Math.min(p[1]+y,A)-y,p[0]=Math.max(p[0],0),p[1]=Math.max(p[1],0)}function c(p,g,y,x,b){p=g.scale.parse(p);var A=g.scale.getLabel(p,{precision:b.precision}),S=b.formatter;if(S){var _={value:i.getAxisRawValue(g,p),axisDimension:g.dim,axisIndex:g.index,seriesData:[]};e.each(x,function(w){var C=y.getSeriesByIndex(w.seriesIndex),M=w.dataIndexInside,T=C&&C.getDataParams(M);T&&_.seriesData.push(T)}),e.isString(S)?A=S.replace("{value}",A):e.isFunction(S)&&(A=S(_))}return A}function f(p,g,y){var x=a.create();return a.rotate(x,x,y.rotation),a.translate(x,x,y.position),t.applyTransform([p.dataToCoord(g),(y.labelOffset||0)+(y.labelDirection||1)*(y.labelMargin||0)],x)}function d(p,g,y,x,b,A){var S=o.innerTextLayout(y.rotation,0,y.labelDirection);y.labelMargin=b.get("label.margin"),l(g,x,b,A,{position:f(x.axis,p,y),align:S.textAlign,verticalAlign:S.textVerticalAlign})}function h(p,g,y){return y=y||0,{x1:p[y],y1:p[1-y],x2:g[y],y2:g[1-y]}}function v(p,g,y){return y=y||0,{x:p[y],y:p[1-y],width:g[y],height:g[1-y]}}function m(p,g,y,x,b,A){return{cx:p,cy:g,r0:y,r:x,startAngle:b,endAngle:A,clockwise:!0}}return Wi.buildElStyle=s,Wi.buildLabelElOption=l,Wi.getValueLabel=c,Wi.getTransformedPosition=f,Wi.buildCartesianSingleLabelElOption=d,Wi.makeLineShape=h,Wi.makeRectShape=v,Wi.makeSectorShape=m,Wi}var h_,_3;function f9(){if(_3)return h_;_3=1;var e=wP(),t=Qy(),n=UW(),r=Tu(),a=e.extend({makeElOption:function(u,c,f,d,h){var v=f.axis,m=v.grid,p=d.get("type"),g=i(m,v).getOtherAxis(v).getGlobalExtent(),y=v.toGlobalCoord(v.dataToCoord(c,!0));if(p&&p!=="none"){var x=t.buildElStyle(d),b=o[p](v,y,g);b.style=x,u.graphicKey=b.type,u.pointer=b}var A=n.layout(m.model,f);t.buildCartesianSingleLabelElOption(c,u,A,f,d,h)},getHandleTransform:function(u,c,f){var d=n.layout(c.axis.grid.model,c,{labelInside:!1});return d.labelMargin=f.get("handle.margin"),{position:t.getTransformedPosition(c.axis,u,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(u,c,f,d){var h=f.axis,v=h.grid,m=h.getGlobalExtent(!0),p=i(v,h).getOtherAxis(h).getGlobalExtent(),g=h.dim==="x"?0:1,y=u.position;y[g]+=c[g],y[g]=Math.min(m[1],y[g]),y[g]=Math.max(m[0],y[g]);var x=(p[1]+p[0])/2,b=[x,x];b[g]=y[g];var A=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:u.rotation,cursorPoint:b,tooltipOption:A[g]}}});function i(u,c){var f={};return f[c.dim+"AxisIndex"]=c.index,u.getCartesian(f)}var o={line:function(u,c,f){var d=t.makeLineShape([c,f[0]],[c,f[1]],s(u));return{type:"Line",subPixelOptimize:!0,shape:d}},shadow:function(u,c,f){var d=Math.max(1,u.getBandWidth()),h=f[1]-f[0];return{type:"Rect",shape:t.makeRectShape([c-d/2,f[0]],[d,h],s(u))}}};function s(u){return u.dim==="x"?0:1}r.registerAxisPointerClass("CartesianAxisPointer",a);var l=a;return h_=l,h_}var A3;function Rv(){if(A3)return v3;A3=1;var e=et,t=de,n=Yy(),r=Pye();return Rye(),Iye(),f9(),e.registerPreprocessor(function(a){if(a){(!a.axisPointer||a.axisPointer.length===0)&&(a.axisPointer={});var i=a.axisPointer.link;i&&!t.isArray(i)&&(a.axisPointer.link=[i])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(a,i){a.getComponent("axisPointer").coordSysAxesInfo=n.collect(a,i)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r),v3}var v_,w3;function Dye(){if(w3)return v_;w3=1;var e=wP(),t=Qy(),n=l9(),r=Tu(),a=["x","y"],i=["width","height"],o=e.extend({makeElOption:function(f,d,h,v,m){var p=h.axis,g=p.coordinateSystem,y=u(g,1-l(p)),x=g.dataToPoint(d)[0],b=v.get("type");if(b&&b!=="none"){var A=t.buildElStyle(v),S=s[b](p,x,y);S.style=A,f.graphicKey=S.type,f.pointer=S}var _=n.layout(h);t.buildCartesianSingleLabelElOption(d,f,_,h,v,m)},getHandleTransform:function(f,d,h){var v=n.layout(d,{labelInside:!1});return v.labelMargin=h.get("handle.margin"),{position:t.getTransformedPosition(d.axis,f,v),rotation:v.rotation+(v.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(f,d,h,v){var m=h.axis,p=m.coordinateSystem,g=l(m),y=u(p,g),x=f.position;x[g]+=d[g],x[g]=Math.min(y[1],x[g]),x[g]=Math.max(y[0],x[g]);var b=u(p,1-g),A=(b[1]+b[0])/2,S=[A,A];return S[g]=x[g],{position:x,rotation:f.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}}}),s={line:function(f,d,h){var v=t.makeLineShape([d,h[0]],[d,h[1]],l(f));return{type:"Line",subPixelOptimize:!0,shape:v}},shadow:function(f,d,h){var v=f.getBandWidth(),m=h[1]-h[0];return{type:"Rect",shape:t.makeRectShape([d-v/2,h[0]],[v,m],l(f))}}};function l(f){return f.isHorizontal()?0:1}function u(f,d){var h=f.getRect();return[h[a[d]],h[a[d]]+h[i[d]]]}r.registerAxisPointerClass("SingleAxisPointer",o);var c=o;return v_=c,v_}var C3;function d9(){if(C3)return o3;C3=1;var e=et;return Mye(),Tye(),Eye(),Rv(),Dye(),e.extendComponentView({type:"single"}),o3}var p_,M3;function Lye(){if(M3)return p_;M3=1;var e=xr,t=Vf(),n=_v(),r=n.getDimensionTypeByAxis,a=si(),i=de,o=bt,s=o.groupData,l=Gt,u=l.encodeHTML,c=Tv(),f=2,d=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(v){d.superApply(this,"init",arguments),this.legendVisualProvider=new c(i.bind(this.getData,this),i.bind(this.getRawData,this))},fixData:function(v){var m=v.length,p={},g=s(v,function(w){return p.hasOwnProperty(w[0])||(p[w[0]]=-1),w[2]}),y=[];g.buckets.each(function(w,C){y.push({name:C,dataList:w})});for(var x=y.length,b=0;b<x;++b){for(var A=y[b].name,S=0;S<y[b].dataList.length;++S){var _=y[b].dataList[S][0];p[_]=b}for(var _ in p)p.hasOwnProperty(_)&&p[_]!==b&&(p[_]=b,v[m]=[],v[m][0]=_,v[m][1]=0,v[m][2]=A,m++)}return v},getInitialData:function(v,m){for(var p=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],g=p.get("type"),y=i.filter(v.data,function(M){return M[2]!==void 0}),x=this.fixData(y||[]),b=[],A=this.nameMap=i.createHashMap(),S=0,_=0;_<x.length;++_)b.push(x[_][f]),A.get(x[_][f])||(A.set(x[_][f],S),S++);var w=t(x,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(g)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),C=new a(w,this);return C.initData(x),C},getLayerSeries:function(){for(var v=this.getData(),m=v.count(),p=[],g=0;g<m;++g)p[g]=g;var y=v.mapDimension("single"),x=s(p,function(A){return v.get("name",A)}),b=[];return x.buckets.each(function(A,S){A.sort(function(_,w){return v.get(y,_)-v.get(y,w)}),b.push({name:S,indices:A})}),b},getAxisTooltipData:function(v,m,p){i.isArray(v)||(v=v?[v]:[]);for(var g=this.getData(),y=this.getLayerSeries(),x=[],b=y.length,A,S=0;S<b;++S){for(var _=Number.MAX_VALUE,w=-1,C=y[S].indices.length,M=0;M<C;++M){var T=g.get(v[0],y[S].indices[M]),E=Math.abs(T-m);E<=_&&(A=T,_=E,w=y[S].indices[M])}x.push(w)}return{dataIndices:x,nestestValue:A}},formatTooltip:function(v){var m=this.getData(),p=m.getName(v),g=m.get(m.mapDimension("value"),v);return(isNaN(g)||g==null)&&(g="-"),u(p+" : "+g)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),h=d;return p_=h,p_}var g_,T3;function Oye(){if(T3)return g_;T3=1;var e=et,t=FW(),n=t.Polygon,r=$e,a=de,i=a.bind,o=a.extend,s=Cu(),l=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(c,f,d){var h=c.getData(),v=this.group,m=c.getLayerSeries(),p=h.getLayout("layoutInfo"),g=p.rect,y=p.boundaryGap;v.attr("position",[0,g.y+y[0]]);function x(_){return _.name}var b=new s(this._layersSeries||[],m,x,x),A={};b.add(i(S,this,"add")).update(i(S,this,"update")).remove(i(S,this,"remove")).execute();function S(_,w,C){var M=this._layers;if(_==="remove"){v.remove(M[w]);return}for(var T=[],E=[],P,R=m[w].indices,I=0;I<R.length;I++){var D=h.getItemLayout(R[I]),B=D.x,F=D.y0,G=D.y;T.push([B,F]),E.push([B,F+G]),P=h.getItemVisual(R[I],"color")}var z,N,U=h.getItemLayout(R[0]),$=h.getItemModel(R[I-1]),k=$.getModel("label"),V=k.get("margin");if(_==="add"){var L=A[w]=new r.Group;z=new n({shape:{points:T,stackedOnPoints:E,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),N=new r.Text({style:{x:U.x-V,y:U.y0+U.y/2}}),L.add(z),L.add(N),v.add(L),z.setClipPath(u(z.getBoundingRect(),c,function(){z.removeClipPath()}))}else{var L=M[C];z=L.childAt(0),N=L.childAt(1),v.add(L),A[w]=L,r.updateProps(z,{shape:{points:T,stackedOnPoints:E}},c),r.updateProps(N,{style:{x:U.x-V,y:U.y0+U.y/2}},c)}var O=$.getModel("emphasis.itemStyle"),H=$.getModel("itemStyle");r.setTextStyle(N.style,k,{text:k.get("show")?c.getFormattedLabel(R[I-1],"normal")||h.getName(R[I-1]):null,textVerticalAlign:"middle"}),z.setStyle(o({fill:P},H.getItemStyle(["color"]))),r.setHoverStyle(z,O.getItemStyle())}this._layersSeries=m,this._layers=A},dispose:function(){}});function u(c,f,d){var h=new r.Rect({shape:{x:c.x-10,y:c.y-10,width:0,height:c.height+20}});return r.initProps(h,{shape:{width:c.width+20,height:c.height+20}},f,d),h}return g_=l,g_}var m_,E3;function Nye(){if(E3)return m_;E3=1;var e=de,t=Rt();function n(i,o){i.eachSeriesByType("themeRiver",function(s){var l=s.getData(),u=s.coordinateSystem,c={},f=u.getRect();c.rect=f;var d=s.get("boundaryGap"),h=u.getAxis();if(c.boundaryGap=d,h.orient==="horizontal"){d[0]=t.parsePercent(d[0],f.height),d[1]=t.parsePercent(d[1],f.height);var v=f.height-d[0]-d[1];r(l,s,v)}else{d[0]=t.parsePercent(d[0],f.width),d[1]=t.parsePercent(d[1],f.width);var m=f.width-d[0]-d[1];r(l,s,m)}l.setLayout("layoutInfo",c)})}function r(i,o,s){if(i.count())for(var l=o.coordinateSystem,u=o.getLayerSeries(),c=i.mapDimension("single"),f=i.mapDimension("value"),d=e.map(u,function(A){return e.map(A.indices,function(S){var _=l.dataToPoint(i.get(c,S));return _[1]=i.get(f,S),_})}),h=a(d),v=h.y0,m=s/h.max,p=u.length,g=u[0].indices.length,y,x=0;x<g;++x){y=v[x]*m,i.setItemLayout(u[0].indices[x],{layerIndex:0,x:d[0][x][0],y0:y,y:d[0][x][1]*m});for(var b=1;b<p;++b)y+=d[b-1][x][1]*m,i.setItemLayout(u[b].indices[x],{layerIndex:b,x:d[b][x][0],y0:y,y:d[b][x][1]*m})}}function a(i){for(var o=i.length,s=i[0].length,l=[],u=[],c=0,f,d={},h=0;h<s;++h){for(var v=0,f=0;v<o;++v)f+=i[v][h][1];f>c&&(c=f),l.push(f)}for(var m=0;m<s;++m)u[m]=(c-l[m])/2;c=0;for(var p=0;p<s;++p){var g=l[p]+u[p];g>c&&(c=g)}return d.y0=u,d.max=c,d}return m_=n,m_}var y_,P3;function kye(){if(P3)return y_;P3=1;var e=de,t=e.createHashMap;function n(r){r.eachSeriesByType("themeRiver",function(a){var i=a.getData(),o=a.getRawData(),s=a.get("color"),l=t();i.each(function(u){l.set(i.getRawIndex(u),u)}),o.each(function(u){var c=o.getName(u),f=s[(a.nameMap.get(c)-1)%s.length];o.setItemVisual(u,"color",f);var d=l.get(u);d!=null&&i.setItemVisual(d,"color",f)})})}return y_=n,y_}var R3;function Bye(){if(R3)return i3;R3=1;var e=et;d9(),Lye(),Oye();var t=Nye(),n=kye(),r=Ev();return e.registerLayout(t),e.registerVisual(n),e.registerProcessor(r("themeRiver")),i3}var I3={},x_,D3;function Fye(){if(D3)return x_;D3=1;var e=de,t=xr,n=xP(),r=Jn,a=Eu(),i=a.wrapTreePathInfo,o=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(l,u){var c={name:l.name,children:l.data};s(c);var f=e.map(l.levels||[],function(v){return new r(v,this,u)},this),d=n.createTree(c,this,h);function h(v){v.wrapMethod("getItemModel",function(m,p){var g=d.getNodeByDataIndex(p),y=f[g.depth];return y&&(m.parentModel=y),m})}return d.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(l){var u=t.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(l);return u.treePathInfo=i(c,this),u},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(l){l?this._viewRoot=l:l=this._viewRoot;var u=this.getRawData().tree.root;(!l||l!==u&&!u.contains(l))&&(this._viewRoot=u)}});function s(l){var u=0;e.each(l.children,function(f){s(f);var d=f.value;e.isArray(d)&&(d=d[0]),u+=d});var c=l.value;e.isArray(c)&&(c=c[0]),(c==null||isNaN(c))&&(c=u),c<0&&(c=0),e.isArray(l.value)?l.value[0]=c:l.value=c}return x_=o,x_}var b_,L3;function Vye(){if(L3)return b_;L3=1;var e=de,t=$e,n={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},r=2,a=4;function i(d,h,v){t.Group.call(this);var m=new t.Sector({z2:r});m.seriesIndex=h.seriesIndex;var p=new t.Text({z2:a,silent:d.getModel("label").get("silent")});this.add(m),this.add(p),this.updateData(!0,d,"normal",h,v);function g(){p.ignore=p.hoverIgnore}function y(){p.ignore=p.normalIgnore}this.on("emphasis",g).on("normal",y).on("mouseover",g).on("mouseout",y)}var o=i.prototype;o.updateData=function(d,h,v,m,p){this.node=h,h.piece=this,m=m||this._seriesModel,p=p||this._ecModel;var g=this.childAt(0);g.dataIndex=h.dataIndex;var y=h.getModel(),x=h.getLayout(),b=e.extend({},x);b.label=null;var A=l(h,m,p);f(h,m,A);var S=y.getModel("itemStyle").getItemStyle(),_;if(v==="normal")_=S;else{var w=y.getModel(v+".itemStyle").getItemStyle();_=e.merge(w,S)}_=e.defaults({lineJoin:"bevel",fill:_.fill||A},_),d?(g.setShape(b),g.shape.r=x.r0,t.updateProps(g,{shape:{r:x.r}},m,h.dataIndex),g.useStyle(_)):typeof _.fill=="object"&&_.fill.type||typeof g.style.fill=="object"&&g.style.fill.type?(t.updateProps(g,{shape:b},m),g.useStyle(_)):t.updateProps(g,{shape:b,style:_},m),this._updateLabel(m,A,v);var C=y.getShallow("cursor");if(C&&g.attr("cursor",C),d){var M=m.getShallow("highlightPolicy");this._initEvents(g,h,m,M)}this._seriesModel=m||this._seriesModel,this._ecModel=p||this._ecModel,t.setHoverStyle(this)},o.onEmphasis=function(d){var h=this;this.node.hostTree.root.eachNode(function(v){v.piece&&(h.node===v?v.piece.updateData(!1,v,"emphasis"):c(v,h.node,d)?v.piece.childAt(0).trigger("highlight"):d!==n.NONE&&v.piece.childAt(0).trigger("downplay"))})},o.onNormal=function(){this.node.hostTree.root.eachNode(function(d){d.piece&&d.piece.updateData(!1,d,"normal")})},o.onHighlight=function(){this.updateData(!1,this.node,"highlight")},o.onDownplay=function(){this.updateData(!1,this.node,"downplay")},o._updateLabel=function(d,h,v){var m=this.node.getModel(),p=m.getModel("label"),g=v==="normal"||v==="emphasis"?p:m.getModel(v+".label"),y=m.getModel("emphasis.label"),x=g.get("formatter"),b=x?v:"normal",A=e.retrieve(d.getFormattedLabel(this.node.dataIndex,b,null,null,"label"),this.node.name);N("show")===!1&&(A="");var S=this.node.getLayout(),_=g.get("minAngle");_==null&&(_=p.get("minAngle")),_=_/180*Math.PI;var w=S.endAngle-S.startAngle;_!=null&&Math.abs(w)<_&&(A="");var C=this.childAt(1);t.setLabelStyle(C.style,C.hoverStyle||{},p,y,{defaultText:g.getShallow("show")?A:null,autoColor:h,useInsideStyle:!0});var M=(S.startAngle+S.endAngle)/2,T=Math.cos(M),E=Math.sin(M),P,R=N("position"),I=N("distance")||0,D=N("align");R==="outside"?(P=S.r+I,D=M>Math.PI/2?"right":"left"):!D||D==="center"?(P=(S.r+S.r0)/2,D="center"):D==="left"?(P=S.r0+I,M>Math.PI/2&&(D="right")):D==="right"&&(P=S.r-I,M>Math.PI/2&&(D="left")),C.attr("style",{text:A,textAlign:D,textVerticalAlign:N("verticalAlign")||"middle",opacity:N("opacity")});var B=P*T+S.cx,F=P*E+S.cy;C.attr("position",[B,F]);var G=N("rotate"),z=0;G==="radial"?(z=-M,z<-Math.PI/2&&(z+=Math.PI)):G==="tangential"?(z=Math.PI/2-M,z>Math.PI/2?z-=Math.PI:z<-Math.PI/2&&(z+=Math.PI)):typeof G=="number"&&(z=G*Math.PI/180),C.attr("rotation",z);function N(U){var $=g.get(U);return $??p.get(U)}},o._initEvents=function(d,h,v,m){d.off("mouseover").off("mouseout").off("emphasis").off("normal");var p=this,g=function(){p.onEmphasis(m)},y=function(){p.onNormal()},x=function(){p.onDownplay()},b=function(){p.onHighlight()};v.isAnimationEnabled()&&d.on("mouseover",g).on("mouseout",y).on("emphasis",g).on("normal",y).on("downplay",x).on("highlight",b)},e.inherits(i,t.Group);var s=i;function l(d,h,v){var m=d.getVisual("color"),p=d.getVisual("visualMeta");(!p||p.length===0)&&(m=null);var g=d.getModel("itemStyle").get("color");if(g)return g;if(m)return m;if(d.depth===0)return v.option.color[0];var y=v.option.color.length;return g=v.option.color[u(d)%y],g}function u(d){for(var h=d;h.depth>1;)h=h.parentNode;var v=d.getAncestors()[0];return e.indexOf(v.children,h)}function c(d,h,v){return v===n.NONE?!1:v===n.SELF?d===h:v===n.ANCESTOR?d===h||d.isAncestorOf(h):d===h||d.isDescendantOf(h)}function f(d,h,v){var m=h.getData();m.setItemVisual(d.dataIndex,"color",v)}return b_=s,b_}var S_,O3;function zye(){if(O3)return S_;O3=1;var e=de,t=_o,n=Vye(),r=Cu(),a=Gt,i=a.windowOpen,o="sunburstRootToNode",s=t.extend({type:"sunburst",init:function(){},render:function(u,c,f,d){var h=this;this.seriesModel=u,this.api=f,this.ecModel=c;var v=u.getData(),m=v.tree.root,p=u.getViewRoot(),g=this.group,y=u.get("renderLabelForZeroData"),x=[];p.eachNode(function(T){x.push(T)});var b=this._oldChildren||[];if(_(x,b),M(m,p),d&&d.highlight&&d.highlight.piece){var A=u.getShallow("highlightPolicy");d.highlight.piece.onEmphasis(A)}else if(d&&d.unhighlight){var S=this.virtualPiece;!S&&m.children.length&&(S=m.children[0].piece),S&&S.onNormal()}this._initEvents(),this._oldChildren=x;function _(T,E){if(T.length===0&&E.length===0)return;new r(E,T,P,P).add(R).update(R).remove(e.curry(R,null)).execute();function P(I){return I.getId()}function R(I,D){var B=I==null?null:T[I],F=D==null?null:E[D];w(B,F)}}function w(T,E){if(!y&&T&&!T.getValue()&&(T=null),T!==m&&E!==m){if(E&&E.piece)T?(E.piece.updateData(!1,T,"normal",u,c),v.setItemGraphicEl(T.dataIndex,E.piece)):C(E);else if(T){var P=new n(T,u,c);g.add(P),v.setItemGraphicEl(T.dataIndex,P)}}}function C(T){T&&T.piece&&(g.remove(T.piece),T.piece=null)}function M(T,E){if(E.depth>0){h.virtualPiece?h.virtualPiece.updateData(!1,T,"normal",u,c):(h.virtualPiece=new n(T,u,c),g.add(h.virtualPiece)),E.piece._onclickEvent&&E.piece.off("click",E.piece._onclickEvent);var P=function(R){h._rootToNode(E.parentNode)};E.piece._onclickEvent=P,h.virtualPiece.on("click",P)}else h.virtualPiece&&(g.remove(h.virtualPiece),h.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var u=this,c=function(f){var d=!1,h=u.seriesModel.getViewRoot();h.eachNode(function(v){if(!d&&v.piece&&v.piece.childAt(0)===f.target){var m=v.getModel().get("nodeClick");if(m==="rootToNode")u._rootToNode(v);else if(m==="link"){var p=v.getModel(),g=p.get("link");if(g){var y=p.get("target",!0)||"_blank";i(g,y)}}d=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",c),this.group._onclickEvent=c},_rootToNode:function(u){u!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:o,from:this.uid,seriesId:this.seriesModel.id,targetNode:u})},containPoint:function(u,c){var f=c.getData(),d=f.getItemLayout(0);if(d){var h=u[0]-d.cx,v=u[1]-d.cy,m=Math.sqrt(h*h+v*v);return m<=d.r&&m>=d.r0}}}),l=s;return S_=l,S_}var N3={},k3;function Uye(){if(k3)return N3;k3=1;var e=et,t=Eu(),n="sunburstRootToNode";e.registerAction({type:n,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},s);function s(l,u){var c=t.retrieveTargetInfo(i,[n],l);if(c){var f=l.getViewRoot();f&&(i.direction=t.aboveViewRoot(f,c.node)?"rollUp":"drillDown"),l.resetViewRoot(c.node)}}});var r="sunburstHighlight";e.registerAction({type:r,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},s);function s(l,u){var c=t.retrieveTargetInfo(i,[r],l);c&&(i.highlight=c.node)}});var a="sunburstUnhighlight";return e.registerAction({type:a,update:"updateView"},function(i,o){o.eachComponent({mainType:"series",subType:"sunburst",query:i},s);function s(l,u){i.unhighlight=!0}}),N3}var __,B3;function Hye(){if(B3)return __;B3=1;var e=Rt(),t=e.parsePercent,n=de,r=Math.PI/180;function a(s,l,u,c){l.eachSeriesByType(s,function(f){var d=f.get("center"),h=f.get("radius");n.isArray(h)||(h=[0,h]),n.isArray(d)||(d=[d,d]);var v=u.getWidth(),m=u.getHeight(),p=Math.min(v,m),g=t(d[0],v),y=t(d[1],m),x=t(h[0],p/2),b=t(h[1],p/2),A=-f.get("startAngle")*r,S=f.get("minAngle")*r,_=f.getData().tree.root,w=f.getViewRoot(),C=w.depth,M=f.get("sort");M!=null&&i(w,M);var T=0;n.each(w.children,function(k){!isNaN(k.getValue())&&T++});var E=w.getValue(),P=Math.PI/(E||T)*2,R=w.depth>0,I=w.height-(R?-1:1),D=(b-x)/(I||1),B=f.get("clockwise"),F=f.get("stillShowZeroSum"),G=B?1:-1,z=function(k,V){if(k){var L=V;if(k!==_){var O=k.getValue(),H=E===0&&F?P:O*P;H<S&&(H=S),L=V+G*H;var j=k.depth-C-(R?-1:1),Y=x+D*j,X=x+D*(j+1),Q=k.getModel();Q.get("r0")!=null&&(Y=t(Q.get("r0"),p/2)),Q.get("r")!=null&&(X=t(Q.get("r"),p/2)),k.setLayout({angle:H,startAngle:V,endAngle:L,clockwise:B,cx:g,cy:y,r0:Y,r:X})}if(k.children&&k.children.length){var K=0;n.each(k.children,function(Z){K+=z(Z,V+K)})}return L-V}};if(R){var N=x,U=x+D,$=Math.PI*2;_.setLayout({angle:$,startAngle:A,endAngle:A+$,clockwise:B,cx:g,cy:y,r0:N,r:U})}z(w,A)})}function i(s,l){var u=s.children||[];s.children=o(u,l),u.length&&n.each(s.children,function(c){i(c,l)})}function o(s,l){if(typeof l=="function")return s.sort(l);var u=l==="asc";return s.sort(function(c,f){var d=(c.getValue()-f.getValue())*(u?1:-1);return d===0?(c.dataIndex-f.dataIndex)*(u?-1:1):d})}return __=a,__}var F3;function $ye(){if(F3)return I3;F3=1;var e=et,t=de;Fye(),zye(),Uye();var n=Xy(),r=Hye(),a=Ev();return e.registerVisual(t.curry(n,"sunburst")),e.registerLayout(t.curry(r,"sunburst")),e.registerProcessor(t.curry(a,"sunburst")),I3}var V3={},A_,z3;function Gye(){if(z3)return A_;z3=1;var e=de;function t(r,a){return a=a||[0,0],e.map(["x","y"],function(i,o){var s=this.getAxis(i),l=a[o],u=r[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u))},this)}function n(r){var a=r.grid.getRect();return{coordSys:{type:"cartesian2d",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(i){return r.dataToPoint(i)},size:e.bind(t,r)}}}return A_=n,A_}var w_,U3;function Wye(){if(U3)return w_;U3=1;var e=de;function t(r,a){return a=a||[0,0],e.map([0,1],function(i){var o=a[i],s=r[i]/2,l=[],u=[];return l[i]=o-s,u[i]=o+s,l[1-i]=u[1-i]=a[1-i],Math.abs(this.dataToPoint(l)[i]-this.dataToPoint(u)[i])},this)}function n(r){var a=r.getBoundingRect();return{coordSys:{type:"geo",x:a.x,y:a.y,width:a.width,height:a.height,zoom:r.getZoom()},api:{coord:function(i){return r.dataToPoint(i)},size:e.bind(t,r)}}}return w_=n,w_}var C_,H3;function jye(){if(H3)return C_;H3=1;var e=de;function t(r,a){var i=this.getAxis(),o=a instanceof Array?a[0]:a,s=(r instanceof Array?r[0]:r)/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-s)-i.dataToCoord(o+s))}function n(r){var a=r.getRect();return{coordSys:{type:"singleAxis",x:a.x,y:a.y,width:a.width,height:a.height},api:{coord:function(i){return r.dataToPoint(i)},size:e.bind(t,r)}}}return C_=n,C_}var M_,$3;function Yye(){if($3)return M_;$3=1;var e=de;function t(r,a){return e.map(["Radius","Angle"],function(i,o){var s=this["get"+i+"Axis"](),l=a[o],u=r[o]/2,c="dataTo"+i,f=s.type==="category"?s.getBandWidth():Math.abs(s[c](l-u)-s[c](l+u));return i==="Angle"&&(f=f*Math.PI/180),f},this)}function n(r){var a=r.getRadiusAxis(),i=r.getAngleAxis(),o=a.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:o[1],r0:o[0]},api:{coord:e.bind(function(s){var l=a.dataToRadius(s[0]),u=i.dataToAngle(s[1]),c=r.coordToPoint([l,u]);return c.push(l,u*Math.PI/180),c}),size:e.bind(t,r)}}}return M_=n,M_}var T_,G3;function Xye(){if(G3)return T_;G3=1;function e(t){var n=t.getRect(),r=t.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(a,i){return t.dataToPoint(a,i)}}}}return T_=e,T_}var W3;function qye(){if(W3)return V3;W3=1;var e=de,t=$e,n=dP(),r=n.getDefaultLabel,a=us(),i=Gy(),o=i.getLayoutOnAxis,s=Cu(),l=xr,u=Jn,c=_o,f=wv(),d=f.createClipPath,h=Gye(),v=Wye(),m=jye(),p=Yye(),g=Xye(),y=t.CACHED_LABEL_STYLE_PROPERTIES,x=["itemStyle"],b=["emphasis","itemStyle"],A=["label"],S=["emphasis","label"],_="e\0\0",w={cartesian2d:h,geo:v,singleAxis:m,polar:p,calendar:g};l.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(L,O){return a(this.getSource(),this)},getDataParams:function(L,O,H){var j=l.prototype.getDataParams.apply(this,arguments);return H&&(j.info=H.info),j}}),c.extend({type:"custom",_data:null,render:function(L,O,H,j){var Y=this._data,X=L.getData(),Q=this.group,K=E(L,X,O,H);X.diff(Y).add(function(te){R(null,te,K(te,j),L,Q,X)}).update(function(te,oe){var ue=Y.getItemGraphicEl(oe);R(ue,te,K(te,j),L,Q,X)}).remove(function(te){var oe=Y.getItemGraphicEl(te);oe&&Q.remove(oe)}).execute();var Z=L.get("clip",!0)?d(L.coordinateSystem,!1,L):null;Z?Q.setClipPath(Z):Q.removeClipPath(),this._data=X},incrementalPrepareRender:function(L,O,H){this.group.removeAll(),this._data=null},incrementalRender:function(L,O,H,j,Y){var X=O.getData(),Q=E(O,X,H,j);function K(oe){oe.isGroup||(oe.incremental=!0,oe.useHoverLayer=!0)}for(var Z=L.start;Z<L.end;Z++){var te=R(null,Z,Q(Z,Y),O,this.group,X);te.traverse(K)}},dispose:e.noop,filterForExposedEvent:function(L,O,H,j){var Y=O.element;if(Y==null||H.name===Y)return!0;for(;(H=H.parent)&&H!==this.group;)if(H.name===Y)return!0;return!1}});function C(L){var O=L.type,H;if(O==="path"){var j=L.shape,Y=j.width!=null&&j.height!=null?{x:j.x||0,y:j.y||0,width:j.width,height:j.height}:null,X=$(j);H=t.makePath(X,null,Y,j.layout||"center"),H.__customPathData=X}else if(O==="image")H=new t.Image({}),H.__customImagePath=L.style.image;else if(O==="text")H=new t.Text({}),H.__customText=L.style.text;else if(O==="group")H=new t.Group;else{if(O==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var Q=t.getShapeClass(O);H=new Q}return H.__customGraphicType=O,H.name=L.name,H}function M(L,O,H,j,Y,X,Q){var K={},Z=H.style||{};if(H.shape&&(K.shape=e.clone(H.shape)),H.position&&(K.position=H.position.slice()),H.scale&&(K.scale=H.scale.slice()),H.origin&&(K.origin=H.origin.slice()),H.rotation&&(K.rotation=H.rotation),L.type==="image"&&H.style){var te=K.style={};e.each(["x","y","width","height"],function(se){T(se,te,Z,L.style,X)})}if(L.type==="text"&&H.style){var te=K.style={};e.each(["x","y"],function(me){T(me,te,Z,L.style,X)}),!Z.hasOwnProperty("textFill")&&Z.fill&&(Z.textFill=Z.fill),!Z.hasOwnProperty("textStroke")&&Z.stroke&&(Z.textStroke=Z.stroke)}if(L.type!=="group"&&(L.useStyle(Z),X)){L.style.opacity=0;var oe=Z.opacity;oe==null&&(oe=1),t.initProps(L,{style:{opacity:oe}},j,O)}X?L.attr(K):t.updateProps(L,K,j,O),H.hasOwnProperty("z2")&&L.attr("z2",H.z2||0),H.hasOwnProperty("silent")&&L.attr("silent",H.silent),H.hasOwnProperty("invisible")&&L.attr("invisible",H.invisible),H.hasOwnProperty("ignore")&&L.attr("ignore",H.ignore),H.hasOwnProperty("info")&&L.attr("info",H.info);var ue=H.styleEmphasis;t.setElementHoverStyle(L,ue),Q&&t.setAsHighDownDispatcher(L,ue!==!1)}function T(L,O,H,j,Y){H[L]!=null&&!Y&&(O[L]=H[L],H[L]=j[L])}function E(L,O,H,j){var Y=L.get("renderItem"),X=L.coordinateSystem,Q={};X&&(Q=X.prepareCustoms?X.prepareCustoms():w[X.type](X));var K=e.defaults({getWidth:j.getWidth,getHeight:j.getHeight,getZr:j.getZr,getDevicePixelRatio:j.getDevicePixelRatio,value:ae,style:ce,styleEmphasis:ee,visual:ne,barLayout:le,currentSeriesIndices:he,font:pe},Q.api||{}),Z={context:{},seriesId:L.id,seriesName:L.name,seriesIndex:L.seriesIndex,coordSys:Q.coordSys,dataInsideLength:O.count(),encode:P(L.getData())},te,oe=!0,ue,se,me,re;return function(ye,ge){return te=ye,oe=!0,Y&&Y(e.defaults({dataIndexInside:ye,dataIndex:O.getRawIndex(ye),actionType:ge?ge.type:null},Z),K)};function q(ye){ye==null&&(ye=te),oe&&(ue=O.getItemModel(ye),se=ue.getModel(A),me=ue.getModel(S),re=O.getItemVisual(ye,"color"),oe=!1)}function ae(ye,ge){return ge==null&&(ge=te),O.get(O.getDimension(ye||0),ge)}function ce(ye,ge){ge==null&&(ge=te),q(ge);var Ce=ue.getModel(x).getItemStyle();re!=null&&(Ce.fill=re);var xe=O.getItemVisual(ge,"opacity");xe!=null&&(Ce.opacity=xe);var be=ye?z(ye,se):se;return t.setTextStyle(Ce,be,null,{autoColor:re,isRectText:!0}),Ce.text=be.getShallow("show")?e.retrieve2(L.getFormattedLabel(ge,"normal"),r(O,ge)):null,ye&&N(Ce,ye),Ce}function ee(ye,ge){ge==null&&(ge=te),q(ge);var Ce=ue.getModel(b).getItemStyle(),xe=ye?z(ye,me):me;return t.setTextStyle(Ce,xe,null,{isRectText:!0},!0),Ce.text=xe.getShallow("show")?e.retrieve3(L.getFormattedLabel(ge,"emphasis"),L.getFormattedLabel(ge,"normal"),r(O,ge)):null,ye&&N(Ce,ye),Ce}function ne(ye,ge){return ge==null&&(ge=te),O.getItemVisual(ge,ye)}function le(ye){if(X.getBaseAxis){var ge=X.getBaseAxis();return o(e.defaults({axis:ge},ye),j)}}function he(){return H.getCurrentSeriesIndices()}function pe(ye){return t.getFont(ye,H)}}function P(L){var O={};return e.each(L.dimensions,function(H,j){var Y=L.getDimensionInfo(H);if(!Y.isExtraCoord){var X=Y.coordDim,Q=O[X]=O[X]||[];Q[Y.coordDimIndex]=j}}),O}function R(L,O,H,j,Y,X){return L=I(L,O,H,j,Y,X,!0),L&&X.setItemGraphicEl(O,L),L}function I(L,O,H,j,Y,X,Q){var K=!H;H=H||{};var Z=H.type,te=H.shape,oe=H.style;if(L&&(K||Z!=null&&Z!==L.__customGraphicType||Z==="path"&&k(te)&&$(te)!==L.__customPathData||Z==="image"&&V(oe,"image")&&oe.image!==L.__customImagePath||Z==="text"&&V(te,"text")&&oe.text!==L.__customText)&&(Y.remove(L),L=null),!K){var ue=!L;return!L&&(L=C(H)),M(L,O,H,j,X,ue,Q),Z==="group"&&D(L,O,H,j,X),Y.add(L),L}}function D(L,O,H,j,Y){var X=H.children,Q=X?X.length:0,K=H.$mergeChildren,Z=K==="byName"||H.diffChildrenByName,te=K===!1;if(!(!Q&&!Z&&!te)){if(Z){B({oldChildren:L.children()||[],newChildren:X||[],dataIndex:O,animatableModel:j,group:L,data:Y});return}te&&L.removeAll();for(var oe=0;oe<Q;oe++)X[oe]&&I(L.childAt(oe),O,X[oe],j,L,Y)}}function B(L){new s(L.oldChildren,L.newChildren,F,F,L).add(G).update(G).remove(U).execute()}function F(L,O){var H=L&&L.name;return H??_+O}function G(L,O){var H=this.context,j=L!=null?H.newChildren[L]:null,Y=O!=null?H.oldChildren[O]:null;I(Y,H.dataIndex,j,H.animatableModel,H.group,H.data)}function z(L,O){var H=new u({},O);return e.each(y,function(j,Y){L.hasOwnProperty(j)&&(H.option[Y]=L[j])}),H}function N(L,O){for(var H in O)(O.hasOwnProperty(H)||!y.hasOwnProperty(H))&&(L[H]=O[H])}function U(L){var O=this.context,H=O.oldChildren[L];H&&O.group.remove(H)}function $(L){return L&&(L.pathData||L.d)}function k(L){return L&&(L.hasOwnProperty("pathData")||L.hasOwnProperty("d"))}function V(L,O){return L&&L.hasOwnProperty(O)}return V3}var j3={},Y3;function Kye(){return Y3||(Y3=1,Mv(),f9(),Rv()),j3}var X3={},E_,q3;function Zye(){if(q3)return E_;q3=1;var e=de,t=Rt(),n=t.parsePercent,r=Ao(),a=r.isDimensionStacked;function i(c){return c.get("stack")||"__ec_stack_"+c.seriesIndex}function o(c,f){return f.dim+c.model.componentIndex}function s(c,f,d){var h={},v=l(e.filter(f.getSeriesByType(c),function(m){return!f.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));f.eachSeriesByType(c,function(m){if(m.coordinateSystem.type==="polar"){var p=m.getData(),g=m.coordinateSystem,y=g.getBaseAxis(),x=o(g,y),b=i(m),A=v[x][b],S=A.offset,_=A.width,w=g.getOtherAxis(y),C=m.coordinateSystem.cx,M=m.coordinateSystem.cy,T=m.get("barMinHeight")||0,E=m.get("barMinAngle")||0;h[b]=h[b]||[];for(var P=p.mapDimension(w.dim),R=p.mapDimension(y.dim),I=a(p,P),D=y.dim!=="radius"||!m.get("roundCap",!0),B=w.dim==="radius"?w.dataToRadius(0):w.dataToAngle(0),F=0,G=p.count();F<G;F++){var z=p.get(P,F),N=p.get(R,F),U=z>=0?"p":"n",$=B;I&&(h[b][N]||(h[b][N]={p:B,n:B}),$=h[b][N][U]);var k,V,L,O;if(w.dim==="radius"){var H=w.dataToRadius(z)-B,j=y.dataToAngle(N);Math.abs(H)<T&&(H=(H<0?-1:1)*T),k=$,V=$+H,L=j-S,O=L-_,I&&(h[b][N][U]=V)}else{var Y=w.dataToAngle(z,D)-B,X=y.dataToRadius(N);Math.abs(Y)<E&&(Y=(Y<0?-1:1)*E),k=X+S,V=k+_,L=$,O=$+Y,I&&(h[b][N][U]=O)}p.setItemLayout(F,{cx:C,cy:M,r0:k,r:V,startAngle:-L*Math.PI/180,endAngle:-O*Math.PI/180})}}},this)}function l(c,f){var d={};e.each(c,function(v,m){var p=v.getData(),g=v.coordinateSystem,y=g.getBaseAxis(),x=o(g,y),b=y.getExtent(),A=y.type==="category"?y.getBandWidth():Math.abs(b[1]-b[0])/p.count(),S=d[x]||{bandWidth:A,remainedWidth:A,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},_=S.stacks;d[x]=S;var w=i(v);_[w]||S.autoWidthCount++,_[w]=_[w]||{width:0,maxWidth:0};var C=n(v.get("barWidth"),A),M=n(v.get("barMaxWidth"),A),T=v.get("barGap"),E=v.get("barCategoryGap");C&&!_[w].width&&(C=Math.min(S.remainedWidth,C),_[w].width=C,S.remainedWidth-=C),M&&(_[w].maxWidth=M),T!=null&&(S.gap=T),E!=null&&(S.categoryGap=E)});var h={};return e.each(d,function(v,m){h[m]={};var p=v.stacks,g=v.bandWidth,y=n(v.categoryGap,g),x=n(v.gap,1),b=v.remainedWidth,A=v.autoWidthCount,S=(b-y)/(A+(A-1)*x);S=Math.max(S,0),e.each(p,function(M,T){var E=M.maxWidth;E&&E<S&&(E=Math.min(E,b),M.width&&(E=Math.min(E,M.width)),b-=E,M.width=E,A--)}),S=(b-y)/(A+(A-1)*x),S=Math.max(S,0);var _=0,w;e.each(p,function(M,T){M.width||(M.width=S),w=M,_+=M.width*(1+x)}),w&&(_-=w.width*x);var C=-_/2;e.each(p,function(M,T){h[m][T]=h[m][T]||{offset:C,width:M.width},C+=M.width*(1+x)})}),h}var u=s;return E_=u,E_}var K3={},P_,Z3;function Qye(){if(Z3)return P_;Z3=1;var e=de,t=cl();function n(a,i){t.call(this,"radius",a,i),this.type="category"}n.prototype={constructor:n,pointToData:function(a,i){return this.polar.pointToData(a,i)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(n,t);var r=n;return P_=r,P_}var R_,Q3;function Jye(){if(Q3)return R_;Q3=1;var e=de,t=wn,n=cl(),r=bt,a=r.makeInner,i=a();function o(l,u){u=u||[0,360],n.call(this,"angle",l,u),this.type="category"}o.prototype={constructor:o,pointToData:function(l,u){return this.polar.pointToData(l,u)[this.dim==="radius"?0:1]},dataToAngle:n.prototype.dataToCoord,angleToData:n.prototype.coordToData,calculateCategoryInterval:function(){var l=this,u=l.getLabelModel(),c=l.scale,f=c.getExtent(),d=c.count();if(f[1]-f[0]<1)return 0;var h=f[0],v=l.dataToCoord(h+1)-l.dataToCoord(h),m=Math.abs(v),p=t.getBoundingRect(h,u.getFont(),"center","top"),g=Math.max(p.height,7),y=g/m;isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(y)),b=i(l.model),A=b.lastAutoInterval,S=b.lastTickCount;return A!=null&&S!=null&&Math.abs(A-x)<=1&&Math.abs(S-d)<=1&&A>x?x=A:(b.lastTickCount=d,b.lastAutoInterval=x),x}},e.inherits(o,n);var s=o;return R_=s,R_}var I_,J3;function e0e(){if(J3)return I_;J3=1;var e=Qye(),t=Jye(),n=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};n.prototype={type:"polar",axisPointerEnabled:!0,constructor:n,dimensions:["radius","angle"],model:null,containPoint:function(a){var i=this.pointToCoord(a);return this._radiusAxis.contain(i[0])&&this._angleAxis.contain(i[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var i=[],o=this._angleAxis,s=this._radiusAxis;return o.scale.type===a&&i.push(o),s.scale.type===a&&i.push(s),i},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var i=this._angleAxis;return a===i?this._radiusAxis:i},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var i=a!=null&&a!=="auto"?this.getAxis(a):this.getBaseAxis();return{baseAxes:[i],otherAxes:[this.getOtherAxis(i)]}},dataToPoint:function(a,i){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],i),this._angleAxis.dataToAngle(a[1],i)])},pointToData:function(a,i){var o=this.pointToCoord(a);return[this._radiusAxis.radiusToData(o[0],i),this._angleAxis.angleToData(o[1],i)]},pointToCoord:function(a){var i=a[0]-this.cx,o=a[1]-this.cy,s=this.getAngleAxis(),l=s.getExtent(),u=Math.min(l[0],l[1]),c=Math.max(l[0],l[1]);s.inverse?u=c-360:c=u+360;var f=Math.sqrt(i*i+o*o);i/=f,o/=f;for(var d=Math.atan2(-o,i)/Math.PI*180,h=d<u?1:-1;d<u||d>c;)d+=h*360;return[f,d]},coordToPoint:function(a){var i=a[0],o=a[1]/180*Math.PI,s=Math.cos(o)*i+this.cx,l=-Math.sin(o)*i+this.cy;return[s,l]},getArea:function(){var a=this.getAngleAxis(),i=this.getRadiusAxis(),o=i.getExtent().slice();o[0]>o[1]&&o.reverse();var s=a.getExtent(),l=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:o[0],r:o[1],startAngle:-s[0]*l,endAngle:-s[1]*l,clockwise:a.inverse,contain:function(u,c){var f=u-this.cx,d=c-this.cy,h=f*f+d*d,v=this.r,m=this.r0;return h<=v*v&&h>=m*m}}}};var r=n;return I_=r,I_}var eF={},tF;function t0e(){if(tF)return eF;tF=1;var e=de,t=yr,n=jy(),r=zf(),a=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(a.prototype,r);var i={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function o(s,l){return l.type||(l.data?"category":"value")}return n("angle",a,o,i.angle),n("radius",a,o,i.radius),eF}var D_,nF;function n0e(){if(nF)return D_;nF=1;var e=et;t0e();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(n){var r,a=this.ecModel;return a.eachComponent(n,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return D_=t,D_}var rF;function CP(){if(rF)return K3;rF=1;var e=de,t=e0e(),n=Rt(),r=n.parsePercent,a=Fi(),i=a.createScaleByModel,o=a.niceScaleExtent,s=So,l=Ao(),u=l.getStackedDimension;n0e();function c(v,m,p){var g=m.get("center"),y=p.getWidth(),x=p.getHeight();v.cx=r(g[0],y),v.cy=r(g[1],x);var b=v.getRadiusAxis(),A=Math.min(y,x)/2,S=m.get("radius");S==null?S=[0,"100%"]:e.isArray(S)||(S=[0,S]),S=[r(S[0],A),r(S[1],A)],b.inverse?b.setExtent(S[1],S[0]):b.setExtent(S[0],S[1])}function f(v,m){var p=this,g=p.getAngleAxis(),y=p.getRadiusAxis();if(g.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),v.eachSeries(function(A){if(A.coordinateSystem===p){var S=A.getData();e.each(S.mapDimension("radius",!0),function(_){y.scale.unionExtentFromData(S,u(S,_))}),e.each(S.mapDimension("angle",!0),function(_){g.scale.unionExtentFromData(S,u(S,_))})}}),o(g.scale,g.model),o(y.scale,y.model),g.type==="category"&&!g.onBand){var x=g.getExtent(),b=360/g.scale.count();g.inverse?x[1]+=b:x[1]-=b,g.setExtent(x[0],x[1])}}function d(v,m){if(v.type=m.get("type"),v.scale=i(m),v.onBand=m.get("boundaryGap")&&v.type==="category",v.inverse=m.get("inverse"),m.mainType==="angleAxis"){v.inverse^=m.get("clockwise");var p=m.get("startAngle");v.setExtent(p,p+(v.inverse?-360:360))}m.axis=v,v.model=m}var h={dimensions:t.prototype.dimensions,create:function(v,m){var p=[];return v.eachComponent("polar",function(g,y){var x=new t(y);x.update=f;var b=x.getRadiusAxis(),A=x.getAngleAxis(),S=g.findAxisModel("radiusAxis"),_=g.findAxisModel("angleAxis");d(b,S),d(A,_),c(x,g,m),p.push(x),g.coordinateSystem=x,x.model=g}),v.eachSeries(function(g){if(g.get("coordinateSystem")==="polar"){var y=v.queryComponents({mainType:"polar",index:g.get("polarIndex"),id:g.get("polarId")})[0];g.coordinateSystem=y.coordinateSystem}}),p}};return s.register("polar",h),K3}var aF={},L_,iF;function r0e(){if(iF)return L_;iF=1;var e=de,t=$e,n=Jn,r=Tu(),a=fl(),i=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function o(c,f,d){f[1]>f[0]&&(f=f.slice().reverse());var h=c.coordToPoint([f[0],d]),v=c.coordToPoint([f[1],d]);return{x1:h[0],y1:h[1],x2:v[0],y2:v[1]}}function s(c){var f=c.getRadiusAxis();return f.inverse?0:1}function l(c){var f=c[0],d=c[c.length-1];f&&d&&Math.abs(Math.abs(f.coord-d.coord)-360)<1e-4&&c.pop()}var u=r.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(c,f){if(this.group.removeAll(),!!c.get("show")){var d=c.axis,h=d.polar,v=h.getRadiusAxis().getExtent(),m=d.getTicksCoords(),p=d.getMinorTicksCoords(),g=e.map(d.getViewLabels(),function(x){var x=e.clone(x);return x.coord=d.dataToCoord(x.tickValue),x});l(g),l(m),e.each(i,function(y){c.get(y+".show")&&(!d.scale.isBlank()||y==="axisLine")&&this["_"+y](c,h,m,p,v,g)},this)}},_axisLine:function(c,f,d,h,v){var m=c.getModel("axisLine.lineStyle"),p=s(f),g=p?0:1,y;v[g]===0?y=new t.Circle({shape:{cx:f.cx,cy:f.cy,r:v[p]},style:m.getLineStyle(),z2:1,silent:!0}):y=new t.Ring({shape:{cx:f.cx,cy:f.cy,r:v[p],r0:v[g]},style:m.getLineStyle(),z2:1,silent:!0}),y.style.fill=null,this.group.add(y)},_axisTick:function(c,f,d,h,v){var m=c.getModel("axisTick"),p=(m.get("inside")?-1:1)*m.get("length"),g=v[s(f)],y=e.map(d,function(x){return new t.Line({shape:o(f,[g,g+p],x.coord)})});this.group.add(t.mergePath(y,{style:e.defaults(m.getModel("lineStyle").getLineStyle(),{stroke:c.get("axisLine.lineStyle.color")})}))},_minorTick:function(c,f,d,h,v){if(h.length){for(var m=c.getModel("axisTick"),p=c.getModel("minorTick"),g=(m.get("inside")?-1:1)*p.get("length"),y=v[s(f)],x=[],b=0;b<h.length;b++)for(var A=0;A<h[b].length;A++)x.push(new t.Line({shape:o(f,[y,y+g],h[b][A].coord)}));this.group.add(t.mergePath(x,{style:e.defaults(p.getModel("lineStyle").getLineStyle(),e.defaults(m.getLineStyle(),{stroke:c.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(c,f,d,h,v,m){var p=c.getCategories(!0),g=c.getModel("axisLabel"),y=g.get("margin"),x=c.get("triggerEvent");e.each(m,function(b,A){var S=g,_=b.tickValue,w=v[s(f)],C=f.coordToPoint([w+y,b.coord]),M=f.cx,T=f.cy,E=Math.abs(C[0]-M)/w<.3?"center":C[0]>M?"left":"right",P=Math.abs(C[1]-T)/w<.3?"middle":C[1]>T?"top":"bottom";p&&p[_]&&p[_].textStyle&&(S=new n(p[_].textStyle,g,g.ecModel));var R=new t.Text({silent:a.isLabelSilent(c)});this.group.add(R),t.setTextStyle(R.style,S,{x:C[0],y:C[1],textFill:S.getTextColor()||c.get("axisLine.lineStyle.color"),text:b.formattedLabel,textAlign:E,textVerticalAlign:P}),x&&(R.eventData=a.makeAxisEventDataBase(c),R.eventData.targetType="axisLabel",R.eventData.value=b.rawLabel)},this)},_splitLine:function(c,f,d,h,v){var m=c.getModel("splitLine"),p=m.getModel("lineStyle"),g=p.get("color"),y=0;g=g instanceof Array?g:[g];for(var x=[],b=0;b<d.length;b++){var A=y++%g.length;x[A]=x[A]||[],x[A].push(new t.Line({shape:o(f,v,d[b].coord)}))}for(var b=0;b<x.length;b++)this.group.add(t.mergePath(x[b],{style:e.defaults({stroke:g[b%g.length]},p.getLineStyle()),silent:!0,z:c.get("z")}))},_minorSplitLine:function(c,f,d,h,v){if(h.length){for(var m=c.getModel("minorSplitLine"),p=m.getModel("lineStyle"),g=[],y=0;y<h.length;y++)for(var x=0;x<h[y].length;x++)g.push(new t.Line({shape:o(f,v,h[y][x].coord)}));this.group.add(t.mergePath(g,{style:p.getLineStyle(),silent:!0,z:c.get("z")}))}},_splitArea:function(c,f,d,h,v){if(d.length){var m=c.getModel("splitArea"),p=m.getModel("areaStyle"),g=p.get("color"),y=0;g=g instanceof Array?g:[g];for(var x=[],b=Math.PI/180,A=-d[0].coord*b,S=Math.min(v[0],v[1]),_=Math.max(v[0],v[1]),w=c.get("clockwise"),C=1;C<d.length;C++){var M=y++%g.length;x[M]=x[M]||[],x[M].push(new t.Sector({shape:{cx:f.cx,cy:f.cy,r0:S,r:_,startAngle:A,endAngle:-d[C].coord*b,clockwise:w},silent:!0})),A=-d[C].coord*b}for(var C=0;C<x.length;C++)this.group.add(t.mergePath(x[C],{style:e.defaults({fill:g[C%g.length]},p.getAreaStyle()),silent:!0}))}}});return L_=u,L_}var oF;function a0e(){return oF||(oF=1,CP(),r0e()),aF}var sF={},O_,lF;function i0e(){if(lF)return O_;lF=1;var e=de,t=$e,n=fl(),r=Tu(),a=["axisLine","axisTickLabel","axisName"],i=["splitLine","splitArea","minorSplitLine"],o=r.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(l,u){if(this.group.removeAll(),!!l.get("show")){var c=l.axis,f=c.polar,d=f.getAngleAxis(),h=c.getTicksCoords(),v=c.getMinorTicksCoords(),m=d.getExtent()[0],p=c.getExtent(),g=s(f,l,m),y=new n(l,g);e.each(a,y.add,y),this.group.add(y.getGroup()),e.each(i,function(x){l.get(x+".show")&&!c.scale.isBlank()&&this["_"+x](l,f,m,p,h,v)},this)}},_splitLine:function(l,u,c,f,d){var h=l.getModel("splitLine"),v=h.getModel("lineStyle"),m=v.get("color"),p=0;m=m instanceof Array?m:[m];for(var g=[],y=0;y<d.length;y++){var x=p++%m.length;g[x]=g[x]||[],g[x].push(new t.Circle({shape:{cx:u.cx,cy:u.cy,r:d[y].coord}}))}for(var y=0;y<g.length;y++)this.group.add(t.mergePath(g[y],{style:e.defaults({stroke:m[y%m.length],fill:null},v.getLineStyle()),silent:!0}))},_minorSplitLine:function(l,u,c,f,d,h){if(h.length){for(var v=l.getModel("minorSplitLine"),m=v.getModel("lineStyle"),p=[],g=0;g<h.length;g++)for(var y=0;y<h[g].length;y++)p.push(new t.Circle({shape:{cx:u.cx,cy:u.cy,r:h[g][y].coord}}));this.group.add(t.mergePath(p,{style:e.defaults({fill:null},m.getLineStyle()),silent:!0}))}},_splitArea:function(l,u,c,f,d){if(d.length){var h=l.getModel("splitArea"),v=h.getModel("areaStyle"),m=v.get("color"),p=0;m=m instanceof Array?m:[m];for(var g=[],y=d[0].coord,x=1;x<d.length;x++){var b=p++%m.length;g[b]=g[b]||[],g[b].push(new t.Sector({shape:{cx:u.cx,cy:u.cy,r0:y,r:d[x].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=d[x].coord}for(var x=0;x<g.length;x++)this.group.add(t.mergePath(g[x],{style:e.defaults({fill:m[x%m.length]},v.getAreaStyle()),silent:!0}))}}});function s(l,u,c){return{position:[l.cx,l.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:u.getModel("axisLabel").get("rotate"),z2:1}}return O_=o,O_}var uF;function o0e(){return uF||(uF=1,CP(),i0e()),sF}var N_,cF;function s0e(){if(cF)return N_;cF=1;var e=Gt,t=wP(),n=$e,r=Qy(),a=Vn,i=fl(),o=Tu(),s=t.extend({makeElOption:function(f,d,h,v,m){var p=h.axis;p.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=p.polar,y=g.getOtherAxis(p),x=y.getExtent(),b;b=p["dataTo"+e.capitalFirst(p.dim)](d);var A=v.get("type");if(A&&A!=="none"){var S=r.buildElStyle(v),_=u[A](p,g,b,x,S);_.style=S,f.graphicKey=_.type,f.pointer=_}var w=v.get("label.margin"),C=l(d,h,v,g,w);r.buildLabelElOption(f,h,v,m,C)}});function l(f,d,h,v,m){var p=d.axis,g=p.dataToCoord(f),y=v.getAngleAxis().getExtent()[0];y=y/180*Math.PI;var x=v.getRadiusAxis().getExtent(),b,A,S;if(p.dim==="radius"){var _=a.create();a.rotate(_,_,y),a.translate(_,_,[v.cx,v.cy]),b=n.applyTransform([g,-m],_);var w=d.getModel("axisLabel").get("rotate")||0,C=i.innerTextLayout(y,w*Math.PI/180,-1);A=C.textAlign,S=C.textVerticalAlign}else{var M=x[1];b=v.coordToPoint([M+m,g]);var T=v.cx,E=v.cy;A=Math.abs(b[0]-T)/M<.3?"center":b[0]>T?"left":"right",S=Math.abs(b[1]-E)/M<.3?"middle":b[1]>E?"top":"bottom"}return{position:b,align:A,verticalAlign:S}}var u={line:function(f,d,h,v,m){return f.dim==="angle"?{type:"Line",shape:r.makeLineShape(d.coordToPoint([v[0],h]),d.coordToPoint([v[1],h]))}:{type:"Circle",shape:{cx:d.cx,cy:d.cy,r:h}}},shadow:function(f,d,h,v,m){var p=Math.max(1,f.getBandWidth()),g=Math.PI/180;return f.dim==="angle"?{type:"Sector",shape:r.makeSectorShape(d.cx,d.cy,v[0],v[1],(-h-p/2)*g,(-h+p/2)*g)}:{type:"Sector",shape:r.makeSectorShape(d.cx,d.cy,h-p/2,h+p/2,0,Math.PI*2)}}};o.registerAxisPointerClass("PolarAxisPointer",s);var c=s;return N_=c,N_}var fF;function l0e(){if(fF)return X3;fF=1;var e=et,t=de,n=Zye();return CP(),a0e(),o0e(),Rv(),s0e(),e.registerLayout(t.curry(n,"bar")),e.extendComponentView({type:"polar"}),X3}var dF={},k_,hF;function u0e(){if(hF)return k_;hF=1;var e=de,t=bt,n=yr,r=Jn,a=vP(),i=yP(),o=n.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(l){n.prototype.init.apply(this,arguments),t.defaultEmphasis(l,"label",["show"])},optionUpdated:function(){var l=this.option,u=this;l.regions=i.getFilledRegions(l.regions,l.map,l.nameMap),this._optionModelMap=e.reduce(l.regions||[],function(c,f){return f.name&&c.set(f.name,new r(f,u)),c},e.createHashMap()),this.updateSelectedMap(l.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(l){return this._optionModelMap.get(l)||new r(null,this,this.ecModel)},getFormattedLabel:function(l,u){u=u||"normal";var c=this.getRegionModel(l),f=c.get((u==="normal"?"":u+".")+"label.formatter"),d={name:l};if(typeof f=="function")return d.status=u,f(d);if(typeof f=="string")return f.replace("{a}",l??"")},setZoom:function(l){this.option.zoom=l},setCenter:function(l){this.option.center=l}});e.mixin(o,a);var s=o;return k_=s,k_}var B_,vF;function c0e(){if(vF)return B_;vF=1;var e=YW(),t=et,n=t.extendComponentView({type:"geo",init:function(r,a){var i=new e(a,!0);this._mapDraw=i,this.group.add(i.group)},render:function(r,a,i,o){if(!(o&&o.type==="geoToggleSelect"&&o.from===this.uid)){var s=this._mapDraw;r.get("show")?s.draw(r,a,i,this,o):this._mapDraw.group.removeAll(),this.group.silent=r.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return B_=n,B_}var pF;function f0e(){if(pF)return dF;pF=1;var e=et,t=de;u0e(),yP(),c0e(),XW();function n(r,a){a.update="updateView",e.registerAction(a,function(i,o){var s={};return o.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var u=l.coordinateSystem;t.each(u.regions,function(c){s[c.name]=l.isSelected(c.name)||!1})}),{selected:s,name:i.name}})}return n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),dF}var gF={},F_,mF;function d0e(){if(mF)return F_;mF=1;var e=de,t=$t,n=Rt(),r=So,a=864e5;function i(l,u,c){this._model=l}i.prototype={constructor:i,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(l){l=n.parseDate(l);var u=l.getFullYear(),c=l.getMonth()+1;c=c<10?"0"+c:c;var f=l.getDate();f=f<10?"0"+f:f;var d=l.getDay();return d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:u,m:c,d:f,day:d,time:l.getTime(),formatedDate:u+"-"+c+"-"+f,date:l}},getNextNDay:function(l,u){return u=u||0,u===0?this.getDateInfo(l):(l=new Date(this.getDateInfo(l).time),l.setDate(l.getDate()+u),this.getDateInfo(l))},update:function(l,u){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,f=["width","height"],d=this._model.get("cellSize").slice(),h=this._model.getBoxLayoutParams(),v=this._orient==="horizontal"?[c,7]:[7,c];e.each([0,1],function(y){g(d,y)&&(h[f[y]]=d[y]*v[y])});var m={width:u.getWidth(),height:u.getHeight()},p=this._rect=t.getLayoutRect(h,m);e.each([0,1],function(y){g(d,y)||(d[y]=p[f[y]]/v[y])});function g(y,x){return y[x]!=null&&y[x]!=="auto"}this._sw=d[0],this._sh=d[1]},dataToPoint:function(l,u){e.isArray(l)&&(l=l[0]),u==null&&(u=!0);var c=this.getDateInfo(l),f=this._rangeInfo,d=c.formatedDate;if(u&&!(c.time>=f.start.time&&c.time<f.end.time+a))return[NaN,NaN];var h=c.day,v=this._getRangeInfo([f.start.time,d]).nthWeek;return this._orient==="vertical"?[this._rect.x+h*this._sw+this._sw/2,this._rect.y+v*this._sh+this._sh/2]:[this._rect.x+v*this._sw+this._sw/2,this._rect.y+h*this._sh+this._sh/2]},pointToData:function(l){var u=this.pointToDate(l);return u&&u.time},dataToRect:function(l,u){var c=this.dataToPoint(l,u);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(l){var u=Math.floor((l[0]-this._rect.x)/this._sw)+1,c=Math.floor((l[1]-this._rect.y)/this._sh)+1,f=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(c,u-1,f):this._getDateByWeeksAndDay(u,c-1,f)},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData"),_initRangeOption:function(){var l=this._model.get("range"),u=l;if(e.isArray(u)&&u.length===1&&(u=u[0]),/^\d{4}$/.test(u)&&(l=[u+"-01-01",u+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(u)){var c=this.getDateInfo(u),f=c.date;f.setMonth(f.getMonth()+1);var d=this.getNextNDay(f,-1);l=[c.formatedDate,d.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(u)&&(l=[u,u]);var h=this._getRangeInfo(l);return h.start.time>h.end.time&&l.reverse(),l},_getRangeInfo:function(l){l=[this.getDateInfo(l[0]),this.getDateInfo(l[1])];var u;l[0].time>l[1].time&&(u=!0,l.reverse());var c=Math.floor(l[1].time/a)-Math.floor(l[0].time/a)+1,f=new Date(l[0].time),d=f.getDate(),h=l[1].date.getDate();f.setDate(d+c-1);var v=f.getDate();if(v!==h)for(var m=f.getTime()-l[1].time>0?1:-1;(v=f.getDate())!==h&&(f.getTime()-l[1].time)*m>0;)c-=m,f.setDate(v-m);var p=Math.floor((c+l[0].day+6)/7),g=u?-p+1:p-1;return u&&l.reverse(),{range:[l[0].formatedDate,l[1].formatedDate],start:l[0],end:l[1],allDay:c,weeks:p,nthWeek:g,fweek:l[0].day,lweek:l[1].day}},_getDateByWeeksAndDay:function(l,u,c){var f=this._getRangeInfo(c);if(l>f.weeks||l===0&&u<f.fweek||l===f.weeks&&u>f.lweek)return!1;var d=(l-1)*7-f.fweek+u,h=new Date(f.start.time);return h.setDate(f.start.d+d),this.getDateInfo(h)}},i.dimensions=i.prototype.dimensions,i.getDimensionsInfo=i.prototype.getDimensionsInfo,i.create=function(l,u){var c=[];return l.eachComponent("calendar",function(f){var d=new i(f);c.push(d),f.coordinateSystem=d}),l.eachSeries(function(f){f.get("coordinateSystem")==="calendar"&&(f.coordinateSystem=c[f.get("calendarIndex")||0])}),c};function o(l,u,c,f){var d=c.calendarModel,h=c.seriesModel,v=d?d.coordinateSystem:h?h.coordinateSystem:null;return v===this?v[l](f):null}r.register("calendar",i);var s=i;return F_=s,F_}var V_,yF;function h0e(){if(yF)return V_;yF=1;var e=de,t=yr,n=$t,r=n.getLayoutParams,a=n.sizeCalculable,i=n.mergeLayoutParam,o=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(u,c,f,d){var h=r(u);o.superApply(this,"init",arguments),s(u,h)},mergeOption:function(u,c){o.superApply(this,"mergeOption",arguments),s(this.option,u)}});function s(u,c){var f=u.cellSize;e.isArray(f)?f.length===1&&(f[1]=f[0]):f=u.cellSize=[f,f];var d=e.map([0,1],function(h){return a(c,h)&&(f[h]="auto"),f[h]!=null&&f[h]!=="auto"});i(u,c,{type:"box",ignoreSize:d})}var l=o;return V_=l,V_}var z_,xF;function v0e(){if(xF)return z_;xF=1;var e=et,t=de,n=$e,r=Gt,a=Rt(),i={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},o={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},s=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(l,u,c){var f=this.group;f.removeAll();var d=l.coordinateSystem,h=d.getRangeInfo(),v=d.getOrient();this._renderDayRect(l,h,f),this._renderLines(l,h,v,f),this._renderYearText(l,h,v,f),this._renderMonthText(l,v,f),this._renderWeekText(l,h,v,f)},_renderDayRect:function(l,u,c){for(var f=l.coordinateSystem,d=l.getModel("itemStyle").getItemStyle(),h=f.getCellWidth(),v=f.getCellHeight(),m=u.start.time;m<=u.end.time;m=f.getNextNDay(m,1).time){var p=f.dataToRect([m],!1).tl,g=new n.Rect({shape:{x:p[0],y:p[1],width:h,height:v},cursor:"default",style:d});c.add(g)}},_renderLines:function(l,u,c,f){var d=this,h=l.coordinateSystem,v=l.getModel("splitLine.lineStyle").getLineStyle(),m=l.get("splitLine.show"),p=v.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=u.start,y=0;g.time<=u.end.time;y++){b(g.formatedDate),y===0&&(g=h.getDateInfo(u.start.y+"-"+u.start.m));var x=g.date;x.setMonth(x.getMonth()+1),g=h.getDateInfo(x)}b(h.getNextNDay(u.end.time,1).formatedDate);function b(A){d._firstDayOfMonth.push(h.getDateInfo(A)),d._firstDayPoints.push(h.dataToRect([A],!1).tl);var S=d._getLinePointsOfOneWeek(l,A,c);d._tlpoints.push(S[0]),d._blpoints.push(S[S.length-1]),m&&d._drawSplitline(S,v,f)}m&&this._drawSplitline(d._getEdgesPoints(d._tlpoints,p,c),v,f),m&&this._drawSplitline(d._getEdgesPoints(d._blpoints,p,c),v,f)},_getEdgesPoints:function(l,u,c){var f=[l[0].slice(),l[l.length-1].slice()],d=c==="horizontal"?0:1;return f[0][d]=f[0][d]-u/2,f[1][d]=f[1][d]+u/2,f},_drawSplitline:function(l,u,c){var f=new n.Polyline({z2:20,shape:{points:l},style:u});c.add(f)},_getLinePointsOfOneWeek:function(l,u,c){var f=l.coordinateSystem;u=f.getDateInfo(u);for(var d=[],h=0;h<7;h++){var v=f.getNextNDay(u.time,h),m=f.dataToRect([v.time],!1);d[2*v.day]=m.tl,d[2*v.day+1]=m[c==="horizontal"?"bl":"tr"]}return d},_formatterLabel:function(l,u){return typeof l=="string"&&l?r.formatTplSimple(l,u):typeof l=="function"?l(u):u.nameMap},_yearTextPositionControl:function(l,u,c,f,d){u=u.slice();var h=["center","bottom"];f==="bottom"?(u[1]+=d,h=["center","top"]):f==="left"?u[0]-=d:f==="right"?(u[0]+=d,h=["center","top"]):u[1]-=d;var v=0;return(f==="left"||f==="right")&&(v=Math.PI/2),{rotation:v,position:u,style:{textAlign:h[0],textVerticalAlign:h[1]}}},_renderYearText:function(l,u,c,f){var d=l.getModel("yearLabel");if(d.get("show")){var h=d.get("margin"),v=d.get("position");v||(v=c!=="horizontal"?"top":"left");var m=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(m[0][0]+m[1][0])/2,g=(m[0][1]+m[1][1])/2,y=c==="horizontal"?0:1,x={top:[p,m[y][1]],bottom:[p,m[1-y][1]],left:[m[1-y][0],g],right:[m[y][0],g]},b=u.start.y;+u.end.y>+u.start.y&&(b=b+"-"+u.end.y);var A=d.get("formatter"),S={start:u.start.y,end:u.end.y,nameMap:b},_=this._formatterLabel(A,S),w=new n.Text({z2:30});n.setTextStyle(w.style,d,{text:_}),w.attr(this._yearTextPositionControl(w,x[v],c,v,h)),f.add(w)}},_monthTextPositionControl:function(l,u,c,f,d){var h="left",v="top",m=l[0],p=l[1];return c==="horizontal"?(p=p+d,u&&(h="center"),f==="start"&&(v="bottom")):(m=m+d,u&&(v="middle"),f==="start"&&(h="right")),{x:m,y:p,textAlign:h,textVerticalAlign:v}},_renderMonthText:function(l,u,c){var f=l.getModel("monthLabel");if(f.get("show")){var d=f.get("nameMap"),h=f.get("margin"),v=f.get("position"),m=f.get("align"),p=[this._tlpoints,this._blpoints];t.isString(d)&&(d=i[d.toUpperCase()]||[]);var g=v==="start"?0:1,y=u==="horizontal"?0:1;h=v==="start"?-h:h;for(var x=m==="center",b=0;b<p[g].length-1;b++){var A=p[g][b].slice(),S=this._firstDayOfMonth[b];if(x){var _=this._firstDayPoints[b];A[y]=(_[y]+p[0][b+1][y])/2}var w=f.get("formatter"),C=d[+S.m-1],M={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:C},T=this._formatterLabel(w,M),E=new n.Text({z2:30});t.extend(n.setTextStyle(E.style,f,{text:T}),this._monthTextPositionControl(A,x,u,v,h)),c.add(E)}}},_weekTextPositionControl:function(l,u,c,f,d){var h="center",v="middle",m=l[0],p=l[1],g=c==="start";return u==="horizontal"?(m=m+f+(g?1:-1)*d[0]/2,h=g?"right":"left"):(p=p+f+(g?1:-1)*d[1]/2,v=g?"bottom":"top"),{x:m,y:p,textAlign:h,textVerticalAlign:v}},_renderWeekText:function(l,u,c,f){var d=l.getModel("dayLabel");if(d.get("show")){var h=l.coordinateSystem,v=d.get("position"),m=d.get("nameMap"),p=d.get("margin"),g=h.getFirstDayOfWeek();t.isString(m)&&(m=o[m.toUpperCase()]||[]);var y=h.getNextNDay(u.end.time,7-u.lweek).time,x=[h.getCellWidth(),h.getCellHeight()];p=a.parsePercent(p,x[c==="horizontal"?0:1]),v==="start"&&(y=h.getNextNDay(u.start.time,-(7+u.fweek)).time,p=-p);for(var b=0;b<7;b++){var A=h.getNextNDay(y,b),S=h.dataToRect([A.time],!1).center,_=b;_=Math.abs((b+g)%7);var w=new n.Text({z2:30});t.extend(n.setTextStyle(w.style,d,{text:m[_]}),this._weekTextPositionControl(S,c,v,p,x)),f.add(w)}}}});return z_=s,z_}var bF;function p0e(){return bF||(bF=1,d0e(),h0e(),v0e()),gF}var SF={},_F;function g0e(){if(_F)return SF;_F=1;var e=et,t=de,n=bt,r=$e,a=$t,i=Rt(),o=i.parsePercent,s={path:null,compoundPath:null,group:r.Group,image:r.Image,text:r.Text};e.registerPreprocessor(function(g){var y=g.graphic;t.isArray(y)?!y[0]||!y[0].elements?g.graphic=[{elements:y}]:g.graphic=[g.graphic[0]]:y&&!y.elements&&(g.graphic=[{elements:[y]}])});var l=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(g){var y=this.option.elements;this.option.elements=null,l.superApply(this,"mergeOption",arguments),this.option.elements=y},optionUpdated:function(g,y){var x=this.option,b=(y?x:g).elements,A=x.elements=y?[]:x.elements,S=[];this._flatten(b,S);var _=n.mappingToExists(A,S);n.makeIdAndName(_);var w=this._elOptionsToUpdate=[];t.each(_,function(M,T){var E=M.option;E&&(w.push(E),h(M,E),v(A,T,E),m(A[T],E))},this);for(var C=A.length-1;C>=0;C--)A[C]==null?A.splice(C,1):delete A[C].$action},_flatten:function(g,y,x){t.each(g,function(b){if(b){x&&(b.parentOption=x),y.push(b);var A=b.children;b.type==="group"&&A&&this._flatten(A,y,b),delete b.children}},this)},useElOptionsToUpdate:function(){var g=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,g}});e.extendComponentView({type:"graphic",init:function(g,y){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(g,y,x){g!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=g,this._updateElements(g),this._relocate(g,x)},_updateElements:function(g){var y=g.useElOptionsToUpdate();if(y){var x=this._elMap,b=this.group;t.each(y,function(A){var S=A.$action,_=A.id,w=x.get(_),C=A.parentId,M=C!=null?x.get(C):b,T=A.style;A.type==="text"&&T&&(A.hv&&A.hv[1]&&(T.textVerticalAlign=T.textBaseline=null),!T.hasOwnProperty("textFill")&&T.fill&&(T.textFill=T.fill),!T.hasOwnProperty("textStroke")&&T.stroke&&(T.textStroke=T.stroke));var E=f(A);!S||S==="merge"?w?w.attr(E):u(_,M,E,x):S==="replace"?(c(w,x),u(_,M,E,x)):S==="remove"&&c(w,x);var P=x.get(_);P&&(P.__ecGraphicWidthOption=A.width,P.__ecGraphicHeightOption=A.height,p(P,g))})}},_relocate:function(g,y){for(var x=g.option.elements,b=this.group,A=this._elMap,S=y.getWidth(),_=y.getHeight(),w=0;w<x.length;w++){var C=x[w],M=A.get(C.id);if(!(!M||!M.isGroup)){var T=M.parent,E=T===b;M.__ecGraphicWidth=o(M.__ecGraphicWidthOption,E?S:T.__ecGraphicWidth)||0,M.__ecGraphicHeight=o(M.__ecGraphicHeightOption,E?_:T.__ecGraphicHeight)||0}}for(var w=x.length-1;w>=0;w--){var C=x[w],M=A.get(C.id);if(M){var T=M.parent,P=T===b?{width:S,height:_}:{width:T.__ecGraphicWidth,height:T.__ecGraphicHeight};a.positionElement(M,C,P,null,{hv:C.hv,boundingMode:C.bounding})}}},_clear:function(){var g=this._elMap;g.each(function(y){c(y,g)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function u(g,y,x,b){var A=x.type,S=s.hasOwnProperty(A)?s[A]:r.getShapeClass(A),_=new S(x);y.add(_),b.set(g,_),_.__ecGraphicId=g}function c(g,y){var x=g&&g.parent;x&&(g.type==="group"&&g.traverse(function(b){c(b,y)}),y.removeKey(g.__ecGraphicId),x.remove(g))}function f(g){return g=t.extend({},g),t.each(["id","parentId","$action","hv","bounding"].concat(a.LOCATION_PARAMS),function(y){delete g[y]}),g}function d(g,y){var x;return t.each(y,function(b){g[b]!=null&&g[b]!=="auto"&&(x=!0)}),x}function h(g,y){var x=g.exist;if(y.id=g.keyInfo.id,!y.type&&x&&(y.type=x.type),y.parentId==null){var b=y.parentOption;b?y.parentId=b.id:x&&(y.parentId=x.parentId)}y.parentOption=null}function v(g,y,x){var b=t.extend({},x),A=g[y],S=x.$action||"merge";S==="merge"?A?(t.merge(A,b,!0),a.mergeLayoutParam(A,b,{ignoreSize:!0}),a.copyLayoutParams(x,A)):g[y]=b:S==="replace"?g[y]=b:S==="remove"&&A&&(g[y]=null)}function m(g,y){g&&(g.hv=y.hv=[d(y,["left","right"]),d(y,["top","bottom"])],g.type==="group"&&(g.width==null&&(g.width=y.width=0),g.height==null&&(g.height=y.height=0)))}function p(g,y,x){var b=g.eventData;!g.silent&&!g.ignore&&!b&&(b=g.eventData={componentType:"graphic",componentIndex:y.componentIndex,name:g.name}),b&&(b.info=g.info)}return SF}var AF={},Lp={},wF;function dl(){if(wF)return Lp;wF=1;var e={};function t(r,a){e[r]=a}function n(r){return e[r]}return Lp.register=t,Lp.get=n,Lp}var U_,CF;function m0e(){if(CF)return U_;CF=1;var e=et,t=de,n=dl(),r=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){r.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(i,o){var s=n.get(o);s&&t.merge(i,s.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}}),a=r;return U_=a,U_}var Op={},MF;function h9(){if(MF)return Op;MF=1;var e=$t,t=e.getLayoutRect,n=e.box,r=e.positionElement,a=Gt,i=$e;function o(l,u,c){var f=u.getBoxLayoutParams(),d=u.get("padding"),h={width:c.getWidth(),height:c.getHeight()},v=t(f,h,d);n(u.get("orient"),l,u.get("itemGap"),v.width,v.height),r(l,f,h,d)}function s(d,u){var c=a.normalizeCssArray(u.get("padding")),f=u.getItemStyle(["color","opacity"]);f.fill=u.get("backgroundColor");var d=new i.Rect({shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[1]+c[3],height:d.height+c[0]+c[2],r:u.get("borderRadius")},style:f,silent:!0,z2:-1});return d}return Op.layout=o,Op.makeBackground=s,Op}var H_,TF;function y0e(){if(TF)return H_;TF=1;var e=et,t=de,n=wn,r=dl(),a=$e,i=Jn,o=Cu(),s=h9(),l=e.extendComponentView({type:"toolbox",render:function(c,f,d,h){var v=this.group;if(v.removeAll(),!c.get("show"))return;var m=+c.get("itemSize"),p=c.get("feature")||{},g=this._features||(this._features={}),y=[];t.each(p,function(A,S){y.push(S)}),new o(this._featureNames||[],y).add(x).update(x).remove(t.curry(x,null)).execute(),this._featureNames=y;function x(A,S){var _=y[A],w=y[S],C=p[_],M=new i(C,c,c.ecModel),T;if(h&&h.newTitle!=null&&h.featureName===_&&(C.title=h.newTitle),_&&!w){if(u(_))T={model:M,onclick:M.option.onclick,featureName:_};else{var E=r.get(_);if(!E)return;T=new E(M,f,d)}g[_]=T}else{if(T=g[w],!T)return;T.model=M,T.ecModel=f,T.api=d}if(!_&&w){T.dispose&&T.dispose(f,d);return}if(!M.get("show")||T.unusable){T.remove&&T.remove(f,d);return}b(M,T,_),M.setIconStatus=function(P,R){var I=this.option,D=this.iconPaths;I.iconStatus=I.iconStatus||{},I.iconStatus[P]=R,D[P]&&D[P].trigger(R)},T.render&&T.render(M,f,d,h)}function b(A,S,_){var w=A.getModel("iconStyle"),C=A.getModel("emphasis.iconStyle"),M=S.getIcons?S.getIcons():A.get("icon"),T=A.get("title")||{};if(typeof M=="string"){var E=M,P=T;M={},T={},M[_]=E,T[_]=P}var R=A.iconPaths={};t.each(M,function(I,D){var B=a.createIcon(I,{},{x:-m/2,y:-m/2,width:m,height:m});B.setStyle(w.getItemStyle()),B.hoverStyle=C.getItemStyle(),B.setStyle({text:T[D],textAlign:C.get("textAlign"),textBorderRadius:C.get("textBorderRadius"),textPadding:C.get("textPadding"),textFill:null});var F=c.getModel("tooltip");F&&F.get("show")&&B.attr("tooltip",t.extend({content:T[D],formatter:F.get("formatter",!0)||function(){return T[D]},formatterParams:{componentType:"toolbox",name:D,title:T[D],$vars:["name","title"]},position:F.get("position",!0)||"bottom"},F.option)),a.setHoverStyle(B),c.get("showTitle")&&(B.__title=T[D],B.on("mouseover",function(){var G=C.getItemStyle(),z=c.get("orient")==="vertical"?c.get("right")==null?"right":"left":c.get("bottom")==null?"bottom":"top";B.setStyle({textFill:C.get("textFill")||G.fill||G.stroke||"#000",textBackgroundColor:C.get("textBackgroundColor"),textPosition:C.get("textPosition")||z})}).on("mouseout",function(){B.setStyle({textFill:null,textBackgroundColor:null})})),B.trigger(A.get("iconStatus."+D)||"normal"),v.add(B),B.on("click",t.bind(S.onclick,S,f,d,D)),R[D]=B})}s.layout(v,c,d),v.add(s.makeBackground(v.getBoundingRect(),c)),v.eachChild(function(A){var S=A.__title,_=A.hoverStyle;if(_&&S){var w=n.getBoundingRect(S,n.makeFont(_)),C=A.position[0]+v.position[0],M=A.position[1]+v.position[1]+m,T=!1;M+w.height>d.getHeight()&&(_.textPosition="top",T=!0);var E=T?-5-w.height:m+8;C+w.width/2>d.getWidth()?(_.textPosition=["100%",E],_.textAlign="right"):C-w.width/2<0&&(_.textPosition=[0,E],_.textAlign="left")}})},updateView:function(c,f,d,h){t.each(this._features,function(v){v.updateView&&v.updateView(v.model,f,d,h)})},remove:function(c,f){t.each(this._features,function(d){d.remove&&d.remove(c,f)}),this.group.removeAll()},dispose:function(c,f){t.each(this._features,function(d){d.dispose&&d.dispose(c,f)})}});function u(c){return c.indexOf("my")===0}return H_=l,H_}var $_,EF;function x0e(){if(EF)return $_;EF=1;var e=Qn,t=ul,n=dl(),r=t.toolbox.saveAsImage;function a(s){this.model=s}a.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:r.lang.slice()},a.prototype.unusable=!e.canvasSupported;var i=a.prototype;i.onclick=function(s,l){var u=this.model,c=u.get("name")||s.get("title.0.text")||"echarts",f=l.getZr().painter.getType()==="svg",d=f?"svg":u.get("type",!0)||"png",h=l.getConnectedDataURL({type:d,backgroundColor:u.get("backgroundColor",!0)||s.get("backgroundColor")||"#fff",connectedBackgroundColor:u.get("connectedBackgroundColor"),excludeComponents:u.get("excludeComponents"),pixelRatio:u.get("pixelRatio")});if(typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var v=document.createElement("a");v.download=c+"."+d,v.target="_blank",v.href=h;var m=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});v.dispatchEvent(m)}else if(window.navigator.msSaveOrOpenBlob){for(var p=atob(h.split(",")[1]),g=p.length,y=new Uint8Array(g);g--;)y[g]=p.charCodeAt(g);var x=new Blob([y]);window.navigator.msSaveOrOpenBlob(x,c+"."+d)}else{var b=u.get("lang"),A='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(b&&b[0]||"")+'" /></body>',S=window.open();S.document.write(A)}},n.register("saveAsImage",a);var o=a;return $_=o,$_}var G_,PF;function b0e(){if(PF)return G_;PF=1;var e=et,t=de,n=ul,r=dl(),a=n.toolbox.magicType,i="__ec_magicType_stack__";function o(f){this.model=f}o.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.clone(a.title),option:{},seriesIndex:{}};var s=o.prototype;s.getIcons=function(){var f=this.model,d=f.get("icon"),h={};return t.each(f.get("type"),function(v){d[v]&&(h[v]=d[v])}),h};var l={line:function(f,d,h,v){if(f==="bar")return t.merge({id:d,type:"line",data:h.get("data"),stack:h.get("stack"),markPoint:h.get("markPoint"),markLine:h.get("markLine")},v.get("option.line")||{},!0)},bar:function(f,d,h,v){if(f==="line")return t.merge({id:d,type:"bar",data:h.get("data"),stack:h.get("stack"),markPoint:h.get("markPoint"),markLine:h.get("markLine")},v.get("option.bar")||{},!0)},stack:function(f,d,h,v){var m=h.get("stack")===i;if(f==="line"||f==="bar")return v.setIconStatus("stack",m?"normal":"emphasis"),t.merge({id:d,stack:m?"":i},v.get("option.stack")||{},!0)}},u=[["line","bar"],["stack"]];s.onclick=function(f,d,h){var v=this.model,m=v.get("seriesIndex."+h);if(l[h]){var p={series:[]},g=function(b){var A=b.subType,S=b.id,_=l[h](A,S,b,v);_&&(t.defaults(_,b.option),p.series.push(_));var w=b.coordinateSystem;if(w&&w.type==="cartesian2d"&&(h==="line"||h==="bar")){var C=w.getAxesByScale("ordinal")[0];if(C){var M=C.dim,T=M+"Axis",E=f.queryComponents({mainType:T,index:b.get(name+"Index"),id:b.get(name+"Id")})[0],P=E.componentIndex;p[T]=p[T]||[];for(var R=0;R<=P;R++)p[T][P]=p[T][P]||{};p[T][P].boundaryGap=h==="bar"}}};t.each(u,function(b){t.indexOf(b,h)>=0&&t.each(b,function(A){v.setIconStatus(A,"normal")})}),v.setIconStatus(h,"emphasis"),f.eachComponent({mainType:"series",query:m==null?null:{seriesIndex:m}},g);var y;if(h==="stack"){var x=p.series&&p.series[0]&&p.series[0].stack===i;y=x?t.merge({stack:a.title.tiled},a.title):t.clone(a.title)}d.dispatchAction({type:"changeMagicType",currentType:h,newOption:p,newTitle:y,featureName:"magicType"})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(f,d){d.mergeOption(f.newOption)}),r.register("magicType",o);var c=o;return G_=c,G_}var W_,RF;function S0e(){if(RF)return W_;RF=1;var e=et,t=de,n=mr,r=ul,a=dl(),i=r.toolbox.dataView,o=new Array(60).join("-"),s="	";function l(A){var S={},_=[],w=[];return A.eachRawSeries(function(C){var M=C.coordinateSystem;if(M&&(M.type==="cartesian2d"||M.type==="polar")){var T=M.getBaseAxis();if(T.type==="category"){var E=T.dim+"_"+T.index;S[E]||(S[E]={categoryAxis:T,valueAxis:M.getOtherAxis(T),series:[]},w.push({axisDim:T.dim,axisIndex:T.index})),S[E].series.push(C)}else _.push(C)}else _.push(C)}),{seriesGroupByCategoryAxis:S,other:_,meta:w}}function u(A){var S=[];return t.each(A,function(_,w){var C=_.categoryAxis,M=_.valueAxis,T=M.dim,E=[" "].concat(t.map(_.series,function(F){return F.name})),P=[C.model.getCategories()];t.each(_.series,function(F){var G=F.getRawData();P.push(F.getRawData().mapArray(G.mapDimension(T),function(z){return z}))});for(var R=[E.join(s)],I=0;I<P[0].length;I++){for(var D=[],B=0;B<P.length;B++)D.push(P[B][I]);R.push(D.join(s))}S.push(R.join(`
`))}),S.join(`

`+o+`

`)}function c(A){return t.map(A,function(S){var _=S.getRawData(),w=[S.name],C=[];return _.each(_.dimensions,function(){for(var M=arguments.length,T=arguments[M-1],E=_.getName(T),P=0;P<M-1;P++)C[P]=arguments[P];w.push((E?E+s:"")+C.join(s))}),w.join(`
`)}).join(`

`+o+`

`)}function f(A){var S=l(A);return{value:t.filter([u(S.seriesGroupByCategoryAxis),c(S.other)],function(_){return _.replace(/[\n\t\s]/g,"")}).join(`

`+o+`

`),meta:S.meta}}function d(A){return A.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function h(A){var S=A.slice(0,A.indexOf(`
`));if(S.indexOf(s)>=0)return!0}var v=new RegExp("["+s+"]+","g");function m(A){for(var S=A.split(/\n+/g),_=d(S.shift()).split(v),w=[],C=t.map(_,function(P){return{name:P,data:[]}}),M=0;M<S.length;M++){var T=d(S[M]).split(v);w.push(T.shift());for(var E=0;E<T.length;E++)C[E]&&(C[E].data[M]=T[E])}return{series:C,categories:w}}function p(A){for(var S=A.split(/\n+/g),_=d(S.shift()),w=[],C=0;C<S.length;C++){var M=d(S[C]);if(M){var T=M.split(v),E="",P,R=!1;isNaN(T[0])?(R=!0,E=T[0],T=T.slice(1),w[C]={name:E,value:[]},P=w[C].value):P=w[C]=[];for(var I=0;I<T.length;I++)P.push(+T[I]);P.length===1&&(R?w[C].value=P[0]:w[C]=P[0])}}return{name:_,data:w}}function g(A,S){var _=A.split(new RegExp(`
*`+o+`
*`,"g")),w={series:[]};return t.each(_,function(C,M){if(h(C)){var T=m(C),E=S[M],P=E.axisDim+"Axis";E&&(w[P]=w[P]||[],w[P][E.axisIndex]={data:T.categories},w.series=w.series.concat(T.series))}else{var T=p(C);w.series.push(T)}}),w}function y(A){this._dom=null,this.model=A}y.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(i.title),lang:t.clone(i.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},y.prototype.onclick=function(A,S){var _=S.getDom(),w=this.model;this._dom&&_.removeChild(this._dom);var C=document.createElement("div");C.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",C.style.backgroundColor=w.get("backgroundColor")||"#fff";var M=document.createElement("h4"),T=w.get("lang")||[];M.innerHTML=T[0]||w.get("title"),M.style.cssText="margin: 10px 20px;",M.style.color=w.get("textColor");var E=document.createElement("div"),P=document.createElement("textarea");E.style.cssText="display:block;width:100%;overflow:auto;";var R=w.get("optionToContent"),I=w.get("contentToOption"),D=f(A);if(typeof R=="function"){var B=R(S.getOption());typeof B=="string"?E.innerHTML=B:t.isDom(B)&&E.appendChild(B)}else E.appendChild(P),P.readOnly=w.get("readOnly"),P.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",P.style.color=w.get("textColor"),P.style.borderColor=w.get("textareaBorderColor"),P.style.backgroundColor=w.get("textareaColor"),P.value=D.value;var F=D.meta,G=document.createElement("div");G.style.cssText="position:absolute;bottom:0;left:0;right:0;";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",N=document.createElement("div"),U=document.createElement("div");z+=";background-color:"+w.get("buttonColor"),z+=";color:"+w.get("buttonTextColor");var $=this;function k(){_.removeChild(C),$._dom=null}n.addEventListener(N,"click",k),n.addEventListener(U,"click",function(){var V;try{typeof I=="function"?V=I(E,S.getOption()):V=g(P.value,F)}catch(L){throw k(),new Error("Data view format error "+L)}V&&S.dispatchAction({type:"changeDataView",newOption:V}),k()}),N.innerHTML=T[1],U.innerHTML=T[2],U.style.cssText=z,N.style.cssText=z,!w.get("readOnly")&&G.appendChild(U),G.appendChild(N),C.appendChild(M),C.appendChild(E),C.appendChild(G),E.style.height=_.clientHeight-80+"px",_.appendChild(C),this._dom=C},y.prototype.remove=function(A,S){this._dom&&S.getDom().removeChild(this._dom)},y.prototype.dispose=function(A,S){this.remove(A,S)};function x(A,S){return t.map(A,function(_,w){var C=S&&S[w];if(t.isObject(C)&&!t.isArray(C)){var M=t.isObject(_)&&!t.isArray(_);M||(_={value:_});var T=C.name!=null&&_.name==null;return _=t.defaults(_,C),T&&delete _.name,_}else return _})}a.register("dataView",y),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(A,S){var _=[];t.each(A.newOption.series,function(w){var C=S.getSeriesByName(w.name)[0];if(!C)_.push(t.extend({type:"scatter"},w));else{var M=C.get("data");_.push({name:w.name,data:x(w.data,M)})}}),S.mergeOption(t.defaults({series:_},A.newOption))});var b=y;return W_=b,W_}var j_,IF;function v9(){if(IF)return j_;IF=1;var e=de,t=$e,n=bt,r=n9(),a=e.each,i=e.indexOf,o=e.curry,s=["dataToPoint","pointToData"],l=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function u(_,w,C){var M=this._targetInfoList=[],T={},E=d(w,_);a(h,function(P,R){(!C||!C.include||i(C.include,R)>=0)&&P(E,M,T)})}var c=u.prototype;c.setOutputRanges=function(_,w){this.matchOutputRanges(_,w,function(C,M,T){if((C.coordRanges||(C.coordRanges=[])).push(M),!C.coordRange){C.coordRange=M;var E=p[C.brushType](0,T,M);C.__rangeOffset={offset:y[C.brushType](E.values,C.range,[1,1]),xyMinMax:E.xyMinMax}}})},c.matchOutputRanges=function(_,w,C){a(_,function(M){var T=this.findTargetInfo(M,w);T&&T!==!0&&e.each(T.coordSyses,function(E){var P=p[M.brushType](1,E,M.range);C(M,P.values,E,w)})},this)},c.setInputRanges=function(_,w){a(_,function(C){var M=this.findTargetInfo(C,w);if(C.range=C.range||[],M&&M!==!0){C.panelId=M.panelId;var T=p[C.brushType](0,M.coordSys,C.coordRange),E=C.__rangeOffset;C.range=E?y[C.brushType](T.values,E.offset,b(T.xyMinMax,E.xyMinMax)):T.values}},this)},c.makePanelOpts=function(_,w){return e.map(this._targetInfoList,function(C){var M=C.getPanelRect();return{panelId:C.panelId,defaultBrushType:w&&w(C),clipPath:r.makeRectPanelClipPath(M),isTargetByCursor:r.makeRectIsTargetByCursor(M,_,C.coordSysModel),getLinearBrushOtherExtent:r.makeLinearBrushOtherExtent(M)}})},c.controlSeries=function(_,w,C){var M=this.findTargetInfo(_,C);return M===!0||M&&i(M.coordSyses,w.coordinateSystem)>=0},c.findTargetInfo=function(_,w){for(var C=this._targetInfoList,M=d(w,_),T=0;T<C.length;T++){var E=C[T],P=_.panelId;if(P){if(E.panelId===P)return E}else for(var T=0;T<v.length;T++)if(v[T](M,E))return E}return!0};function f(_){return _[0]>_[1]&&_.reverse(),_}function d(_,w){return n.parseFinder(_,w,{includeMainTypes:l})}var h={grid:function(_,w){var C=_.xAxisModels,M=_.yAxisModels,T=_.gridModels,E=e.createHashMap(),P={},R={};!C&&!M&&!T||(a(C,function(I){var D=I.axis.grid.model;E.set(D.id,D),P[D.id]=!0}),a(M,function(I){var D=I.axis.grid.model;E.set(D.id,D),R[D.id]=!0}),a(T,function(I){E.set(I.id,I),P[I.id]=!0,R[I.id]=!0}),E.each(function(I){var D=I.coordinateSystem,B=[];a(D.getCartesians(),function(F,G){(i(C,F.getAxis("x").model)>=0||i(M,F.getAxis("y").model)>=0)&&B.push(F)}),w.push({panelId:"grid--"+I.id,gridModel:I,coordSysModel:I,coordSys:B[0],coordSyses:B,getPanelRect:m.grid,xAxisDeclared:P[I.id],yAxisDeclared:R[I.id]})}))},geo:function(_,w){a(_.geoModels,function(C){var M=C.coordinateSystem;w.push({panelId:"geo--"+C.id,geoModel:C,coordSysModel:C,coordSys:M,coordSyses:[M],getPanelRect:m.geo})})}},v=[function(_,w){var C=_.xAxisModel,M=_.yAxisModel,T=_.gridModel;return!T&&C&&(T=C.axis.grid.model),!T&&M&&(T=M.axis.grid.model),T&&T===w.gridModel},function(_,w){var C=_.geoModel;return C&&C===w.geoModel}],m={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var _=this.coordSys,w=_.getBoundingRect().clone();return w.applyTransform(t.getTransform(_)),w}},p={lineX:o(g,0),lineY:o(g,1),rect:function(_,w,C){var M=w[s[_]]([C[0][0],C[1][0]]),T=w[s[_]]([C[0][1],C[1][1]]),E=[f([M[0],T[0]]),f([M[1],T[1]])];return{values:E,xyMinMax:E}},polygon:function(_,w,C){var M=[[1/0,-1/0],[1/0,-1/0]],T=e.map(C,function(E){var P=w[s[_]](E);return M[0][0]=Math.min(M[0][0],P[0]),M[1][0]=Math.min(M[1][0],P[1]),M[0][1]=Math.max(M[0][1],P[0]),M[1][1]=Math.max(M[1][1],P[1]),P});return{values:T,xyMinMax:M}}};function g(_,w,C,M){var T=C.getAxis(["x","y"][_]),E=f(e.map([0,1],function(R){return w?T.coordToData(T.toLocalCoord(M[R])):T.toGlobalCoord(T.dataToCoord(M[R]))})),P=[];return P[_]=E,P[1-_]=[NaN,NaN],{values:E,xyMinMax:P}}var y={lineX:o(x,0),lineY:o(x,1),rect:function(_,w,C){return[[_[0][0]-C[0]*w[0][0],_[0][1]-C[0]*w[0][1]],[_[1][0]-C[1]*w[1][0],_[1][1]-C[1]*w[1][1]]]},polygon:function(_,w,C){return e.map(_,function(M,T){return[M[0]-C[0]*w[T][0],M[1]-C[1]*w[T][1]]})}};function x(_,w,C,M){return[w[0]-M[_]*C[0],w[1]-M[_]*C[1]]}function b(_,w){var C=A(_),M=A(w),T=[C[0]/M[0],C[1]/M[1]];return isNaN(T[0])&&(T[0]=1),isNaN(T[1])&&(T[1]=1),T}function A(_){return _?[_[0][1]-_[0][0],_[1][1]-_[1][0]]:[NaN,NaN]}var S=u;return j_=S,j_}var qu={},DF;function p9(){if(DF)return qu;DF=1;var e=de,t=e.each,n="\0_ec_hist_store";function r(l,u){var c=s(l);t(u,function(f,d){for(var h=c.length-1;h>=0;h--){var v=c[h];if(v[d])break}if(h<0){var m=l.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0];if(m){var p=m.getPercentRange();c[0][d]={dataZoomId:d,start:p[0],end:p[1]}}}}),c.push(u)}function a(l){var u=s(l),c=u[u.length-1];u.length>1&&u.pop();var f={};return t(c,function(d,h){for(var v=u.length-1;v>=0;v--){var d=u[v][h];if(d){f[h]=d;break}}}),f}function i(l){l[n]=null}function o(l){return s(l).length}function s(l){var u=l[n];return u||(u=l[n]=[{}]),u}return qu.push=r,qu.pop=a,qu.clear=i,qu.count=o,qu}var LF={},OF={},NF;function MP(){if(NF)return OF;NF=1;var e=yr;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),OF}var Ku={},kF;function TP(){if(kF)return Ku;kF=1;var e=de,t=Gt,n=["x","y","z","radius","angle","single"],r=["cartesian2d","polar","singleAxis"];function a(l){return e.indexOf(r,l)>=0}function i(l,u){l=l.slice();var c=e.map(l,t.capitalFirst);u=(u||[]).slice();var f=e.map(u,t.capitalFirst);return function(d,h){e.each(l,function(v,m){for(var p={name:v,capital:c[m]},g=0;g<u.length;g++)p[u[g]]=v+f[g];d.call(h,p)})}}var o=i(n,["axisIndex","axis","index","id"]);function s(l,u,c){return function(v){var m={nodes:[],records:{}};if(u(function(y){m.records[y.name]={}}),!v)return m;h(v,m);var p;do p=!1,l(g);while(p);function g(y){!f(y,m)&&d(y,m)&&(h(y,m),p=!0)}return m};function f(v,m){return e.indexOf(m.nodes,v)>=0}function d(v,m){var p=!1;return u(function(g){e.each(c(v,g)||[],function(y){m.records[g.name][y]&&(p=!0)})}),p}function h(v,m){m.nodes.push(v),u(function(p){e.each(c(v,p)||[],function(g){m.records[p.name][g]=!0})})}}return Ku.isCoordSupported=a,Ku.createNameEach=i,Ku.eachAxisDim=o,Ku.createLinkedNodesFinder=s,Ku}var Y_,BF;function _0e(){if(BF)return Y_;BF=1;var e=de,t=Rt(),n=TP(),r=Hf(),a=e.each,i=t.asc,o=function(d,h,v,m){this._dimName=d,this._axisIndex=h,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=m,this._dataZoomModel=v};o.prototype={constructor:o,hostedBy:function(d){return this._dataZoomModel===d},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var d=[],h=this.ecModel;return h.eachSeries(function(v){if(n.isCoordSupported(v.get("coordinateSystem"))){var m=this._dimName,p=h.queryComponents({mainType:m+"Axis",index:v.get(m+"AxisIndex"),id:v.get(m+"AxisId")})[0];this._axisIndex===(p&&p.componentIndex)&&d.push(v)}},this),d},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var d=this._dimName,h=this.ecModel,v=this.getAxisModel(),m=d==="x"||d==="y",p,g;m?(g="gridIndex",p=d==="x"?"y":"x"):(g="polarIndex",p=d==="angle"?"radius":"angle");var y;return h.eachComponent(p+"Axis",function(x){(x.get(g)||0)===(v.get(g)||0)&&(y=x)}),y},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(d){var h=this._dataExtent,v=this.getAxisModel(),m=v.axis.scale,p=this._dataZoomModel.getRangePropMode(),g=[0,100],y=[],x=[],b;a(["start","end"],function(_,w){var C=d[_],M=d[_+"Value"];p[w]==="percent"?(C==null&&(C=g[w]),M=m.parse(t.linearMap(C,g,h))):(b=!0,M=M==null?h[w]:m.parse(M),C=t.linearMap(M,h,g)),x[w]=M,y[w]=C}),i(x),i(y);var A=this._minMaxSpan;b?S(x,y,h,g,!1):S(y,x,g,h,!0);function S(_,w,C,M,T){var E=T?"Span":"ValueSpan";r(0,_,C,"all",A["min"+E],A["max"+E]);for(var P=0;P<2;P++)w[P]=t.linearMap(_[P],C,M,!0),T&&(w[P]=m.parse(w[P]))}return{valueWindow:x,percentWindow:y}},reset:function(d){if(d===this._dataZoomModel){var h=this.getTargetSeriesModels();this._dataExtent=s(this,this._dimName,h),c(this);var v=this.calculateDataWindow(d.settledOption);this._valueWindow=v.valueWindow,this._percentWindow=v.percentWindow,u(this)}},restore:function(d){d===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,u(this,!0))},filterData:function(d,h){if(d!==this._dataZoomModel)return;var v=this._dimName,m=this.getTargetSeriesModels(),p=d.get("filterMode"),g=this._valueWindow;if(p==="none")return;a(m,function(x){var b=x.getData(),A=b.mapDimension(v,!0);A.length&&(p==="weakFilter"?b.filterSelf(function(S){for(var _,w,C,M=0;M<A.length;M++){var T=b.get(A[M],S),E=!isNaN(T),P=T<g[0],R=T>g[1];if(E&&!P&&!R)return!0;E&&(C=!0),P&&(_=!0),R&&(w=!0)}return C&&_&&w}):a(A,function(S){if(p==="empty")x.setData(b=b.map(S,function(w){return y(w)?w:NaN}));else{var _={};_[S]=g,b.selectRange(_)}}),a(A,function(S){b.setApproximateExtent(g,S)}))});function y(x){return x>=g[0]&&x<=g[1]}}};function s(d,h,v){var m=[1/0,-1/0];return a(v,function(p){var g=p.getData();g&&a(g.mapDimension(h,!0),function(y){var x=g.getApproximateExtent(y);x[0]<m[0]&&(m[0]=x[0]),x[1]>m[1]&&(m[1]=x[1])})}),m[1]<m[0]&&(m=[NaN,NaN]),l(d,m),m}function l(d,h){var v=d.getAxisModel(),m=v.getMin(!0),p=v.get("type")==="category",g=p&&v.getCategories().length;m!=null&&m!=="dataMin"&&typeof m!="function"?h[0]=m:p&&(h[0]=g>0?0:NaN);var y=v.getMax(!0);return y!=null&&y!=="dataMax"&&typeof y!="function"?h[1]=y:p&&(h[1]=g>0?g-1:NaN),v.get("scale",!0)||(h[0]>0&&(h[0]=0),h[1]<0&&(h[1]=0)),h}function u(d,h){var v=d.getAxisModel(),m=d._percentWindow,p=d._valueWindow;if(m){var g=t.getPixelPrecision(p,[0,500]);g=Math.min(g,20);var y=h||m[0]===0&&m[1]===100;v.setRange(y?null:+p[0].toFixed(g),y?null:+p[1].toFixed(g))}}function c(d){var h=d._minMaxSpan={},v=d._dataZoomModel,m=d._dataExtent;a(["min","max"],function(p){var g=v.get(p+"Span"),y=v.get(p+"ValueSpan");y!=null&&(y=d.getAxisModel().axis.scale.parse(y)),y!=null?g=t.linearMap(m[0]+y,m,[0,100],!0):g!=null&&(y=t.linearMap(g,[0,100],m,!0)-m[0]),h[p+"Span"]=g,h[p+"ValueSpan"]=y})}var f=o;return Y_=f,Y_}var X_,FF;function $f(){if(FF)return X_;FF=1;var e=et,t=de,n=Qn,r=bt,a=TP(),i=_0e(),o=t.each,s=a.eachAxisDim,l=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(d,h,v){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var m=u(d);this.settledOption=m,this.mergeDefaultAndTheme(d,v),this.doInit(m)},mergeOption:function(d){var h=u(d);t.merge(this.option,d,!0),t.merge(this.settledOption,h,!0),this.doInit(h)},doInit:function(d){var h=this.option;n.canvasSupported||(h.realtime=!1),this._setDefaultThrottle(d),c(this,d);var v=this.settledOption;o([["start","startValue"],["end","endValue"]],function(m,p){this._rangePropMode[p]==="value"&&(h[m[0]]=v[m[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var d=this._axisProxies;this.eachTargetAxis(function(h,v,m,p){var g=this.dependentModels[h.axis][v],y=g.__dzAxisProxy||(g.__dzAxisProxy=new i(h.name,v,this,p));d[h.name+"_"+v]=y},this)},_resetTarget:function(){var d=this.option,h=this._judgeAutoMode();s(function(v){var m=v.axisIndex;d[m]=r.normalizeToArray(d[m])},this),h==="axisIndex"?this._autoSetAxisIndex():h==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var d=this.option,h=!1;s(function(m){d[m.axisIndex]!=null&&(h=!0)},this);var v=d.orient;if(v==null&&h)return"orient";if(!h)return v==null&&(d.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var d=!0,h=this.get("orient",!0),v=this.option,m=this.dependentModels;if(d){var p=h==="vertical"?"y":"x";m[p+"Axis"].length?(v[p+"AxisIndex"]=[0],d=!1):o(m.singleAxis,function(g){d&&g.get("orient",!0)===h&&(v.singleAxisIndex=[g.componentIndex],d=!1)})}d&&s(function(g){if(d){var y=[],x=this.dependentModels[g.axis];if(x.length&&!y.length)for(var b=0,A=x.length;b<A;b++)x[b].get("type")==="category"&&y.push(b);v[g.axisIndex]=y,y.length&&(d=!1)}},this),d&&this.ecModel.eachSeries(function(g){this._isSeriesHasAllAxesTypeOf(g,"value")&&s(function(y){var x=v[y.axisIndex],b=g.get(y.axisIndex),A=g.get(y.axisId),S=g.ecModel.queryComponents({mainType:y.axis,index:b,id:A})[0];b=S.componentIndex,t.indexOf(x,b)<0&&x.push(b)})},this)},_autoSetOrient:function(){var d;this.eachTargetAxis(function(h){!d&&(d=h.name)},this),this.option.orient=d==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(d,h){var v=!0;return s(function(m){var p=d.get(m.axisIndex),g=this.dependentModels[m.axis][p];(!g||g.get("type")!==h)&&(v=!1)},this),v},_setDefaultThrottle:function(d){if(d.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var h=this.ecModel.option;this.option.throttle=h.animation&&h.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var d;return s(function(h){if(d==null){var v=this.get(h.axisIndex);v.length&&(d=this.dependentModels[h.axis][v[0]])}},this),d},eachTargetAxis:function(d,h){var v=this.ecModel;s(function(m){o(this.get(m.axisIndex),function(p){d.call(h,m,p,this,v)},this)},this)},getAxisProxy:function(d,h){return this._axisProxies[d+"_"+h]},getAxisModel:function(d,h){var v=this.getAxisProxy(d,h);return v&&v.getAxisModel()},setRawRange:function(d){var h=this.option,v=this.settledOption;o([["start","startValue"],["end","endValue"]],function(m){(d[m[0]]!=null||d[m[1]]!=null)&&(h[m[0]]=v[m[0]]=d[m[0]],h[m[1]]=v[m[1]]=d[m[1]])},this),c(this,d)},setCalculatedRange:function(d){var h=this.option;o(["start","startValue","end","endValue"],function(v){h[v]=d[v]})},getPercentRange:function(){var d=this.findRepresentativeAxisProxy();if(d)return d.getDataPercentWindow()},getValueRange:function(d,h){if(d==null&&h==null){var v=this.findRepresentativeAxisProxy();if(v)return v.getDataValueWindow()}else return this.getAxisProxy(d,h).getDataValueWindow()},findRepresentativeAxisProxy:function(d){if(d)return d.__dzAxisProxy;var h=this._axisProxies;for(var v in h)if(h.hasOwnProperty(v)&&h[v].hostedBy(this))return h[v];for(var v in h)if(h.hasOwnProperty(v)&&!h[v].hostedBy(this))return h[v]},getRangePropMode:function(){return this._rangePropMode.slice()}});function u(d){var h={};return o(["start","end","startValue","endValue","throttle"],function(v){d.hasOwnProperty(v)&&(h[v]=d[v])}),h}function c(d,h){var v=d._rangePropMode,m=d.get("rangeMode");o([["start","startValue"],["end","endValue"]],function(p,g){var y=h[p[0]]!=null,x=h[p[1]]!=null;y&&!x?v[g]="percent":!y&&x?v[g]="value":m?v[g]=m[g]:y&&(v[g]="percent")})}var f=l;return X_=f,X_}var q_,VF;function Gf(){if(VF)return q_;VF=1;var e=Fy,t=e.extend({type:"dataZoom",render:function(n,r,a,i){this.dataZoomModel=n,this.ecModel=r,this.api=a},getTargetCoordInfo:function(){var n=this.dataZoomModel,r=this.ecModel,a={};n.eachTargetAxis(function(o,s){var l=r.getComponent(o.axis,s);if(l){var u=l.getCoordSysModel();u&&i(u,l,a[u.mainType]||(a[u.mainType]=[]),u.componentIndex)}},this);function i(o,s,l,u){for(var c,f=0;f<l.length;f++)if(l[f].model===o){c=l[f];break}c||l.push(c={model:o,axisModels:[],coordIndex:u}),c.axisModels.push(s)}return a}});return q_=t,q_}var K_,zF;function A0e(){if(zF)return K_;zF=1;var e=$f(),t=e.extend({type:"dataZoom.select"});return K_=t,K_}var Z_,UF;function w0e(){if(UF)return Z_;UF=1;var e=Gf(),t=e.extend({type:"dataZoom.select"});return Z_=t,Z_}var HF={},$F;function EP(){if($F)return HF;$F=1;var e=et,t=de,n=t.createHashMap,r=t.each;return e.registerProcessor({getTargetSeries:function(a){var i=n();return a.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,l,u){var c=u.getAxisProxy(s.name,l);r(c.getTargetSeriesModels(),function(f){i.set(f.uid,f)})})}),i},modifyOutputEnd:!0,overallReset:function(a,i){a.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,l,u){u.getAxisProxy(s.name,l).reset(u,i)}),o.eachTargetAxis(function(s,l,u){u.getAxisProxy(s.name,l).filterData(u,i)})}),a.eachComponent("dataZoom",function(o){var s=o.findRepresentativeAxisProxy(),l=s.getDataPercentWindow(),u=s.getDataValueWindow();o.setCalculatedRange({start:l[0],end:l[1],startValue:u[0],endValue:u[1]})})}}),HF}var GF={},WF;function PP(){if(WF)return GF;WF=1;var e=et,t=de,n=TP();return e.registerAction("dataZoom",function(r,a){var i=n.createLinkedNodesFinder(t.bind(a.eachComponent,a,"dataZoom"),n.eachAxisDim,function(s,l){return s.get(l.axisIndex)}),o=[];a.eachComponent({mainType:"dataZoom",query:r},function(s,l){o.push.apply(o,i(s).nodes)}),t.each(o,function(s,l){s.setRawRange({start:r.start,end:r.end,startValue:r.startValue,endValue:r.endValue})})}),GF}var jF;function C0e(){return jF||(jF=1,MP(),$f(),Gf(),A0e(),w0e(),EP(),PP()),LF}var Q_,YF;function M0e(){if(YF)return Q_;YF=1;var e=et,t=de,n=AP(),r=v9(),a=p9(),i=Hf(),o=ul,s=dl();C0e();var l=o.toolbox.dataZoom,u=t.each,c="\0_ec_\0toolbox-dataZoom_";function f(y,x,b){(this._brushController=new n(b.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}f.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(l.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var d=f.prototype;d.render=function(y,x,b,A){this.model=y,this.ecModel=x,this.api=b,p(y,x,this,A,b),m(y,x)},d.onclick=function(y,x,b){h[b].call(this)},d.remove=function(y,x){this._brushController.unmount()},d.dispose=function(y,x){this._brushController.dispose()};var h={zoom:function(){var y=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:y})},back:function(){this._dispatchZoomAction(a.pop(this.ecModel))}};d._onBrush=function(y,x){if(!x.isEnd||!y.length)return;var b={},A=this.ecModel;this._brushController.updateCovers([]);var S=new r(v(this.model.option),A,{include:["grid"]});S.matchOutputRanges(y,A,function(C,M,T){if(T.type==="cartesian2d"){var E=C.brushType;E==="rect"?(_("x",T,M[0]),_("y",T,M[1])):_({lineX:"x",lineY:"y"}[E],T,M)}}),a.push(A,b),this._dispatchZoomAction(b);function _(C,M,T){var E=M.getAxis(C),P=E.model,R=w(C,P,A),I=R.findRepresentativeAxisProxy(P).getMinMaxSpan();(I.minValueSpan!=null||I.maxValueSpan!=null)&&(T=i(0,T.slice(),E.scale.getExtent(),0,I.minValueSpan,I.maxValueSpan)),R&&(b[R.id]={dataZoomId:R.id,startValue:T[0],endValue:T[1]})}function w(C,M,T){var E;return T.eachComponent({mainType:"dataZoom",subType:"select"},function(P){var R=P.getAxisModel(C,M.componentIndex);R&&(E=P)}),E}},d._dispatchZoomAction=function(y){var x=[];u(y,function(b,A){x.push(t.clone(b))}),x.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:x})};function v(y){var x={};return t.each(["xAxisIndex","yAxisIndex"],function(b){x[b]=y[b],x[b]==null&&(x[b]="all"),(x[b]===!1||x[b]==="none")&&(x[b]=[])}),x}function m(y,x){y.setIconStatus("back",a.count(x)>1?"emphasis":"normal")}function p(y,x,b,A,S){var _=b._isZoomActive;A&&A.type==="takeGlobalCursor"&&(_=A.key==="dataZoomSelect"?A.dataZoomSelectActive:!1),b._isZoomActive=_,y.setIconStatus("zoom",_?"emphasis":"normal");var w=new r(v(y.option),x,{include:["grid"]});b._brushController.setPanels(w.makePanelOpts(S,function(C){return C.xAxisDeclared&&!C.yAxisDeclared?"lineX":!C.xAxisDeclared&&C.yAxisDeclared?"lineY":"rect"})).enableBrush(_?{brushType:"auto",brushStyle:y.getModel("brushStyle").getItemStyle()}:!1)}s.register("dataZoom",f),e.registerPreprocessor(function(y){if(!y)return;var x=y.dataZoom||(y.dataZoom=[]);t.isArray(x)||(y.dataZoom=x=[x]);var b=y.toolbox;if(b&&(t.isArray(b)&&(b=b[0]),b&&b.feature)){var A=b.feature.dataZoom;S("xAxis",A),S("yAxis",A)}function S(w,C){if(C){var M=w+"Index",T=C[M];T!=null&&T!=="all"&&!t.isArray(T)&&(T=T===!1||T==="none"?[]:[T]),_(w,function(E,P){if(!(T!=null&&T!=="all"&&t.indexOf(T,P)===-1)){var R={type:"select",$fromToolbox:!0,filterMode:C.filterMode||"filter",id:c+w+P};R[M]=P,x.push(R)}})}}function _(w,C){var M=y[w];t.isArray(M)||(M=M?[M]:[]),u(M,C)}});var g=f;return Q_=g,Q_}var J_,XF;function T0e(){if(XF)return J_;XF=1;var e=et,t=p9(),n=ul,r=dl(),a=n.toolbox.restore;function i(l){this.model=l}i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.title};var o=i.prototype;o.onclick=function(l,u,c){t.clear(l),u.dispatchAction({type:"restore",from:this.uid})},r.register("restore",i),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(l,u){u.resetOption("recreate")});var s=i;return J_=s,J_}var qF;function E0e(){return qF||(qF=1,m0e(),y0e(),x0e(),b0e(),S0e(),M0e(),T0e()),AF}var KF={},eA,ZF;function P0e(){if(ZF)return eA;ZF=1;var e=et,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return eA=t,eA}var tA,QF;function R0e(){if(QF)return tA;QF=1;var e=de,t=ur,n=mr,r=av,a=Qn,i=Gt,o=e.each,s=i.toCamelCase,l=["","-webkit-","-moz-","-o-"],u="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function c(p){var g="cubic-bezier(0.23, 1, 0.32, 1)",y="left "+p+"s "+g+",top "+p+"s "+g;return e.map(l,function(x){return x+"transition:"+y}).join(";")}function f(p){var g=[],y=p.get("fontSize"),x=p.getTextColor();x&&g.push("color:"+x),g.push("font:"+p.getFont());var b=p.get("lineHeight");b==null&&(b=Math.round(y*3/2)),y&&g.push("line-height:"+b+"px");var A=p.get("textShadowColor"),S=p.get("textShadowBlur")||0,_=p.get("textShadowOffsetX")||0,w=p.get("textShadowOffsetY")||0;return S&&g.push("text-shadow:"+_+"px "+w+"px "+S+"px "+A),o(["decoration","align"],function(C){var M=p.get(C);M&&g.push("text-"+C+":"+M)}),g.join(";")}function d(p){var g=[],y=p.get("transitionDuration"),x=p.get("backgroundColor"),b=p.getModel("textStyle"),A=p.get("padding");return y&&g.push(c(y)),x&&(a.canvasSupported?g.push("background-Color:"+x):(g.push("background-Color:#"+t.toHex(x)),g.push("filter:alpha(opacity=70)"))),o(["width","color","radius"],function(S){var _="border-"+S,w=s(_),C=p.get(w);C!=null&&g.push(_+":"+C+(S==="color"?"":"px"))}),g.push(f(b)),A!=null&&g.push("padding:"+i.normalizeCssArray(A).join("px ")+"px"),g.join(";")+";"}function h(p,g,y,x,b){var A=g&&g.painter;if(y){var S=A&&A.getViewportRoot();S&&r.transformLocalCoord(p,S,document.body,x,b)}else{p[0]=x,p[1]=b;var _=A&&A.getViewportRootOffset();_&&(p[0]+=_.offsetLeft,p[1]+=_.offsetTop)}p[2]=p[0]/g.getWidth(),p[3]=p[1]/g.getHeight()}function v(p,g,y){if(a.wxa)return null;var x=document.createElement("div");x.domBelongToZr=!0,this.el=x;var b=this._zr=g.getZr(),A=this._appendToBody=y&&y.appendToBody;this._styleCoord=[0,0,0,0],h(this._styleCoord,b,A,g.getWidth()/2,g.getHeight()/2),A?document.body.appendChild(x):p.appendChild(x),this._container=p,this._show=!1,this._hideTimeout;var S=this;x.onmouseenter=function(){S._enterable&&(clearTimeout(S._hideTimeout),S._show=!0),S._inContent=!0},x.onmousemove=function(_){if(_=_||window.event,!S._enterable){var w=b.handler,C=b.painter.getViewportRoot();n.normalizeEvent(C,_,!0),w.dispatch("mousemove",_)}},x.onmouseleave=function(){S._enterable&&S._show&&S.hideLater(S._hideDelay),S._inContent=!1}}v.prototype={constructor:v,_enterable:!0,update:function(p){var g=this._container,y=g.currentStyle||document.defaultView.getComputedStyle(g),x=g.style;x.position!=="absolute"&&y.position!=="absolute"&&(x.position="relative");var b=p.get("alwaysShowContent");b&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var p=this._styleCoord[2],g=this._styleCoord[3],y=p*this._zr.getWidth(),x=g*this._zr.getHeight();this.moveTo(y,x)},show:function(p){clearTimeout(this._hideTimeout);var g=this.el,y=this._styleCoord;g.style.cssText=u+d(p)+";left:"+y[0]+"px;top:"+y[1]+"px;"+(p.get("extraCssText")||""),g.style.display=g.innerHTML?"block":"none",g.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(p){this.el.innerHTML=p??""},setEnterable:function(p){this._enterable=p},getSize:function(){var p=this.el;return[p.clientWidth,p.clientHeight]},moveTo:function(p,g){var y=this._styleCoord;h(y,this._zr,this._appendToBody,p,g);var x=this.el.style;x.left=y[0]+"px",x.top=y[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(p){this._show&&!(this._inContent&&this._enterable)&&(p?(this._hideDelay=p,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),p)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var p=this.el.clientWidth,g=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var y=document.defaultView.getComputedStyle(this.el);y&&(p+=parseInt(y.borderLeftWidth,10)+parseInt(y.borderRightWidth,10),g+=parseInt(y.borderTopWidth,10)+parseInt(y.borderBottomWidth,10))}return{width:p,height:g}}};var m=v;return tA=m,tA}var nA,JF;function I0e(){if(JF)return nA;JF=1;var e=de,t=_u,n=$e;function r(o,s,l,u){o[0]=l,o[1]=u,o[2]=o[0]/s.getWidth(),o[3]=o[1]/s.getHeight()}function a(o){var s=this._zr=o.getZr();this._styleCoord=[0,0,0,0],r(this._styleCoord,s,o.getWidth()/2,o.getHeight()/2),this._show=!1,this._hideTimeout}a.prototype={constructor:a,_enterable:!0,update:function(o){var s=o.get("alwaysShowContent");s&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var o=this._styleCoord[2],s=this._styleCoord[3],l=o*this._zr.getWidth(),u=s*this._zr.getHeight();this.moveTo(l,u)},show:function(o){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(o,s,l){this.el&&this._zr.remove(this.el);for(var u={},c=o,f="{marker",d="|}",h=c.indexOf(f);h>=0;){var v=c.indexOf(d),m=c.substr(h+f.length,v-h-f.length);m.indexOf("sub")>-1?u["marker"+m]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:s[m],textOffset:[3,0]}:u["marker"+m]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:s[m]},c=c.substr(v+1),h=c.indexOf("{marker")}var p=l.getModel("textStyle"),g=p.get("fontSize"),y=l.get("textLineHeight");y==null&&(y=Math.round(g*3/2)),this.el=new t({style:n.setTextStyle({},p,{rich:u,text:o,textBackgroundColor:l.get("backgroundColor"),textBorderRadius:l.get("borderRadius"),textFill:l.get("textStyle.color"),textPadding:l.get("padding"),textLineHeight:y}),z:l.get("z")}),this._zr.add(this.el);var x=this;this.el.on("mouseover",function(){x._enterable&&(clearTimeout(x._hideTimeout),x._show=!0),x._inContent=!0}),this.el.on("mouseout",function(){x._enterable&&x._show&&x.hideLater(x._hideDelay),x._inContent=!1})},setEnterable:function(o){this._enterable=o},getSize:function(){var o=this.el.getBoundingRect();return[o.width,o.height]},moveTo:function(o,s){if(this.el){var l=this._styleCoord;r(l,this._zr,o,s),this.el.attr("position",[l[0],l[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(o){this._show&&!(this._inContent&&this._enterable)&&(o?(this._hideDelay=o,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),o)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var o=this.getSize();return{width:o[0],height:o[1]}}};var i=a;return nA=i,nA}var rA,eV;function D0e(){if(eV)return rA;eV=1;var e=et,t=de,n=Qn,r=R0e(),a=I0e(),i=Gt,o=Rt(),s=$e,l=u9(),u=$t,c=Jn,f=c9(),d=Fi(),h=Qy(),v=bt,m=v.getTooltipRenderMode,p=t.bind,g=t.each,y=o.parsePercent,x=new s.Rect({shape:{x:-1,y:-1,width:2,height:2}}),b=e.extendComponentView({type:"tooltip",init:function(T,E){if(!n.node){var P=T.getComponent("tooltip"),R=P.get("renderMode");this._renderMode=m(R);var I;this._renderMode==="html"?(I=new r(E.getDom(),E,{appendToBody:P.get("appendToBody",!0)}),this._newLine="<br/>"):(I=new a(E),this._newLine=`
`),this._tooltipContent=I}},render:function(T,E,P){if(!n.node){this.group.removeAll(),this._tooltipModel=T,this._ecModel=E,this._api=P,this._lastDataByCoordSys=null,this._alwaysShowContent=T.get("alwaysShowContent");var R=this._tooltipContent;R.update(T),R.setEnterable(T.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var T=this._tooltipModel,E=T.get("triggerOn");f.register("itemTooltip",this._api,p(function(P,R,I){E!=="none"&&(E.indexOf(P)>=0?this._tryShow(R,I):P==="leave"&&this._hide(I))},this))},_keepShow:function(){var T=this._tooltipModel,E=this._ecModel,P=this._api;if(this._lastX!=null&&this._lastY!=null&&T.get("triggerOn")!=="none"){var R=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!P.isDisposed()&&R.manuallyShowTip(T,E,P,{x:R._lastX,y:R._lastY})})}},manuallyShowTip:function(T,E,P,R){if(!(R.from===this.uid||n.node)){var I=S(R,P);this._ticket="";var D=R.dataByCoordSys;if(R.tooltip&&R.x!=null&&R.y!=null){var B=x;B.position=[R.x,R.y],B.update(),B.tooltip=R.tooltip,this._tryShow({offsetX:R.x,offsetY:R.y,target:B},I)}else if(D)this._tryShow({offsetX:R.x,offsetY:R.y,position:R.position,dataByCoordSys:R.dataByCoordSys,tooltipOption:R.tooltipOption},I);else if(R.seriesIndex!=null){if(this._manuallyAxisShowTip(T,E,P,R))return;var F=l(R,E),G=F.point[0],z=F.point[1];G!=null&&z!=null&&this._tryShow({offsetX:G,offsetY:z,position:R.position,target:F.el},I)}else R.x!=null&&R.y!=null&&(P.dispatchAction({type:"updateAxisPointer",x:R.x,y:R.y}),this._tryShow({offsetX:R.x,offsetY:R.y,position:R.position,target:P.getZr().findHover(R.x,R.y).target},I))}},manuallyHideTip:function(T,E,P,R){var I=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&I.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,R.from!==this.uid&&this._hide(S(R,P))},_manuallyAxisShowTip:function(z,E,P,R){var I=R.seriesIndex,D=R.dataIndex,B=E.getComponent("axisPointer").coordSysAxesInfo;if(!(I==null||D==null||B==null)){var F=E.getSeriesByIndex(I);if(F){var G=F.getData(),z=A([G.getItemModel(D),F,(F.coordinateSystem||{}).model,z]);if(z.get("trigger")==="axis")return P.dispatchAction({type:"updateAxisPointer",seriesIndex:I,dataIndex:D,position:R.position}),!0}}},_tryShow:function(T,E){var P=T.target,R=this._tooltipModel;if(R){this._lastX=T.offsetX,this._lastY=T.offsetY;var I=T.dataByCoordSys;I&&I.length?this._showAxisTooltip(I,T):P&&P.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(T,P,E)):P&&P.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(T,P,E)):(this._lastDataByCoordSys=null,this._hide(E))}},_showOrMove:function(T,E){var P=T.get("showDelay");E=t.bind(E,this),clearTimeout(this._showTimout),P>0?this._showTimout=setTimeout(E,P):E()},_showAxisTooltip:function(T,E){var P=this._ecModel,R=this._tooltipModel,I=[E.offsetX,E.offsetY],D=[],B=[],F=A([E.tooltipOption,R]),G=this._renderMode,z=this._newLine,N={};g(T,function($){g($.dataByAxis,function(k){var V=P.getComponent(k.axisDim+"Axis",k.axisIndex),L=k.value,O=[];if(!(!V||L==null)){var H=h.getValueLabel(L,V.axis,P,k.seriesDataIndices,k.valueLabelOpt);t.each(k.seriesDataIndices,function(Y){var X=P.getSeriesByIndex(Y.seriesIndex),Q=Y.dataIndexInside,K=X&&X.getDataParams(Q);if(K.axisDim=k.axisDim,K.axisIndex=k.axisIndex,K.axisType=k.axisType,K.axisId=k.axisId,K.axisValue=d.getAxisRawValue(V.axis,L),K.axisValueLabel=H,K){B.push(K);var Z=X.formatTooltip(Q,!0,null,G),te;if(t.isObject(Z)){te=Z.html;var oe=Z.markers;t.merge(N,oe)}else te=Z;O.push(te)}});var j=H;G!=="html"?D.push(O.join(z)):D.push((j?i.encodeHTML(j)+z:"")+O.join(z))}})},this),D.reverse(),D=D.join(this._newLine+this._newLine);var U=E.position;this._showOrMove(F,function(){this._updateContentNotChangedOnAxis(T)?this._updatePosition(F,U,I[0],I[1],this._tooltipContent,B):this._showTooltipContent(F,D,B,Math.random(),I[0],I[1],U,void 0,N)})},_showSeriesItemTooltip:function(T,E,P){var R=this._ecModel,I=E.seriesIndex,D=R.getSeriesByIndex(I),B=E.dataModel||D,F=E.dataIndex,G=E.dataType,z=B.getData(G),N=A([z.getItemModel(F),B,D&&(D.coordinateSystem||{}).model,this._tooltipModel]),U=N.get("trigger");if(!(U!=null&&U!=="item")){var $=B.getDataParams(F,G),k=B.formatTooltip(F,!1,G,this._renderMode),V,L;t.isObject(k)?(V=k.html,L=k.markers):(V=k,L=null);var O="item_"+B.name+"_"+F;this._showOrMove(N,function(){this._showTooltipContent(N,V,$,O,T.offsetX,T.offsetY,T.position,T.target,L)}),P({type:"showTip",dataIndexInside:F,dataIndex:z.getRawIndex(F),seriesIndex:I,from:this.uid})}},_showComponentItemTooltip:function(T,E,P){var R=E.tooltip;if(typeof R=="string"){var I=R;R={content:I,formatter:I}}var D=new c(R,this._tooltipModel,this._ecModel),B=D.get("content"),F=Math.random();this._showOrMove(D,function(){this._showTooltipContent(D,B,D.get("formatterParams")||{},F,T.offsetX,T.offsetY,T.position,E)}),P({type:"showTip",from:this.uid})},_showTooltipContent:function(T,E,P,R,I,D,B,F,G){if(this._ticket="",!(!T.get("showContent")||!T.get("show"))){var z=this._tooltipContent,N=T.get("formatter");B=B||T.get("position");var U=E;if(N&&typeof N=="string")U=i.formatTpl(N,P,!0);else if(typeof N=="function"){var $=p(function(k,V){k===this._ticket&&(z.setContent(V,G,T),this._updatePosition(T,B,I,D,z,P,F))},this);this._ticket=R,U=N(P,R,$)}z.setContent(U,G,T),z.show(T),this._updatePosition(T,B,I,D,z,P,F)}},_updatePosition:function(T,E,P,R,I,D,B){var F=this._api.getWidth(),G=this._api.getHeight();E=E||T.get("position");var z=I.getSize(),N=T.get("align"),U=T.get("verticalAlign"),$=B&&B.getBoundingRect().clone();if(B&&$.applyTransform(B.transform),typeof E=="function"&&(E=E([P,R],D,I.el,$,{viewSize:[F,G],contentSize:z.slice()})),t.isArray(E))P=y(E[0],F),R=y(E[1],G);else if(t.isObject(E)){E.width=z[0],E.height=z[1];var k=u.getLayoutRect(E,{width:F,height:G});P=k.x,R=k.y,N=null,U=null}else if(typeof E=="string"&&B){var V=C(E,$,z);P=V[0],R=V[1]}else{var V=_(P,R,I,F,G,N?null:20,U?null:20);P=V[0],R=V[1]}if(N&&(P-=M(N)?z[0]/2:N==="right"?z[0]:0),U&&(R-=M(U)?z[1]/2:U==="bottom"?z[1]:0),T.get("confine")){var V=w(P,R,I,F,G);P=V[0],R=V[1]}I.moveTo(P,R)},_updateContentNotChangedOnAxis:function(T){var E=this._lastDataByCoordSys,P=!!E&&E.length===T.length;return P&&g(E,function(R,I){var D=R.dataByAxis||{},B=T[I]||{},F=B.dataByAxis||[];P&=D.length===F.length,P&&g(D,function(G,z){var N=F[z]||{},U=G.seriesDataIndices||[],$=N.seriesDataIndices||[];P&=G.value===N.value&&G.axisType===N.axisType&&G.axisId===N.axisId&&U.length===$.length,P&&g(U,function(k,V){var L=$[V];P&=k.seriesIndex===L.seriesIndex&&k.dataIndex===L.dataIndex})})}),this._lastDataByCoordSys=T,!!P},_hide:function(T){this._lastDataByCoordSys=null,T({type:"hideTip",from:this.uid})},dispose:function(T,E){n.node||(this._tooltipContent.dispose(),f.unregister("itemTooltip",E))}});function A(T){for(var E=T.pop();T.length;){var P=T.pop();P&&(c.isInstance(P)&&(P=P.get("tooltip",!0)),typeof P=="string"&&(P={formatter:P}),E=new c(P,E,E.ecModel))}return E}function S(T,E){return T.dispatchAction||t.bind(E.dispatchAction,E)}function _(T,E,P,R,I,D,B){var F=P.getOuterSize(),G=F.width,z=F.height;return D!=null&&(T+G+D>R?T-=G+D:T+=D),B!=null&&(E+z+B>I?E-=z+B:E+=B),[T,E]}function w(T,E,P,R,I){var D=P.getOuterSize(),B=D.width,F=D.height;return T=Math.min(T+B,R)-B,E=Math.min(E+F,I)-F,T=Math.max(T,0),E=Math.max(E,0),[T,E]}function C(T,E,P){var R=P[0],I=P[1],D=5,B=0,F=0,G=E.width,z=E.height;switch(T){case"inside":B=E.x+G/2-R/2,F=E.y+z/2-I/2;break;case"top":B=E.x+G/2-R/2,F=E.y-I-D;break;case"bottom":B=E.x+G/2-R/2,F=E.y+z+D;break;case"left":B=E.x-R-D,F=E.y+z/2-I/2;break;case"right":B=E.x+G+D,F=E.y+z/2-I/2}return[B,F]}function M(T){return T==="center"||T==="middle"}return rA=b,rA}var tV;function L0e(){if(tV)return KF;tV=1;var e=et;return Rv(),P0e(),D0e(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),KF}var nV={},aA,rV;function O0e(){if(rV)return aA;rV=1;var e=de,t=["rect","polygon","keep","clear"];function n(a,i){var o=a&&a.brush;if(e.isArray(o)||(o=o?[o]:[]),!!o.length){var s=[];e.each(o,function(d){var h=d.hasOwnProperty("toolbox")?d.toolbox:[];h instanceof Array&&(s=s.concat(h))});var l=a&&a.toolbox;e.isArray(l)&&(l=l[0]),l||(l={feature:{}},a.toolbox=[l]);var u=l.feature||(l.feature={}),c=u.brush||(u.brush={}),f=c.type||(c.type=[]);f.push.apply(f,s),r(f),i&&!f.length&&f.push.apply(f,t)}}function r(a){var i={};e.each(a,function(o){i[o]=1}),a.length=0,e.each(i,function(o,s){a.push(s)})}return aA=n,aA}var iA={},Zu={},aV;function Jy(){if(aV)return Zu;aV=1;var e=de,t=Pu(),n=e.each;function r(l){if(l){for(var u in l)if(l.hasOwnProperty(u))return!0}}function a(l,u,c){var f={};return n(u,function(h){var v=f[h]=d();n(l[h],function(m,p){if(t.isValidType(p)){var g={type:p,visual:m};c&&c(g,h),v[p]=new t(g),p==="opacity"&&(g=e.clone(g),g.type="colorAlpha",v.__hidden.__alphaForOpacity=new t(g))}})}),f;function d(){var h=function(){};h.prototype.__hidden=h.prototype;var v=new h;return v}}function i(l,u,c){var f;e.each(c,function(d){u.hasOwnProperty(d)&&r(u[d])&&(f=!0)}),f&&e.each(c,function(d){u.hasOwnProperty(d)&&r(u[d])?l[d]=e.clone(u[d]):delete l[d]})}function o(l,u,c,f,d,h){var v={};e.each(l,function(x){var b=t.prepareVisualTypes(u[x]);v[x]=b});var m;function p(x){return c.getItemVisual(m,x)}function g(x,b){c.setItemVisual(m,x,b)}h==null?c.each(y):c.each([h],y);function y(x,b){m=h==null?x:b;var A=c.getRawDataItem(m);if(!(A&&A.visualMap===!1))for(var S=f.call(d,x),_=u[S],w=v[S],C=0,M=w.length;C<M;C++){var T=w[C];_[T]&&_[T].applyVisual(x,p,g)}}}function s(l,u,c,f){var d={};e.each(l,function(v){var m=t.prepareVisualTypes(u[v]);d[v]=m});function h(v,m){f!=null&&(f=m.getDimension(f));function p(T){return m.getItemVisual(y,T)}function g(T,E){m.setItemVisual(y,T,E)}for(var y;(y=v.next())!=null;){var x=m.getRawDataItem(y);if(!(x&&x.visualMap===!1))for(var b=f!=null?m.get(f,y,!0):y,A=c(b),S=u[A],_=d[A],w=0,C=_.length;w<C;w++){var M=_[w];S[M]&&S[M].applyVisual(b,p,g)}}}return{progress:h}}return Zu.createVisualMappings=a,Zu.replaceVisualOption=i,Zu.applyVisual=o,Zu.incrementalApplyVisual=s,Zu}var oA,iV;function N0e(){if(iV)return oA;iV=1;var e=LW(),t=In,n=$e,r=n.linePolygonIntersect,a={lineX:i(0),lineY:i(1),rect:{point:function(l,u,c){return l&&c.boundingRect.contain(l[0],l[1])},rect:function(l,u,c){return l&&c.boundingRect.intersect(l)}},polygon:{point:function(l,u,c){return l&&c.boundingRect.contain(l[0],l[1])&&e.contain(c.range,l[0],l[1])},rect:function(l,u,c){var f=c.range;if(!l||f.length<=1)return!1;var d=l.x,h=l.y,v=l.width,m=l.height,p=f[0];if(e.contain(f,d,h)||e.contain(f,d+v,h)||e.contain(f,d,h+m)||e.contain(f,d+v,h+m)||t.create(l).contain(p[0],p[1])||r(d,h,d+v,h,f)||r(d,h,d,h+m,f)||r(d+v,h,d+v,h+m,f)||r(d,h+m,d+v,h+m,f))return!0}}};function i(l){var u=["x","y"],c=["width","height"];return{point:function(f,d,h){if(f){var v=h.range,m=f[l];return o(m,v)}},rect:function(f,d,h){if(f){var v=h.range,m=[f[u[l]],f[u[l]]+f[c[l]]];return m[1]<m[0]&&m.reverse(),o(m[0],v)||o(m[1],v)||o(v[0],m)||o(v[1],m)}}}}function o(l,u){return u[0]<=l&&l<=u[1]}var s=a;return oA=s,oA}var oV;function g9(){if(oV)return iA;oV=1;var e=et,t=de,n=In,r=Jy(),a=N0e(),i=Bi,o=v9(),s=["inBrush","outOfBrush"],l="__ecBrushSelect",u="__ecInBrushSelectEvent",c=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(c,function(b,A,S){b.eachComponent({mainType:"brush"},function(_){S&&S.type==="takeGlobalCursor"&&_.setBrushOption(S.key==="brush"?S.brushOption:{brushType:!1})}),f(b)});function f(b){b.eachComponent({mainType:"brush"},function(A){var S=A.brushTargetManager=new o(A.option,b);S.setInputRanges(A.areas,b)})}e.registerVisual(c,function(b,A,S){var _=[],w,C;b.eachComponent({mainType:"brush"},function(M,T){var E={brushId:M.id,brushIndex:T,brushName:M.name,areas:t.clone(M.areas),selected:[]};_.push(E);var P=M.option,R=P.brushLink,I=[],D=[],B=[],F=0;T||(w=P.throttleType,C=P.throttleDelay);var G=t.map(M.areas,function(V){return g(t.defaults({boundingRect:y[V.brushType](V)},V))}),z=r.createVisualMappings(M.option,s,function(V){V.mappingMethod="fixed"});t.isArray(R)&&t.each(R,function(V){I[V]=1});function N(V){return R==="all"||I[V]}function U(V){return!!V.length}b.eachSeries(function(V,L){var O=B[L]=[];V.subType==="parallel"?$(V,L):k(V,L,O)});function $(V,L){var O=V.coordinateSystem;F|=O.hasAxisBrushed(),N(L)&&O.eachActiveState(V.getData(),function(H,j){H==="active"&&(D[j]=1)})}function k(V,L,O){var H=m(V);if(!(!H||p(M,L))&&(t.each(G,function(Y){H[Y.brushType]&&M.brushTargetManager.controlSeries(Y,V,b)&&O.push(Y),F|=U(O)}),N(L)&&U(O))){var j=V.getData();j.each(function(Y){v(H,O,j,Y)&&(D[Y]=1)})}}b.eachSeries(function(V,L){var O={seriesId:V.id,seriesIndex:L,seriesName:V.name,dataIndex:[]};E.selected.push(O);var H=m(V),j=B[L],Y=V.getData(),X=N(L)?function(Q){return D[Q]?(O.dataIndex.push(Y.getRawIndex(Q)),"inBrush"):"outOfBrush"}:function(Q){return v(H,j,Y,Q)?(O.dataIndex.push(Y.getRawIndex(Q)),"inBrush"):"outOfBrush"};(N(L)?F:U(j))&&r.applyVisual(s,z,Y,X)})}),d(A,w,C,_,S)});function d(b,A,S,_,w){if(w){var C=b.getZr();if(!C[u]){C[l]||(C[l]=h);var M=i.createOrUpdate(C,l,S,A);M(b,_)}}}function h(b,A){if(!b.isDisposed()){var S=b.getZr();S[u]=!0,b.dispatchAction({type:"brushSelect",batch:A}),S[u]=!1}}function v(b,A,S,_){for(var w=0,C=A.length;w<C;w++){var M=A[w];if(b[M.brushType](_,S,M.selectors,M))return!0}}function m(b){var A=b.brushSelector;if(t.isString(A)){var S=[];return t.each(a,function(w,C){S[C]=function(M,T,E,P){var R=T.getItemLayout(M);return w[A](R,E,P)}}),S}else if(t.isFunction(A)){var _={};return t.each(a,function(w,C){_[C]=A}),_}return A}function p(b,A){var S=b.option.seriesIndex;return S!=null&&S!=="all"&&(t.isArray(S)?t.indexOf(S,A)<0:A!==S)}function g(b){var A=b.selectors={};return t.each(a[b.brushType],function(S,_){A[_]=function(w){return S(w,A,b)}}),b}var y={lineX:t.noop,lineY:t.noop,rect:function(b){return x(b.range)},polygon:function(b){for(var A,S=b.range,_=0,w=S.length;_<w;_++){A=A||[[1/0,-1/0],[1/0,-1/0]];var C=S[_];C[0]<A[0][0]&&(A[0][0]=C[0]),C[0]>A[0][1]&&(A[0][1]=C[0]),C[1]<A[1][0]&&(A[1][0]=C[1]),C[1]>A[1][1]&&(A[1][1]=C[1])}return A&&x(A)}};function x(b){return new n(b[0][0],b[1][0],b[0][1]-b[0][0],b[1][1]-b[1][0])}return iA.layoutCovers=f,iA}var sA,sV;function k0e(){if(sV)return sA;sV=1;var e=et,t=de,n=Jy(),r=Jn,a=["#ddd"],i=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(l,u){var c=this.option;!u&&n.replaceVisualOption(c,l,["inBrush","outOfBrush"]);var f=c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:a},f.hasOwnProperty("liftZ")||(f.liftZ=5)},setAreas:function(l){l&&(this.areas=t.map(l,function(u){return o(this.option,u)},this))},setBrushOption:function(l){this.brushOption=o(this.option,l),this.brushType=this.brushOption.brushType}});function o(l,u){return t.merge({brushType:l.brushType,brushMode:l.brushMode,transformable:l.transformable,brushStyle:new r(l.brushStyle).getItemStyle(),removeOnClick:l.removeOnClick,z:l.z},u,!0)}var s=i;return sA=s,sA}var lA,lV;function B0e(){if(lV)return lA;lV=1;var e=et,t=de,n=AP(),r=g9(),a=r.layoutCovers,i=e.extendComponentView({type:"brush",init:function(s,l){this.ecModel=s,this.api=l,this.model,(this._brushController=new n(l.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(s){return this.model=s,o.apply(this,arguments)},updateTransform:function(s,l){return a(l),o.apply(this,arguments)},updateView:o,dispose:function(){this._brushController.dispose()},_onBrush:function(s,l){var u=this.model.id;this.model.brushTargetManager.setOutputRanges(s,this.ecModel),(!l.isEnd||l.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:u,areas:t.clone(s),$from:u}),l.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:u,areas:t.clone(s),$from:u})}});function o(s,l,u,c){(!c||c.$from!==s.id)&&this._brushController.setPanels(s.brushTargetManager.makePanelOpts(u)).enableBrush(s.brushOption).updateCovers(s.areas.slice())}return lA=i,lA}var uV={},cV;function F0e(){if(cV)return uV;cV=1;var e=et;return e.registerAction({type:"brush",event:"brush"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){}),uV}var uA,fV;function V0e(){if(fV)return uA;fV=1;var e=de,t=dl(),n=ul,r=n.toolbox.brush;function a(s,l,u){this.model=s,this.ecModel=l,this.api=u,this._brushType,this._brushMode}a.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(r.title)};var i=a.prototype;i.render=i.updateView=function(s,l,u){var c,f,d;l.eachComponent({mainType:"brush"},function(h){c=h.brushType,f=h.brushOption.brushMode||"single",d|=h.areas.length}),this._brushType=c,this._brushMode=f,e.each(s.get("type",!0),function(h){s.setIconStatus(h,(h==="keep"?f==="multiple":h==="clear"?d:h===c)?"emphasis":"normal")})},i.getIcons=function(){var s=this.model,l=s.get("icon",!0),u={};return e.each(s.get("type",!0),function(c){l[c]&&(u[c]=l[c])}),u},i.onclick=function(s,l,u){var c=this._brushType,f=this._brushMode;u==="clear"?(l.dispatchAction({type:"axisAreaSelect",intervals:[]}),l.dispatchAction({type:"brush",command:"clear",areas:[]})):l.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:u==="keep"?c:c===u?!1:u,brushMode:u==="keep"?f==="multiple"?"single":"multiple":f}})},t.register("brush",a);var o=a;return uA=o,uA}var dV;function z0e(){if(dV)return nV;dV=1;var e=et,t=O0e();return g9(),k0e(),B0e(),F0e(),V0e(),e.registerPreprocessor(t),nV}var hV={},vV;function U0e(){if(vV)return hV;vV=1;var e=de,t=et,n=$e,r=$t,a=r.getLayoutRect,i=Gt,o=i.windowOpen;return t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(s,l,u){if(this.group.removeAll(),!!s.get("show")){var c=this.group,f=s.getModel("textStyle"),d=s.getModel("subtextStyle"),h=s.get("textAlign"),v=e.retrieve2(s.get("textBaseline"),s.get("textVerticalAlign")),m=new n.Text({style:n.setTextStyle({},f,{text:s.get("text"),textFill:f.getTextColor()},{disableBox:!0}),z2:10}),p=m.getBoundingRect(),g=s.get("subtext"),y=new n.Text({style:n.setTextStyle({},d,{text:g,textFill:d.getTextColor(),y:p.height+s.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),x=s.get("link"),b=s.get("sublink"),A=s.get("triggerEvent",!0);m.silent=!x&&!A,y.silent=!b&&!A,x&&m.on("click",function(){o(x,"_"+s.get("target"))}),b&&y.on("click",function(){o(b,"_"+s.get("subtarget"))}),m.eventData=y.eventData=A?{componentType:"title",componentIndex:s.componentIndex}:null,c.add(m),g&&c.add(y);var S=c.getBoundingRect(),_=s.getBoxLayoutParams();_.width=S.width,_.height=S.height;var w=a(_,{width:u.getWidth(),height:u.getHeight()},s.get("padding"));h||(h=s.get("left")||s.get("right"),h==="middle"&&(h="center"),h==="right"?w.x+=w.width:h==="center"&&(w.x+=w.width/2)),v||(v=s.get("top")||s.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?w.y+=w.height:v==="middle"&&(w.y+=w.height/2),v=v||"top"),c.attr("position",[w.x,w.y]);var C={textAlign:h,textVerticalAlign:v};m.setStyle(C),y.setStyle(C),S=c.getBoundingRect();var M=w.margin,T=s.getItemStyle(["color","opacity"]);T.fill=s.get("backgroundColor");var E=new n.Rect({shape:{x:S.x-M[3],y:S.y-M[0],width:S.width+M[1]+M[3],height:S.height+M[0]+M[2],r:s.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});c.add(E)}}}),hV}var pV={},cA,gV;function H0e(){if(gV)return cA;gV=1;var e=de;function t(i){var o=i&&i.timeline;e.isArray(o)||(o=o?[o]:[]),e.each(o,function(s){s&&n(s)})}function n(i){var o=i.type,s={number:"value",time:"time"};if(s[o]&&(i.axisType=s[o],delete i.type),r(i),a(i,"controlPosition")){var l=i.controlStyle||(i.controlStyle={});a(l,"position")||(l.position=i.controlPosition),l.position==="none"&&!a(l,"show")&&(l.show=!1,delete l.position),delete i.controlPosition}e.each(i.data||[],function(u){e.isObject(u)&&!e.isArray(u)&&(!a(u,"value")&&a(u,"name")&&(u.value=u.name),r(u))})}function r(i){var o=i.itemStyle||(i.itemStyle={}),s=o.emphasis||(o.emphasis={}),l=i.label||i.label||{},u=l.normal||(l.normal={}),c={normal:1,emphasis:1};e.each(l,function(f,d){!c[d]&&!a(u,d)&&(u[d]=f)}),s.label&&!a(l,"emphasis")&&(l.emphasis=s.label,delete s.label)}function a(i,o){return i.hasOwnProperty(o)}return cA=t,cA}var mV={},yV;function $0e(){if(yV)return mV;yV=1;var e=yr;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),mV}var xV={},bV;function G0e(){if(bV)return xV;bV=1;var e=et,t=de;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r){var a=r.getComponent("timeline");return a&&n.currentIndex!=null&&(a.setCurrentIndex(n.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.setPlayState(!1)),r.resetOption("timeline"),t.defaults({currentIndex:a.option.currentIndex},n)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var a=r.getComponent("timeline");a&&n.playState!=null&&a.setPlayState(n.playState)}),xV}var fA,SV;function W0e(){if(SV)return fA;SV=1;var e=de,t=yr,n=si(),r=bt,a=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(o,s,l){this._data,this._names,this.mergeDefaultAndTheme(o,l),this._initData()},mergeOption:function(o){a.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(o){o==null&&(o=this.option.currentIndex);var s=this._data.count();this.option.loop?o=(o%s+s)%s:(o>=s&&(o=s-1),o<0&&(o=0)),this.option.currentIndex=o},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(o){this.option.autoPlay=!!o},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var o=this.option,s=o.data||[],l=o.axisType,u=this._names=[];if(l==="category"){var c=[];e.each(s,function(h,v){var m=r.getDataItemValue(h),p;e.isObject(h)?(p=e.clone(h),p.value=v):p=v,c.push(p),!e.isString(m)&&(m==null||isNaN(m))&&(m=""),u.push(m+"")}),s=c}var f={category:"ordinal",time:"time"}[l]||"number",d=this._data=new n([{name:"value",type:f}],this);d.initData(s,u)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),i=a;return fA=i,fA}var dA,_V;function j0e(){if(_V)return dA;_V=1;var e=de,t=W0e(),n=sP,r=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(r,n);var a=r;return dA=a,dA}var hA,AV;function Y0e(){if(AV)return hA;AV=1;var e=Fy,t=e.extend({type:"timeline"});return hA=t,hA}var vA,wV;function X0e(){if(wV)return vA;wV=1;var e=de,t=cl(),n=function(a,i,o,s){t.call(this,a,i,o),this.type=s||"value",this.model=null};n.prototype={constructor:n,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(n,t);var r=n;return vA=r,vA}var pA,CV;function q0e(){if(CV)return pA;CV=1;var e=de,t=In,n=Vn,r=$e,a=$t,i=Y0e(),o=X0e(),s=li(),l=s.createSymbol,u=Fi(),c=Rt(),f=Gt,d=f.encodeHTML,h=e.bind,v=e.each,m=Math.PI,p=i.extend({type:"timeline.slider",init:function(A,S){this.api=S,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(A,S,_,w){if(this.model=A,this.api=_,this.ecModel=S,this.group.removeAll(),A.get("show",!0)){var C=this._layout(A,_),M=this._createGroup("mainGroup"),T=this._createGroup("labelGroup"),E=this._axis=this._createAxis(C,A);A.formatTooltip=function(P){return d(E.scale.getLabel(P))},v(["AxisLine","AxisTick","Control","CurrentPointer"],function(P){this["_render"+P](C,M,E,A)},this),this._renderAxisLabel(C,T,E,A),this._position(C,A)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(A,S){var _=A.get("label.position"),w=A.get("orient"),C=g(A,S);_==null||_==="auto"?_=w==="horizontal"?C.y+C.height/2<S.getHeight()/2?"-":"+":C.x+C.width/2<S.getWidth()/2?"+":"-":isNaN(_)&&(_={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[w][_]);var M={horizontal:"center",vertical:_>=0||_==="+"?"left":"right"},T={horizontal:_>=0||_==="+"?"top":"bottom",vertical:"middle"},E={horizontal:0,vertical:m/2},P=w==="vertical"?C.height:C.width,R=A.getModel("controlStyle"),I=R.get("show",!0),D=I?R.get("itemSize"):0,B=I?R.get("itemGap"):0,F=D+B,G=A.get("label.rotate")||0;G=G*m/180;var z,N,U,$,k=R.get("position",!0),V=I&&R.get("showPlayBtn",!0),L=I&&R.get("showPrevBtn",!0),O=I&&R.get("showNextBtn",!0),H=0,j=P;return k==="left"||k==="bottom"?(V&&(z=[0,0],H+=F),L&&(N=[H,0],H+=F),O&&(U=[j-D,0],j-=F)):(V&&(z=[j-D,0],j-=F),L&&(N=[0,0],H+=F),O&&(U=[j-D,0],j-=F)),$=[H,j],A.get("inverse")&&$.reverse(),{viewRect:C,mainLength:P,orient:w,rotation:E[w],labelRotation:G,labelPosOpt:_,labelAlign:A.get("label.align")||M[w],labelBaseline:A.get("label.verticalAlign")||A.get("label.baseline")||T[w],playPosition:z,prevBtnPosition:N,nextBtnPosition:U,axisExtent:$,controlSize:D,controlGap:B}},_position:function(A,S){var _=this._mainGroup,w=this._labelGroup,C=A.viewRect;if(A.orient==="vertical"){var M=n.create(),T=C.x,E=C.y+C.height;n.translate(M,M,[-T,-E]),n.rotate(M,M,-m/2),n.translate(M,M,[T,E]),C=C.clone(),C.applyTransform(M)}var P=N(C),R=N(_.getBoundingRect()),I=N(w.getBoundingRect()),D=_.position,B=w.position;B[0]=D[0]=P[0][0];var F=A.labelPosOpt;if(isNaN(F)){var G=F==="+"?0:1;U(D,R,P,1,G),U(B,I,P,1,1-G)}else{var G=F>=0?0:1;U(D,R,P,1,G),B[1]=D[1]+F}_.attr("position",D),w.attr("position",B),_.rotation=w.rotation=A.rotation,z(_),z(w);function z($){var k=$.position;$.origin=[P[0][0]-k[0],P[1][0]-k[1]]}function N($){return[[$.x,$.x+$.width],[$.y,$.y+$.height]]}function U($,k,V,L,O){$[L]+=V[L][O]-k[L][O]}},_createAxis:function(A,S){var _=S.getData(),w=S.get("axisType"),C=u.createScaleByModel(S,w);C.getTicks=function(){return _.mapArray(["value"],function(E){return E})};var M=_.getDataExtent("value");C.setExtent(M[0],M[1]),C.niceTicks();var T=new o("value",C,A.axisExtent,w);return T.model=S,T},_createGroup:function(A){var S=this["_"+A]=new r.Group;return this.group.add(S),S},_renderAxisLine:function(A,S,_,w){var C=_.getExtent();w.get("lineStyle.show")&&S.add(new r.Line({shape:{x1:C[0],y1:0,x2:C[1],y2:0},style:e.extend({lineCap:"round"},w.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(A,S,_,w){var C=w.getData(),M=_.scale.getTicks();v(M,function(T){var E=_.dataToCoord(T),P=C.getItemModel(T),R=P.getModel("itemStyle"),I=P.getModel("emphasis.itemStyle"),D={position:[E,0],onclick:h(this._changeTimeline,this,T)},B=x(P,R,S,D);r.setHoverStyle(B,I.getItemStyle()),P.get("tooltip")?(B.dataIndex=T,B.dataModel=w):B.dataIndex=B.dataModel=null},this)},_renderAxisLabel:function(A,S,_,w){var C=_.getLabelModel();if(C.get("show")){var M=w.getData(),T=_.getViewLabels();v(T,function(E){var P=E.tickValue,R=M.getItemModel(P),I=R.getModel("label"),D=R.getModel("emphasis.label"),B=_.dataToCoord(E.tickValue),F=new r.Text({position:[B,0],rotation:A.labelRotation-A.rotation,onclick:h(this._changeTimeline,this,P),silent:!1});r.setTextStyle(F.style,I,{text:E.formattedLabel,textAlign:A.labelAlign,textVerticalAlign:A.labelBaseline}),S.add(F),r.setHoverStyle(F,r.setTextStyle({},D))},this)}},_renderControl:function(A,S,_,w){var C=A.controlSize,M=A.rotation,T=w.getModel("controlStyle").getItemStyle(),E=w.getModel("emphasis.controlStyle").getItemStyle(),P=[0,-C/2,C,C],R=w.getPlayState(),I=w.get("inverse",!0);D(A.nextBtnPosition,"controlStyle.nextIcon",h(this._changeTimeline,this,I?"-":"+")),D(A.prevBtnPosition,"controlStyle.prevIcon",h(this._changeTimeline,this,I?"+":"-")),D(A.playPosition,"controlStyle."+(R?"stopIcon":"playIcon"),h(this._handlePlayClick,this,!R),!0);function D(B,F,G,z){if(B){var N={position:B,origin:[C/2,0],rotation:z?-M:0,rectHover:!0,style:T,onclick:G},U=y(w,F,P,N);S.add(U),r.setHoverStyle(U,E)}}},_renderCurrentPointer:function(A,S,_,w){var C=w.getData(),M=w.getCurrentIndex(),T=C.getItemModel(M).getModel("checkpointStyle"),E=this,P={onCreate:function(R){R.draggable=!0,R.drift=h(E._handlePointerDrag,E),R.ondragend=h(E._handlePointerDragend,E),b(R,M,_,w,!0)},onUpdate:function(R){b(R,M,_,w)}};this._currentPointer=x(T,T,this._mainGroup,{},this._currentPointer,P)},_handlePlayClick:function(A){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:A,from:this.uid})},_handlePointerDrag:function(A,S,_){this._clearTimer(),this._pointerChangeTimeline([_.offsetX,_.offsetY])},_handlePointerDragend:function(A){this._pointerChangeTimeline([A.offsetX,A.offsetY],!0)},_pointerChangeTimeline:function(A,S){var _=this._toAxisCoord(A)[0],w=this._axis,C=c.asc(w.getExtent().slice());_>C[1]&&(_=C[1]),_<C[0]&&(_=C[0]),this._currentPointer.position[0]=_,this._currentPointer.dirty();var M=this._findNearestTick(_),T=this.model;(S||M!==T.getCurrentIndex()&&T.get("realtime"))&&this._changeTimeline(M)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(h(A,this),this.model.get("playInterval")));function A(){var S=this.model;this._changeTimeline(S.getCurrentIndex()+(S.get("rewind",!0)?-1:1))}},_toAxisCoord:function(A){var S=this._mainGroup.getLocalTransform();return r.applyTransform(A,S,!0)},_findNearestTick:function(A){var S=this.model.getData(),_=1/0,w,C=this._axis;return S.each(["value"],function(M,T){var E=C.dataToCoord(M),P=Math.abs(E-A);P<_&&(_=P,w=T)}),w},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(A){var S=this.model.getCurrentIndex();A==="+"?A=S+1:A==="-"&&(A=S-1),this.api.dispatchAction({type:"timelineChange",currentIndex:A,from:this.uid})}});function g(A,S){return a.getLayoutRect(A.getBoxLayoutParams(),{width:S.getWidth(),height:S.getHeight()},A.get("padding"))}function y(A,S,_,w){var C=w.style,M=r.createIcon(A.get(S),w||{},new t(_[0],_[1],_[2],_[3]));return C&&M.setStyle(C),M}function x(A,S,_,w,C,M){var T=S.get("color");if(C)C.setColor(T),_.add(C),M&&M.onUpdate(C);else{var E=A.get("symbol");C=l(E,-1,-1,2,2,T),C.setStyle("strokeNoScale",!0),_.add(C),M&&M.onCreate(C)}var P=S.getItemStyle(["color","symbol","symbolSize"]);C.setStyle(P),w=e.merge({rectHover:!0,z2:100},w,!0);var R=A.get("symbolSize");R=R instanceof Array?R.slice():[+R,+R],R[0]/=2,R[1]/=2,w.scale=R;var I=A.get("symbolOffset");if(I){var D=w.position=w.position||[0,0];D[0]+=c.parsePercent(I[0],R[0]),D[1]+=c.parsePercent(I[1],R[1])}var B=A.get("symbolRotate");return w.rotation=(B||0)*Math.PI/180||0,C.attr(w),C.updateTransform(),C}function b(A,S,_,w,C){if(!A.dragging){var M=w.getModel("checkpointStyle"),T=_.dataToCoord(w.getData().get(["value"],S));C||!M.get("animation",!0)?A.attr({position:[T,0]}):(A.stopAnimation(!0),A.animateTo({position:[T,0]},M.get("animationDuration",!0),M.get("animationEasing",!0)))}}return pA=p,pA}var MV;function K0e(){if(MV)return pV;MV=1;var e=et,t=H0e();return $0e(),G0e(),j0e(),q0e(),e.registerPreprocessor(t),pV}var TV={},gA,EV;function RP(){if(EV)return gA;EV=1;var e=et,t=de,n=Qn,r=bt,a=Gt,i=sP,o=a.addCommas,s=a.encodeHTML;function l(f){r.defaultEmphasis(f,"label",["show"])}var u=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(f,d,h){this.mergeDefaultAndTheme(f,h),this._mergeOption(f,h,!1,!0)},isAnimationEnabled:function(){if(n.node)return!1;var f=this.__hostSeries;return this.getShallow("animation")&&f&&f.isAnimationEnabled()},mergeOption:function(f,d){this._mergeOption(f,d,!1,!1)},_mergeOption:function(f,d,h,v){var m=this.constructor,p=this.mainType+"Model";h||d.eachSeries(function(g){var y=g.get(this.mainType,!0),x=g[p];if(!y||!y.data){g[p]=null;return}x?x._mergeOption(y,d,!0):(v&&l(y),t.each(y.data,function(b){b instanceof Array?(l(b[0]),l(b[1])):l(b)}),x=new m(y,this,d),t.extend(x,{mainType:this.mainType,seriesIndex:g.seriesIndex,name:g.name,createdBySelf:!0}),x.__hostSeries=g),g[p]=x},this)},formatTooltip:function(f,d,h,v){var m=this.getData(),p=this.getRawValue(f),g=t.isArray(p)?t.map(p,o).join(", "):o(p),y=m.getName(f),x=s(this.name),b=v==="html"?"<br/>":`
`;return(p!=null||y)&&(x+=b),y&&(x+=s(y),p!=null&&(x+=" : ")),p!=null&&(x+=s(g)),x},getData:function(){return this._data},setData:function(f){this._data=f}});t.mixin(u,i);var c=u;return gA=c,gA}var mA,PV;function Z0e(){if(PV)return mA;PV=1;var e=RP(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return mA=t,mA}var Il={},RV;function IP(){if(RV)return Il;RV=1;var e=de,t=Rt(),n=Ao(),r=n.isDimensionStacked,a=e.indexOf;function i(p){return!(isNaN(parseFloat(p.x))&&isNaN(parseFloat(p.y)))}function o(p){return!isNaN(parseFloat(p.x))&&!isNaN(parseFloat(p.y))}function s(p,g,y,x,b,A){var S=[],_=r(g,x),w=_?g.getCalculationInfo("stackResultDimension"):x,C=m(g,w,p),M=g.indicesOfNearest(w,C)[0];S[b]=g.get(y,M),S[A]=g.get(w,M);var T=g.get(x,M),E=t.getPrecision(g.get(x,M));return E=Math.min(E,20),E>=0&&(S[A]=+S[A].toFixed(E)),[S,T]}var l=e.curry,u={min:l(s,"min"),max:l(s,"max"),average:l(s,"average")};function c(p,g){var y=p.getData(),x=p.coordinateSystem;if(g&&!o(g)&&!e.isArray(g.coord)&&x){var b=x.dimensions,A=f(g,y,x,p);if(g=e.clone(g),g.type&&u[g.type]&&A.baseAxis&&A.valueAxis){var S=a(b,A.baseAxis.dim),_=a(b,A.valueAxis.dim),w=u[g.type](y,A.baseDataDim,A.valueDataDim,S,_);g.coord=w[0],g.value=w[1]}else{for(var C=[g.xAxis!=null?g.xAxis:g.radiusAxis,g.yAxis!=null?g.yAxis:g.angleAxis],M=0;M<2;M++)u[C[M]]&&(C[M]=m(y,y.mapDimension(b[M]),C[M]));g.coord=C}}return g}function f(p,g,y,x){var b={};return p.valueIndex!=null||p.valueDim!=null?(b.valueDataDim=p.valueIndex!=null?g.getDimension(p.valueIndex):p.valueDim,b.valueAxis=y.getAxis(d(x,b.valueDataDim)),b.baseAxis=y.getOtherAxis(b.valueAxis),b.baseDataDim=g.mapDimension(b.baseAxis.dim)):(b.baseAxis=x.getBaseAxis(),b.valueAxis=y.getOtherAxis(b.baseAxis),b.baseDataDim=g.mapDimension(b.baseAxis.dim),b.valueDataDim=g.mapDimension(b.valueAxis.dim)),b}function d(p,g){var y=p.getData(),x=y.dimensions;g=y.getDimension(g);for(var b=0;b<x.length;b++){var A=y.getDimensionInfo(x[b]);if(A.name===g)return A.coordDim}}function h(p,g){return p&&p.containData&&g.coord&&!i(g)?p.containData(g.coord):!0}function v(p,g,y,x){return x<2?p.coord&&p.coord[x]:p.value}function m(p,g,y){if(y==="average"){var x=0,b=0;return p.each(g,function(A,S){isNaN(A)||(x+=A,b++)}),x/b}else return y==="median"?p.getMedian(g):p.getDataExtent(g,!0)[y==="max"?1:0]}return Il.dataTransform=c,Il.getAxisInfo=f,Il.dataFilter=h,Il.dimValueGetter=v,Il.numCalculate=m,Il}var yA,IV;function DP(){if(IV)return yA;IV=1;var e=et,t=de,n=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(r,a,i){var o=this.markerGroupMap;o.each(function(l){l.__keep=!1});var s=this.type+"Model";a.eachSeries(function(l){var u=l[s];u&&this.renderSeries(l,u,a,i)},this),o.each(function(l){!l.__keep&&this.group.remove(l.group)},this)},renderSeries:function(){}});return yA=n,yA}var xA,DV;function Q0e(){if(DV)return xA;DV=1;var e=de,t=Av(),n=Rt(),r=si(),a=IP(),i=DP();function o(u,c,f){var d=c.coordinateSystem;u.each(function(h){var v=u.getItemModel(h),m,p=n.parsePercent(v.get("x"),f.getWidth()),g=n.parsePercent(v.get("y"),f.getHeight());if(!isNaN(p)&&!isNaN(g))m=[p,g];else if(c.getMarkerPosition)m=c.getMarkerPosition(u.getValues(u.dimensions,h));else if(d){var y=u.get(d.dimensions[0],h),x=u.get(d.dimensions[1],h);m=d.dataToPoint([y,x])}isNaN(p)||(m[0]=p),isNaN(g)||(m[1]=g),u.setItemLayout(h,m)})}var s=i.extend({type:"markPoint",updateTransform:function(u,c,f){c.eachSeries(function(d){var h=d.markPointModel;h&&(o(h.getData(),d,f),this.markerGroupMap.get(d.id).updateLayout(h))},this)},renderSeries:function(u,c,f,d){var h=u.coordinateSystem,v=u.id,m=u.getData(),p=this.markerGroupMap,g=p.get(v)||p.set(v,new t),y=l(h,u,c);c.setData(y),o(c.getData(),u,d),y.each(function(x){var b=y.getItemModel(x),A=b.getShallow("symbol"),S=b.getShallow("symbolSize"),_=b.getShallow("symbolRotate"),w=e.isFunction(A),C=e.isFunction(S),M=e.isFunction(_);if(w||C||M){var T=c.getRawValue(x),E=c.getDataParams(x);w&&(A=A(T,E)),C&&(S=S(T,E)),M&&(_=_(T,E))}y.setItemVisual(x,{symbol:A,symbolSize:S,symbolRotate:_,color:b.get("itemStyle.color")||m.getVisual("color")})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(x){x.traverse(function(b){b.dataModel=c})}),g.__keep=!0,g.group.silent=c.get("silent")||u.get("silent")}});function l(u,c,f){var d;u?d=e.map(u&&u.dimensions,function(m){var p=c.getData().getDimensionInfo(c.getData().mapDimension(m))||{};return e.defaults({name:m},p)}):d=[{name:"value",type:"float"}];var h=new r(d,f),v=e.map(f.get("data"),e.curry(a.dataTransform,c));return u&&(v=e.filter(v,e.curry(a.dataFilter,u))),h.initData(v,null,u?a.dimValueGetter:function(m){return m.value}),h}return xA=s,xA}var LV;function J0e(){if(LV)return TV;LV=1;var e=et;return Z0e(),Q0e(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),TV}var OV={},bA,NV;function exe(){if(NV)return bA;NV=1;var e=RP(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return bA=t,bA}var SA,kV;function txe(){if(kV)return SA;kV=1;var e=de,t=si(),n=Rt(),r=IP(),a=SP(),i=DP(),o=Ao(),s=o.getStackedDimension,l=function(m,p,g,y){var x=m.getData(),b=y.type;if(!e.isArray(y)&&(b==="min"||b==="max"||b==="average"||b==="median"||y.xAxis!=null||y.yAxis!=null)){var A,S;if(y.yAxis!=null||y.xAxis!=null)A=p.getAxis(y.yAxis!=null?"y":"x"),S=e.retrieve(y.yAxis,y.xAxis);else{var _=r.getAxisInfo(y,x,p,m);A=_.valueAxis;var w=s(x,_.valueDataDim);S=r.numCalculate(x,w,b)}var C=A.dim==="x"?0:1,M=1-C,T=e.clone(y),E={};T.type=null,T.coord=[],E.coord=[],T.coord[M]=-1/0,E.coord[M]=1/0;var P=g.get("precision");P>=0&&typeof S=="number"&&(S=+S.toFixed(Math.min(P,20))),T.coord[C]=E.coord[C]=S,y=[T,E,{type:b,valueIndex:y.valueIndex,value:S}]}return y=[r.dataTransform(m,y[0]),r.dataTransform(m,y[1]),e.extend({},y[2])],y[2].type=y[2].type||"",e.merge(y[2],y[0]),e.merge(y[2],y[1]),y};function u(m){return!isNaN(m)&&!isFinite(m)}function c(m,p,g,y){var x=1-m,b=y.dimensions[m];return u(p[x])&&u(g[x])&&p[m]===g[m]&&y.getAxis(b).containData(p[m])}function f(m,p){if(m.type==="cartesian2d"){var g=p[0].coord,y=p[1].coord;if(g&&y&&(c(1,g,y,m)||c(0,g,y,m)))return!0}return r.dataFilter(m,p[0])&&r.dataFilter(m,p[1])}function d(m,p,g,y,x){var b=y.coordinateSystem,A=m.getItemModel(p),S,_=n.parsePercent(A.get("x"),x.getWidth()),w=n.parsePercent(A.get("y"),x.getHeight());if(!isNaN(_)&&!isNaN(w))S=[_,w];else{if(y.getMarkerPosition)S=y.getMarkerPosition(m.getValues(m.dimensions,p));else{var C=b.dimensions,M=m.get(C[0],p),T=m.get(C[1],p);S=b.dataToPoint([M,T])}if(b.type==="cartesian2d"){var E=b.getAxis("x"),P=b.getAxis("y"),C=b.dimensions;u(m.get(C[0],p))?S[0]=E.toGlobalCoord(E.getExtent()[g?0:1]):u(m.get(C[1],p))&&(S[1]=P.toGlobalCoord(P.getExtent()[g?0:1]))}isNaN(_)||(S[0]=_),isNaN(w)||(S[1]=w)}m.setItemLayout(p,S)}var h=i.extend({type:"markLine",updateTransform:function(m,p,g){p.eachSeries(function(y){var x=y.markLineModel;if(x){var b=x.getData(),A=x.__from,S=x.__to;A.each(function(_){d(A,_,!0,y,g),d(S,_,!1,y,g)}),b.each(function(_){b.setItemLayout(_,[A.getItemLayout(_),S.getItemLayout(_)])}),this.markerGroupMap.get(y.id).updateLayout()}},this)},renderSeries:function(m,p,g,y){var x=m.coordinateSystem,b=m.id,A=m.getData(),S=this.markerGroupMap,_=S.get(b)||S.set(b,new a);this.group.add(_.group);var w=v(x,m,p),C=w.from,M=w.to,T=w.line;p.__from=C,p.__to=M,p.setData(T);var E=p.get("symbol"),P=p.get("symbolSize");e.isArray(E)||(E=[E,E]),typeof P=="number"&&(P=[P,P]),w.from.each(function(I){R(C,I,!0),R(M,I,!1)}),T.each(function(I){var D=T.getItemModel(I).get("lineStyle.color");T.setItemVisual(I,{color:D||C.getItemVisual(I,"color")}),T.setItemLayout(I,[C.getItemLayout(I),M.getItemLayout(I)]),T.setItemVisual(I,{fromSymbolRotate:C.getItemVisual(I,"symbolRotate"),fromSymbolSize:C.getItemVisual(I,"symbolSize"),fromSymbol:C.getItemVisual(I,"symbol"),toSymbolRotate:M.getItemVisual(I,"symbolRotate"),toSymbolSize:M.getItemVisual(I,"symbolSize"),toSymbol:M.getItemVisual(I,"symbol")})}),_.updateData(T),w.line.eachItemGraphicEl(function(I,D){I.traverse(function(B){B.dataModel=p})});function R(I,D,B){var F=I.getItemModel(D);d(I,D,B,m,y),I.setItemVisual(D,{symbolRotate:F.get("symbolRotate"),symbolSize:F.get("symbolSize")||P[B?0:1],symbol:F.get("symbol",!0)||E[B?0:1],color:F.get("itemStyle.color")||A.getVisual("color")})}_.__keep=!0,_.group.silent=p.get("silent")||m.get("silent")}});function v(m,p,g){var y;m?y=e.map(m&&m.dimensions,function(w){var C=p.getData().getDimensionInfo(p.getData().mapDimension(w))||{};return e.defaults({name:w},C)}):y=[{name:"value",type:"float"}];var x=new t(y,g),b=new t(y,g),A=new t([],g),S=e.map(g.get("data"),e.curry(l,p,m,g));m&&(S=e.filter(S,e.curry(f,m)));var _=m?r.dimValueGetter:function(w){return w.value};return x.initData(e.map(S,function(w){return w[0]}),null,_),b.initData(e.map(S,function(w){return w[1]}),null,_),A.initData(e.map(S,function(w){return w[2]})),A.hasItemOption=!0,{from:x,to:b,line:A}}return SA=h,SA}var BV;function nxe(){if(BV)return OV;BV=1;var e=et;return exe(),txe(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),OV}var FV={},_A,VV;function rxe(){if(VV)return _A;VV=1;var e=RP(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return _A=t,_A}var zV={},UV;function axe(){if(UV)return zV;UV=1;var e=de,t=ur,n=si(),r=Rt(),a=$e,i=IP(),o=DP(),s=function(v,m,p,g){var y=i.dataTransform(v,g[0]),x=i.dataTransform(v,g[1]),b=e.retrieve,A=y.coord,S=x.coord;A[0]=b(A[0],-1/0),A[1]=b(A[1],-1/0),S[0]=b(S[0],1/0),S[1]=b(S[1],1/0);var _=e.mergeAll([{},y,x]);return _.coord=[y.coord,x.coord],_.x0=y.x,_.y0=y.y,_.x1=x.x,_.y1=x.y,_};function l(v){return!isNaN(v)&&!isFinite(v)}function u(v,m,p,g){var y=1-v;return l(m[y])&&l(p[y])}function c(v,m){var p=m.coord[0],g=m.coord[1];return v.type==="cartesian2d"&&p&&g&&(u(1,p,g)||u(0,p,g))?!0:i.dataFilter(v,{coord:p,x:m.x0,y:m.y0})||i.dataFilter(v,{coord:g,x:m.x1,y:m.y1})}function f(v,m,p,g,y){var x=g.coordinateSystem,b=v.getItemModel(m),A,S=r.parsePercent(b.get(p[0]),y.getWidth()),_=r.parsePercent(b.get(p[1]),y.getHeight());if(!isNaN(S)&&!isNaN(_))A=[S,_];else{if(g.getMarkerPosition)A=g.getMarkerPosition(v.getValues(p,m));else{var w=v.get(p[0],m),C=v.get(p[1],m),M=[w,C];x.clampData&&x.clampData(M,M),A=x.dataToPoint(M,!0)}if(x.type==="cartesian2d"){var T=x.getAxis("x"),E=x.getAxis("y"),w=v.get(p[0],m),C=v.get(p[1],m);l(w)?A[0]=T.toGlobalCoord(T.getExtent()[p[0]==="x0"?0:1]):l(C)&&(A[1]=E.toGlobalCoord(E.getExtent()[p[1]==="y0"?0:1]))}isNaN(S)||(A[0]=S),isNaN(_)||(A[1]=_)}return A}var d=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];o.extend({type:"markArea",updateTransform:function(v,m,p){m.eachSeries(function(g){var y=g.markAreaModel;if(y){var x=y.getData();x.each(function(b){var A=e.map(d,function(_){return f(x,b,_,g,p)});x.setItemLayout(b,A);var S=x.getItemGraphicEl(b);S.setShape("points",A)})}},this)},renderSeries:function(v,m,p,g){var y=v.coordinateSystem,x=v.id,b=v.getData(),A=this.markerGroupMap,S=A.get(x)||A.set(x,{group:new a.Group});this.group.add(S.group),S.__keep=!0;var _=h(y,v,m);m.setData(_),_.each(function(w){var C=e.map(d,function(T){return f(_,w,T,v,g)}),M=!0;e.each(d,function(T){if(M){var E=_.get(T[0],w),P=_.get(T[1],w);(l(E)||y.getAxis("x").containData(E))&&(l(P)||y.getAxis("y").containData(P))&&(M=!1)}}),_.setItemLayout(w,{points:C,allClipped:M}),_.setItemVisual(w,{color:b.getVisual("color")})}),_.diff(S.__data).add(function(w){var C=_.getItemLayout(w);if(!C.allClipped){var M=new a.Polygon({shape:{points:C.points}});_.setItemGraphicEl(w,M),S.group.add(M)}}).update(function(w,C){var M=S.__data.getItemGraphicEl(C),T=_.getItemLayout(w);T.allClipped?M&&S.group.remove(M):(M?a.updateProps(M,{shape:{points:T.points}},m,w):M=new a.Polygon({shape:{points:T.points}}),_.setItemGraphicEl(w,M),S.group.add(M))}).remove(function(w){var C=S.__data.getItemGraphicEl(w);S.group.remove(C)}).execute(),_.eachItemGraphicEl(function(w,C){var M=_.getItemModel(C),T=M.getModel("label"),E=M.getModel("emphasis.label"),P=_.getItemVisual(C,"color");w.useStyle(e.defaults(M.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(P,.4),stroke:P})),w.hoverStyle=M.getModel("emphasis.itemStyle").getItemStyle(),a.setLabelStyle(w.style,w.hoverStyle,T,E,{labelFetcher:m,labelDataIndex:C,defaultText:_.getName(C)||"",isRectText:!0,autoColor:P}),a.setHoverStyle(w,{}),w.dataModel=m}),S.__data=_,S.group.silent=m.get("silent")||v.get("silent")}});function h(v,m,p){var g,y,x=["x0","y0","x1","y1"];v?(g=e.map(v&&v.dimensions,function(S){var _=m.getData(),w=_.getDimensionInfo(_.mapDimension(S))||{};return e.defaults({name:S},w)}),y=new n(e.map(x,function(S,_){return{name:S,type:g[_%2].type}}),p)):(g=[{name:"value",type:"float"}],y=new n(g,p));var b=e.map(p.get("data"),e.curry(s,m,v,p));v&&(b=e.filter(b,e.curry(c,v)));var A=v?function(S,_,w,C){return S.coord[Math.floor(C/2)][C%2]}:function(S){return S.value};return y.initData(b,null,A),y.hasItemOption=!0,y}return zV}var HV;function ixe(){if(HV)return FV;HV=1;var e=et;return rxe(),axe(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),FV}var $V={},GV={},AA,WV;function m9(){if(WV)return AA;WV=1;var e=et,t=de,n=Jn,r=bt,a=r.isNameSpecified,i=ul,o=i.legend.selector,s={all:{type:"all",title:t.clone(o.all)},inverse:{type:"inverse",title:t.clone(o.inverse)}},l=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(c,f,d){this.mergeDefaultAndTheme(c,d),c.selected=c.selected||{},this._updateSelector(c)},mergeOption:function(c){l.superCall(this,"mergeOption",c),this._updateSelector(c)},_updateSelector:function(c){var f=c.selector;f===!0&&(f=c.selector=["all","inverse"]),t.isArray(f)&&t.each(f,function(d,h){t.isString(d)&&(d={type:d}),f[h]=t.merge(d,s[d.type])})},optionUpdated:function(){this._updateData(this.ecModel);var c=this._data;if(c[0]&&this.get("selectedMode")==="single"){for(var f=!1,d=0;d<c.length;d++){var h=c[d].get("name");if(this.isSelected(h)){this.select(h),f=!0;break}}!f&&this.select(c[0].get("name"))}},_updateData:function(c){var f=[],d=[];c.eachRawSeries(function(m){var p=m.name;d.push(p);var g;if(m.legendVisualProvider){var y=m.legendVisualProvider,x=y.getAllNames();c.isSeriesFiltered(m)||(d=d.concat(x)),x.length?f=f.concat(x):g=!0}else g=!0;g&&a(m)&&f.push(m.name)}),this._availableNames=d;var h=this.get("data")||f,v=t.map(h,function(m){return(typeof m=="string"||typeof m=="number")&&(m={name:m}),new n(m,this,this.ecModel)},this);this._data=v},getData:function(){return this._data},select:function(c){var f=this.option.selected,d=this.get("selectedMode");if(d==="single"){var h=this._data;t.each(h,function(v){f[v.get("name")]=!1})}f[c]=!0},unSelect:function(c){this.get("selectedMode")!=="single"&&(this.option.selected[c]=!1)},toggleSelected:function(c){var f=this.option.selected;f.hasOwnProperty(c)||(f[c]=!0),this[f[c]?"unSelect":"select"](c)},allSelect:function(){var c=this._data,f=this.option.selected;t.each(c,function(d){f[d.get("name",!0)]=!0})},inverseSelect:function(){var c=this._data,f=this.option.selected;t.each(c,function(d){var h=d.get("name",!0);f.hasOwnProperty(h)||(f[h]=!0),f[h]=!f[h]})},isSelected:function(c){var f=this.option.selected;return!(f.hasOwnProperty(c)&&!f[c])&&t.indexOf(this._availableNames,c)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),u=l;return AA=u,AA}var jV={},YV;function oxe(){if(YV)return jV;YV=1;var e=et,t=de;function n(r,a,i){var o={},s=r==="toggleSelected",l;return i.eachComponent("legend",function(u){s&&l!=null?u[l?"select":"unSelect"](a.name):r==="allSelect"||r==="inverseSelect"?u[r]():(u[r](a.name),l=u.isSelected(a.name));var c=u.getData();t.each(c,function(f){var d=f.get("name");if(!(d===`
`||d==="")){var h=u.isSelected(d);o.hasOwnProperty(d)?o[d]=o[d]&&h:o[d]=h}})}),r==="allSelect"||r==="inverseSelect"?{selected:o}:{name:a.name,selected:o}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(n,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",t.curry(n,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",t.curry(n,"inverseSelect")),e.registerAction("legendSelect","legendselected",t.curry(n,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(n,"unSelect")),jV}var wA,XV;function y9(){if(XV)return wA;XV=1;var e=et,t=de,n=li(),r=n.createSymbol,a=$e,i=h9(),o=i.makeBackground,s=$t,l=t.curry,u=t.each,c=a.Group,f=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new c),this._backgroundEl,this.group.add(this._selectorGroup=new c),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(p,g,y){var x=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!p.get("show",!0)){var b=p.get("align"),A=p.get("orient");(!b||b==="auto")&&(b=p.get("left")==="right"&&A==="vertical"?"right":"left");var S=p.get("selector",!0),_=p.get("selectorPosition",!0);S&&(!_||_==="auto")&&(_=A==="horizontal"?"end":"start"),this.renderInner(b,p,g,y,S,A,_);var w=p.getBoxLayoutParams(),C={width:y.getWidth(),height:y.getHeight()},M=p.get("padding"),T=s.getLayoutRect(w,C,M),E=this.layoutInner(p,b,T,x,S,_),P=s.getLayoutRect(t.defaults({width:E.width,height:E.height},w),C,M);this.group.attr("position",[P.x-E.x,P.y-E.y]),this.group.add(this._backgroundEl=o(E,p))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(p,g,y,x,b,A,S){var _=this.getContentGroup(),w=t.createHashMap(),C=g.get("selectedMode"),M=[];y.eachRawSeries(function(T){!T.get("legendHoverLink")&&M.push(T.id)}),u(g.getData(),function(T,E){var P=T.get("name");if(!this.newlineDisabled&&(P===""||P===`
`)){_.add(new c({newline:!0}));return}var R=y.getSeriesByName(P)[0];if(!w.get(P))if(R){var I=R.getData(),D=I.getVisual("color"),B=I.getVisual("borderColor");typeof D=="function"&&(D=D(R.getDataParams(0))),typeof B=="function"&&(B=B(R.getDataParams(0)));var F=I.getVisual("legendSymbol")||"roundRect",G=I.getVisual("symbol"),z=this._createItem(P,E,T,g,F,G,p,D,B,C);z.on("click",l(h,P,null,x,M)).on("mouseover",l(v,R.name,null,x,M)).on("mouseout",l(m,R.name,null,x,M)),w.set(P,!0)}else y.eachRawSeries(function(N){if(!w.get(P)&&N.legendVisualProvider){var U=N.legendVisualProvider;if(!U.containName(P))return;var $=U.indexOfName(P),k=U.getItemVisual($,"color"),V=U.getItemVisual($,"borderColor"),L="roundRect",O=this._createItem(P,E,T,g,L,null,p,k,V,C);O.on("click",l(h,null,P,x,M)).on("mouseover",l(v,null,P,x,M)).on("mouseout",l(m,null,P,x,M)),w.set(P,!0)}},this)},this),b&&this._createSelector(b,g,x,A,S)},_createSelector:function(p,g,y,x,b){var A=this.getSelectorGroup();u(p,function(_){S(_)});function S(_){var w=_.type,C=new a.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:w==="all"?"legendAllSelect":"legendInverseSelect"})}});A.add(C);var M=g.getModel("selectorLabel"),T=g.getModel("emphasis.selectorLabel");a.setLabelStyle(C.style,C.hoverStyle={},M,T,{defaultText:_.title,isRectText:!1}),a.setHoverStyle(C)}},_createItem:function(p,g,y,x,b,A,S,_,w,C){var M=x.get("itemWidth"),T=x.get("itemHeight"),E=x.get("inactiveColor"),P=x.get("inactiveBorderColor"),R=x.get("symbolKeepAspect"),I=x.getModel("itemStyle"),D=x.isSelected(p),B=new c,F=y.getModel("textStyle"),G=y.get("icon"),z=y.getModel("tooltip"),N=z.parentModel;b=G||b;var U=r(b,0,0,M,T,D?_:E,R??!0);if(B.add(d(U,b,I,w,P,D)),!G&&A&&(A!==b||A==="none")){var $=T*.8;A==="none"&&(A="circle");var k=r(A,(M-$)/2,(T-$)/2,$,$,D?_:E,R??!0);B.add(d(k,A,I,w,P,D))}var V=S==="left"?M+5:-5,L=S,O=x.get("formatter"),H=p;typeof O=="string"&&O?H=O.replace("{name}",p??""):typeof O=="function"&&(H=O(p)),B.add(new a.Text({style:a.setTextStyle({},F,{text:H,x:V,y:T/2,textFill:D?F.getTextColor():E,textAlign:L,textVerticalAlign:"middle"})}));var j=new a.Rect({shape:B.getBoundingRect(),invisible:!0,tooltip:z.get("show")?t.extend({content:p,formatter:N.get("formatter",!0)||function(){return p},formatterParams:{componentType:"legend",legendIndex:x.componentIndex,name:p,$vars:["name"]}},z.option):null});return B.add(j),B.eachChild(function(Y){Y.silent=!0}),j.silent=!C,this.getContentGroup().add(B),a.setHoverStyle(B),B.__legendDataIndex=g,B},layoutInner:function(p,g,y,x,b,A){var S=this.getContentGroup(),_=this.getSelectorGroup();s.box(p.get("orient"),S,p.get("itemGap"),y.width,y.height);var w=S.getBoundingRect(),C=[-w.x,-w.y];if(b){s.box("horizontal",_,p.get("selectorItemGap",!0));var M=_.getBoundingRect(),T=[-M.x,-M.y],E=p.get("selectorButtonGap",!0),P=p.getOrient().index,R=P===0?"width":"height",I=P===0?"height":"width",D=P===0?"y":"x";A==="end"?T[P]+=w[R]+E:C[P]+=M[R]+E,T[1-P]+=w[I]/2-M[I]/2,_.attr("position",T),S.attr("position",C);var B={x:0,y:0};return B[R]=w[R]+E+M[R],B[I]=Math.max(w[I],M[I]),B[D]=Math.min(0,M[D]+T[1-P]),B}else return S.attr("position",C),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function d(p,g,y,x,b,A){var S;return g!=="line"&&g.indexOf("empty")<0?(S=y.getItemStyle(),p.style.stroke=x,A||(S.stroke=b)):S=y.getItemStyle(["borderWidth","borderColor"]),p.setStyle(S)}function h(p,g,y,x){m(p,g,y,x),y.dispatchAction({type:"legendToggleSelect",name:p??g}),v(p,g,y,x)}function v(p,g,y,x){var b=y.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||y.dispatchAction({type:"highlight",seriesName:p,name:g,excludeSeriesId:x})}function m(p,g,y,x){var b=y.getZr().storage.getDisplayList()[0];b&&b.useHoverLayer||y.dispatchAction({type:"downplay",seriesName:p,name:g,excludeSeriesId:x})}return wA=f,wA}var CA,qV;function sxe(){if(qV)return CA;qV=1;function e(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.filterSeries(function(r){for(var a=0;a<n.length;a++)if(!n[a].isSelected(r.name))return!1;return!0})}return CA=e,CA}var KV;function x9(){if(KV)return GV;KV=1;var e=et;m9(),oxe(),y9();var t=sxe(),n=yr;return e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,t),n.registerSubTypeDefaulter("legend",function(){return"plain"}),GV}var MA,ZV;function lxe(){if(ZV)return MA;ZV=1;var e=m9(),t=$t,n=t.mergeLayoutParam,r=t.getLayoutParams,a=e.extend({type:"legend.scroll",setScrollDataIndex:function(s){this.option.scrollDataIndex=s},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(s,l,u,c){var f=r(s);a.superCall(this,"init",s,l,u,c),i(this,s,f)},mergeOption:function(s,l){a.superCall(this,"mergeOption",s,l),i(this,this.option,s)}});function i(s,l,u){var c=s.getOrient(),f=[1,1];f[c.index]=0,n(l,u,{type:"box",ignoreSize:f})}var o=a;return MA=o,MA}var TA,QV;function uxe(){if(QV)return TA;QV=1;var e=de,t=$e,n=$t,r=y9(),a=t.Group,i=["width","height"],o=["x","y"],s=r.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){s.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a),this._showController},resetInner:function(){s.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(u,c,f,d,h,v,m){var p=this;s.superCall(this,"renderInner",u,c,f,d,h,v,m);var g=this._controllerGroup,y=c.get("pageIconSize",!0);e.isArray(y)||(y=[y,y]),b("pagePrev",0);var x=c.getModel("pageTextStyle");g.add(new t.Text({name:"pageText",style:{textFill:x.getTextColor(),font:x.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),b("pageNext",1);function b(A,S){var _=A+"DataIndex",w=t.createIcon(c.get("pageIcons",!0)[c.getOrient().name][S],{onclick:e.bind(p._pageGo,p,_,c,d)},{x:-y[0]/2,y:-y[1]/2,width:y[0],height:y[1]});w.name=A,g.add(w)}},layoutInner:function(u,c,f,d,h,v){var m=this.getSelectorGroup(),p=u.getOrient().index,g=i[p],y=o[p],x=i[1-p],b=o[1-p];h&&n.box("horizontal",m,u.get("selectorItemGap",!0));var A=u.get("selectorButtonGap",!0),S=m.getBoundingRect(),_=[-S.x,-S.y],w=e.clone(f);h&&(w[g]=f[g]-S[g]-A);var C=this._layoutContentAndController(u,d,w,p,g,x,b);if(h){if(v==="end")_[p]+=C[g]+A;else{var M=S[g]+A;_[p]-=M,C[y]-=M}C[g]+=S[g]+A,_[1-p]+=C[b]+C[x]/2-S[x]/2,C[x]=Math.max(C[x],S[x]),C[b]=Math.min(C[b],S[b]+_[1-p]),m.attr("position",_)}return C},_layoutContentAndController:function(u,c,f,d,h,v,m){var p=this.getContentGroup(),g=this._containerGroup,y=this._controllerGroup;n.box(u.get("orient"),p,u.get("itemGap"),d?f.width:null,d?null:f.height),n.box("horizontal",y,u.get("pageButtonItemGap",!0));var x=p.getBoundingRect(),b=y.getBoundingRect(),A=this._showController=x[h]>f[h],S=[-x.x,-x.y];c||(S[d]=p.position[d]);var _=[0,0],w=[-b.x,-b.y],C=e.retrieve2(u.get("pageButtonGap",!0),u.get("itemGap",!0));if(A){var M=u.get("pageButtonPosition",!0);M==="end"?w[d]+=f[h]-b[h]:_[d]+=b[h]+C}w[1-d]+=x[v]/2-b[v]/2,p.attr("position",S),g.attr("position",_),y.attr("position",w);var T={x:0,y:0};if(T[h]=A?f[h]:x[h],T[v]=Math.max(x[v],b[v]),T[m]=Math.min(0,b[m]+w[1-d]),g.__rectSize=f[h],A){var E={x:0,y:0};E[h]=Math.max(f[h]-b[h]-C,0),E[v]=T[v],g.setClipPath(new t.Rect({shape:E})),g.__rectSize=E[h]}else y.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var P=this._getPageInfo(u);return P.pageIndex!=null&&t.updateProps(p,{position:P.contentPosition},A?u:!1),this._updatePageInfoView(u,P),T},_pageGo:function(u,c,f){var d=this._getPageInfo(c)[u];d!=null&&f.dispatchAction({type:"legendScroll",scrollDataIndex:d,legendId:c.id})},_updatePageInfoView:function(u,c){var f=this._controllerGroup;e.each(["pagePrev","pageNext"],function(g){var y=c[g+"DataIndex"]!=null,x=f.childOfName(g);x&&(x.setStyle("fill",y?u.get("pageIconColor",!0):u.get("pageIconInactiveColor",!0)),x.cursor=y?"pointer":"default")});var d=f.childOfName("pageText"),h=u.get("pageFormatter"),v=c.pageIndex,m=v!=null?v+1:0,p=c.pageCount;d&&h&&d.setStyle("text",e.isString(h)?h.replace("{current}",m).replace("{total}",p):h({current:m,total:p}))},_getPageInfo:function(u){var c=u.get("scrollDataIndex",!0),f=this.getContentGroup(),d=this._containerGroup.__rectSize,h=u.getOrient().index,v=i[h],m=o[h],p=this._findTargetItemIndex(c),g=f.children(),y=g[p],x=g.length,b=x?1:0,A={contentPosition:f.position.slice(),pageCount:b,pageIndex:b-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return A;var S=T(y);A.contentPosition[h]=-S.s;for(var _=p+1,w=S,C=S,M=null;_<=x;++_)M=T(g[_]),(!M&&C.e>w.s+d||M&&!E(M,w.s))&&(C.i>w.i?w=C:w=M,w&&(A.pageNextDataIndex==null&&(A.pageNextDataIndex=w.i),++A.pageCount)),C=M;for(var _=p-1,w=S,C=S,M=null;_>=-1;--_)M=T(g[_]),(!M||!E(C,M.s))&&w.i<C.i&&(C=w,A.pagePrevDataIndex==null&&(A.pagePrevDataIndex=w.i),++A.pageCount,++A.pageIndex),w=M;return A;function T(P){if(P){var R=P.getBoundingRect(),I=R[m]+P.position[h];return{s:I,e:I+R[v],i:P.__legendDataIndex}}}function E(P,R){return P.e>=R&&P.s<=R+d}},_findTargetItemIndex:function(u){if(!this._showController)return 0;var c,f=this.getContentGroup(),d;return f.eachChild(function(h,v){var m=h.__legendDataIndex;d==null&&m!=null&&(d=v),m===u&&(c=v)}),c??d}}),l=s;return TA=l,TA}var JV={},ez;function cxe(){if(ez)return JV;ez=1;var e=et;return e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(a){a.setScrollDataIndex(r)})}),JV}var tz;function fxe(){return tz||(tz=1,x9(),lxe(),uxe(),cxe()),$V}var nz={},rz={},EA,az;function dxe(){if(az)return EA;az=1;var e=$f(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),n=t;return EA=n,EA}var PA,iz;function hxe(){if(iz)return PA;iz=1;var e=de,t=mr,n=$e,r=Bi,a=Gf(),i=Rt(),o=$t,s=Hf(),l=n.Rect,u=i.linearMap,c=i.asc,f=e.bind,d=e.each,h=7,v=1,m=30,p="horizontal",g="vertical",y=5,x=["line","bar","candlestick","scatter"],b=a.extend({type:"dataZoom.slider",init:function(w,C){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=C},render:function(w,C,M,T){if(b.superApply(this,"render",arguments),r.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=w.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!T||T.type!=="dataZoom"||T.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){b.superApply(this,"remove",arguments),r.clear(this,"_dispatchZoomAction")},dispose:function(){b.superApply(this,"dispose",arguments),r.clear(this,"_dispatchZoomAction")},_buildView:function(){var w=this.group;w.removeAll(),this._resetLocation(),this._resetInterval();var C=this._displayables.barGroup=new n.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),w.add(C),this._positionGroup()},_resetLocation:function(){var w=this.dataZoomModel,C=this.api,M=this._findCoordRect(),T={width:C.getWidth(),height:C.getHeight()},E=this._orient===p?{right:T.width-M.x-M.width,top:T.height-m-h,width:M.width,height:m}:{right:h,top:M.y,width:m,height:M.height},P=o.getLayoutParams(w.option);e.each(["right","top","width","height"],function(I){P[I]==="ph"&&(P[I]=E[I])});var R=o.getLayoutRect(P,T,w.padding);this._location={x:R.x,y:R.y},this._size=[R.width,R.height],this._orient===g&&this._size.reverse()},_positionGroup:function(){var w=this.group,C=this._location,M=this._orient,T=this.dataZoomModel.getFirstTargetAxisModel(),E=T&&T.get("inverse"),P=this._displayables.barGroup,R=(this._dataShadowInfo||{}).otherAxisInverse;P.attr(M===p&&!E?{scale:R?[1,1]:[1,-1]}:M===p&&E?{scale:R?[-1,1]:[-1,-1]}:M===g&&!E?{scale:R?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:R?[-1,-1]:[-1,1],rotation:Math.PI/2});var I=w.getBoundingRect([P]);w.attr("position",[C.x-I.x,C.y-I.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var w=this.dataZoomModel,C=this._size,M=this._displayables.barGroup;M.add(new l({silent:!0,shape:{x:0,y:0,width:C[0],height:C[1]},style:{fill:w.get("backgroundColor")},z2:-40})),M.add(new l({shape:{x:0,y:0,width:C[0],height:C[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var w=this._dataShadowInfo=this._prepareDataShadowInfo();if(w){var C=this._size,M=w.series,T=M.getRawData(),E=M.getShadowDim?M.getShadowDim():w.otherDim;if(E!=null){var P=T.getDataExtent(E),R=(P[1]-P[0])*.3;P=[P[0]-R,P[1]+R];var I=[0,C[1]],D=[0,C[0]],B=[[C[0],0],[0,0]],F=[],G=D[1]/(T.count()-1),z=0,N=Math.round(T.count()/C[0]),U;T.each([E],function(k,V){if(N>0&&V%N){z+=G;return}var L=k==null||isNaN(k)||k==="",O=L?0:u(k,P,I,!0);L&&!U&&V?(B.push([B[B.length-1][0],0]),F.push([F[F.length-1][0],0])):!L&&U&&(B.push([z,0]),F.push([z,0])),B.push([z,O]),F.push([z,O]),z+=G,U=L});var $=this.dataZoomModel;this._displayables.barGroup.add(new n.Polygon({shape:{points:B},style:e.defaults({fill:$.get("dataBackgroundColor")},$.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new n.Polyline({shape:{points:F},style:$.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var w=this.dataZoomModel,C=w.get("showDataShadow");if(C!==!1){var M,T=this.ecModel;return w.eachTargetAxis(function(E,P){var R=w.getAxisProxy(E.name,P).getTargetSeriesModels();e.each(R,function(I){if(!M&&!(C!==!0&&e.indexOf(x,I.get("type"))<0)){var D=T.getComponent(E.axis,P).axis,B=A(E.name),F,G=I.coordinateSystem;B!=null&&G.getOtherAxis&&(F=G.getOtherAxis(D).inverse),B=I.getData().mapDimension(B),M={thisAxis:D,series:I,thisDim:E.name,otherDim:B,otherAxisInverse:F}}},this)},this),M}},_renderHandle:function(){var w=this._displayables,C=w.handles=[],M=w.handleLabels=[],T=this._displayables.barGroup,E=this._size,P=this.dataZoomModel;T.add(w.filler=new l({draggable:!0,cursor:S(this._orient),drift:f(this._onDragMove,this,"all"),ondragstart:f(this._showDataInfo,this,!0),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:P.get("fillerColor"),textPosition:"inside"}})),T.add(new l({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:E[0],height:E[1]},style:{stroke:P.get("dataBackgroundColor")||P.get("borderColor"),lineWidth:v,fill:"rgba(0,0,0,0)"}})),d([0,1],function(R){var I=n.createIcon(P.get("handleIcon"),{cursor:S(this._orient),draggable:!0,drift:f(this._onDragMove,this,R),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),D=I.getBoundingRect();this._handleHeight=i.parsePercent(P.get("handleSize"),this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,I.setStyle(P.getModel("handleStyle").getItemStyle());var B=P.get("handleColor");B!=null&&(I.style.fill=B),T.add(C[R]=I);var F=P.textStyleModel;this.group.add(M[R]=new n.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:F.getTextColor(),textFont:F.getFont()},z2:10}))},this)},_resetInterval:function(){var w=this._range=this.dataZoomModel.getPercentRange(),C=this._getViewExtent();this._handleEnds=[u(w[0],[0,100],C,!0),u(w[1],[0,100],C,!0)]},_updateInterval:function(w,C){var M=this.dataZoomModel,T=this._handleEnds,E=this._getViewExtent(),P=M.findRepresentativeAxisProxy().getMinMaxSpan(),R=[0,100];s(C,T,E,M.get("zoomLock")?"all":w,P.minSpan!=null?u(P.minSpan,R,E,!0):null,P.maxSpan!=null?u(P.maxSpan,R,E,!0):null);var I=this._range,D=this._range=c([u(T[0],E,R,!0),u(T[1],E,R,!0)]);return!I||I[0]!==D[0]||I[1]!==D[1]},_updateView:function(w){var C=this._displayables,M=this._handleEnds,T=c(M.slice()),E=this._size;d([0,1],function(P){var R=C.handles[P],I=this._handleHeight;R.attr({scale:[I/2,I/2],position:[M[P],E[1]/2-I/2]})},this),C.filler.setShape({x:T[0],y:0,width:T[1]-T[0],height:E[1]}),this._updateDataInfo(w)},_updateDataInfo:function(w){var C=this.dataZoomModel,M=this._displayables,T=M.handleLabels,E=this._orient,P=["",""];if(C.get("showDetail")){var R=C.findRepresentativeAxisProxy();if(R){var I=R.getAxisModel().axis,D=this._range,B=w?R.calculateDataWindow({start:D[0],end:D[1]}).valueWindow:R.getDataValueWindow();P=[this._formatLabel(B[0],I),this._formatLabel(B[1],I)]}}var F=c(this._handleEnds.slice());G.call(this,0),G.call(this,1);function G(z){var N=n.getTransform(M.handles[z].parent,this.group),U=n.transformDirection(z===0?"right":"left",N),$=this._handleWidth/2+y,k=n.applyTransform([F[z]+(z===0?-$:$),this._size[1]/2],N);T[z].setStyle({x:k[0],y:k[1],textVerticalAlign:E===p?"middle":U,textAlign:E===p?U:"center",text:P[z]})}},_formatLabel:function(w,C){var M=this.dataZoomModel,T=M.get("labelFormatter"),E=M.get("labelPrecision");(E==null||E==="auto")&&(E=C.getPixelPrecision());var P=w==null||isNaN(w)?"":C.type==="category"||C.type==="time"?C.scale.getLabel(Math.round(w)):w.toFixed(Math.min(E,20));return e.isFunction(T)?T(w,P):e.isString(T)?T.replace("{value}",P):P},_showDataInfo:function(w){w=this._dragging||w;var C=this._displayables.handleLabels;C[0].attr("invisible",!w),C[1].attr("invisible",!w)},_onDragMove:function(w,C,M,T){this._dragging=!0,t.stop(T.event);var E=this._displayables.barGroup.getLocalTransform(),P=n.applyTransform([C,M],E,!0),R=this._updateInterval(w,P[0]),I=this.dataZoomModel.get("realtime");this._updateView(!I),R&&I&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var w=this.dataZoomModel.get("realtime");!w&&this._dispatchZoomAction()},_onClickPanelClick:function(w){var C=this._size,M=this._displayables.barGroup.transformCoordToLocal(w.offsetX,w.offsetY);if(!(M[0]<0||M[0]>C[0]||M[1]<0||M[1]>C[1])){var T=this._handleEnds,E=(T[0]+T[1])/2,P=this._updateInterval("all",M[0]-E);this._updateView(),P&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var w=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:w[0],end:w[1]})},_findCoordRect:function(){var w;if(d(this.getTargetCoordInfo(),function(T){if(!w&&T.length){var E=T[0].model.coordinateSystem;w=E.getRect&&E.getRect()}}),!w){var C=this.api.getWidth(),M=this.api.getHeight();w={x:C*.2,y:M*.2,width:C*.6,height:M*.6}}return w}});function A(w){var C={x:"y",y:"x",radius:"angle",angle:"radius"};return C[w]}function S(w){return w==="vertical"?"ns-resize":"ew-resize"}var _=b;return PA=_,PA}var oz;function b9(){return oz||(oz=1,MP(),$f(),Gf(),dxe(),hxe(),EP(),PP()),rz}var sz={},RA,lz;function vxe(){if(lz)return RA;lz=1;var e=$f(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});return RA=t,RA}var wd={},uz;function pxe(){if(uz)return wd;uz=1;var e=de,t=Pv(),n=Bi,r="\0_ec_dataZoom_roams";function a(d,h){var v=s(d),m=h.dataZoomId,p=h.coordId;e.each(v,function(x,b){var A=x.dataZoomInfos;A[m]&&e.indexOf(h.allCoordIds,p)<0&&(delete A[m],x.count--)}),u(v);var g=v[p];g||(g=v[p]={coordId:p,dataZoomInfos:{},count:0},g.controller=l(d,g),g.dispatchAction=e.curry(c,d)),!g.dataZoomInfos[m]&&g.count++,g.dataZoomInfos[m]=h;var y=f(g.dataZoomInfos);g.controller.enable(y.controlType,y.opt),g.controller.setPointerChecker(h.containsPoint),n.createOrUpdate(g,"dispatchAction",h.dataZoomModel.get("throttle",!0),"fixRate")}function i(d,h){var v=s(d);e.each(v,function(m){m.controller.dispose();var p=m.dataZoomInfos;p[h]&&(delete p[h],m.count--)}),u(v)}function o(d){return d.type+"\0_"+d.id}function s(d){var h=d.getZr();return h[r]||(h[r]={})}function l(d,h){var v=new t(d.getZr());return e.each(["pan","zoom","scrollMove"],function(m){v.on(m,function(p){var g=[];e.each(h.dataZoomInfos,function(y){if(p.isAvailableBehavior(y.dataZoomModel.option)){var x=(y.getRange||{})[m],b=x&&x(h.controller,p);!y.dataZoomModel.get("disabled",!0)&&b&&g.push({dataZoomId:y.dataZoomId,start:b[0],end:b[1]})}}),g.length&&h.dispatchAction(g)})}),v}function u(d){e.each(d,function(h,v){h.count||(h.controller.dispose(),delete d[v])})}function c(d,h){d.dispatchAction({type:"dataZoom",batch:h})}function f(d){var h,v="type_",m={type_true:2,type_move:1,type_false:0,type_undefined:-1},p=!0;return e.each(d,function(g){var y=g.dataZoomModel,x=y.get("disabled",!0)?!1:y.get("zoomLock",!0)?"move":!0;m[v+x]>m[v+h]&&(h=x),p&=y.get("preventDefaultMouseMove",!0)}),{controlType:h,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!p}}}return wd.register=a,wd.unregister=i,wd.generateCoordId=o,wd}var IA,cz;function gxe(){if(cz)return IA;cz=1;var e=de,t=Gf(),n=Hf(),r=pxe(),a=e.bind,i=t.extend({type:"dataZoom.inside",init:function(c,f){this._range},render:function(c,f,d,h){i.superApply(this,"render",arguments),this._range=c.getPercentRange(),e.each(this.getTargetCoordInfo(),function(v,m){var p=e.map(v,function(g){return r.generateCoordId(g.model)});e.each(v,function(g){var y=g.model,x={};e.each(["pan","zoom","scrollMove"],function(b){x[b]=a(o[b],this,g,m)},this),r.register(d,{coordId:r.generateCoordId(y),allCoordIds:p,containsPoint:function(b,A,S){return y.coordinateSystem.containPoint([A,S])},dataZoomId:c.id,dataZoomModel:c,getRange:x})},this)},this)},dispose:function(){r.unregister(this.api,this.dataZoomModel.id),i.superApply(this,"dispose",arguments),this._range=null}}),o={zoom:function(c,f,d,h){var v=this._range,m=v.slice(),p=c.axisModels[0];if(p){var g=l[f](null,[h.originX,h.originY],p,d,c),y=(g.signal>0?g.pixelStart+g.pixelLength-g.pixel:g.pixel-g.pixelStart)/g.pixelLength*(m[1]-m[0])+m[0],x=Math.max(1/h.scale,0);m[0]=(m[0]-y)*x+y,m[1]=(m[1]-y)*x+y;var b=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(n(0,m,[0,100],0,b.minSpan,b.maxSpan),this._range=m,v[0]!==m[0]||v[1]!==m[1])return m}},pan:s(function(c,f,d,h,v,m){var p=l[h]([m.oldX,m.oldY],[m.newX,m.newY],f,v,d);return p.signal*(c[1]-c[0])*p.pixel/p.pixelLength}),scrollMove:s(function(c,f,d,h,v,m){var p=l[h]([0,0],[m.scrollDelta,m.scrollDelta],f,v,d);return p.signal*(c[1]-c[0])*m.scrollDelta})};function s(c){return function(f,d,h,v){var m=this._range,p=m.slice(),g=f.axisModels[0];if(g){var y=c(p,g,f,d,h,v);if(n(y,p,[0,100],"all"),this._range=p,m[0]!==p[0]||m[1]!==p[1])return p}}}var l={grid:function(c,f,d,h,v){var m=d.axis,p={},g=v.model.coordinateSystem.getRect();return c=c||[0,0],m.dim==="x"?(p.pixel=f[0]-c[0],p.pixelLength=g.width,p.pixelStart=g.x,p.signal=m.inverse?1:-1):(p.pixel=f[1]-c[1],p.pixelLength=g.height,p.pixelStart=g.y,p.signal=m.inverse?-1:1),p},polar:function(c,f,d,h,v){var m=d.axis,p={},g=v.model.coordinateSystem,y=g.getRadiusAxis().getExtent(),x=g.getAngleAxis().getExtent();return c=c?g.pointToCoord(c):[0,0],f=g.pointToCoord(f),d.mainType==="radiusAxis"?(p.pixel=f[0]-c[0],p.pixelLength=y[1]-y[0],p.pixelStart=y[0],p.signal=m.inverse?1:-1):(p.pixel=f[1]-c[1],p.pixelLength=x[1]-x[0],p.pixelStart=x[0],p.signal=m.inverse?-1:1),p},singleAxis:function(c,f,d,h,v){var m=d.axis,p=v.model.coordinateSystem.getRect(),g={};return c=c||[0,0],m.orient==="horizontal"?(g.pixel=f[0]-c[0],g.pixelLength=p.width,g.pixelStart=p.x,g.signal=m.inverse?1:-1):(g.pixel=f[1]-c[1],g.pixelLength=p.height,g.pixelStart=p.y,g.signal=m.inverse?-1:1),g}},u=i;return IA=u,IA}var fz;function S9(){return fz||(fz=1,MP(),$f(),Gf(),vxe(),gxe(),EP(),PP()),sz}var dz;function mxe(){return dz||(dz=1,b9(),S9()),nz}var hz={},vz={},DA,pz;function _9(){if(pz)return DA;pz=1;var e=de,t=e.each;function n(a){var i=a&&a.visualMap;e.isArray(i)||(i=i?[i]:[]),t(i,function(o){if(o){r(o,"splitList")&&!r(o,"pieces")&&(o.pieces=o.splitList,delete o.splitList);var s=o.pieces;s&&e.isArray(s)&&t(s,function(l){e.isObject(l)&&(r(l,"start")&&!r(l,"min")&&(l.min=l.start),r(l,"end")&&!r(l,"max")&&(l.max=l.end))})}})}function r(a,i){return a&&a.hasOwnProperty&&a.hasOwnProperty(i)}return DA=n,DA}var gz={},mz;function A9(){if(mz)return gz;mz=1;var e=yr;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),gz}var yz={},xz;function w9(){if(xz)return yz;xz=1;var e=et,t=de,n=Jy(),r=Pu(),a=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(a,{createOnAllSeries:!0,reset:function(o,s){var l=[];return s.eachComponent("visualMap",function(u){var c=o.pipelineContext;!u.isTargetSeries(o)||c&&c.large||l.push(n.incrementalApplyVisual(u.stateList,u.targetVisuals,t.bind(u.getValueState,u),u.getDataDimension(o.getData())))}),l}}),e.registerVisual(a,{createOnAllSeries:!0,reset:function(o,s){var l=o.getData(),u=[];s.eachComponent("visualMap",function(c){if(c.isTargetSeries(o)){var f=c.getVisualMeta(t.bind(i,null,o,c))||{stops:[],outerColors:[]},d=c.getDataDimension(l),h=l.getDimensionInfo(d);h!=null&&(f.dimension=h.index,u.push(f))}}),o.getData().setVisual("visualMeta",u)}});function i(o,s,l,u){for(var c=s.targetVisuals[u],f=r.prepareVisualTypes(c),d={color:o.getData().getVisual("color")},h=0,v=f.length;h<v;h++){var m=f[h],p=c[m==="opacity"?"__alphaForOpacity":m];p&&p.applyVisual(l,g,y)}return d.color;function g(x){return d[x]}function y(x,b){d[x]=b}}return yz}var LA,bz;function C9(){if(bz)return LA;bz=1;var e=de,t={get:function(a,i,o){var s=e.clone((n[a]||{})[i]);return o&&e.isArray(s)?s[s.length-1]:s}},n={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},r=t;return LA=r,LA}var OA,Sz;function M9(){if(Sz)return OA;Sz=1;var e=et,t=de,n=Qn,r=C9(),a=Pu(),i=Jy(),o=bt,s=Rt(),l=a.mapVisual,u=a.eachVisual,c=t.isArray,f=t.each,d=s.asc,h=s.linearMap,v=t.noop,m=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(g,y,x){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(g,x)},optionUpdated:function(g,y){var x=this.option;n.canvasSupported||(x.realtime=!1),!y&&i.replaceVisualOption(x,g,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(g){var y=this.stateList;g=t.bind(g,this),this.controllerVisuals=i.createVisualMappings(this.option.controller,y,g),this.targetVisuals=i.createVisualMappings(this.option.target,y,g)},getTargetSeriesIndices:function(){var g=this.option.seriesIndex,y=[];return g==null||g==="all"?this.ecModel.eachSeries(function(x,b){y.push(b)}):y=o.normalizeToArray(g),y},eachTargetSeries:function(g,y){t.each(this.getTargetSeriesIndices(),function(x){g.call(y,this.ecModel.getSeriesByIndex(x))},this)},isTargetSeries:function(g){var y=!1;return this.eachTargetSeries(function(x){x===g&&(y=!0)}),y},formatValueText:function(g,y,x){var b=this.option,A=b.precision,S=this.dataBound,_=b.formatter,w,C;if(x=x||["<",">"],t.isArray(g)&&(g=g.slice(),w=!0),C=y?g:w?[M(g[0]),M(g[1])]:M(g),t.isString(_))return _.replace("{value}",w?C[0]:C).replace("{value2}",w?C[1]:C);if(t.isFunction(_))return w?_(g[0],g[1]):_(g);if(w)return g[0]===S[0]?x[0]+" "+C[1]:g[1]===S[1]?x[1]+" "+C[0]:C[0]+" - "+C[1];return C;function M(T){return T===S[0]?"min":T===S[1]?"max":(+T).toFixed(Math.min(A,20))}},resetExtent:function(){var g=this.option,y=d([g.min,g.max]);this._dataExtent=y},getDataDimension:function(g){var y=this.option.dimension,x=g.dimensions;if(!(y==null&&!x.length)){if(y!=null)return g.getDimension(y);for(var b=g.dimensions,A=b.length-1;A>=0;A--){var S=b[A],_=g.getDimensionInfo(S);if(!_.isCalculationCoord)return S}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var g=this.ecModel,y=this.option,x={inRange:y.inRange,outOfRange:y.outOfRange},b=y.target||(y.target={}),A=y.controller||(y.controller={});t.merge(b,x),t.merge(A,x);var S=this.isCategory();_.call(this,b),_.call(this,A),w.call(this,b,"inRange","outOfRange"),C.call(this,A);function _(M){c(y.color)&&!M.inRange&&(M.inRange={color:y.color.slice().reverse()}),M.inRange=M.inRange||{color:g.get("gradientColor")},f(this.stateList,function(T){var E=M[T];if(t.isString(E)){var P=r.get(E,"active",S);P?(M[T]={},M[T][E]=P):delete M[T]}},this)}function w(M,T,E){var P=M[T],R=M[E];P&&!R&&(R=M[E]={},f(P,function(I,D){if(a.isValidType(D)){var B=r.get(D,"inactive",S);B!=null&&(R[D]=B,D==="color"&&!R.hasOwnProperty("opacity")&&!R.hasOwnProperty("colorAlpha")&&(R.opacity=[0,0]))}}))}function C(M){var T=(M.inRange||{}).symbol||(M.outOfRange||{}).symbol,E=(M.inRange||{}).symbolSize||(M.outOfRange||{}).symbolSize,P=this.get("inactiveColor");f(this.stateList,function(R){var I=this.itemSize,D=M[R];D||(D=M[R]={color:S?P:[P]}),D.symbol==null&&(D.symbol=T&&t.clone(T)||(S?"roundRect":["roundRect"])),D.symbolSize==null&&(D.symbolSize=E&&t.clone(E)||(S?I[0]:[I[0],I[0]])),D.symbol=l(D.symbol,function(G){return G==="none"||G==="square"?"roundRect":G});var B=D.symbolSize;if(B!=null){var F=-1/0;u(B,function(G){G>F&&(F=G)}),D.symbolSize=l(B,function(G){return h(G,[0,F],[0,I[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v}),p=m;return OA=p,OA}var NA,_z;function yxe(){if(_z)return NA;_z=1;var e=de,t=M9(),n=Rt(),r=[20,140],a=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(s,l){a.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(u){u.mappingMethod="linear",u.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){a.superApply(this,"resetItemSize",arguments);var s=this.itemSize;this._orient==="horizontal"&&s.reverse(),(s[0]==null||isNaN(s[0]))&&(s[0]=r[0]),(s[1]==null||isNaN(s[1]))&&(s[1]=r[1])},_resetRange:function(){var s=this.getExtent(),l=this.option.range;!l||l.auto?(s.auto=1,this.option.range=s):e.isArray(l)&&(l[0]>l[1]&&l.reverse(),l[0]=Math.max(l[0],s[0]),l[1]=Math.min(l[1],s[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(s){var l=this.option.controller[s].symbolSize;l&&l[0]!==l[1]&&(l[0]=0)},this)},setSelected:function(s){this.option.range=s.slice(),this._resetRange()},getSelected:function(){var s=this.getExtent(),l=n.asc((this.get("range")||[]).slice());return l[0]>s[1]&&(l[0]=s[1]),l[1]>s[1]&&(l[1]=s[1]),l[0]<s[0]&&(l[0]=s[0]),l[1]<s[0]&&(l[1]=s[0]),l},getValueState:function(s){var l=this.option.range,u=this.getExtent();return(l[0]<=u[0]||l[0]<=s)&&(l[1]>=u[1]||s<=l[1])?"inRange":"outOfRange"},findTargetDataIndices:function(s){var l=[];return this.eachTargetSeries(function(u){var c=[],f=u.getData();f.each(this.getDataDimension(f),function(d,h){s[0]<=d&&d<=s[1]&&c.push(h)},this),l.push({seriesId:u.id,dataIndex:c})},this),l},getVisualMeta:function(s){var l=i(this,"outOfRange",this.getExtent()),u=i(this,"inRange",this.option.range.slice()),c=[];function f(y,x){c.push({value:y,color:s(y,x)})}for(var d=0,h=0,v=u.length,m=l.length;h<m&&(!u.length||l[h]<=u[0]);h++)l[h]<u[d]&&f(l[h],"outOfRange");for(var p=1;d<v;d++,p=0)p&&c.length&&f(u[d],"outOfRange"),f(u[d],"inRange");for(var p=1;h<m;h++)(!u.length||u[u.length-1]<l[h])&&(p&&(c.length&&f(c[c.length-1].value,"outOfRange"),p=0),f(l[h],"outOfRange"));var g=c.length;return{stops:c,outerColors:[g?c[0].color:"transparent",g?c[g-1].color:"transparent"]}}});function i(s,l,u){if(u[0]===u[1])return u.slice();for(var c=200,f=(u[1]-u[0])/c,d=u[0],h=[],v=0;v<=c&&d<u[1];v++)h.push(d),d+=f;return h.push(u[1]),h}var o=a;return NA=o,NA}var kA,Az;function T9(){if(Az)return kA;Az=1;var e=et,t=de,n=$e,r=Gt,a=$t,i=Pu(),o=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(s,l){this.ecModel=s,this.api=l,this.visualMapModel},render:function(s,l,u,c){if(this.visualMapModel=s,s.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(s){var l=this.visualMapModel,u=r.normalizeCssArray(l.get("padding")||0),c=s.getBoundingRect();s.add(new n.Rect({z2:-1,silent:!0,shape:{x:c.x-u[3],y:c.y-u[0],width:c.width+u[3]+u[1],height:c.height+u[0]+u[2]},style:{fill:l.get("backgroundColor"),stroke:l.get("borderColor"),lineWidth:l.get("borderWidth")}}))},getControllerVisual:function(s,l,u){u=u||{};var c=u.forceState,f=this.visualMapModel,d={};if(l==="symbol"&&(d.symbol=f.get("itemSymbol")),l==="color"){var h=f.get("contentColor");d.color=h}function v(y){return d[y]}function m(y,x){d[y]=x}var p=f.controllerVisuals[c||f.getValueState(s)],g=i.prepareVisualTypes(p);return t.each(g,function(y){var x=p[y];u.convertOpacityToAlpha&&y==="opacity"&&(y="colorAlpha",x=p.__alphaForOpacity),i.dependsOn(y,l)&&x&&x.applyVisual(s,v,m)}),d[l]},positionGroup:function(s){var l=this.visualMapModel,u=this.api;a.positionElement(s,l.getBoxLayoutParams(),{width:u.getWidth(),height:u.getHeight()})},doRender:t.noop});return kA=o,kA}var Np={},wz;function E9(){if(wz)return Np;wz=1;var e=de,t=$t,n=t.getLayoutRect;function r(i,o,s){var l=i.option,u=l.align;if(u!=null&&u!=="auto")return u;for(var c={width:o.getWidth(),height:o.getHeight()},f=l.orient==="horizontal"?1:0,d=[["left","right","width"],["top","bottom","height"]],h=d[f],v=[0,null,10],m={},p=0;p<3;p++)m[d[1-f][p]]=v[p],m[h[p]]=p===2?s[0]:l[h[p]];var g=[["x","width",3],["y","height",0]][f],y=n(m,c,l.padding);return h[(y.margin[g[2]]||0)+y[g[0]]+y[g[1]]*.5<c[g[1]]*.5?0:1]}function a(i,o){return e.each(i||[],function(s){s.dataIndex!=null&&(s.dataIndexInside=s.dataIndex,s.dataIndex=null),s.highlightKey="visualMap"+(o?o.componentIndex:"")}),i}return Np.getItemAlign=r,Np.makeHighDownBatch=a,Np}var BA,Cz;function xxe(){if(Cz)return BA;Cz=1;var e=de,t=HE,n=mr,r=T9(),a=$e,i=Rt(),o=Hf(),s=E9(),l=bt,u=i.linearMap,c=e.each,f=Math.min,d=Math.max,h=12,v=6,m=r.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(_,w,C,M){(!M||M.type!=="selectDataRange"||M.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var _=this.visualMapModel,w=this.group;this._orient=_.get("orient"),this._useHandle=_.get("calculable"),this._resetInterval(),this._renderBar(w);var C=_.get("text");this._renderEndsText(w,C,0),this._renderEndsText(w,C,1),this._updateView(!0),this.renderBackground(w),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(w)},_renderEndsText:function(_,w,C){if(w){var M=w[1-C];M=M!=null?M+"":"";var T=this.visualMapModel,E=T.get("textGap"),P=T.itemSize,R=this._shapes.barGroup,I=this._applyTransform([P[0]/2,C===0?-E:P[1]+E],R),D=this._applyTransform(C===0?"bottom":"top",R),B=this._orient,F=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:I[0],y:I[1],textVerticalAlign:B==="horizontal"?"middle":D,textAlign:B==="horizontal"?D:"center",text:M,textFont:F.getFont(),textFill:F.getTextColor()}}))}},_renderBar:function(_){var w=this.visualMapModel,C=this._shapes,M=w.itemSize,T=this._orient,E=this._useHandle,P=s.getItemAlign(w,this.api,M),R=C.barGroup=this._createBarGroup(P);R.add(C.outOfRange=p()),R.add(C.inRange=p(null,E?A(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var I=w.textStyleModel.getTextRect("国"),D=d(I.width,I.height);E&&(C.handleThumbs=[],C.handleLabels=[],C.handleLabelPoints=[],this._createHandle(R,0,M,D,T,P),this._createHandle(R,1,M,D,T,P)),this._createIndicator(R,M,D,T),_.add(R)},_createHandle:function(_,w,C,M,T){var E=e.bind(this._dragHandle,this,w,!1),P=e.bind(this._dragHandle,this,w,!0),R=p(g(w,M),A(this._orient),E,P);R.position[0]=C[0],_.add(R);var I=this.visualMapModel.textStyleModel,D=new a.Text({draggable:!0,drift:E,onmousemove:function(G){n.stop(G.event)},ondragend:P,style:{x:0,y:0,text:"",textFont:I.getFont(),textFill:I.getTextColor()}});this.group.add(D);var B=[T==="horizontal"?M/2:M*1.5,T==="horizontal"?w===0?-(M*1.5):M*1.5:w===0?-M/2:M/2],F=this._shapes;F.handleThumbs[w]=R,F.handleLabelPoints[w]=B,F.handleLabels[w]=D},_createIndicator:function(_,w,C,M){var T=p([[0,0]],"move");T.position[0]=w[0],T.attr({invisible:!0,silent:!0}),_.add(T);var E=this.visualMapModel.textStyleModel,P=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:E.getFont(),textFill:E.getTextColor()}});this.group.add(P);var R=[M==="horizontal"?C/2:v+3,0],I=this._shapes;I.indicator=T,I.indicatorLabel=P,I.indicatorLabelPoint=R},_dragHandle:function(_,w,C,M){if(this._useHandle){if(this._dragging=!w,!w){var T=this._applyTransform([C,M],this._shapes.barGroup,!0);this._updateInterval(_,T[1]),this._updateView()}w===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),w?!this._hovering&&this._clearHoverLinkToSeries():b(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[_],!1)}},_resetInterval:function(){var _=this.visualMapModel,w=this._dataInterval=_.getSelected(),C=_.getExtent(),M=[0,_.itemSize[1]];this._handleEnds=[u(w[0],C,M,!0),u(w[1],C,M,!0)]},_updateInterval:function(_,w){w=w||0;var C=this.visualMapModel,M=this._handleEnds,T=[0,C.itemSize[1]];o(w,M,T,_,0);var E=C.getExtent();this._dataInterval=[u(M[0],T,E,!0),u(M[1],T,E,!0)]},_updateView:function(_){var w=this.visualMapModel,C=w.getExtent(),M=this._shapes,T=[0,w.itemSize[1]],E=_?T:this._handleEnds,P=this._createBarVisual(this._dataInterval,C,E,"inRange"),R=this._createBarVisual(C,C,T,"outOfRange");M.inRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),M.outOfRange.setStyle({fill:R.barColor,opacity:R.opacity}).setShape("points",R.barPoints),this._updateHandle(E,P)},_createBarVisual:function(_,w,C,M){var T={forceState:M,convertOpacityToAlpha:!0},E=this._makeColorGradient(_,T),P=[this.getControllerVisual(_[0],"symbolSize",T),this.getControllerVisual(_[1],"symbolSize",T)],R=this._createBarPoints(C,P);return{barColor:new t(0,0,0,1,E),barPoints:R,handlesColor:[E[0].color,E[E.length-1].color]}},_makeColorGradient:function(_,w){var C=100,M=[],T=(_[1]-_[0])/C;M.push({color:this.getControllerVisual(_[0],"color",w),offset:0});for(var E=1;E<C;E++){var P=_[0]+T*E;if(P>_[1])break;M.push({color:this.getControllerVisual(P,"color",w),offset:E/C})}return M.push({color:this.getControllerVisual(_[1],"color",w),offset:1}),M},_createBarPoints:function(_,w){var C=this.visualMapModel.itemSize;return[[C[0]-w[0],_[0]],[C[0],_[0]],[C[0],_[1]],[C[0]-w[1],_[1]]]},_createBarGroup:function(_){var w=this._orient,C=this.visualMapModel.get("inverse");return new a.Group(w==="horizontal"&&!C?{scale:_==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:w==="horizontal"&&C?{scale:_==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:w==="vertical"&&!C?{scale:_==="left"?[1,-1]:[-1,-1]}:{scale:_==="left"?[1,1]:[-1,1]})},_updateHandle:function(_,w){if(this._useHandle){var C=this._shapes,M=this.visualMapModel,T=C.handleThumbs,E=C.handleLabels;c([0,1],function(P){var R=T[P];R.setStyle("fill",w.handlesColor[P]),R.position[1]=_[P];var I=a.applyTransform(C.handleLabelPoints[P],a.getTransform(R,this.group));E[P].setStyle({x:I[0],y:I[1],text:M.formatValueText(this._dataInterval[P]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?P===0?"bottom":"top":"left",C.barGroup)})},this)}},_showIndicator:function(_,w,C,M){var T=this.visualMapModel,E=T.getExtent(),P=T.itemSize,R=[0,P[1]],I=u(_,E,R,!0),D=this._shapes,B=D.indicator;if(B){B.position[1]=I,B.attr("invisible",!1),B.setShape("points",y(!!C,M,I,P[1]));var F={convertOpacityToAlpha:!0},G=this.getControllerVisual(_,"color",F);B.setStyle("fill",G);var z=a.applyTransform(D.indicatorLabelPoint,a.getTransform(B,this.group)),N=D.indicatorLabel;N.attr("invisible",!1);var U=this._applyTransform("left",D.barGroup),$=this._orient;N.setStyle({text:(C||"")+T.formatValueText(w),textVerticalAlign:$==="horizontal"?U:"middle",textAlign:$==="horizontal"?"center":U,x:z[0],y:z[1]})}},_enableHoverLinkToSeries:function(){var _=this;this._shapes.barGroup.on("mousemove",function(w){if(_._hovering=!0,!_._dragging){var C=_.visualMapModel.itemSize,M=_._applyTransform([w.offsetX,w.offsetY],_._shapes.barGroup,!0,!0);M[1]=f(d(0,M[1]),C[1]),_._doHoverLinkToSeries(M[1],0<=M[0]&&M[0]<=C[0])}}).on("mouseout",function(){_._hovering=!1,!_._dragging&&_._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var _=this.api.getZr();this.visualMapModel.option.hoverLink?(_.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),_.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(_,w){var C=this.visualMapModel,M=C.itemSize;if(C.option.hoverLink){var T=[0,M[1]],E=C.getExtent();_=f(d(T[0],_),T[1]);var P=x(C,E,T),R=[_-P,_+P],I=u(_,T,E,!0),D=[u(R[0],T,E,!0),u(R[1],T,E,!0)];R[0]<T[0]&&(D[0]=-1/0),R[1]>T[1]&&(D[1]=1/0),w&&(D[0]===-1/0?this._showIndicator(I,D[1],"< ",P):D[1]===1/0?this._showIndicator(I,D[0],"> ",P):this._showIndicator(I,I,"≈ ",P));var B=this._hoverLinkDataIndices,F=[];(w||b(C))&&(F=this._hoverLinkDataIndices=C.findTargetDataIndices(D));var G=l.compressBatches(B,F);this._dispatchHighDown("downplay",s.makeHighDownBatch(G[0],C)),this._dispatchHighDown("highlight",s.makeHighDownBatch(G[1],C))}},_hoverLinkFromSeriesMouseOver:function(_){var w=_.target,C=this.visualMapModel;if(!(!w||w.dataIndex==null)){var M=this.ecModel.getSeriesByIndex(w.seriesIndex);if(C.isTargetSeries(M)){var T=M.getData(w.dataType),E=T.get(C.getDataDimension(T),w.dataIndex,!0);isNaN(E)||this._showIndicator(E,E)}}},_hideIndicator:function(){var _=this._shapes;_.indicator&&_.indicator.attr("invisible",!0),_.indicatorLabel&&_.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var _=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",s.makeHighDownBatch(_,this.visualMapModel)),_.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var _=this.api.getZr();_.off("mouseover",this._hoverLinkFromSeriesMouseOver),_.off("mouseout",this._hideIndicator)},_applyTransform:function(_,w,C,M){var T=a.getTransform(w,M?null:this.group);return a[e.isArray(_)?"applyTransform":"transformDirection"](_,T,C)},_dispatchHighDown:function(_,w){w&&w.length&&this.api.dispatchAction({type:_,batch:w})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function p(_,w,C,M){return new a.Polygon({shape:{points:_},draggable:!!C,cursor:w,drift:C,onmousemove:function(T){n.stop(T.event)},ondragend:M})}function g(_,w){return _===0?[[0,0],[w,0],[w,-w]]:[[0,0],[w,0],[w,w]]}function y(_,w,C,M){return _?[[0,-f(w,d(C,0))],[v,0],[0,f(w,d(M-C,0))]]:[[0,0],[5,-5],[5,5]]}function x(_,w,C){var M=h/2,T=_.get("hoverLinkDataSize");return T&&(M=u(T,w,C,!0)/2),M}function b(_){var w=_.get("hoverLinkOnHandle");return!!(w??_.get("realtime"))}function A(_){return _==="vertical"?"ns-resize":"ew-resize"}var S=m;return BA=S,BA}var Mz={},Tz;function P9(){if(Tz)return Mz;Tz=1;var e=et,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(n,r){r.eachComponent({mainType:"visualMap",query:n},function(a){a.setSelected(n.selected)})}),Mz}var Ez;function R9(){if(Ez)return vz;Ez=1;var e=et,t=_9();return A9(),w9(),yxe(),xxe(),P9(),e.registerPreprocessor(t),vz}var Pz={},FA,Rz;function bxe(){if(Rz)return FA;Rz=1;var e=de,t=M9(),n=Pu(),r=C9(),a=Rt(),i=a.reformIntervals,o=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(c,f){o.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var d=this._mode=this._determineMode();s[this._mode].call(this),this._resetSelected(c,f);var h=this.option.categories;this.resetVisual(function(v,m){d==="categories"?(v.mappingMethod="category",v.categories=e.clone(h)):(v.dataExtent=this.getExtent(),v.mappingMethod="piecewise",v.pieceList=e.map(this._pieceList,function(g){var g=e.clone(g);return m!=="inRange"&&(g.visual=null),g}))})},completeVisualOption:function(){var c=this.option,f={},d=n.listVisualTypes(),h=this.isCategory();e.each(c.pieces,function(m){e.each(d,function(p){m.hasOwnProperty(p)&&(f[p]=1)})}),e.each(f,function(m,p){var g=0;e.each(this.stateList,function(y){g|=v(c,y,p)||v(c.target,y,p)},this),!g&&e.each(this.stateList,function(y){(c[y]||(c[y]={}))[p]=r.get(p,y==="inRange"?"active":"inactive",h)})},this);function v(m,p,g){return m&&m[p]&&(e.isObject(m[p])?m[p].hasOwnProperty(g):m[p]===g)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(c,f){var d=this.option,h=this._pieceList,v=(f?d:c).selected||{};if(d.selected=v,e.each(h,function(p,g){var y=this.getSelectedMapKey(p);v.hasOwnProperty(y)||(v[y]=!0)},this),d.selectedMode==="single"){var m=!1;e.each(h,function(p,g){var y=this.getSelectedMapKey(p);v[y]&&(m?v[y]=!1:m=!0)},this)}},getSelectedMapKey:function(c){return this._mode==="categories"?c.value+"":c.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var c=this.option;return c.pieces&&c.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(c){this.option.selected=e.clone(c)},getValueState:function(c){var f=n.findPieceIndex(c,this._pieceList);return f!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[f])]?"inRange":"outOfRange"},findTargetDataIndices:function(c){var f=[];return this.eachTargetSeries(function(d){var h=[],v=d.getData();v.each(this.getDataDimension(v),function(m,p){var g=n.findPieceIndex(m,this._pieceList);g===c&&h.push(p)},this),f.push({seriesId:d.id,dataIndex:h})},this),f},getRepresentValue:function(c){var f;if(this.isCategory())f=c.value;else if(c.value!=null)f=c.value;else{var d=c.interval||[];f=d[0]===-1/0&&d[1]===1/0?0:(d[0]+d[1])/2}return f},getVisualMeta:function(c){if(this.isCategory())return;var f=[],d=[],h=this;function v(y,x){var b=h.getRepresentValue({interval:y});x||(x=h.getValueState(b));var A=c(b,x);y[0]===-1/0?d[0]=A:y[1]===1/0?d[1]=A:f.push({value:y[0],color:A},{value:y[1],color:A})}var m=this._pieceList.slice();if(!m.length)m.push({interval:[-1/0,1/0]});else{var p=m[0].interval[0];p!==-1/0&&m.unshift({interval:[-1/0,p]}),p=m[m.length-1].interval[1],p!==1/0&&m.push({interval:[p,1/0]})}var g=-1/0;return e.each(m,function(y){var x=y.interval;x&&(x[0]>g&&v([g,x[0]],"outOfRange"),v(x.slice()),g=x[1])},this),{stops:f,outerColors:d}}}),s={splitNumber:function(){var c=this.option,f=this._pieceList,d=Math.min(c.precision,20),h=this.getExtent(),v=c.splitNumber;v=Math.max(parseInt(v,10),1),c.splitNumber=v;for(var m=(h[1]-h[0])/v;+m.toFixed(d)!==m&&d<5;)d++;c.precision=d,m=+m.toFixed(d),c.minOpen&&f.push({interval:[-1/0,h[0]],close:[0,0]});for(var p=0,g=h[0];p<v;g+=m,p++){var y=p===v-1?h[1]:g+m;f.push({interval:[g,y],close:[1,1]})}c.maxOpen&&f.push({interval:[h[1],1/0],close:[0,0]}),i(f),e.each(f,function(x,b){x.index=b,x.text=this.formatValueText(x.interval)},this)},categories:function(){var c=this.option;e.each(c.categories,function(f){this._pieceList.push({text:this.formatValueText(f,!0),value:f})},this),l(c,this._pieceList)},pieces:function(){var c=this.option,f=this._pieceList;e.each(c.pieces,function(d,h){e.isObject(d)||(d={value:d});var v={text:"",index:h};if(d.label!=null&&(v.text=d.label),d.hasOwnProperty("value")){var m=v.value=d.value;v.interval=[m,m],v.close=[1,1]}else{for(var p=v.interval=[],g=v.close=[0,0],y=[1,0,1],x=[-1/0,1/0],b=[],A=0;A<2;A++){for(var S=[["gte","gt","min"],["lte","lt","max"]][A],_=0;_<3&&p[A]==null;_++)p[A]=d[S[_]],g[A]=y[_],b[A]=_===2;p[A]==null&&(p[A]=x[A])}b[0]&&p[1]===1/0&&(g[0]=0),b[1]&&p[0]===-1/0&&(g[1]=0),p[0]===p[1]&&g[0]&&g[1]&&(v.value=p[0])}v.visual=n.retrieveVisuals(d),f.push(v)},this),l(c,f),i(f),e.each(f,function(d){var h=d.close,v=[["<","≤"][h[1]],[">","≥"][h[0]]];d.text=d.text||this.formatValueText(d.value!=null?d.value:d.interval,!1,v)},this)}};function l(c,f){var d=c.inverse;(c.orient==="vertical"?!d:d)&&f.reverse()}var u=o;return FA=u,FA}var VA,Iz;function Sxe(){if(Iz)return VA;Iz=1;var e=de,t=T9(),n=$e,r=li(),a=r.createSymbol,i=$t,o=E9(),s=t.extend({type:"visualMap.piecewise",doRender:function(){var u=this.group;u.removeAll();var c=this.visualMapModel,f=c.get("textGap"),d=c.textStyleModel,h=d.getFont(),v=d.getTextColor(),m=this._getItemAlign(),p=c.itemSize,g=this._getViewData(),y=g.endsText,x=e.retrieve(c.get("showLabel",!0),!y);y&&this._renderEndsText(u,y[0],p,x,m),e.each(g.viewPieceList,b,this),y&&this._renderEndsText(u,y[1],p,x,m),i.box(c.get("orient"),u,c.get("itemGap")),this.renderBackground(u),this.positionGroup(u);function b(A){var S=A.piece,_=new n.Group;_.onclick=e.bind(this._onItemClick,this,S),this._enableHoverLink(_,A.indexInModelPieceList);var w=c.getRepresentValue(S);if(this._createItemSymbol(_,w,[0,0,p[0],p[1]]),x){var C=this.visualMapModel.getValueState(w);_.add(new n.Text({style:{x:m==="right"?-f:p[0]+f,y:p[1]/2,text:S.text,textVerticalAlign:"middle",textAlign:m,textFont:h,textFill:v,opacity:C==="outOfRange"?.5:1}}))}u.add(_)}},_enableHoverLink:function(u,c){u.on("mouseover",e.bind(f,this,"highlight")).on("mouseout",e.bind(f,this,"downplay"));function f(d){var h=this.visualMapModel;h.option.hoverLink&&this.api.dispatchAction({type:d,batch:o.makeHighDownBatch(h.findTargetDataIndices(c),h)})}},_getItemAlign:function(){var u=this.visualMapModel,c=u.option;if(c.orient==="vertical")return o.getItemAlign(u,this.api,u.itemSize);var f=c.align;return(!f||f==="auto")&&(f="left"),f},_renderEndsText:function(u,c,f,d,h){if(c){var v=new n.Group,m=this.visualMapModel.textStyleModel;v.add(new n.Text({style:{x:d?h==="right"?f[0]:0:f[0]/2,y:f[1]/2,textVerticalAlign:"middle",textAlign:d?h:"center",text:c,textFont:m.getFont(),textFill:m.getTextColor()}})),u.add(v)}},_getViewData:function(){var u=this.visualMapModel,c=e.map(u.getPieceList(),function(v,m){return{piece:v,indexInModelPieceList:m}}),f=u.get("text"),d=u.get("orient"),h=u.get("inverse");return(d==="horizontal"?h:!h)?c.reverse():f&&(f=f.slice().reverse()),{viewPieceList:c,endsText:f}},_createItemSymbol:function(u,c,f){u.add(a(this.getControllerVisual(c,"symbol"),f[0],f[1],f[2],f[3],this.getControllerVisual(c,"color")))},_onItemClick:function(u){var c=this.visualMapModel,f=c.option,d=e.clone(f.selected),h=c.getSelectedMapKey(u);f.selectedMode==="single"?(d[h]=!0,e.each(d,function(v,m){d[m]=m===h})):d[h]=!d[h],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}}),l=s;return VA=l,VA}var Dz;function I9(){if(Dz)return Pz;Dz=1;var e=et,t=_9();return A9(),w9(),bxe(),Sxe(),P9(),e.registerPreprocessor(t),Pz}var Lz;function _xe(){return Lz||(Lz=1,R9(),I9()),hz}var Oz={},Nz={},Cd={},kz;function D9(){if(kz)return Cd;kz=1;var e=Qn,t="urn:schemas-microsoft-com:vml",n=typeof window>"u"?null:window,r=!1,a=n&&n.document;function i(l){return o(l)}var o;if(a&&!e.canvasSupported)try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",t),o=function(l){return a.createElement("<zrvml:"+l+' class="zrvml">')}}catch{o=function(u){return a.createElement("<"+u+' xmlns="'+t+'" class="zrvml">')}}function s(){if(!(r||!a)){r=!0;var l=a.styleSheets;l.length<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):l[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Cd.doc=a,Cd.createNode=i,Cd.initVML=s,Cd}var Bz;function Axe(){if(Bz)return Nz;Bz=1;var e=Qn,t=Pt,n=t.applyTransform,r=In,a=ur,i=wn,o=Oi,s=V8(),l=fv,u=If,c=_u,f=jn,d=Lf,h=Py,v=D9(),m=d.CMD,p=Math.round,g=Math.sqrt,y=Math.abs,x=Math.cos,b=Math.sin,A=Math.max;if(!e.canvasSupported){var S=",",_="progid:DXImageTransform.Microsoft",w=21600,C=w/2,M=1e5,T=1e3,E=function(q){q.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",q.coordsize=w+","+w,q.coordorigin="0,0"},P=function(q){return String(q).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},R=function(q,ae,ce){return"rgb("+[q,ae,ce].join(",")+")"},I=function(q,ae){ae&&q&&ae.parentNode!==q&&q.appendChild(ae)},D=function(q,ae){ae&&q&&ae.parentNode===q&&q.removeChild(ae)},B=function(q,ae,ce){return(parseFloat(q)||0)*M+(parseFloat(ae)||0)*T+ce},F=o.parsePercent,G=function(q,ae,ce){var ee=a.parse(ae);ce=+ce,isNaN(ce)&&(ce=1),ee&&(q.color=R(ee[0],ee[1],ee[2]),q.opacity=ce*ee[3])},z=function(q){var ae=a.parse(q);return[R(ae[0],ae[1],ae[2]),ae[3]]},N=function(q,ae,ce){var ee=ae.fill;if(ee!=null)if(ee instanceof h){var ne,le=0,he=[0,0],pe=0,ye=1,ge=ce.getBoundingRect(),Ce=ge.width,xe=ge.height;if(ee.type==="linear"){ne="gradient";var be=ce.transform,_e=[ee.x*Ce,ee.y*xe],Ee=[ee.x2*Ce,ee.y2*xe];be&&(n(_e,_e,be),n(Ee,Ee,be));var Pe=Ee[0]-_e[0],Ne=Ee[1]-_e[1];le=Math.atan2(Pe,Ne)*180/Math.PI,le<0&&(le+=360),le<1e-6&&(le=0)}else{ne="gradientradial";var _e=[ee.x*Ce,ee.y*xe],be=ce.transform,J=ce.scale,Ae=Ce,Se=xe;he=[(_e[0]-ge.x)/Ae,(_e[1]-ge.y)/Se],be&&n(_e,_e,be),Ae/=J[0]*w,Se/=J[1]*w;var Te=A(Ae,Se);pe=2*0/Te,ye=2*ee.r/Te-pe}var De=ee.colorStops.slice();De.sort(function(nn,Ln){return nn.offset-Ln.offset});for(var Ke=De.length,rt=[],wt=[],Ct=0;Ct<Ke;Ct++){var _t=De[Ct],Yt=z(_t.color);wt.push(_t.offset*ye+pe+" "+Yt[0]),(Ct===0||Ct===Ke-1)&&rt.push(Yt)}if(Ke>=2){var Xt=rt[0][0],yn=rt[1][0],Dn=rt[0][1]*ae.opacity,xn=rt[1][1]*ae.opacity;q.type=ne,q.method="none",q.focus="100%",q.angle=le,q.color=Xt,q.color2=yn,q.colors=wt.join(","),q.opacity=xn,q.opacity2=Dn}ne==="radial"&&(q.focusposition=he.join(","))}else G(q,ee,ae.opacity)},U=function(q,ae){ae.lineDash&&(q.dashstyle=ae.lineDash.join(" ")),ae.stroke!=null&&!(ae.stroke instanceof h)&&G(q,ae.stroke,ae.opacity)},$=function(q,ae,ce,ee){var ne=ae==="fill",le=q.getElementsByTagName(ae)[0];ce[ae]!=null&&ce[ae]!=="none"&&(ne||!ne&&ce.lineWidth)?(q[ne?"filled":"stroked"]="true",ce[ae]instanceof h&&D(q,le),le||(le=v.createNode(ae)),ne?N(le,ce,ee):U(le,ce),I(q,le)):(q[ne?"filled":"stroked"]="false",D(q,le))},k=[[],[],[]],V=function(q,ae){var ce=m.M,ee=m.C,ne=m.L,le=m.A,he=m.Q,pe=[],ye,ge,Ce,xe,be,_e,Ee=q.data,Pe=q.len();for(xe=0;xe<Pe;){switch(Ce=Ee[xe++],ge="",ye=0,Ce){case ce:ge=" m ",ye=1,be=Ee[xe++],_e=Ee[xe++],k[0][0]=be,k[0][1]=_e;break;case ne:ge=" l ",ye=1,be=Ee[xe++],_e=Ee[xe++],k[0][0]=be,k[0][1]=_e;break;case he:case ee:ge=" c ",ye=3;var Xn=Ee[xe++],tr=Ee[xe++],Ne=Ee[xe++],J=Ee[xe++],Ae,Se;Ce===he?(Ae=Ne,Se=J,Ne=(Ne+2*Xn)/3,J=(J+2*tr)/3,Xn=(be+2*Xn)/3,tr=(_e+2*tr)/3):(Ae=Ee[xe++],Se=Ee[xe++]),k[0][0]=Xn,k[0][1]=tr,k[1][0]=Ne,k[1][1]=J,k[2][0]=Ae,k[2][1]=Se,be=Ae,_e=Se;break;case le:var Te=0,De=0,Ke=1,rt=1,wt=0;ae&&(Te=ae[4],De=ae[5],Ke=g(ae[0]*ae[0]+ae[1]*ae[1]),rt=g(ae[2]*ae[2]+ae[3]*ae[3]),wt=Math.atan2(-ae[1]/rt,ae[0]/Ke));var Ct=Ee[xe++],_t=Ee[xe++],Yt=Ee[xe++],Xt=Ee[xe++],yn=Ee[xe++]+wt,Dn=Ee[xe++]+yn+wt;xe++;var xn=Ee[xe++],nn=Ct+x(yn)*Yt,Ln=_t+b(yn)*Xt,Xn=Ct+x(Dn)*Yt,tr=_t+b(Dn)*Xt,di=xn?" wa ":" at ";Math.abs(nn-Xn)<1e-4&&(Math.abs(Dn-yn)>.01?xn&&(nn+=270/w):Math.abs(Ln-_t)<1e-4?xn&&nn<Ct||!xn&&nn>Ct?tr-=270/w:tr+=270/w:xn&&Ln<_t||!xn&&Ln>_t?Xn+=270/w:Xn-=270/w),pe.push(di,p(((Ct-Yt)*Ke+Te)*w-C),S,p(((_t-Xt)*rt+De)*w-C),S,p(((Ct+Yt)*Ke+Te)*w-C),S,p(((_t+Xt)*rt+De)*w-C),S,p((nn*Ke+Te)*w-C),S,p((Ln*rt+De)*w-C),S,p((Xn*Ke+Te)*w-C),S,p((tr*rt+De)*w-C)),be=Xn,_e=tr;break;case m.R:var Un=k[0],dr=k[1];Un[0]=Ee[xe++],Un[1]=Ee[xe++],dr[0]=Un[0]+Ee[xe++],dr[1]=Un[1]+Ee[xe++],ae&&(n(Un,Un,ae),n(dr,dr,ae)),Un[0]=p(Un[0]*w-C),dr[0]=p(dr[0]*w-C),Un[1]=p(Un[1]*w-C),dr[1]=p(dr[1]*w-C),pe.push(" m ",Un[0],S,Un[1]," l ",dr[0],S,Un[1]," l ",dr[0],S,dr[1]," l ",Un[0],S,dr[1]);break;case m.Z:pe.push(" x ")}if(ye>0){pe.push(ge);for(var zi=0;zi<ye;zi++){var ms=k[zi];ae&&n(ms,ms,ae),pe.push(p(ms[0]*w-C),S,p(ms[1]*w-C),zi<ye-1?S:"")}}}return pe.join("")};f.prototype.brushVML=function(q){var ae=this.style,ce=this._vmlEl;ce||(ce=v.createNode("shape"),E(ce),this._vmlEl=ce),$(ce,"fill",ae,this),$(ce,"stroke",ae,this);var ee=this.transform,ne=ee!=null,le=ce.getElementsByTagName("stroke")[0];if(le){var he=ae.lineWidth;if(ne&&!ae.strokeNoScale){var pe=ee[0]*ee[3]-ee[1]*ee[2];he*=g(y(pe))}le.weight=he+"px"}var ye=this.path||(this.path=new d);this.__dirtyPath&&(ye.beginPath(),ye.subPixelOptimize=!1,this.buildPath(ye,this.shape),ye.toStatic(),this.__dirtyPath=!1),ce.path=V(ye,this.transform),ce.style.zIndex=B(this.zlevel,this.z,this.z2),I(q,ce),ae.text!=null?this.drawRectText(q,this.getBoundingRect()):this.removeRectText(q)},f.prototype.onRemove=function(q){D(q,this._vmlEl),this.removeRectText(q)},f.prototype.onAdd=function(q){I(q,this._vmlEl),this.appendRectText(q)};var L=function(q){return typeof q=="object"&&q.tagName&&q.tagName.toUpperCase()==="IMG"};u.prototype.brushVML=function(q){var ae=this.style,ce=ae.image,ee,ne;if(L(ce)){var le=ce.src;if(le===this._imageSrc)ee=this._imageWidth,ne=this._imageHeight;else{var he=ce.runtimeStyle,pe=he.width,ye=he.height;he.width="auto",he.height="auto",ee=ce.width,ne=ce.height,he.width=pe,he.height=ye,this._imageSrc=le,this._imageWidth=ee,this._imageHeight=ne}ce=le}else ce===this._imageSrc&&(ee=this._imageWidth,ne=this._imageHeight);if(ce){var ge=ae.x||0,Ce=ae.y||0,xe=ae.width,be=ae.height,_e=ae.sWidth,Ee=ae.sHeight,Pe=ae.sx||0,Ne=ae.sy||0,J=_e&&Ee,Ae=this._vmlEl;Ae||(Ae=v.doc.createElement("div"),E(Ae),this._vmlEl=Ae);var Se=Ae.style,Te=!1,De,Ke=1,rt=1;if(this.transform&&(De=this.transform,Ke=g(De[0]*De[0]+De[1]*De[1]),rt=g(De[2]*De[2]+De[3]*De[3]),Te=De[1]||De[2]),Te){var wt=[ge,Ce],Ct=[ge+xe,Ce],_t=[ge,Ce+be],Yt=[ge+xe,Ce+be];n(wt,wt,De),n(Ct,Ct,De),n(_t,_t,De),n(Yt,Yt,De);var Xt=A(wt[0],Ct[0],_t[0],Yt[0]),yn=A(wt[1],Ct[1],_t[1],Yt[1]),Dn=[];Dn.push("M11=",De[0]/Ke,S,"M12=",De[2]/rt,S,"M21=",De[1]/Ke,S,"M22=",De[3]/rt,S,"Dx=",p(ge*Ke+De[4]),S,"Dy=",p(Ce*rt+De[5])),Se.padding="0 "+p(Xt)+"px "+p(yn)+"px 0",Se.filter=_+".Matrix("+Dn.join("")+", SizingMethod=clip)"}else De&&(ge=ge*Ke+De[4],Ce=Ce*rt+De[5]),Se.filter="",Se.left=p(ge)+"px",Se.top=p(Ce)+"px";var xn=this._imageEl,nn=this._cropEl;xn||(xn=v.doc.createElement("div"),this._imageEl=xn);var Ln=xn.style;if(J){if(ee&&ne)Ln.width=p(Ke*ee*xe/_e)+"px",Ln.height=p(rt*ne*be/Ee)+"px";else{var Xn=new Image,tr=this;Xn.onload=function(){Xn.onload=null,ee=Xn.width,ne=Xn.height,Ln.width=p(Ke*ee*xe/_e)+"px",Ln.height=p(rt*ne*be/Ee)+"px",tr._imageWidth=ee,tr._imageHeight=ne,tr._imageSrc=ce},Xn.src=ce}nn||(nn=v.doc.createElement("div"),nn.style.overflow="hidden",this._cropEl=nn);var di=nn.style;di.width=p((xe+Pe*xe/_e)*Ke),di.height=p((be+Ne*be/Ee)*rt),di.filter=_+".Matrix(Dx="+-Pe*xe/_e*Ke+",Dy="+-Ne*be/Ee*rt+")",nn.parentNode||Ae.appendChild(nn),xn.parentNode!==nn&&nn.appendChild(xn)}else Ln.width=p(Ke*xe)+"px",Ln.height=p(rt*be)+"px",Ae.appendChild(xn),nn&&nn.parentNode&&(Ae.removeChild(nn),this._cropEl=null);var Un="",dr=ae.opacity;dr<1&&(Un+=".Alpha(opacity="+p(dr*100)+") "),Un+=_+".AlphaImageLoader(src="+ce+", SizingMethod=scale)",Ln.filter=Un,Ae.style.zIndex=B(this.zlevel,this.z,this.z2),I(q,Ae),ae.text!=null&&this.drawRectText(q,this.getBoundingRect())}},u.prototype.onRemove=function(q){D(q,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(q)},u.prototype.onAdd=function(q){I(q,this._vmlEl),this.appendRectText(q)};var O="normal",H={},j=0,Y=100,X=document.createElement("div"),Q=function(q){var ae=H[q];if(!ae){j>Y&&(j=0,H={});var ce=X.style,ee;try{ce.font=q,ee=ce.fontFamily.split(",")[0]}catch{}ae={style:ce.fontStyle||O,variant:ce.fontVariant||O,weight:ce.fontWeight||O,size:parseFloat(ce.fontSize||12)|0,family:ee||"Microsoft YaHei"},H[q]=ae,j++}return ae},K;i.$override("measureText",function(q,ae){var ce=v.doc;K||(K=ce.createElement("div"),K.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",v.doc.body.appendChild(K));try{K.style.font=ae}catch{}return K.innerHTML="",K.appendChild(ce.createTextNode(q)),{width:K.offsetWidth}});for(var Z=new r,te=function(q,ae,ce,ee){var ne=this.style;this.__dirty&&o.normalizeTextStyle(ne,!0);var le=ne.text;if(le!=null&&(le+=""),!!le){if(ne.rich){var he=i.parseRichText(le,ne);le=[];for(var pe=0;pe<he.lines.length;pe++){for(var ye=he.lines[pe].tokens,ge=[],Ce=0;Ce<ye.length;Ce++)ge.push(ye[Ce].text);le.push(ge.join(""))}le=le.join(`
`)}var xe,be,_e=ne.textAlign,Ee=ne.textVerticalAlign,Pe=Q(ne.font),Ne=Pe.style+" "+Pe.variant+" "+Pe.weight+" "+Pe.size+'px "'+Pe.family+'"';ce=ce||i.getBoundingRect(le,Ne,_e,Ee,ne.textPadding,ne.textLineHeight);var J=this.transform;if(J&&!ee&&(Z.copy(ae),Z.applyTransform(J),ae=Z),ee)xe=ae.x,be=ae.y;else{var Ae=ne.textPosition;if(Ae instanceof Array)xe=ae.x+F(Ae[0],ae.width),be=ae.y+F(Ae[1],ae.height),_e=_e||"left";else{var Se=this.calculateTextPosition?this.calculateTextPosition({},ne,ae):i.calculateTextPosition({},ne,ae);xe=Se.x,be=Se.y,_e=_e||Se.textAlign,Ee=Ee||Se.textVerticalAlign}}xe=i.adjustTextX(xe,ce.width,_e),be=i.adjustTextY(be,ce.height,Ee),be+=ce.height/2;var Te=v.createNode,De=this._textVmlEl,Ke,rt,wt;De?(wt=De.firstChild,Ke=wt.nextSibling,rt=Ke.nextSibling):(De=Te("line"),Ke=Te("path"),rt=Te("textpath"),wt=Te("skew"),rt.style["v-text-align"]="left",E(De),Ke.textpathok=!0,rt.on=!0,De.from="0 0",De.to="1000 0.05",I(De,wt),I(De,Ke),I(De,rt),this._textVmlEl=De);var Ct=[xe,be],_t=De.style;J&&ee?(n(Ct,Ct,J),wt.on=!0,wt.matrix=J[0].toFixed(3)+S+J[2].toFixed(3)+S+J[1].toFixed(3)+S+J[3].toFixed(3)+",0,0",wt.offset=(p(Ct[0])||0)+","+(p(Ct[1])||0),wt.origin="0 0",_t.left="0px",_t.top="0px"):(wt.on=!1,_t.left=p(xe)+"px",_t.top=p(be)+"px"),rt.string=P(le);try{rt.style.font=Ne}catch{}$(De,"fill",{fill:ne.textFill,opacity:ne.opacity},this),$(De,"stroke",{stroke:ne.textStroke,opacity:ne.opacity,lineDash:ne.lineDash||null},this),De.style.zIndex=B(this.zlevel,this.z,this.z2),I(q,De)}},oe=function(q){D(q,this._textVmlEl),this._textVmlEl=null},ue=function(q){I(q,this._textVmlEl)},se=[s,l,u,f,c],me=0;me<se.length;me++){var re=se[me].prototype;re.drawRectText=te,re.removeRectText=oe,re.appendRectText=ue}c.prototype.brushVML=function(q){var ae=this.style;ae.text!=null?this.drawRectText(q,{x:ae.x||0,y:ae.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(q)},c.prototype.onRemove=function(q){this.removeRectText(q)},c.prototype.onAdd=function(q){this.appendRectText(q)}}return Nz}var zA,Fz;function wxe(){if(Fz)return zA;Fz=1;var e=sv,t=D9(),n=de,r=n.each;function a(l){return parseInt(l,10)}function i(l,u){t.initVML(),this.root=l,this.storage=u;var c=document.createElement("div"),f=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",f.style.cssText="position:absolute;left:0;top:0;",l.appendChild(c),this._vmlRoot=f,this._vmlViewport=c,this.resize();var d=u.delFromStorage,h=u.addToStorage;u.delFromStorage=function(v){d.call(u,v),v&&v.onRemove&&v.onRemove(f)},u.addToStorage=function(v){v.onAdd&&v.onAdd(f),h.call(u,v)},this._firstPaint=!0}i.prototype={constructor:i,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var l=this.getViewportRoot();if(l)return{offsetLeft:l.offsetLeft||0,offsetTop:l.offsetTop||0}},refresh:function(){var l=this.storage.getDisplayList(!0,!0);this._paintList(l)},_paintList:function(l){for(var u=this._vmlRoot,c=0;c<l.length;c++){var f=l[c];f.invisible||f.ignore?(f.__alreadyNotVisible||f.onRemove(u),f.__alreadyNotVisible=!0):(f.__alreadyNotVisible&&f.onAdd(u),f.__alreadyNotVisible=!1,f.__dirty&&(f.beforeBrush&&f.beforeBrush(),(f.brushVML||f.brush).call(f,u),f.afterBrush&&f.afterBrush())),f.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(u),this._firstPaint=!1)},resize:function(c,f){var c=c??this._getWidth(),f=f??this._getHeight();if(this._width!==c||this._height!==f){this._width=c,this._height=f;var d=this._vmlViewport.style;d.width=c+"px",d.height=f+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var l=this.root,u=l.currentStyle;return(l.clientWidth||a(u.width))-a(u.paddingLeft)-a(u.paddingRight)|0},_getHeight:function(){var l=this.root,u=l.currentStyle;return(l.clientHeight||a(u.height))-a(u.paddingTop)-a(u.paddingBottom)|0}};function o(l){return function(){e('In IE8.0 VML mode painter not support method "'+l+'"')}}r(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(l){i.prototype[l]=o(l)});var s=i;return zA=s,zA}var Vz;function Cxe(){if(Vz)return Oz;Vz=1,Axe();var e=ls,t=e.registerPainter,n=wxe();return t("vml",n),Oz}var zz={},Md={},UA={},Uz;function LP(){if(Uz)return UA;Uz=1;var e="http://www.w3.org/2000/svg";function t(n){return document.createElementNS(e,n)}return UA.createElement=t,UA}var Hz;function OP(){if(Hz)return Md;Hz=1;var e=LP(),t=e.createElement,n=Lf,r=In,a=Vn,i=wn,o=Oi,s=_u,l=n.CMD,u=Array.prototype.join,c="none",f=Math.round,d=Math.sin,h=Math.cos,v=Math.PI,m=Math.PI*2,p=180/v,g=1e-4;function y($){return f($*1e4)/1e4}function x($){return $<g&&$>-g}function b($,k){var V=k?$.textFill:$.fill;return V!=null&&V!==c}function A($,k){var V=k?$.textStroke:$.stroke;return V!=null&&V!==c}function S($,k){k&&_($,"transform","matrix("+u.call(k,",")+")")}function _($,k,V){(!V||V.type!=="linear"&&V.type!=="radial")&&$.setAttribute(k,V)}function w($,k,V){$.setAttributeNS("http://www.w3.org/1999/xlink",k,V)}function C($,k,V,L){if(b(k,V)){var O=V?k.textFill:k.fill;O=O==="transparent"?c:O,_($,"fill",O),_($,"fill-opacity",k.fillOpacity!=null?k.fillOpacity*k.opacity:k.opacity)}else _($,"fill",c);if(A(k,V)){var H=V?k.textStroke:k.stroke;H=H==="transparent"?c:H,_($,"stroke",H);var j=V?k.textStrokeWidth:k.lineWidth,Y=!V&&k.strokeNoScale?L.getLineScale():1;_($,"stroke-width",j/Y),_($,"paint-order",V?"stroke":"fill"),_($,"stroke-opacity",k.strokeOpacity!=null?k.strokeOpacity:k.opacity);var X=k.lineDash;X?(_($,"stroke-dasharray",k.lineDash.join(",")),_($,"stroke-dashoffset",f(k.lineDashOffset||0))):_($,"stroke-dasharray",""),k.lineCap&&_($,"stroke-linecap",k.lineCap),k.lineJoin&&_($,"stroke-linejoin",k.lineJoin),k.miterLimit&&_($,"stroke-miterlimit",k.miterLimit)}else _($,"stroke",c)}function M($){for(var k=[],V=$.data,L=$.len(),O=0;O<L;){var H=V[O++],j="",Y=0;switch(H){case l.M:j="M",Y=2;break;case l.L:j="L",Y=2;break;case l.Q:j="Q",Y=4;break;case l.C:j="C",Y=6;break;case l.A:var X=V[O++],Q=V[O++],K=V[O++],Z=V[O++],te=V[O++],oe=V[O++],ue=V[O++],se=V[O++],me=Math.abs(oe),re=x(me-m)||(se?oe>=m:-oe>=m),q=oe>0?oe%m:oe%m+m,ae=!1;re?ae=!0:x(me)?ae=!1:ae=q>=v==!!se;var ce=y(X+K*h(te)),ee=y(Q+Z*d(te));re&&(se?oe=m-1e-4:oe=-m+1e-4,ae=!0,O===9&&k.push("M",ce,ee));var ne=y(X+K*h(te+oe)),le=y(Q+Z*d(te+oe));k.push("A",y(K),y(Z),f(ue*p),+ae,+se,ne,le);break;case l.Z:j="Z";break;case l.R:var ne=y(V[O++]),le=y(V[O++]),he=y(V[O++]),pe=y(V[O++]);k.push("M",ne,le,"L",ne+he,le,"L",ne+he,le+pe,"L",ne,le+pe,"L",ne,le);break}j&&k.push(j);for(var ye=0;ye<Y;ye++)k.push(y(V[O++]))}return k.join(" ")}var T={};T.brush=function($){var k=$.style,V=$.__svgEl;V||(V=t("path"),$.__svgEl=V),$.path||$.createPathProxy();var L=$.path;if($.__dirtyPath){L.beginPath(),L.subPixelOptimize=!1,$.buildPath(L,$.shape),$.__dirtyPath=!1;var O=M(L);O.indexOf("NaN")<0&&_(V,"d",O)}C(V,k,!1,$),S(V,$.transform),k.text!=null?F($,$.getBoundingRect()):U($)};var E={};E.brush=function($){var k=$.style,V=k.image;if(V instanceof HTMLImageElement){var L=V.src;V=L}if(V){var O=k.x||0,H=k.y||0,j=k.width,Y=k.height,X=$.__svgEl;X||(X=t("image"),$.__svgEl=X),V!==$.__imageSrc&&(w(X,"href",V),$.__imageSrc=V),_(X,"width",j),_(X,"height",Y),_(X,"x",O),_(X,"y",H),S(X,$.transform),k.text!=null?F($,$.getBoundingRect()):U($)}};var P={},R=new r,I={},D=[],B={left:"start",right:"end",center:"middle",middle:"middle"},F=function($,k){var V=$.style,L=$.transform,O=$ instanceof s||V.transformText;$.__dirty&&o.normalizeTextStyle(V,!0);var H=V.text;if(H!=null&&(H+=""),!!o.needDrawText(H,V)){H==null&&(H=""),!O&&L&&(R.copy(k),R.applyTransform(L),k=R);var j=$.__textSvgEl;j||(j=t("text"),$.__textSvgEl=j);var Y=j.style,X=V.font||i.DEFAULT_FONT,Q=j.__computedFont;X!==j.__styleFont&&(Y.font=j.__styleFont=X,Q=j.__computedFont=Y.font);var K=V.textPadding,Z=V.textLineHeight,te=$.__textCotentBlock;(!te||$.__dirtyText)&&(te=$.__textCotentBlock=i.parsePlainText(H,Q,K,Z,V.truncate));var oe=te.outerHeight,ue=te.lineHeight;o.getBoxPosition(I,$,V,k);var se=I.baseX,me=I.baseY,re=I.textAlign||"left",q=I.textVerticalAlign;G(j,O,L,V,k,se,me);var ae=i.adjustTextY(me,oe,q),ce=se,ee=ae;K&&(ce=z(se,re,K),ee+=K[0]),ee+=ue/2,C(j,V,!0,$);var ne=te.canCacheByTextString,le=$.__tspanList||($.__tspanList=[]),he=le.length;if(ne&&$.__canCacheByTextString&&$.__text===H){if($.__dirtyText&&he)for(var pe=0;pe<he;++pe)N(le[pe],re,ce,ee+pe*ue)}else{$.__text=H,$.__canCacheByTextString=ne;for(var ye=te.lines,ge=ye.length,pe=0;pe<ge;pe++){var Ce=le[pe],xe=ye[pe];Ce?Ce.__zrText!==xe&&(Ce.innerHTML="",Ce.appendChild(document.createTextNode(xe))):(Ce=le[pe]=t("tspan"),j.appendChild(Ce),Ce.appendChild(document.createTextNode(xe))),N(Ce,re,ce,ee+pe*ue)}if(he>ge){for(;pe<he;pe++)j.removeChild(le[pe]);le.length=ge}}}};function G($,k,V,L,O,H,j){a.identity(D),k&&V&&a.copy(D,V);var Y=L.textRotation;if(O&&Y){var X=L.textOrigin;X==="center"?(H=O.width/2+O.x,j=O.height/2+O.y):X&&(H=X[0]+O.x,j=X[1]+O.y),D[4]-=H,D[5]-=j,a.rotate(D,D,Y),D[4]+=H,D[5]+=j}S($,D)}function z($,k,V){return k==="right"?$-V[1]:k==="center"?$+V[3]/2-V[1]/2:$+V[3]}function N($,k,V,L){_($,"dominant-baseline","middle"),_($,"text-anchor",B[k]),_($,"x",V),_($,"y",L)}function U($){$&&$.__textSvgEl&&($.__textSvgEl.parentNode&&$.__textSvgEl.parentNode.removeChild($.__textSvgEl),$.__textSvgEl=null,$.__tspanList=[],$.__text=null)}return P.drawRectText=F,P.brush=function($){var k=$.style;k.text!=null?F($,!1):U($)},Md.path=T,Md.image=E,Md.text=P,Md}var HA,$z;function Mxe(){if($z)return HA;$z=1;function e(){}e.prototype={diff:function(i,o,s){s||(s=function(x,b){return x===b}),this.equals=s;var l=this;i=i.slice(),o=o.slice();var u=o.length,c=i.length,f=1,d=u+c,h=[{newPos:-1,components:[]}],v=this.extractCommon(h[0],o,i,0);if(h[0].newPos+1>=u&&v+1>=c){for(var m=[],p=0;p<o.length;p++)m.push(p);return[{indices:m,count:o.length}]}function g(){for(var x=-1*f;x<=f;x+=2){var b,A=h[x-1],S=h[x+1],_=(S?S.newPos:0)-x;A&&(h[x-1]=void 0);var w=A&&A.newPos+1<u,C=S&&0<=_&&_<c;if(!w&&!C){h[x]=void 0;continue}if(!w||C&&A.newPos<S.newPos?(b=n(S),l.pushComponent(b.components,void 0,!0)):(b=A,b.newPos++,l.pushComponent(b.components,!0,void 0)),_=l.extractCommon(b,o,i,x),b.newPos+1>=u&&_+1>=c)return t(l,b.components);h[x]=b}f++}for(;f<=d;){var y=g();if(y)return y}},pushComponent:function(i,o,s){var l=i[i.length-1];l&&l.added===o&&l.removed===s?i[i.length-1]={count:l.count+1,added:o,removed:s}:i.push({count:1,added:o,removed:s})},extractCommon:function(i,o,s,l){for(var u=o.length,c=s.length,f=i.newPos,d=f-l,h=0;f+1<u&&d+1<c&&this.equals(o[f+1],s[d+1]);)f++,d++,h++;return h&&i.components.push({count:h}),i.newPos=f,d},tokenize:function(i){return i.slice()},join:function(i){return i.slice()}};function t(i,o,s,l){for(var u=0,c=o.length,f=0,d=0;u<c;u++){var h=o[u];if(h.removed){for(var v=[],m=d;m<d+h.count;m++)v.push(m);h.indices=v,d+=h.count}else{for(var v=[],m=f;m<f+h.count;m++)v.push(m);h.indices=v,f+=h.count,h.added||(d+=h.count)}}return o}function n(i){return{newPos:i.newPos,components:i.components.slice(0)}}var r=new e;function a(i,o,s){return r.diff(i,o,s)}return HA=a,HA}var $A,Gz;function NP(){if(Gz)return $A;Gz=1;var e=LP(),t=e.createElement,n=de,r=jn,a=If,i=_u,o=OP(),s=o.path,l=o.image,u=o.text,c="0",f="1";function d(v,m,p,g,y){this._zrId=v,this._svgRoot=m,this._tagNames=typeof p=="string"?[p]:p,this._markLabel=g,this._domName=y||"_dom",this.nextId=0}d.prototype.createElement=t,d.prototype.getDefs=function(v){var m=this._svgRoot,p=this._svgRoot.getElementsByTagName("defs");return p.length===0?v?(p=m.insertBefore(this.createElement("defs"),m.firstChild),p.contains||(p.contains=function(g){var y=p.children;if(!y)return!1;for(var x=y.length-1;x>=0;--x)if(y[x]===g)return!0;return!1}),p):null:p[0]},d.prototype.update=function(v,m){if(v){var p=this.getDefs(!1);if(v[this._domName]&&p.contains(v[this._domName]))typeof m=="function"&&m(v);else{var g=this.add(v);g&&(v[this._domName]=g)}}},d.prototype.addDom=function(v){var m=this.getDefs(!0);m.appendChild(v)},d.prototype.removeDom=function(v){var m=this.getDefs(!1);m&&v[this._domName]&&(m.removeChild(v[this._domName]),v[this._domName]=null)},d.prototype.getDoms=function(){var v=this.getDefs(!1);if(!v)return[];var m=[];return n.each(this._tagNames,function(p){var g=v.getElementsByTagName(p);m=m.concat([].slice.call(g))}),m},d.prototype.markAllUnused=function(){var v=this.getDoms(),m=this;n.each(v,function(p){p[m._markLabel]=c})},d.prototype.markUsed=function(v){v&&(v[this._markLabel]=f)},d.prototype.removeUnused=function(){var v=this.getDefs(!1);if(v){var m=this.getDoms(),p=this;n.each(m,function(g){g[p._markLabel]!==f&&v.removeChild(g)})}},d.prototype.getSvgProxy=function(v){return v instanceof r?s:v instanceof a?l:v instanceof i?u:s},d.prototype.getTextSvgElement=function(v){return v.__textSvgEl},d.prototype.getSvgElement=function(v){return v.__svgEl};var h=d;return $A=h,$A}var GA,Wz;function Txe(){if(Wz)return GA;Wz=1;var e=NP(),t=de,n=sv,r=ur;function a(o,s){e.call(this,o,s,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(a,e),a.prototype.addWithoutUpdate=function(o,s){if(s&&s.style){var l=this;t.each(["fill","stroke"],function(u){if(s.style[u]&&(s.style[u].type==="linear"||s.style[u].type==="radial")){var c=s.style[u],f=l.getDefs(!0),d;c._dom?(d=c._dom,f.contains(c._dom)||l.addDom(d)):d=l.add(c),l.markUsed(s);var h=d.getAttribute("id");o.setAttribute(u,"url(#"+h+")")}})}},a.prototype.add=function(o){var s;if(o.type==="linear")s=this.createElement("linearGradient");else if(o.type==="radial")s=this.createElement("radialGradient");else return n("Illegal gradient type."),null;return o.id=o.id||this.nextId++,s.setAttribute("id","zr"+this._zrId+"-gradient-"+o.id),this.updateDom(o,s),this.addDom(s),s},a.prototype.update=function(o){var s=this;e.prototype.update.call(this,o,function(){var l=o.type,u=o._dom.tagName;l==="linear"&&u==="linearGradient"||l==="radial"&&u==="radialGradient"?s.updateDom(o,o._dom):(s.removeDom(o),s.add(o))})},a.prototype.updateDom=function(o,s){if(o.type==="linear")s.setAttribute("x1",o.x),s.setAttribute("y1",o.y),s.setAttribute("x2",o.x2),s.setAttribute("y2",o.y2);else if(o.type==="radial")s.setAttribute("cx",o.x),s.setAttribute("cy",o.y),s.setAttribute("r",o.r);else{n("Illegal gradient type.");return}o.global?s.setAttribute("gradientUnits","userSpaceOnUse"):s.setAttribute("gradientUnits","objectBoundingBox"),s.innerHTML="";for(var l=o.colorStops,u=0,c=l.length;u<c;++u){var f=this.createElement("stop");f.setAttribute("offset",l[u].offset*100+"%");var d=l[u].color;if(d.indexOf("rgba")>-1){var h=r.parse(d)[3],v=r.toHex(d);f.setAttribute("stop-color","#"+v),f.setAttribute("stop-opacity",h)}else f.setAttribute("stop-color",l[u].color);s.appendChild(f)}o._dom=s},a.prototype.markUsed=function(o){if(o.style){var s=o.style.fill;s&&s._dom&&e.prototype.markUsed.call(this,s._dom),s=o.style.stroke,s&&s._dom&&e.prototype.markUsed.call(this,s._dom)}};var i=a;return GA=i,GA}var WA,jz;function Exe(){if(jz)return WA;jz=1;var e=NP(),t=de,n=Vn;function r(i,o){e.call(this,i,o,"clipPath","__clippath_in_use__")}t.inherits(r,e),r.prototype.update=function(i){var o=this.getSvgElement(i);o&&this.updateDom(o,i.__clipPaths,!1);var s=this.getTextSvgElement(i);s&&this.updateDom(s,i.__clipPaths,!0),this.markUsed(i)},r.prototype.updateDom=function(i,o,s){if(o&&o.length>0){var l=this.getDefs(!0),u=o[0],c,f,d=s?"_textDom":"_dom";u[d]?(f=u[d].getAttribute("id"),c=u[d],l.contains(c)||l.appendChild(c)):(f="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,c=this.createElement("clipPath"),c.setAttribute("id",f),l.appendChild(c),u[d]=c);var h=this.getSvgProxy(u);if(u.transform&&u.parent.invTransform&&!s){var v=Array.prototype.slice.call(u.transform);n.mul(u.transform,u.parent.invTransform,u.transform),h.brush(u),u.transform=v}else h.brush(u);var m=this.getSvgElement(u);c.innerHTML="",c.appendChild(m.cloneNode()),i.setAttribute("clip-path","url(#"+f+")"),o.length>1&&this.updateDom(c,o.slice(1),s)}else i&&i.setAttribute("clip-path","none")},r.prototype.markUsed=function(i){var o=this;i.__clipPaths&&t.each(i.__clipPaths,function(s){s._dom&&e.prototype.markUsed.call(o,s._dom),s._textDom&&e.prototype.markUsed.call(o,s._textDom)})};var a=r;return WA=a,WA}var jA,Yz;function Pxe(){if(Yz)return jA;Yz=1;var e=NP(),t=de;function n(i,o){e.call(this,i,o,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(n,e),n.prototype.addWithoutUpdate=function(i,o){if(o&&r(o.style)){var s;if(o._shadowDom){s=o._shadowDom;var l=this.getDefs(!0);l.contains(o._shadowDom)||this.addDom(s)}else s=this.add(o);this.markUsed(o);var u=s.getAttribute("id");i.style.filter="url(#"+u+")"}},n.prototype.add=function(i){var o=this.createElement("filter");return i._shadowDomId=i._shadowDomId||this.nextId++,o.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(i,o),this.addDom(o),o},n.prototype.update=function(i,o){var s=o.style;if(r(s)){var l=this;e.prototype.update.call(this,o,function(){l.updateDom(o,o._shadowDom)})}else this.remove(i,o)},n.prototype.remove=function(i,o){o._shadowDomId!=null&&(this.removeDom(i),i.style.filter="")},n.prototype.updateDom=function(i,o){var s=o.getElementsByTagName("feDropShadow");s.length===0?s=this.createElement("feDropShadow"):s=s[0];var l=i.style,u=i.scale&&i.scale[0]||1,c=i.scale&&i.scale[1]||1,f,d,h,v;if(l.shadowBlur||l.shadowOffsetX||l.shadowOffsetY)f=l.shadowOffsetX||0,d=l.shadowOffsetY||0,h=l.shadowBlur,v=l.shadowColor;else if(l.textShadowBlur)f=l.textShadowOffsetX||0,d=l.textShadowOffsetY||0,h=l.textShadowBlur,v=l.textShadowColor;else{this.removeDom(o,l);return}s.setAttribute("dx",f/u),s.setAttribute("dy",d/c),s.setAttribute("flood-color",v);var m=h/2/u,p=h/2/c,g=m+" "+p;s.setAttribute("stdDeviation",g),o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width",Math.ceil(h/2*200)+"%"),o.setAttribute("height",Math.ceil(h/2*200)+"%"),o.appendChild(s),i._shadowDom=o},n.prototype.markUsed=function(i){i._shadowDom&&e.prototype.markUsed.call(this,i._shadowDom)};function r(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY||i.textShadowBlur||i.textShadowOffsetX||i.textShadowOffsetY)}var a=n;return jA=a,jA}var YA,Xz;function Rxe(){if(Xz)return YA;Xz=1;var e=LP(),t=e.createElement,n=de,r=sv,a=jn,i=If,o=_u,s=Mxe(),l=Txe(),u=Exe(),c=Pxe(),f=OP(),d=f.path,h=f.image,v=f.text;function m(M){return parseInt(M,10)}function p(M){return M instanceof a?d:M instanceof i?h:M instanceof o?v:d}function g(M,T){return T&&M&&T.parentNode!==M}function y(M,T,E){if(g(M,T)&&E){var P=E.nextSibling;P?M.insertBefore(T,P):M.appendChild(T)}}function x(M,T){if(g(M,T)){var E=M.firstChild;E?M.insertBefore(T,E):M.appendChild(T)}}function b(M,T){T&&M&&T.parentNode===M&&M.removeChild(T)}function A(M){return M.__textSvgEl}function S(M){return M.__svgEl}var _=function(M,T,E,P){this.root=M,this.storage=T,this._opts=E=n.extend({},E||{});var R=t("svg");R.setAttribute("xmlns","http://www.w3.org/2000/svg"),R.setAttribute("version","1.1"),R.setAttribute("baseProfile","full"),R.style.cssText="user-select:none;position:absolute;left:0;top:0;";var I=t("g");R.appendChild(I);var D=t("g");R.appendChild(D),this.gradientManager=new l(P,D),this.clipPathManager=new u(P,D),this.shadowManager=new c(P,D);var B=document.createElement("div");B.style.cssText="overflow:hidden;position:relative",this._svgDom=R,this._svgRoot=D,this._backgroundRoot=I,this._viewport=B,M.appendChild(B),B.appendChild(R),this.resize(E.width,E.height),this._visibleList=[]};_.prototype={constructor:_,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var M=this.getViewportRoot();if(M)return{offsetLeft:M.offsetLeft||0,offsetTop:M.offsetTop||0}},refresh:function(){var M=this.storage.getDisplayList(!0);this._paintList(M)},setBackgroundColor:function(M){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var T=t("rect");T.setAttribute("width",this.getWidth()),T.setAttribute("height",this.getHeight()),T.setAttribute("x",0),T.setAttribute("y",0),T.setAttribute("id",0),T.style.fill=M,this._backgroundRoot.appendChild(T),this._backgroundNode=T},_paintList:function(M){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var T=this._svgRoot,E=this._visibleList,P=M.length,R=[],I;for(I=0;I<P;I++){var D=M[I],B=p(D),F=S(D)||A(D);D.invisible||(D.__dirty&&(B&&B.brush(D),this.clipPathManager.update(D),D.style&&(this.gradientManager.update(D.style.fill),this.gradientManager.update(D.style.stroke),this.shadowManager.update(F,D)),D.__dirty=!1),R.push(D))}var G=s(E,R),z;for(I=0;I<G.length;I++){var N=G[I];if(N.removed)for(var U=0;U<N.count;U++){var D=E[N.indices[U]],F=S(D),$=A(D);b(T,F),b(T,$)}}for(I=0;I<G.length;I++){var N=G[I];if(N.added)for(var U=0;U<N.count;U++){var D=R[N.indices[U]],F=S(D),$=A(D);z?y(T,F,z):x(T,F),F?y(T,$,F):z?y(T,$,z):x(T,$),y(T,$,F),z=$||F||z,this.gradientManager.addWithoutUpdate(F||$,D),this.shadowManager.addWithoutUpdate(F||$,D),this.clipPathManager.markUsed(D)}else if(!N.removed)for(var U=0;U<N.count;U++){var D=R[N.indices[U]],F=S(D),$=A(D),F=S(D),$=A(D);this.gradientManager.markUsed(D),this.gradientManager.addWithoutUpdate(F||$,D),this.shadowManager.markUsed(D),this.shadowManager.addWithoutUpdate(F||$,D),this.clipPathManager.markUsed(D),$&&y(T,$,F),z=F||$||z}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=R},_getDefs:function(M){var T=this._svgDom,E=T.getElementsByTagName("defs");if(E.length===0)if(M){var E=T.insertBefore(t("defs"),T.firstChild);return E.contains||(E.contains=function(R){var I=E.children;if(!I)return!1;for(var D=I.length-1;D>=0;--D)if(I[D]===R)return!0;return!1}),E}else return null;else return E[0]},resize:function(M,T){var E=this._viewport;E.style.display="none";var P=this._opts;if(M!=null&&(P.width=M),T!=null&&(P.height=T),M=this._getSize(0),T=this._getSize(1),E.style.display="",this._width!==M||this._height!==T){this._width=M,this._height=T;var R=E.style;R.width=M+"px",R.height=T+"px";var I=this._svgDom;I.setAttribute("width",M),I.setAttribute("height",T)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",M),this._backgroundNode.setAttribute("height",T))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(M){var T=this._opts,E=["width","height"][M],P=["clientWidth","clientHeight"][M],R=["paddingLeft","paddingTop"][M],I=["paddingRight","paddingBottom"][M];if(T[E]!=null&&T[E]!=="auto")return parseFloat(T[E]);var D=this.root,B=document.defaultView.getComputedStyle(D);return(D[P]||m(B[E])||m(D.style[E]))-(m(B[R])||0)-(m(B[I])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();var M=encodeURIComponent(this._svgDom.outerHTML.replace(/></g,`>
\r<`));return"data:image/svg+xml;charset=UTF-8,"+M}};function w(M){return function(){r('In SVG mode painter not support method "'+M+'"')}}n.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(M){_.prototype[M]=w(M)});var C=_;return YA=C,YA}var qz;function Ixe(){if(qz)return zz;qz=1,OP();var e=ls,t=e.registerPainter,n=Rxe();return t("svg",n),zz}(function(e){var t=et;(function(){for(var r in t){if(t==null||!t.hasOwnProperty(r)||r==="default"||r==="__esModule")return;e[r]=t[r]}})();var n=kW();(function(){for(var r in n){if(n==null||!n.hasOwnProperty(r)||r==="default"||r==="__esModule")return;e[r]=n[r]}})(),cge(),pge(),bge(),wge(),Oge(),Xge(),eme(),lme(),Ame(),Tme(),Ime(),$me(),qme(),eye(),oye(),cye(),gye(),bye(),Aye(),Bye(),$ye(),qye(),Kye(),l0e(),f0e(),d9(),r9(),p0e(),g0e(),E0e(),L0e(),Rv(),z0e(),U0e(),K0e(),J0e(),nxe(),ixe(),fxe(),x9(),mxe(),S9(),b9(),_xe(),R9(),I9(),Cxe(),Ixe()})(AC);const ma=e=>(po("data-v-b4624851"),e=e(),go(),e),Dxe={class:"content"},Lxe={class:"info"},Oxe={class:"image-container"},Nxe={class:"text-container"},kxe=ma(()=>Ye("span",{class:"dot",style:{"background-color":"green"}},null,-1)),Bxe=ma(()=>Ye("div",{class:"border-line"},null,-1)),Fxe=ma(()=>Ye("span",{class:"dot"},null,-1)),Vxe=ma(()=>Ye("span",null,"姓名:",-1)),zxe=ma(()=>Ye("span",{class:"dot"},null,-1)),Uxe=ma(()=>Ye("span",null,"年龄:",-1)),Hxe=ma(()=>Ye("span",{class:"dot"},null,-1)),$xe=ma(()=>Ye("span",null,"年级:",-1)),Gxe=ma(()=>Ye("span",{class:"dot"},null,-1)),Wxe=ma(()=>Ye("span",null,"电话:",-1)),jxe=ma(()=>Ye("span",{class:"dot"},null,-1)),Yxe=ma(()=>Ye("span",null,"邮箱:",-1)),Xxe={class:"mx-auto content-card",height:"100%",style:{display:"flex","margin-top":"20px","margin-bottom":"20px"}},qxe={style:{"background-color":"#F7F9F9","border-radius":"16px","margin-left":"20px"}},Kxe=ma(()=>Ye("div",{class:"chart-title"},[Ye("span",null,"核心素养能力档案")],-1)),Zxe={style:{"margin-left":"20px","border-radius":"16px"}},Qxe=ma(()=>Ye("div",{class:"chart-title"},[Ye("span",null,"个性偏好档案")],-1)),Jxe={class:"habit-container"},e1e={__name:"UserInforView",setup(e){const t=Oe(null);Oe(null);const n=Oe(null);Array.from({length:30},(v,m)=>m+1).map(()=>Math.floor(Math.random()*20));const a=["多项式函数","相遇问题","一元一次方程","不等式求解","一次函数","平面几何","圆的性质","根与系数关系","指数与对数","因式分解"],o=Array.from({length:10},(v,m)=>m+1).map(()=>Math.floor(Math.random()*10)),s=[{value:[80,70,60,50,40,30,20,10,5,0],name:"学生A"},{value:[20,30,40,50,60,70,80,90,100,110],name:"学生B"},{value:[50,40,30,20,10,0,10,20,30,40],name:"学生C"},{value:[10,20,30,40,50,60,70,80,90,100],name:"学生D"},{value:[80,70,60,50,40,30,20,10,0,10],name:"学生E"},{value:[10,20,30,40,50,60,70,80,90,100],name:"学生F"},{value:[10,20,30,40,50,60,70,80,90,100],name:"学生G"}];gn(()=>{const v=AC.init(t.value),m={title:{text:"知识点档案",padding:[30,20,30,30],textStyle:{fontSize:24.5}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value"},yAxis:{type:"category",data:a},series:[{name:"错题数量",type:"bar",data:o,emphasis:{focus:"series"},barWidth:"50%",itemStyle:{normal:{color:"#5470C6",barBorderRadius:[10,10,10,10]}}}]};v.setOption(m);const p=AC.init(n.value),g={title:{text:"图表区",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},radar:{indicator:[{name:"核心素养",max:100},{name:"数学审美",max:100},{name:"沟通交际",max:100},{name:"创新意识",max:100},{name:"实践能力",max:100},{name:"自学能力",max:100},{name:"学习习惯",max:100},{name:"自信心",max:100}],name:{textStyle:{color:"#1F1F1F"}}},series:[{name:"能力档案",type:"radar",data:s}]};p.setOption(g)});const l=Oe("张三"),u=Oe(20),c=Oe("初一"),f=Oe("13812345678"),d=Oe("123456@qq.com");Oe([{name:"数学建模",value:.8},{name:"数学建模",value:.7},{name:"数学建模",value:.6},{name:"数学建模",value:.5},{name:"数学建模",value:.4},{name:"数学建模",value:.4}]);const h=Oe(["爱好：篮球","爱好：打游戏"]);return(v,m)=>{const p=We("v-card-title"),g=We("v-img"),y=We("v-card");return at(),tn(y,null,{default:ke(()=>[W(p,{class:"card-title"},{default:ke(()=>[Lt(" 个性化学生档案 ")]),_:1}),W(y,{class:"mx-auto main-card"},{default:ke(()=>[Ye("div",Dxe,[Ye("div",Lxe,[Ye("div",Oxe,[W(g,{src:"../src/images/musee-edu/student.svg",height:"auto",width:"auto",cover:""})]),Ye("div",Nxe,[W(p,{class:"card-title"},{default:ke(()=>[kxe,Lt("Musee")]),_:1}),Bxe,Ye("ul",null,[Ye("li",null,[Fxe,Vxe,Ye("span",null,Qt(l.value),1)]),Ye("li",null,[zxe,Uxe,Ye("span",null,Qt(u.value),1)]),Ye("li",null,[Hxe,$xe,Ye("span",null,Qt(c.value),1)]),Ye("li",null,[Gxe,Wxe,Ye("span",null,Qt(f.value),1)]),Ye("li",null,[jxe,Yxe,Ye("span",null,Qt(d.value),1)])])])]),Ye("div",Xxe,[Ye("div",qxe,[Ye("div",{ref_key:"echartRef2",ref:t,style:{width:"60vw",height:"50vh"}},null,512)])])]),W(y,{class:"card-content",style:{"margin-left":"10px","background-color":"#D4F0FC","border-radius":"16px"}},{default:ke(()=>[Kxe,Ye("div",Zxe,[Ye("div",{ref_key:"echartRef3",ref:n,style:{width:"30vw",height:"60vh"}},null,512)]),Qxe,(at(!0),gt(tt,null,ir(h.value,(x,b)=>(at(),gt("div",{key:b,style:{display:"flex","align-items":"center","margin-bottom":"10px","justify-content":"center"}},[Ye("div",Jxe,Qt(x),1)]))),128))]),_:1})]),_:1})]),_:1})}}},t1e=lr(e1e,[["__scopeId","data-v-b4624851"]]),n1e={},r1e={style:{display:"flex","justify-content":"center","align-items":"center",height:"80vh"}};function a1e(e,t){const n=We("v-img");return at(),gt("div",r1e,[W(n,{src:"@images/empty-picture/no_search.svg",height:"300","max-width":"500"})])}const i1e=lr(n1e,[["render",a1e]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const e0="165",Xi={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o1e=0,Kz=1,s1e=2,L9=1,l1e=2,zo=3,al=0,aa=1,Yo=2,ts=0,Wc=1,Zz=2,Qz=3,Jz=4,u1e=5,Gl=100,c1e=101,f1e=102,d1e=103,h1e=104,v1e=200,p1e=201,g1e=202,m1e=203,mM=204,yM=205,y1e=206,x1e=207,b1e=208,S1e=209,_1e=210,A1e=211,w1e=212,C1e=213,M1e=214,T1e=0,E1e=1,P1e=2,Em=3,R1e=4,I1e=5,D1e=6,L1e=7,kP=0,O1e=1,N1e=2,tl=0,k1e=1,B1e=2,F1e=3,V1e=4,z1e=5,U1e=6,H1e=7,O9=300,cf=301,ff=302,xM=303,bM=304,t0=306,SM=1e3,Kl=1001,_M=1002,qa=1003,$1e=1004,kp=1005,Ya=1006,XA=1007,Zl=1008,il=1009,G1e=1010,W1e=1011,Pm=1012,N9=1013,df=1014,Zs=1015,Iv=1016,k9=1017,B9=1018,hf=1020,j1e=35902,Y1e=1021,X1e=1022,to=1023,q1e=1024,K1e=1025,jc=1026,vf=1027,Z1e=1028,F9=1029,Q1e=1030,V9=1031,z9=1033,qA=33776,KA=33777,ZA=33778,QA=33779,eU=35840,tU=35841,nU=35842,rU=35843,aU=36196,iU=37492,oU=37496,sU=37808,lU=37809,uU=37810,cU=37811,fU=37812,dU=37813,hU=37814,vU=37815,pU=37816,gU=37817,mU=37818,yU=37819,xU=37820,bU=37821,JA=36492,SU=36494,_U=36495,J1e=36283,AU=36284,wU=36285,CU=36286,ebe=3200,tbe=3201,U9=0,nbe=1,Ws="",Ga="srgb",hl="srgb-linear",BP="display-p3",n0="display-p3-linear",Rm="linear",En="srgb",Im="rec709",Dm="p3",Ju=7680,MU=519,rbe=512,abe=513,ibe=514,H9=515,obe=516,sbe=517,lbe=518,ube=519,AM=35044,TU="300 es",Xo=2e3,Lm=2001;class Vi{addEventListener(t,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n)}hasEventListener(t,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(n)!==-1}removeEventListener(t,n){if(this._listeners===void 0)return;const a=this._listeners[t];if(a!==void 0){const i=a.indexOf(n);i!==-1&&a.splice(i,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const a=r.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,t);t.target=null}}}const Vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let EU=1234567;const lh=Math.PI/180,Ih=180/Math.PI;function ns(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vr[e&255]+Vr[e>>8&255]+Vr[e>>16&255]+Vr[e>>24&255]+"-"+Vr[t&255]+Vr[t>>8&255]+"-"+Vr[t>>16&15|64]+Vr[t>>24&255]+"-"+Vr[n&63|128]+Vr[n>>8&255]+"-"+Vr[n>>16&255]+Vr[n>>24&255]+Vr[r&255]+Vr[r>>8&255]+Vr[r>>16&255]+Vr[r>>24&255]).toLowerCase()}function Ar(e,t,n){return Math.max(t,Math.min(n,e))}function FP(e,t){return(e%t+t)%t}function cbe(e,t,n,r,a){return r+(e-t)*(a-r)/(n-t)}function fbe(e,t,n){return e!==t?(n-e)/(t-e):0}function uh(e,t,n){return(1-n)*e+n*t}function dbe(e,t,n,r){return uh(e,t,1-Math.exp(-n*r))}function hbe(e,t=1){return t-Math.abs(FP(e,t*2)-t)}function vbe(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function pbe(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))}function gbe(e,t){return e+Math.floor(Math.random()*(t-e+1))}function mbe(e,t){return e+Math.random()*(t-e)}function ybe(e){return e*(.5-Math.random())}function xbe(e){e!==void 0&&(EU=e);let t=EU+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function bbe(e){return e*lh}function Sbe(e){return e*Ih}function _be(e){return(e&e-1)===0&&e!==0}function Abe(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function wbe(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Cbe(e,t,n,r,a){const i=Math.cos,o=Math.sin,s=i(n/2),l=o(n/2),u=i((t+r)/2),c=o((t+r)/2),f=i((t-r)/2),d=o((t-r)/2),h=i((r-t)/2),v=o((r-t)/2);switch(a){case"XYX":e.set(s*c,l*f,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*f,s*u);break;case"ZXZ":e.set(l*f,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*v,l*h,s*u);break;case"YXY":e.set(l*h,s*c,l*v,s*u);break;case"ZYZ":e.set(l*v,l*h,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ai(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function dn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}const wM={DEG2RAD:lh,RAD2DEG:Ih,generateUUID:ns,clamp:Ar,euclideanModulo:FP,mapLinear:cbe,inverseLerp:fbe,lerp:uh,damp:dbe,pingpong:hbe,smoothstep:vbe,smootherstep:pbe,randInt:gbe,randFloat:mbe,randFloatSpread:ybe,seededRandom:xbe,degToRad:bbe,radToDeg:Sbe,isPowerOfTwo:_be,ceilPowerOfTwo:Abe,floorPowerOfTwo:wbe,setQuaternionFromProperEuler:Cbe,normalize:dn,denormalize:Ai};class ot{constructor(t=0,n=0){ot.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,r=this.y,a=t.elements;return this.x=a[0]*n+a[3]*r+a[6],this.y=a[1]*n+a[4]*r+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(Ar(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y;return n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const r=Math.cos(n),a=Math.sin(n),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*a+t.x,this.y=i*a+o*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jt{constructor(t,n,r,a,i,o,s,l,u){jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,n,r,a,i,o,s,l,u)}set(t,n,r,a,i,o,s,l,u){const c=this.elements;return c[0]=t,c[1]=a,c[2]=s,c[3]=n,c[4]=i,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(t,n,r){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,a=n.elements,i=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],h=r[5],v=r[8],m=a[0],p=a[3],g=a[6],y=a[1],x=a[4],b=a[7],A=a[2],S=a[5],_=a[8];return i[0]=o*m+s*y+l*A,i[3]=o*p+s*x+l*S,i[6]=o*g+s*b+l*_,i[1]=u*m+c*y+f*A,i[4]=u*p+c*x+f*S,i[7]=u*g+c*b+f*_,i[2]=d*m+h*y+v*A,i[5]=d*p+h*x+v*S,i[8]=d*g+h*b+v*_,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return n*o*c-n*s*u-r*i*c+r*s*l+a*i*u-a*o*l}invert(){const t=this.elements,n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*o-s*u,d=s*l-c*i,h=u*i-o*l,v=n*f+r*d+a*h;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/v;return t[0]=f*m,t[1]=(a*u-c*r)*m,t[2]=(s*r-a*o)*m,t[3]=d*m,t[4]=(c*n-a*l)*m,t[5]=(a*i-s*n)*m,t[6]=h*m,t[7]=(r*l-u*n)*m,t[8]=(o*n-r*i)*m,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,r,a,i,o,s){const l=Math.cos(i),u=Math.sin(i);return this.set(r*l,r*u,-r*(l*o+u*s)+o+t,-a*u,a*l,-a*(-u*o+l*s)+s+n,0,0,1),this}scale(t,n){return this.premultiply(ew.makeScale(t,n)),this}rotate(t){return this.premultiply(ew.makeRotation(-t)),this}translate(t,n){return this.premultiply(ew.makeTranslation(t,n)),this}makeTranslation(t,n){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,n,0,0,1),this}makeRotation(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(t,n){return this.set(t,0,0,0,n,0,0,0,1),this}equals(t){const n=this.elements,r=t.elements;for(let a=0;a<9;a++)if(n[a]!==r[a])return!1;return!0}fromArray(t,n=0){for(let r=0;r<9;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const ew=new jt;function $9(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function Dh(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Mbe(){const e=Dh("canvas");return e.style.display="block",e}const PU={};function VP(e){e in PU||(PU[e]=!0,console.warn(e))}function Tbe(e,t,n){return new Promise(function(r,a){function i(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:a();break;case e.TIMEOUT_EXPIRED:setTimeout(i,n);break;default:r()}}setTimeout(i,n)})}const RU=new jt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),IU=new jt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Bp={[hl]:{transfer:Rm,primaries:Im,toReference:e=>e,fromReference:e=>e},[Ga]:{transfer:En,primaries:Im,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[n0]:{transfer:Rm,primaries:Dm,toReference:e=>e.applyMatrix3(IU),fromReference:e=>e.applyMatrix3(RU)},[BP]:{transfer:En,primaries:Dm,toReference:e=>e.convertSRGBToLinear().applyMatrix3(IU),fromReference:e=>e.applyMatrix3(RU).convertLinearToSRGB()}},Ebe=new Set([hl,n0]),hn={enabled:!0,_workingColorSpace:hl,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Ebe.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(this.enabled===!1||t===n||!t||!n)return e;const r=Bp[t].toReference,a=Bp[n].fromReference;return a(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Bp[e].primaries},getTransfer:function(e){return e===Ws?Rm:Bp[e].transfer}};function Yc(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function tw(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}let ec;class Pbe{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{ec===void 0&&(ec=Dh("canvas")),ec.width=t.width,ec.height=t.height;const r=ec.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=ec}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const n=Dh("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const a=r.getImageData(0,0,t.width,t.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=Yc(i[o]/255)*255;return r.putImageData(a,0,0),n}else if(t.data){const n=t.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Yc(n[r]/255)*255):n[r]=Yc(n[r]);return{data:n,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Rbe=0;class G9{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Rbe++}),this.uuid=ns(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,s=a.length;o<s;o++)a[o].isDataTexture?i.push(nw(a[o].image)):i.push(nw(a[o]))}else i=nw(a);r.url=i}return n||(t.images[this.uuid]=r),r}}function nw(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Pbe.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ibe=0;class Gr extends Vi{constructor(t=Gr.DEFAULT_IMAGE,n=Gr.DEFAULT_MAPPING,r=Kl,a=Kl,i=Ya,o=Zl,s=to,l=il,u=Gr.DEFAULT_ANISOTROPY,c=Ws){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ibe++}),this.uuid=ns(),this.name="",this.source=new G9(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new ot(0,0),this.repeat=new ot(1,1),this.center=new ot(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==O9)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case SM:t.x=t.x-Math.floor(t.x);break;case Kl:t.x=t.x<0?0:1;break;case _M:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case SM:t.y=t.y-Math.floor(t.y);break;case Kl:t.y=t.y<0?0:1;break;case _M:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Gr.DEFAULT_IMAGE=null;Gr.DEFAULT_MAPPING=O9;Gr.DEFAULT_ANISOTROPY=1;class Mr{constructor(t=0,n=0,r=0,a=1){Mr.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,r,a){return this.x=t,this.y=n,this.z=r,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,r=this.y,a=this.z,i=this.w,o=t.elements;return this.x=o[0]*n+o[4]*r+o[8]*a+o[12]*i,this.y=o[1]*n+o[5]*r+o[9]*a+o[13]*i,this.z=o[2]*n+o[6]*r+o[10]*a+o[14]*i,this.w=o[3]*n+o[7]*r+o[11]*a+o[15]*i,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,r,a,i;const l=t.elements,u=l[0],c=l[4],f=l[8],d=l[1],h=l[5],v=l[9],m=l[2],p=l[6],g=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-m)<.01&&Math.abs(v-p)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+m)<.1&&Math.abs(v+p)<.1&&Math.abs(u+h+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(u+1)/2,b=(h+1)/2,A=(g+1)/2,S=(c+d)/4,_=(f+m)/4,w=(v+p)/4;return x>b&&x>A?x<.01?(r=0,a=.707106781,i=.707106781):(r=Math.sqrt(x),a=S/r,i=_/r):b>A?b<.01?(r=.707106781,a=0,i=.707106781):(a=Math.sqrt(b),r=S/a,i=w/a):A<.01?(r=.707106781,a=.707106781,i=0):(i=Math.sqrt(A),r=_/i,a=w/i),this.set(r,a,i,n),this}let y=Math.sqrt((p-v)*(p-v)+(f-m)*(f-m)+(d-c)*(d-c));return Math.abs(y)<.001&&(y=1),this.x=(p-v)/y,this.y=(f-m)/y,this.z=(d-c)/y,this.w=Math.acos((u+h+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this.w=t.w+(n.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Dbe extends Vi{constructor(t=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=t,this.height=n,this.depth=1,this.scissor=new Mr(0,0,t,n),this.scissorTest=!1,this.viewport=new Mr(0,0,t,n);const a={width:t,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ya,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const i=new Gr(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);i.flipY=!1,i.generateMipmaps=r.generateMipmaps,i.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,n,r=1){if(this.width!==t||this.height!==n||this.depth!==r){this.width=t,this.height=n,this.depth=r;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=t,this.textures[a].image.height=n,this.textures[a].image.depth=r;this.dispose()}this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let r=0,a=t.textures.length;r<a;r++)this.textures[r]=t.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},t.texture.image);return this.texture.source=new G9(n),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ol extends Dbe{constructor(t=1,n=1,r={}){super(t,n,r),this.isWebGLRenderTarget=!0}}class W9 extends Gr{constructor(t=null,n=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:n,height:r,depth:a},this.magFilter=qa,this.minFilter=qa,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Lbe extends Gr{constructor(t=null,n=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:n,height:r,depth:a},this.magFilter=qa,this.minFilter=qa,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ri{constructor(t=0,n=0,r=0,a=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=a}static slerpFlat(t,n,r,a,i,o,s){let l=r[a+0],u=r[a+1],c=r[a+2],f=r[a+3];const d=i[o+0],h=i[o+1],v=i[o+2],m=i[o+3];if(s===0){t[n+0]=l,t[n+1]=u,t[n+2]=c,t[n+3]=f;return}if(s===1){t[n+0]=d,t[n+1]=h,t[n+2]=v,t[n+3]=m;return}if(f!==m||l!==d||u!==h||c!==v){let p=1-s;const g=l*d+u*h+c*v+f*m,y=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const A=Math.sqrt(x),S=Math.atan2(A,g*y);p=Math.sin(p*S)/A,s=Math.sin(s*S)/A}const b=s*y;if(l=l*p+d*b,u=u*p+h*b,c=c*p+v*b,f=f*p+m*b,p===1-s){const A=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=A,u*=A,c*=A,f*=A}}t[n]=l,t[n+1]=u,t[n+2]=c,t[n+3]=f}static multiplyQuaternionsFlat(t,n,r,a,i,o){const s=r[a],l=r[a+1],u=r[a+2],c=r[a+3],f=i[o],d=i[o+1],h=i[o+2],v=i[o+3];return t[n]=s*v+c*f+l*h-u*d,t[n+1]=l*v+c*d+u*f-s*h,t[n+2]=u*v+c*h+s*d-l*f,t[n+3]=c*v-s*f-l*d-u*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,r,a){return this._x=t,this._y=n,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n=!0){const r=t._x,a=t._y,i=t._z,o=t._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(a/2),f=s(i/2),d=l(r/2),h=l(a/2),v=l(i/2);switch(o){case"XYZ":this._x=d*c*f+u*h*v,this._y=u*h*f-d*c*v,this._z=u*c*v+d*h*f,this._w=u*c*f-d*h*v;break;case"YXZ":this._x=d*c*f+u*h*v,this._y=u*h*f-d*c*v,this._z=u*c*v-d*h*f,this._w=u*c*f+d*h*v;break;case"ZXY":this._x=d*c*f-u*h*v,this._y=u*h*f+d*c*v,this._z=u*c*v+d*h*f,this._w=u*c*f-d*h*v;break;case"ZYX":this._x=d*c*f-u*h*v,this._y=u*h*f+d*c*v,this._z=u*c*v-d*h*f,this._w=u*c*f+d*h*v;break;case"YZX":this._x=d*c*f+u*h*v,this._y=u*h*f+d*c*v,this._z=u*c*v-d*h*f,this._w=u*c*f-d*h*v;break;case"XZY":this._x=d*c*f-u*h*v,this._y=u*h*f-d*c*v,this._z=u*c*v+d*h*f,this._w=u*c*f+d*h*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const r=n/2,a=Math.sin(r);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,r=n[0],a=n[4],i=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(c-l)*h,this._y=(i-u)*h,this._z=(o-a)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(c-l)/h,this._x=.25*h,this._y=(a+o)/h,this._z=(i+u)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(i-u)/h,this._x=(a+o)/h,this._y=.25*h,this._z=(l+c)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(o-a)/h,this._x=(i+u)/h,this._y=(l+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ar(this.dot(t),-1,1)))}rotateTowards(t,n){const r=this.angleTo(t);if(r===0)return this;const a=Math.min(1,n/r);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const r=t._x,a=t._y,i=t._z,o=t._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*s+a*u-i*l,this._y=a*c+o*l+i*s-r*u,this._z=i*c+o*u+r*l-a*s,this._w=o*c-r*s-a*l-i*u,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const r=this._x,a=this._y,i=this._z,o=this._w;let s=o*t._w+r*t._x+a*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=r,this._y=a,this._z=i,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*r+n*this._x,this._y=h*a+n*this._y,this._z=h*i+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=a*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,n,r){return this.copy(t).slerp(n,r)}random(){const t=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(a*Math.sin(t),a*Math.cos(t),i*Math.sin(n),i*Math.cos(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class we{constructor(t=0,n=0,r=0){we.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(t,n,r){return r===void 0&&(r=this.z),this.x=t,this.y=n,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(DU.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(DU.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,r=this.y,a=this.z,i=t.elements;return this.x=i[0]*n+i[3]*r+i[6]*a,this.y=i[1]*n+i[4]*r+i[7]*a,this.z=i[2]*n+i[5]*r+i[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,r=this.y,a=this.z,i=t.elements,o=1/(i[3]*n+i[7]*r+i[11]*a+i[15]);return this.x=(i[0]*n+i[4]*r+i[8]*a+i[12])*o,this.y=(i[1]*n+i[5]*r+i[9]*a+i[13])*o,this.z=(i[2]*n+i[6]*r+i[10]*a+i[14])*o,this}applyQuaternion(t){const n=this.x,r=this.y,a=this.z,i=t.x,o=t.y,s=t.z,l=t.w,u=2*(o*a-s*r),c=2*(s*n-i*a),f=2*(i*r-o*n);return this.x=n+l*u+o*f-s*c,this.y=r+l*c+s*u-i*f,this.z=a+l*f+i*c-o*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,r=this.y,a=this.z,i=t.elements;return this.x=i[0]*n+i[4]*r+i[8]*a,this.y=i[1]*n+i[5]*r+i[9]*a,this.z=i[2]*n+i[6]*r+i[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const r=t.x,a=t.y,i=t.z,o=n.x,s=n.y,l=n.z;return this.x=a*l-i*s,this.y=i*o-r*l,this.z=r*s-a*o,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return rw.copy(this).projectOnVector(t),this.sub(rw)}reflect(t){return this.sub(rw.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(Ar(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y,a=this.z-t.z;return n*n+r*r+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,r){const a=Math.sin(n)*t;return this.x=a*Math.sin(r),this.y=Math.cos(n)*t,this.z=a*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=a,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(t),this.y=n,this.z=r*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const rw=new we,DU=new Ri;class Ru{constructor(t=new we(1/0,1/0,1/0),n=new we(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n+=3)this.expandByPoint(pi.fromArray(t,n));return this}setFromBufferAttribute(t){this.makeEmpty();for(let n=0,r=t.count;n<r;n++)this.expandByPoint(pi.fromBufferAttribute(t,n));return this}setFromPoints(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const r=pi.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,n=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0){const i=r.getAttribute("position");if(n===!0&&i!==void 0&&t.isInstancedMesh!==!0)for(let o=0,s=i.count;o<s;o++)t.isMesh===!0?t.getVertexPosition(o,pi):pi.fromBufferAttribute(i,o),pi.applyMatrix4(t.matrixWorld),this.expandByPoint(pi);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),Fp.copy(t.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Fp.copy(r.boundingBox)),Fp.applyMatrix4(t.matrixWorld),this.union(Fp)}const a=t.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],n);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,pi),pi.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,r;return t.normal.x>0?(n=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),n<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Td),Vp.subVectors(this.max,Td),tc.subVectors(t.a,Td),nc.subVectors(t.b,Td),rc.subVectors(t.c,Td),Ts.subVectors(nc,tc),Es.subVectors(rc,nc),Dl.subVectors(tc,rc);let n=[0,-Ts.z,Ts.y,0,-Es.z,Es.y,0,-Dl.z,Dl.y,Ts.z,0,-Ts.x,Es.z,0,-Es.x,Dl.z,0,-Dl.x,-Ts.y,Ts.x,0,-Es.y,Es.x,0,-Dl.y,Dl.x,0];return!aw(n,tc,nc,rc,Vp)||(n=[1,0,0,0,1,0,0,0,1],!aw(n,tc,nc,rc,Vp))?!1:(zp.crossVectors(Ts,Es),n=[zp.x,zp.y,zp.z],aw(n,tc,nc,rc,Vp))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,pi).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(pi).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Eo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Eo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Eo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Eo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Eo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Eo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Eo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Eo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Eo),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Eo=[new we,new we,new we,new we,new we,new we,new we,new we],pi=new we,Fp=new Ru,tc=new we,nc=new we,rc=new we,Ts=new we,Es=new we,Dl=new we,Td=new we,Vp=new we,zp=new we,Ll=new we;function aw(e,t,n,r,a){for(let i=0,o=e.length-3;i<=o;i+=3){Ll.fromArray(e,i);const s=a.x*Math.abs(Ll.x)+a.y*Math.abs(Ll.y)+a.z*Math.abs(Ll.z),l=t.dot(Ll),u=n.dot(Ll),c=r.dot(Ll);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Obe=new Ru,Ed=new we,iw=new we;class r0{constructor(t=new we,n=-1){this.isSphere=!0,this.center=t,this.radius=n}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const r=this.center;n!==void 0?r.copy(n):Obe.setFromPoints(t).getCenter(r);let a=0;for(let i=0,o=t.length;i<o;i++)a=Math.max(a,r.distanceToSquared(t[i]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const r=this.center.distanceToSquared(t);return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Ed.subVectors(t,this.center);const n=Ed.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),a=(r-this.radius)*.5;this.center.addScaledVector(Ed,a/r),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(iw.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Ed.copy(t.center).add(iw)),this.expandByPoint(Ed.copy(t.center).sub(iw))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Po=new we,ow=new we,Up=new we,Ps=new we,sw=new we,Hp=new we,lw=new we;class a0{constructor(t=new we,n=new we(0,0,-1)){this.origin=t,this.direction=n}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Po)),this}closestPointToPoint(t,n){n.subVectors(t,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=Po.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(Po.copy(this.origin).addScaledVector(this.direction,n),Po.distanceToSquared(t))}distanceSqToSegment(t,n,r,a){ow.copy(t).add(n).multiplyScalar(.5),Up.copy(n).sub(t).normalize(),Ps.copy(this.origin).sub(ow);const i=t.distanceTo(n)*.5,o=-this.direction.dot(Up),s=Ps.dot(this.direction),l=-Ps.dot(Up),u=Ps.lengthSq(),c=Math.abs(1-o*o);let f,d,h,v;if(c>0)if(f=o*l-s,d=o*s-l,v=i*c,f>=0)if(d>=-v)if(d<=v){const m=1/c;f*=m,d*=m,h=f*(f+o*d+2*s)+d*(o*f+d+2*l)+u}else d=i,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*l)+u;else d=-i,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*l)+u;else d<=-v?(f=Math.max(0,-(-o*i+s)),d=f>0?-i:Math.min(Math.max(-i,-l),i),h=-f*f+d*(d+2*l)+u):d<=v?(f=0,d=Math.min(Math.max(-i,-l),i),h=d*(d+2*l)+u):(f=Math.max(0,-(o*i+s)),d=f>0?i:Math.min(Math.max(-i,-l),i),h=-f*f+d*(d+2*l)+u);else d=o>0?-i:i,f=Math.max(0,-(o*d+s)),h=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(ow).addScaledVector(Up,d),h}intersectSphere(t,n){Po.subVectors(t.center,this.origin);const r=Po.dot(this.direction),a=Po.dot(Po)-r*r,i=t.radius*t.radius;if(a>i)return null;const o=Math.sqrt(i-a),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/n;return r>=0?r:null}intersectPlane(t,n){const r=this.distanceToPlane(t);return r===null?null:this.at(r,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let r,a,i,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(t.min.x-d.x)*u,a=(t.max.x-d.x)*u):(r=(t.max.x-d.x)*u,a=(t.min.x-d.x)*u),c>=0?(i=(t.min.y-d.y)*c,o=(t.max.y-d.y)*c):(i=(t.max.y-d.y)*c,o=(t.min.y-d.y)*c),r>o||i>a||((i>r||isNaN(r))&&(r=i),(o<a||isNaN(a))&&(a=o),f>=0?(s=(t.min.z-d.z)*f,l=(t.max.z-d.z)*f):(s=(t.max.z-d.z)*f,l=(t.min.z-d.z)*f),r>l||s>a)||((s>r||r!==r)&&(r=s),(l<a||a!==a)&&(a=l),a<0)?null:this.at(r>=0?r:a,n)}intersectsBox(t){return this.intersectBox(t,Po)!==null}intersectTriangle(t,n,r,a,i){sw.subVectors(n,t),Hp.subVectors(r,t),lw.crossVectors(sw,Hp);let o=this.direction.dot(lw),s;if(o>0){if(a)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Ps.subVectors(this.origin,t);const l=s*this.direction.dot(Hp.crossVectors(Ps,Hp));if(l<0)return null;const u=s*this.direction.dot(sw.cross(Ps));if(u<0||l+u>o)return null;const c=-s*Ps.dot(lw);return c<0?null:this.at(c/o,i)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Sn{constructor(t,n,r,a,i,o,s,l,u,c,f,d,h,v,m,p){Sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,r,a,i,o,s,l,u,c,f,d,h,v,m,p)}set(t,n,r,a,i,o,s,l,u,c,f,d,h,v,m,p){const g=this.elements;return g[0]=t,g[4]=n,g[8]=r,g[12]=a,g[1]=i,g[5]=o,g[9]=s,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=d,g[3]=h,g[7]=v,g[11]=m,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Sn().fromArray(this.elements)}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(t){const n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,r=t.elements,a=1/ac.setFromMatrixColumn(t,0).length(),i=1/ac.setFromMatrixColumn(t,1).length(),o=1/ac.setFromMatrixColumn(t,2).length();return n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a,n[3]=0,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,r=t.x,a=t.y,i=t.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(a),u=Math.sin(a),c=Math.cos(i),f=Math.sin(i);if(t.order==="XYZ"){const d=o*c,h=o*f,v=s*c,m=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=h+v*u,n[5]=d-m*u,n[9]=-s*l,n[2]=m-d*u,n[6]=v+h*u,n[10]=o*l}else if(t.order==="YXZ"){const d=l*c,h=l*f,v=u*c,m=u*f;n[0]=d+m*s,n[4]=v*s-h,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-s,n[2]=h*s-v,n[6]=m+d*s,n[10]=o*l}else if(t.order==="ZXY"){const d=l*c,h=l*f,v=u*c,m=u*f;n[0]=d-m*s,n[4]=-o*f,n[8]=v+h*s,n[1]=h+v*s,n[5]=o*c,n[9]=m-d*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(t.order==="ZYX"){const d=o*c,h=o*f,v=s*c,m=s*f;n[0]=l*c,n[4]=v*u-h,n[8]=d*u+m,n[1]=l*f,n[5]=m*u+d,n[9]=h*u-v,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(t.order==="YZX"){const d=o*l,h=o*u,v=s*l,m=s*u;n[0]=l*c,n[4]=m-d*f,n[8]=v*f+h,n[1]=f,n[5]=o*c,n[9]=-s*c,n[2]=-u*c,n[6]=h*f+v,n[10]=d-m*f}else if(t.order==="XZY"){const d=o*l,h=o*u,v=s*l,m=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+m,n[5]=o*c,n[9]=h*f-v,n[2]=v*f-h,n[6]=s*c,n[10]=m*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Nbe,t,kbe)}lookAt(t,n,r){const a=this.elements;return ba.subVectors(t,n),ba.lengthSq()===0&&(ba.z=1),ba.normalize(),Rs.crossVectors(r,ba),Rs.lengthSq()===0&&(Math.abs(r.z)===1?ba.x+=1e-4:ba.z+=1e-4,ba.normalize(),Rs.crossVectors(r,ba)),Rs.normalize(),$p.crossVectors(ba,Rs),a[0]=Rs.x,a[4]=$p.x,a[8]=ba.x,a[1]=Rs.y,a[5]=$p.y,a[9]=ba.y,a[2]=Rs.z,a[6]=$p.z,a[10]=ba.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,a=n.elements,i=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],h=r[13],v=r[2],m=r[6],p=r[10],g=r[14],y=r[3],x=r[7],b=r[11],A=r[15],S=a[0],_=a[4],w=a[8],C=a[12],M=a[1],T=a[5],E=a[9],P=a[13],R=a[2],I=a[6],D=a[10],B=a[14],F=a[3],G=a[7],z=a[11],N=a[15];return i[0]=o*S+s*M+l*R+u*F,i[4]=o*_+s*T+l*I+u*G,i[8]=o*w+s*E+l*D+u*z,i[12]=o*C+s*P+l*B+u*N,i[1]=c*S+f*M+d*R+h*F,i[5]=c*_+f*T+d*I+h*G,i[9]=c*w+f*E+d*D+h*z,i[13]=c*C+f*P+d*B+h*N,i[2]=v*S+m*M+p*R+g*F,i[6]=v*_+m*T+p*I+g*G,i[10]=v*w+m*E+p*D+g*z,i[14]=v*C+m*P+p*B+g*N,i[3]=y*S+x*M+b*R+A*F,i[7]=y*_+x*T+b*I+A*G,i[11]=y*w+x*E+b*D+A*z,i[15]=y*C+x*P+b*B+A*N,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[4],a=t[8],i=t[12],o=t[1],s=t[5],l=t[9],u=t[13],c=t[2],f=t[6],d=t[10],h=t[14],v=t[3],m=t[7],p=t[11],g=t[15];return v*(+i*l*f-a*u*f-i*s*d+r*u*d+a*s*h-r*l*h)+m*(+n*l*h-n*u*d+i*o*d-a*o*h+a*u*c-i*l*c)+p*(+n*u*f-n*s*h-i*o*f+r*o*h+i*s*c-r*u*c)+g*(-a*s*c-n*l*f+n*s*d+a*o*f-r*o*d+r*l*c)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,r){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=n,a[14]=r),this}invert(){const t=this.elements,n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],v=t[12],m=t[13],p=t[14],g=t[15],y=f*p*u-m*d*u+m*l*h-s*p*h-f*l*g+s*d*g,x=v*d*u-c*p*u-v*l*h+o*p*h+c*l*g-o*d*g,b=c*m*u-v*f*u+v*s*h-o*m*h-c*s*g+o*f*g,A=v*f*l-c*m*l-v*s*d+o*m*d+c*s*p-o*f*p,S=n*y+r*x+a*b+i*A;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/S;return t[0]=y*_,t[1]=(m*d*i-f*p*i-m*a*h+r*p*h+f*a*g-r*d*g)*_,t[2]=(s*p*i-m*l*i+m*a*u-r*p*u-s*a*g+r*l*g)*_,t[3]=(f*l*i-s*d*i-f*a*u+r*d*u+s*a*h-r*l*h)*_,t[4]=x*_,t[5]=(c*p*i-v*d*i+v*a*h-n*p*h-c*a*g+n*d*g)*_,t[6]=(v*l*i-o*p*i-v*a*u+n*p*u+o*a*g-n*l*g)*_,t[7]=(o*d*i-c*l*i+c*a*u-n*d*u-o*a*h+n*l*h)*_,t[8]=b*_,t[9]=(v*f*i-c*m*i-v*r*h+n*m*h+c*r*g-n*f*g)*_,t[10]=(o*m*i-v*s*i+v*r*u-n*m*u-o*r*g+n*s*g)*_,t[11]=(c*s*i-o*f*i-c*r*u+n*f*u+o*r*h-n*s*h)*_,t[12]=A*_,t[13]=(c*m*a-v*f*a+v*r*d-n*m*d-c*r*p+n*f*p)*_,t[14]=(v*s*a-o*m*a-v*r*l+n*m*l+o*r*p-n*s*p)*_,t[15]=(o*f*a-c*s*a+c*r*l-n*f*l-o*r*d+n*s*d)*_,this}scale(t){const n=this.elements,r=t.x,a=t.y,i=t.z;return n[0]*=r,n[4]*=a,n[8]*=i,n[1]*=r,n[5]*=a,n[9]*=i,n[2]*=r,n[6]*=a,n[10]*=i,n[3]*=r,n[7]*=a,n[11]*=i,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,a))}makeTranslation(t,n,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const r=Math.cos(n),a=Math.sin(n),i=1-r,o=t.x,s=t.y,l=t.z,u=i*o,c=i*s;return this.set(u*o+r,u*s-a*l,u*l+a*s,0,u*s+a*l,c*s+r,c*l-a*o,0,u*l-a*s,c*l+a*o,i*l*l+r,0,0,0,0,1),this}makeScale(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,n,r,a,i,o){return this.set(1,r,i,0,t,1,o,0,n,a,1,0,0,0,0,1),this}compose(t,n,r){const a=this.elements,i=n._x,o=n._y,s=n._z,l=n._w,u=i+i,c=o+o,f=s+s,d=i*u,h=i*c,v=i*f,m=o*c,p=o*f,g=s*f,y=l*u,x=l*c,b=l*f,A=r.x,S=r.y,_=r.z;return a[0]=(1-(m+g))*A,a[1]=(h+b)*A,a[2]=(v-x)*A,a[3]=0,a[4]=(h-b)*S,a[5]=(1-(d+g))*S,a[6]=(p+y)*S,a[7]=0,a[8]=(v+x)*_,a[9]=(p-y)*_,a[10]=(1-(d+m))*_,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,n,r){const a=this.elements;let i=ac.set(a[0],a[1],a[2]).length();const o=ac.set(a[4],a[5],a[6]).length(),s=ac.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),t.x=a[12],t.y=a[13],t.z=a[14],gi.copy(this);const u=1/i,c=1/o,f=1/s;return gi.elements[0]*=u,gi.elements[1]*=u,gi.elements[2]*=u,gi.elements[4]*=c,gi.elements[5]*=c,gi.elements[6]*=c,gi.elements[8]*=f,gi.elements[9]*=f,gi.elements[10]*=f,n.setFromRotationMatrix(gi),r.x=i,r.y=o,r.z=s,this}makePerspective(t,n,r,a,i,o,s=Xo){const l=this.elements,u=2*i/(n-t),c=2*i/(r-a),f=(n+t)/(n-t),d=(r+a)/(r-a);let h,v;if(s===Xo)h=-(o+i)/(o-i),v=-2*o*i/(o-i);else if(s===Lm)h=-o/(o-i),v=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,n,r,a,i,o,s=Xo){const l=this.elements,u=1/(n-t),c=1/(r-a),f=1/(o-i),d=(n+t)*u,h=(r+a)*c;let v,m;if(s===Xo)v=(o+i)*f,m=-2*f;else if(s===Lm)v=i*f,m=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const n=this.elements,r=t.elements;for(let a=0;a<16;a++)if(n[a]!==r[a])return!1;return!0}fromArray(t,n=0){for(let r=0;r<16;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t}}const ac=new we,gi=new Sn,Nbe=new we(0,0,0),kbe=new we(1,1,1),Rs=new we,$p=new we,ba=new we,LU=new Sn,OU=new Ri;class lo{constructor(t=0,n=0,r=0,a=lo.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,a=this._order){return this._x=t,this._y=n,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const a=t.elements,i=a[0],o=a[4],s=a[8],l=a[1],u=a[5],c=a[9],f=a[2],d=a[6],h=a[10];switch(n){case"XYZ":this._y=Math.asin(Ar(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ar(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ar(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,i));break;case"ZYX":this._y=Math.asin(-Ar(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,i)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ar(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,i)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Ar(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return LU.makeRotationFromQuaternion(t),this.setFromRotationMatrix(LU,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return OU.setFromEuler(this),this.setFromQuaternion(OU,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lo.DEFAULT_ORDER="XYZ";class zP{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Bbe=0;const NU=new we,ic=new Ri,Ro=new Sn,Gp=new we,Pd=new we,Fbe=new we,Vbe=new Ri,kU=new we(1,0,0),BU=new we(0,1,0),FU=new we(0,0,1),VU={type:"added"},zbe={type:"removed"},oc={type:"childadded",child:null},uw={type:"childremoved",child:null};class Tr extends Vi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Bbe++}),this.uuid=ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Tr.DEFAULT_UP.clone();const t=new we,n=new lo,r=new Ri,a=new we(1,1,1);function i(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(i),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Sn},normalMatrix:{value:new jt}}),this.matrix=new Sn,this.matrixWorld=new Sn,this.matrixAutoUpdate=Tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return ic.setFromAxisAngle(t,n),this.quaternion.multiply(ic),this}rotateOnWorldAxis(t,n){return ic.setFromAxisAngle(t,n),this.quaternion.premultiply(ic),this}rotateX(t){return this.rotateOnAxis(kU,t)}rotateY(t){return this.rotateOnAxis(BU,t)}rotateZ(t){return this.rotateOnAxis(FU,t)}translateOnAxis(t,n){return NU.copy(t).applyQuaternion(this.quaternion),this.position.add(NU.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(kU,t)}translateY(t){return this.translateOnAxis(BU,t)}translateZ(t){return this.translateOnAxis(FU,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ro.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?Gp.copy(t):Gp.set(t,n,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Pd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ro.lookAt(Pd,Gp,this.up):Ro.lookAt(Gp,Pd,this.up),this.quaternion.setFromRotationMatrix(Ro),a&&(Ro.extractRotation(a.matrixWorld),ic.setFromRotationMatrix(Ro),this.quaternion.premultiply(ic.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(VU),oc.child=t,this.dispatchEvent(oc),oc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return n!==-1&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(zbe),uw.child=t,this.dispatchEvent(uw),uw.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Ro.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Ro.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ro),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(VU),oc.child=t,this.dispatchEvent(oc),oc.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,a=this.children.length;r<a;r++){const o=this.children[r].getObjectByProperty(t,n);if(o!==void 0)return o}}getObjectsByProperty(t,n,r=[]){this[t]===n&&r.push(this);const a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(t,n,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pd,t,Fbe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pd,Vbe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;n!==null&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,a=n.length;r<a;r++){const i=n[r];(i.matrixWorldAutoUpdate===!0||t===!0)&&i.updateMatrixWorld(t)}}updateWorldMatrix(t,n){const r=this.parent;if(t===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const a=this.children;for(let i=0,o=a.length;i<o;i++){const s=a[i];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(t){const n=t===void 0||typeof t=="string",r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),a.maxGeometryCount=this._maxGeometryCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function i(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(t.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];i(t.shapes,f)}else i(t.shapes,l)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(i(t.materials,this.material[l]));a.material=s}else a.material=i(t.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];a.animations.push(i(t.animations,l))}}if(n){const s=o(t.geometries),l=o(t.materials),u=o(t.textures),c=o(t.images),f=o(t.shapes),d=o(t.skeletons),h=o(t.animations),v=o(t.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),v.length>0&&(r.nodes=v)}return r.object=a,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),n===!0)for(let r=0;r<t.children.length;r++){const a=t.children[r];this.add(a.clone())}return this}}Tr.DEFAULT_UP=new we(0,1,0);Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const mi=new we,Io=new we,cw=new we,Do=new we,sc=new we,lc=new we,zU=new we,fw=new we,dw=new we,hw=new we;class wi{constructor(t=new we,n=new we,r=new we){this.a=t,this.b=n,this.c=r}static getNormal(t,n,r,a){a.subVectors(r,n),mi.subVectors(t,n),a.cross(mi);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(t,n,r,a,i){mi.subVectors(a,n),Io.subVectors(r,n),cw.subVectors(t,n);const o=mi.dot(mi),s=mi.dot(Io),l=mi.dot(cw),u=Io.dot(Io),c=Io.dot(cw),f=o*u-s*s;if(f===0)return i.set(0,0,0),null;const d=1/f,h=(u*l-s*c)*d,v=(o*c-s*l)*d;return i.set(1-h-v,v,h)}static containsPoint(t,n,r,a){return this.getBarycoord(t,n,r,a,Do)===null?!1:Do.x>=0&&Do.y>=0&&Do.x+Do.y<=1}static getInterpolation(t,n,r,a,i,o,s,l){return this.getBarycoord(t,n,r,a,Do)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(i,Do.x),l.addScaledVector(o,Do.y),l.addScaledVector(s,Do.z),l)}static isFrontFacing(t,n,r,a){return mi.subVectors(r,n),Io.subVectors(t,n),mi.cross(Io).dot(a)<0}set(t,n,r){return this.a.copy(t),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(t,n,r,a){return this.a.copy(t[n]),this.b.copy(t[r]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,n,r,a){return this.a.fromBufferAttribute(t,n),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return mi.subVectors(this.c,this.b),Io.subVectors(this.a,this.b),mi.cross(Io).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return wi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return wi.getBarycoord(t,this.a,this.b,this.c,n)}getInterpolation(t,n,r,a,i){return wi.getInterpolation(t,this.a,this.b,this.c,n,r,a,i)}containsPoint(t){return wi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return wi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){const r=this.a,a=this.b,i=this.c;let o,s;sc.subVectors(a,r),lc.subVectors(i,r),fw.subVectors(t,r);const l=sc.dot(fw),u=lc.dot(fw);if(l<=0&&u<=0)return n.copy(r);dw.subVectors(t,a);const c=sc.dot(dw),f=lc.dot(dw);if(c>=0&&f<=c)return n.copy(a);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(sc,o);hw.subVectors(t,i);const h=sc.dot(hw),v=lc.dot(hw);if(v>=0&&h<=v)return n.copy(i);const m=h*u-l*v;if(m<=0&&u>=0&&v<=0)return s=u/(u-v),n.copy(r).addScaledVector(lc,s);const p=c*v-h*f;if(p<=0&&f-c>=0&&h-v>=0)return zU.subVectors(i,a),s=(f-c)/(f-c+(h-v)),n.copy(a).addScaledVector(zU,s);const g=1/(p+m+d);return o=m*g,s=d*g,n.copy(r).addScaledVector(sc,o).addScaledVector(lc,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const j9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Is={h:0,s:0,l:0},Wp={h:0,s:0,l:0};function vw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}class qt{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}set(t,n,r){if(n===void 0&&r===void 0){const a=t;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(t,n,r);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=Ga){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,hn.toWorkingColorSpace(this,n),this}setRGB(t,n,r,a=hn.workingColorSpace){return this.r=t,this.g=n,this.b=r,hn.toWorkingColorSpace(this,a),this}setHSL(t,n,r,a=hn.workingColorSpace){if(t=FP(t,1),n=Ar(n,0,1),r=Ar(r,0,1),n===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=vw(o,i,t+1/3),this.g=vw(o,i,t),this.b=vw(o,i,t-1/3)}return hn.toWorkingColorSpace(this,a),this}setStyle(t,n=Ga){function r(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let i;const o=a[1],s=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(i,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}setColorName(t,n=Ga){const r=j9[t.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Yc(t.r),this.g=Yc(t.g),this.b=Yc(t.b),this}copyLinearToSRGB(t){return this.r=tw(t.r),this.g=tw(t.g),this.b=tw(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ga){return hn.fromWorkingColorSpace(zr.copy(this),t),Math.round(Ar(zr.r*255,0,255))*65536+Math.round(Ar(zr.g*255,0,255))*256+Math.round(Ar(zr.b*255,0,255))}getHexString(t=Ga){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=hn.workingColorSpace){hn.fromWorkingColorSpace(zr.copy(this),n);const r=zr.r,a=zr.g,i=zr.b,o=Math.max(r,a,i),s=Math.min(r,a,i);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(a-i)/f+(a<i?6:0);break;case a:l=(i-r)/f+2;break;case i:l=(r-a)/f+4;break}l/=6}return t.h=l,t.s=u,t.l=c,t}getRGB(t,n=hn.workingColorSpace){return hn.fromWorkingColorSpace(zr.copy(this),n),t.r=zr.r,t.g=zr.g,t.b=zr.b,t}getStyle(t=Ga){hn.fromWorkingColorSpace(zr.copy(this),t);const n=zr.r,r=zr.g,a=zr.b;return t!==Ga?`color(${t} ${n.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(t,n,r){return this.getHSL(Is),this.setHSL(Is.h+t,Is.s+n,Is.l+r)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(Is),t.getHSL(Wp);const r=uh(Is.h,Wp.h,n),a=uh(Is.s,Wp.s,n),i=uh(Is.l,Wp.l,n);return this.setHSL(r,a,i),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const n=this.r,r=this.g,a=this.b,i=t.elements;return this.r=i[0]*n+i[3]*r+i[6]*a,this.g=i[1]*n+i[4]*r+i[7]*a,this.b=i[2]*n+i[5]*r+i[8]*a,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const zr=new qt;qt.NAMES=j9;let Ube=0;class Iu extends Vi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ube++}),this.uuid=ns(),this.name="",this.type="Material",this.blending=Wc,this.side=al,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=mM,this.blendDst=yM,this.blendEquation=Gl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new qt(0,0,0),this.blendAlpha=0,this.depthFunc=Em,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ju,this.stencilZFail=Ju,this.stencilZPass=Ju,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const n in t){const r=t[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const a=this[n];if(a===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[n]=r}}toJSON(t){const n=t===void 0||typeof t=="string";n&&(t={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wc&&(r.blending=this.blending),this.side!==al&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==mM&&(r.blendSrc=this.blendSrc),this.blendDst!==yM&&(r.blendDst=this.blendDst),this.blendEquation!==Gl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Em&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==MU&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ju&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ju&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ju&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(i){const o=[];for(const s in i){const l=i[s];delete l.metadata,o.push(l)}return o}if(n){const i=a(t.textures),o=a(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const n=t.clippingPlanes;let r=null;if(n!==null){const a=n.length;r=new Array(a);for(let i=0;i!==a;++i)r[i]=n[i].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class UP extends Iu{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lo,this.combine=kP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const rr=new we,jp=new ot;class ri{constructor(t,n,r=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=t!==void 0?t.length/n:0,this.normalized=r,this.usage=AM,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Zs,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return VP("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,n){this.updateRanges.push({start:t,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,n,r){t*=this.itemSize,r*=n.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[t+a]=n.array[r+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)jp.fromBufferAttribute(this,n),jp.applyMatrix3(t),this.setXY(n,jp.x,jp.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix3(t),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyMatrix4(t){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix4(t),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyNormalMatrix(t),this.setXYZ(n,rr.x,rr.y,rr.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.transformDirection(t),this.setXYZ(n,rr.x,rr.y,rr.z);return this}set(t,n=0){return this.array.set(t,n),this}getComponent(t,n){let r=this.array[t*this.itemSize+n];return this.normalized&&(r=Ai(r,this.array)),r}setComponent(t,n,r){return this.normalized&&(r=dn(r,this.array)),this.array[t*this.itemSize+n]=r,this}getX(t){let n=this.array[t*this.itemSize];return this.normalized&&(n=Ai(n,this.array)),n}setX(t,n){return this.normalized&&(n=dn(n,this.array)),this.array[t*this.itemSize]=n,this}getY(t){let n=this.array[t*this.itemSize+1];return this.normalized&&(n=Ai(n,this.array)),n}setY(t,n){return this.normalized&&(n=dn(n,this.array)),this.array[t*this.itemSize+1]=n,this}getZ(t){let n=this.array[t*this.itemSize+2];return this.normalized&&(n=Ai(n,this.array)),n}setZ(t,n){return this.normalized&&(n=dn(n,this.array)),this.array[t*this.itemSize+2]=n,this}getW(t){let n=this.array[t*this.itemSize+3];return this.normalized&&(n=Ai(n,this.array)),n}setW(t,n){return this.normalized&&(n=dn(n,this.array)),this.array[t*this.itemSize+3]=n,this}setXY(t,n,r){return t*=this.itemSize,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array)),this.array[t+0]=n,this.array[t+1]=r,this}setXYZ(t,n,r,a){return t*=this.itemSize,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array),a=dn(a,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=a,this}setXYZW(t,n,r,a,i){return t*=this.itemSize,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array),a=dn(a,this.array),i=dn(i,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=a,this.array[t+3]=i,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==AM&&(t.usage=this.usage),t}}class Y9 extends ri{constructor(t,n,r){super(new Uint16Array(t),n,r)}}class X9 extends ri{constructor(t,n,r){super(new Uint32Array(t),n,r)}}class hr extends ri{constructor(t,n,r){super(new Float32Array(t),n,r)}}let Hbe=0;const Va=new Sn,pw=new Tr,uc=new we,Sa=new Ru,Rd=new Ru,_r=new we;class ya extends Vi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hbe++}),this.uuid=ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new($9(t)?X9:Y9)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,n){return this.attributes[t]=n,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,n,r=0){this.groups.push({start:t,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}applyMatrix4(t){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(t),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const i=new jt().getNormalMatrix(t);r.applyNormalMatrix(i),r.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Va.makeRotationFromQuaternion(t),this.applyMatrix4(Va),this}rotateX(t){return Va.makeRotationX(t),this.applyMatrix4(Va),this}rotateY(t){return Va.makeRotationY(t),this.applyMatrix4(Va),this}rotateZ(t){return Va.makeRotationZ(t),this.applyMatrix4(Va),this}translate(t,n,r){return Va.makeTranslation(t,n,r),this.applyMatrix4(Va),this}scale(t,n,r){return Va.makeScale(t,n,r),this.applyMatrix4(Va),this}lookAt(t){return pw.lookAt(t),pw.updateMatrix(),this.applyMatrix4(pw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(uc).negate(),this.translate(uc.x,uc.y,uc.z),this}setFromPoints(t){const n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r];n.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new hr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ru);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new we(-1/0,-1/0,-1/0),new we(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),n)for(let r=0,a=n.length;r<a;r++){const i=n[r];Sa.setFromBufferAttribute(i),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Sa.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Sa.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Sa.min),this.boundingBox.expandByPoint(Sa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new r0);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new we,1/0);return}if(t){const r=this.boundingSphere.center;if(Sa.setFromBufferAttribute(t),n)for(let i=0,o=n.length;i<o;i++){const s=n[i];Rd.setFromBufferAttribute(s),this.morphTargetsRelative?(_r.addVectors(Sa.min,Rd.min),Sa.expandByPoint(_r),_r.addVectors(Sa.max,Rd.max),Sa.expandByPoint(_r)):(Sa.expandByPoint(Rd.min),Sa.expandByPoint(Rd.max))}Sa.getCenter(r);let a=0;for(let i=0,o=t.count;i<o;i++)_r.fromBufferAttribute(t,i),a=Math.max(a,r.distanceToSquared(_r));if(n)for(let i=0,o=n.length;i<o;i++){const s=n[i],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)_r.fromBufferAttribute(s,u),l&&(uc.fromBufferAttribute(t,u),_r.add(uc)),a=Math.max(a,r.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,n=this.attributes;if(t===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,a=n.normal,i=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ri(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let w=0;w<r.count;w++)s[w]=new we,l[w]=new we;const u=new we,c=new we,f=new we,d=new ot,h=new ot,v=new ot,m=new we,p=new we;function g(w,C,M){u.fromBufferAttribute(r,w),c.fromBufferAttribute(r,C),f.fromBufferAttribute(r,M),d.fromBufferAttribute(i,w),h.fromBufferAttribute(i,C),v.fromBufferAttribute(i,M),c.sub(u),f.sub(u),h.sub(d),v.sub(d);const T=1/(h.x*v.y-v.x*h.y);isFinite(T)&&(m.copy(c).multiplyScalar(v.y).addScaledVector(f,-h.y).multiplyScalar(T),p.copy(f).multiplyScalar(h.x).addScaledVector(c,-v.x).multiplyScalar(T),s[w].add(m),s[C].add(m),s[M].add(m),l[w].add(p),l[C].add(p),l[M].add(p))}let y=this.groups;y.length===0&&(y=[{start:0,count:t.count}]);for(let w=0,C=y.length;w<C;++w){const M=y[w],T=M.start,E=M.count;for(let P=T,R=T+E;P<R;P+=3)g(t.getX(P+0),t.getX(P+1),t.getX(P+2))}const x=new we,b=new we,A=new we,S=new we;function _(w){A.fromBufferAttribute(a,w),S.copy(A);const C=s[w];x.copy(C),x.sub(A.multiplyScalar(A.dot(C))).normalize(),b.crossVectors(S,C);const T=b.dot(l[w])<0?-1:1;o.setXYZW(w,x.x,x.y,x.z,T)}for(let w=0,C=y.length;w<C;++w){const M=y[w],T=M.start,E=M.count;for(let P=T,R=T+E;P<R;P+=3)_(t.getX(P+0)),_(t.getX(P+1)),_(t.getX(P+2))}}computeVertexNormals(){const t=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ri(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const a=new we,i=new we,o=new we,s=new we,l=new we,u=new we,c=new we,f=new we;if(t)for(let d=0,h=t.count;d<h;d+=3){const v=t.getX(d+0),m=t.getX(d+1),p=t.getX(d+2);a.fromBufferAttribute(n,v),i.fromBufferAttribute(n,m),o.fromBufferAttribute(n,p),c.subVectors(o,i),f.subVectors(a,i),c.cross(f),s.fromBufferAttribute(r,v),l.fromBufferAttribute(r,m),u.fromBufferAttribute(r,p),s.add(c),l.add(c),u.add(c),r.setXYZ(v,s.x,s.y,s.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(p,u.x,u.y,u.z)}else for(let d=0,h=n.count;d<h;d+=3)a.fromBufferAttribute(n,d+0),i.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,i),f.subVectors(a,i),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let n=0,r=t.count;n<r;n++)_r.fromBufferAttribute(t,n),_r.normalize(),t.setXYZ(n,_r.x,_r.y,_r.z)}toNonIndexed(){function t(s,l){const u=s.array,c=s.itemSize,f=s.normalized,d=new u.constructor(l.length*c);let h=0,v=0;for(let m=0,p=l.length;m<p;m++){s.isInterleavedBufferAttribute?h=l[m]*s.data.stride+s.offset:h=l[m]*c;for(let g=0;g<c;g++)d[v++]=u[h++]}return new ri(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ya,r=this.index.array,a=this.attributes;for(const s in a){const l=a[s],u=t(l,r);n.setAttribute(s,u)}const i=this.morphAttributes;for(const s in i){const l=[],u=i[s];for(let c=0,f=u.length;c<f;c++){const d=u[c],h=t(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(t[u]=l[u]);return t}t.data={attributes:{}};const n=this.index;n!==null&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];t.data.attributes[l]=u.toJSON(t.data)}const a={};let i=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const h=u[f];c.push(h.toJSON(t.data))}c.length>0&&(a[l]=c,i=!0)}i&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(n));const a=t.attributes;for(const u in a){const c=a[u];this.setAttribute(u,c.clone(n))}const i=t.morphAttributes;for(const u in i){const c=[],f=i[u];for(let d=0,h=f.length;d<h;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=t.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const UU=new Sn,Ol=new a0,Yp=new r0,HU=new we,cc=new we,fc=new we,dc=new we,gw=new we,Xp=new we,qp=new ot,Kp=new ot,Zp=new ot,$U=new we,GU=new we,WU=new we,Qp=new we,Jp=new we;class Ka extends Tr{constructor(t=new ya,n=new UP){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const s=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}getVertexPosition(t,n){const r=this.geometry,a=r.attributes.position,i=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(a,t);const s=this.morphTargetInfluences;if(i&&s){Xp.set(0,0,0);for(let l=0,u=i.length;l<u;l++){const c=s[l],f=i[l];c!==0&&(gw.fromBufferAttribute(f,t),o?Xp.addScaledVector(gw,c):Xp.addScaledVector(gw.sub(n),c))}n.add(Xp)}return n}raycast(t,n){const r=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Yp.copy(r.boundingSphere),Yp.applyMatrix4(i),Ol.copy(t.ray).recast(t.near),!(Yp.containsPoint(Ol.origin)===!1&&(Ol.intersectSphere(Yp,HU)===null||Ol.origin.distanceToSquared(HU)>(t.far-t.near)**2))&&(UU.copy(i).invert(),Ol.copy(t.ray).applyMatrix4(UU),!(r.boundingBox!==null&&Ol.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(t,n,Ol)))}_computeIntersections(t,n,r){let a;const i=this.geometry,o=this.material,s=i.index,l=i.attributes.position,u=i.attributes.uv,c=i.attributes.uv1,f=i.attributes.normal,d=i.groups,h=i.drawRange;if(s!==null)if(Array.isArray(o))for(let v=0,m=d.length;v<m;v++){const p=d[v],g=o[p.materialIndex],y=Math.max(p.start,h.start),x=Math.min(s.count,Math.min(p.start+p.count,h.start+h.count));for(let b=y,A=x;b<A;b+=3){const S=s.getX(b),_=s.getX(b+1),w=s.getX(b+2);a=eg(this,g,t,r,u,c,f,S,_,w),a&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=p.materialIndex,n.push(a))}}else{const v=Math.max(0,h.start),m=Math.min(s.count,h.start+h.count);for(let p=v,g=m;p<g;p+=3){const y=s.getX(p),x=s.getX(p+1),b=s.getX(p+2);a=eg(this,o,t,r,u,c,f,y,x,b),a&&(a.faceIndex=Math.floor(p/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,m=d.length;v<m;v++){const p=d[v],g=o[p.materialIndex],y=Math.max(p.start,h.start),x=Math.min(l.count,Math.min(p.start+p.count,h.start+h.count));for(let b=y,A=x;b<A;b+=3){const S=b,_=b+1,w=b+2;a=eg(this,g,t,r,u,c,f,S,_,w),a&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=p.materialIndex,n.push(a))}}else{const v=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let p=v,g=m;p<g;p+=3){const y=p,x=p+1,b=p+2;a=eg(this,o,t,r,u,c,f,y,x,b),a&&(a.faceIndex=Math.floor(p/3),n.push(a))}}}}function $be(e,t,n,r,a,i,o,s){let l;if(t.side===aa?l=r.intersectTriangle(o,i,a,!0,s):l=r.intersectTriangle(a,i,o,t.side===al,s),l===null)return null;Jp.copy(s),Jp.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(Jp);return u<n.near||u>n.far?null:{distance:u,point:Jp.clone(),object:e}}function eg(e,t,n,r,a,i,o,s,l,u){e.getVertexPosition(s,cc),e.getVertexPosition(l,fc),e.getVertexPosition(u,dc);const c=$be(e,t,n,r,cc,fc,dc,Qp);if(c){a&&(qp.fromBufferAttribute(a,s),Kp.fromBufferAttribute(a,l),Zp.fromBufferAttribute(a,u),c.uv=wi.getInterpolation(Qp,cc,fc,dc,qp,Kp,Zp,new ot)),i&&(qp.fromBufferAttribute(i,s),Kp.fromBufferAttribute(i,l),Zp.fromBufferAttribute(i,u),c.uv1=wi.getInterpolation(Qp,cc,fc,dc,qp,Kp,Zp,new ot)),o&&($U.fromBufferAttribute(o,s),GU.fromBufferAttribute(o,l),WU.fromBufferAttribute(o,u),c.normal=wi.getInterpolation(Qp,cc,fc,dc,$U,GU,WU,new we),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new we,materialIndex:0};wi.getNormal(cc,fc,dc,f.normal),c.face=f}return c}class Dv extends ya{constructor(t=1,n=1,r=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:a,heightSegments:i,depthSegments:o};const s=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,h=0;v("z","y","x",-1,-1,r,n,t,o,i,0),v("z","y","x",1,-1,r,n,-t,o,i,1),v("x","z","y",1,1,t,r,n,a,o,2),v("x","z","y",1,-1,t,r,-n,a,o,3),v("x","y","z",1,-1,t,n,r,a,i,4),v("x","y","z",-1,-1,t,n,-r,a,i,5),this.setIndex(l),this.setAttribute("position",new hr(u,3)),this.setAttribute("normal",new hr(c,3)),this.setAttribute("uv",new hr(f,2));function v(m,p,g,y,x,b,A,S,_,w,C){const M=b/_,T=A/w,E=b/2,P=A/2,R=S/2,I=_+1,D=w+1;let B=0,F=0;const G=new we;for(let z=0;z<D;z++){const N=z*T-P;for(let U=0;U<I;U++){const $=U*M-E;G[m]=$*y,G[p]=N*x,G[g]=R,u.push(G.x,G.y,G.z),G[m]=0,G[p]=0,G[g]=S>0?1:-1,c.push(G.x,G.y,G.z),f.push(U/_),f.push(1-z/w),B+=1}}for(let z=0;z<w;z++)for(let N=0;N<_;N++){const U=d+N+I*z,$=d+N+I*(z+1),k=d+(N+1)+I*(z+1),V=d+(N+1)+I*z;l.push(U,$,V),l.push($,k,V),F+=6}s.addGroup(h,F,C),h+=F,d+=B}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Dv(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function pf(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const a=e[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=a.clone():Array.isArray(a)?t[n][r]=a.slice():t[n][r]=a}}return t}function Jr(e){const t={};for(let n=0;n<e.length;n++){const r=pf(e[n]);for(const a in r)t[a]=r[a]}return t}function Gbe(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function q9(e){const t=e.getRenderTarget();return t===null?e.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:hn.workingColorSpace}const K9={clone:pf,merge:Jr};var Wbe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jbe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class uo extends Iu{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wbe,this.fragmentShader=jbe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=pf(t.uniforms),this.uniformsGroups=Gbe(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const n=super.toJSON(t);n.glslVersion=this.glslVersion,n.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?n.uniforms[a]={type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?n.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[a]={type:"m4",value:o.toArray()}:n.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Z9 extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Sn,this.projectionMatrix=new Sn,this.projectionMatrixInverse=new Sn,this.coordinateSystem=Xo}copy(t,n){return super.copy(t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,n){super.updateWorldMatrix(t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ds=new we,jU=new ot,YU=new ot;class ja extends Z9{constructor(t=50,n=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const n=.5*this.getFilmHeight()/t;this.fov=Ih*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(lh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Ih*2*Math.atan(Math.tan(lh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,n,r){Ds.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ds.x,Ds.y).multiplyScalar(-t/Ds.z),Ds.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ds.x,Ds.y).multiplyScalar(-t/Ds.z)}getViewSize(t,n){return this.getViewBounds(t,jU,YU),n.subVectors(YU,jU)}setViewOffset(t,n,r,a,i,o){this.aspect=t/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let n=t*Math.tan(lh*.5*this.fov)/this.zoom,r=2*n,a=this.aspect*r,i=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;i+=o.offsetX*a/l,n-=o.offsetY*r/u,a*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(i+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,n,n-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hc=-90,vc=1;class Ybe extends Tr{constructor(t,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new ja(hc,vc,t,n);a.layers=this.layers,this.add(a);const i=new ja(hc,vc,t,n);i.layers=this.layers,this.add(i);const o=new ja(hc,vc,t,n);o.layers=this.layers,this.add(o);const s=new ja(hc,vc,t,n);s.layers=this.layers,this.add(s);const l=new ja(hc,vc,t,n);l.layers=this.layers,this.add(l);const u=new ja(hc,vc,t,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const t=this.coordinateSystem,n=this.children.concat(),[r,a,i,o,s,l]=n;for(const u of n)this.remove(u);if(t===Xo)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(t===Lm)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const u of n)this.add(u),u.updateMatrixWorld()}update(t,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,l,u,c]=this.children,f=t.getRenderTarget(),d=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),v=t.xr.enabled;t.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0,a),t.render(n,i),t.setRenderTarget(r,1,a),t.render(n,o),t.setRenderTarget(r,2,a),t.render(n,s),t.setRenderTarget(r,3,a),t.render(n,l),t.setRenderTarget(r,4,a),t.render(n,u),r.texture.generateMipmaps=m,t.setRenderTarget(r,5,a),t.render(n,c),t.setRenderTarget(f,d,h),t.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Q9 extends Gr{constructor(t,n,r,a,i,o,s,l,u,c){t=t!==void 0?t:[],n=n!==void 0?n:cf,super(t,n,r,a,i,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Xbe extends ol{constructor(t=1,n={}){super(t,t,n),this.isWebGLCubeRenderTarget=!0;const r={width:t,height:t,depth:1},a=[r,r,r,r,r,r];this.texture=new Q9(a,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ya}fromEquirectangularTexture(t,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Dv(5,5,5),i=new uo({name:"CubemapFromEquirect",uniforms:pf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:aa,blending:ts});i.uniforms.tEquirect.value=n;const o=new Ka(a,i),s=n.minFilter;return n.minFilter===Zl&&(n.minFilter=Ya),new Ybe(1,10,this).update(t,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(t,n,r,a){const i=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(n,r,a);t.setRenderTarget(i)}}const mw=new we,qbe=new we,Kbe=new jt;class Go{constructor(t=new we(1,0,0),n=0){this.isPlane=!0,this.normal=t,this.constant=n}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,r,a){return this.normal.set(t,n,r),this.constant=a,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,r){const a=mw.subVectors(r,n).cross(qbe.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,n){const r=t.delta(mw),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):null;const i=-(t.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:n.copy(t.start).addScaledVector(r,i)}intersectsLine(t){const n=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return n<0&&r>0||r<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const r=n||Kbe.getNormalMatrix(t),a=this.coplanarPoint(mw).applyMatrix4(t),i=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(i),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Nl=new r0,tg=new we;class HP{constructor(t=new Go,n=new Go,r=new Go,a=new Go,i=new Go,o=new Go){this.planes=[t,n,r,a,i,o]}set(t,n,r,a,i,o){const s=this.planes;return s[0].copy(t),s[1].copy(n),s[2].copy(r),s[3].copy(a),s[4].copy(i),s[5].copy(o),this}copy(t){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t,n=Xo){const r=this.planes,a=t.elements,i=a[0],o=a[1],s=a[2],l=a[3],u=a[4],c=a[5],f=a[6],d=a[7],h=a[8],v=a[9],m=a[10],p=a[11],g=a[12],y=a[13],x=a[14],b=a[15];if(r[0].setComponents(l-i,d-u,p-h,b-g).normalize(),r[1].setComponents(l+i,d+u,p+h,b+g).normalize(),r[2].setComponents(l+o,d+c,p+v,b+y).normalize(),r[3].setComponents(l-o,d-c,p-v,b-y).normalize(),r[4].setComponents(l-s,d-f,p-m,b-x).normalize(),n===Xo)r[5].setComponents(l+s,d+f,p+m,b+x).normalize();else if(n===Lm)r[5].setComponents(s,f,m,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Nl.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const n=t.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Nl.copy(n.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Nl)}intersectsSprite(t){return Nl.center.set(0,0,0),Nl.radius=.7071067811865476,Nl.applyMatrix4(t.matrixWorld),this.intersectsSphere(Nl)}intersectsSphere(t){const n=this.planes,r=t.center,a=-t.radius;for(let i=0;i<6;i++)if(n[i].distanceToPoint(r)<a)return!1;return!0}intersectsBox(t){const n=this.planes;for(let r=0;r<6;r++){const a=n[r];if(tg.x=a.normal.x>0?t.max.x:t.min.x,tg.y=a.normal.y>0?t.max.y:t.min.y,tg.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(tg)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function J9(){let e=null,t=!1,n=null,r=null;function a(i,o){n(i,o),r=e.requestAnimationFrame(a)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(i){n=i},setContext:function(i){e=i}}}function Zbe(e){const t=new WeakMap;function n(s,l){const u=s.array,c=s.usage,f=u.byteLength,d=e.createBuffer();e.bindBuffer(l,d),e.bufferData(l,u,c),s.onUploadCallback();let h;if(u instanceof Float32Array)h=e.FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?h=e.HALF_FLOAT:h=e.UNSIGNED_SHORT;else if(u instanceof Int16Array)h=e.SHORT;else if(u instanceof Uint32Array)h=e.UNSIGNED_INT;else if(u instanceof Int32Array)h=e.INT;else if(u instanceof Int8Array)h=e.BYTE;else if(u instanceof Uint8Array)h=e.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)h=e.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:d,type:h,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l._updateRange,d=l.updateRanges;if(e.bindBuffer(u,s),f.count===-1&&d.length===0&&e.bufferSubData(u,0,c),d.length!==0){for(let h=0,v=d.length;h<v;h++){const m=d[h];e.bufferSubData(u,m.start*c.BYTES_PER_ELEMENT,c,m.start,m.count)}l.clearUpdateRanges()}f.count!==-1&&(e.bufferSubData(u,f.offset*c.BYTES_PER_ELEMENT,c,f.offset,f.count),f.count=-1),l.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),t.get(s)}function i(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=t.get(s);l&&(e.deleteBuffer(l.buffer),t.delete(s))}function o(s,l){if(s.isGLBufferAttribute){const c=t.get(s);(!c||c.version<s.version)&&t.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);const u=t.get(s);if(u===void 0)t.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:a,remove:i,update:o}}class i0 extends ya{constructor(t=1,n=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:r,heightSegments:a};const i=t/2,o=n/2,s=Math.floor(r),l=Math.floor(a),u=s+1,c=l+1,f=t/s,d=n/l,h=[],v=[],m=[],p=[];for(let g=0;g<c;g++){const y=g*d-o;for(let x=0;x<u;x++){const b=x*f-i;v.push(b,-y,0),m.push(0,0,1),p.push(x/s),p.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<s;y++){const x=y+u*g,b=y+u*(g+1),A=y+1+u*(g+1),S=y+1+u*g;h.push(x,b,S),h.push(b,A,S)}this.setIndex(h),this.setAttribute("position",new hr(v,3)),this.setAttribute("normal",new hr(m,3)),this.setAttribute("uv",new hr(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i0(t.width,t.height,t.widthSegments,t.heightSegments)}}var Qbe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Jbe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,eSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,tSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nSe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,rSe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aSe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iSe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,oSe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sSe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,lSe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,uSe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cSe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,fSe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dSe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,hSe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pSe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,gSe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mSe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ySe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,xSe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,bSe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,SSe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,_Se=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ASe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wSe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,CSe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MSe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,TSe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ESe="gl_FragColor = linearToOutputTexel( gl_FragColor );",PSe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,RSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,ISe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,DSe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LSe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,OSe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,NSe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,kSe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,BSe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,FSe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,VSe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zSe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,USe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,HSe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$Se=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,GSe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,WSe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jSe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,YSe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,XSe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qSe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,KSe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ZSe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QSe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,JSe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,e_e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,t_e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,n_e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,r_e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,a_e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,i_e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,o_e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,s_e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,l_e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,u_e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,c_e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,f_e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,d_e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,h_e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,v_e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,p_e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,g_e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,m_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,y_e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,x_e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,b_e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,S_e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,__e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,A_e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,w_e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,C_e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,M_e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,T_e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,E_e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,P_e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,R_e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,I_e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,D_e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,L_e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,O_e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,N_e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,k_e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,B_e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,F_e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,V_e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,z_e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,U_e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,H_e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$_e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,G_e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,W_e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,j_e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Y_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,X_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,q_e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,K_e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Z_e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Q_e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J_e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eAe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nAe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,aAe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,iAe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,oAe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,lAe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uAe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cAe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dAe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hAe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vAe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pAe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,gAe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mAe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yAe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xAe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bAe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SAe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_Ae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AAe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wAe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CAe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,MAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TAe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,EAe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,PAe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,RAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Wt={alphahash_fragment:Qbe,alphahash_pars_fragment:Jbe,alphamap_fragment:eSe,alphamap_pars_fragment:tSe,alphatest_fragment:nSe,alphatest_pars_fragment:rSe,aomap_fragment:aSe,aomap_pars_fragment:iSe,batching_pars_vertex:oSe,batching_vertex:sSe,begin_vertex:lSe,beginnormal_vertex:uSe,bsdfs:cSe,iridescence_fragment:fSe,bumpmap_pars_fragment:dSe,clipping_planes_fragment:hSe,clipping_planes_pars_fragment:vSe,clipping_planes_pars_vertex:pSe,clipping_planes_vertex:gSe,color_fragment:mSe,color_pars_fragment:ySe,color_pars_vertex:xSe,color_vertex:bSe,common:SSe,cube_uv_reflection_fragment:_Se,defaultnormal_vertex:ASe,displacementmap_pars_vertex:wSe,displacementmap_vertex:CSe,emissivemap_fragment:MSe,emissivemap_pars_fragment:TSe,colorspace_fragment:ESe,colorspace_pars_fragment:PSe,envmap_fragment:RSe,envmap_common_pars_fragment:ISe,envmap_pars_fragment:DSe,envmap_pars_vertex:LSe,envmap_physical_pars_fragment:GSe,envmap_vertex:OSe,fog_vertex:NSe,fog_pars_vertex:kSe,fog_fragment:BSe,fog_pars_fragment:FSe,gradientmap_pars_fragment:VSe,lightmap_pars_fragment:zSe,lights_lambert_fragment:USe,lights_lambert_pars_fragment:HSe,lights_pars_begin:$Se,lights_toon_fragment:WSe,lights_toon_pars_fragment:jSe,lights_phong_fragment:YSe,lights_phong_pars_fragment:XSe,lights_physical_fragment:qSe,lights_physical_pars_fragment:KSe,lights_fragment_begin:ZSe,lights_fragment_maps:QSe,lights_fragment_end:JSe,logdepthbuf_fragment:e_e,logdepthbuf_pars_fragment:t_e,logdepthbuf_pars_vertex:n_e,logdepthbuf_vertex:r_e,map_fragment:a_e,map_pars_fragment:i_e,map_particle_fragment:o_e,map_particle_pars_fragment:s_e,metalnessmap_fragment:l_e,metalnessmap_pars_fragment:u_e,morphinstance_vertex:c_e,morphcolor_vertex:f_e,morphnormal_vertex:d_e,morphtarget_pars_vertex:h_e,morphtarget_vertex:v_e,normal_fragment_begin:p_e,normal_fragment_maps:g_e,normal_pars_fragment:m_e,normal_pars_vertex:y_e,normal_vertex:x_e,normalmap_pars_fragment:b_e,clearcoat_normal_fragment_begin:S_e,clearcoat_normal_fragment_maps:__e,clearcoat_pars_fragment:A_e,iridescence_pars_fragment:w_e,opaque_fragment:C_e,packing:M_e,premultiplied_alpha_fragment:T_e,project_vertex:E_e,dithering_fragment:P_e,dithering_pars_fragment:R_e,roughnessmap_fragment:I_e,roughnessmap_pars_fragment:D_e,shadowmap_pars_fragment:L_e,shadowmap_pars_vertex:O_e,shadowmap_vertex:N_e,shadowmask_pars_fragment:k_e,skinbase_vertex:B_e,skinning_pars_vertex:F_e,skinning_vertex:V_e,skinnormal_vertex:z_e,specularmap_fragment:U_e,specularmap_pars_fragment:H_e,tonemapping_fragment:$_e,tonemapping_pars_fragment:G_e,transmission_fragment:W_e,transmission_pars_fragment:j_e,uv_pars_fragment:Y_e,uv_pars_vertex:X_e,uv_vertex:q_e,worldpos_vertex:K_e,background_vert:Z_e,background_frag:Q_e,backgroundCube_vert:J_e,backgroundCube_frag:eAe,cube_vert:tAe,cube_frag:nAe,depth_vert:rAe,depth_frag:aAe,distanceRGBA_vert:iAe,distanceRGBA_frag:oAe,equirect_vert:sAe,equirect_frag:lAe,linedashed_vert:uAe,linedashed_frag:cAe,meshbasic_vert:fAe,meshbasic_frag:dAe,meshlambert_vert:hAe,meshlambert_frag:vAe,meshmatcap_vert:pAe,meshmatcap_frag:gAe,meshnormal_vert:mAe,meshnormal_frag:yAe,meshphong_vert:xAe,meshphong_frag:bAe,meshphysical_vert:SAe,meshphysical_frag:_Ae,meshtoon_vert:AAe,meshtoon_frag:wAe,points_vert:CAe,points_frag:MAe,shadow_vert:TAe,shadow_frag:EAe,sprite_vert:PAe,sprite_frag:RAe},ht={common:{diffuse:{value:new qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new jt}},envmap:{envMap:{value:null},envMapRotation:{value:new jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new jt},normalScale:{value:new ot(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0},uvTransform:{value:new jt}},sprite:{diffuse:{value:new qt(16777215)},opacity:{value:1},center:{value:new ot(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new jt},alphaMap:{value:null},alphaMapTransform:{value:new jt},alphaTest:{value:0}}},qi={basic:{uniforms:Jr([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:Jr([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new qt(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:Jr([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:Jr([ht.common,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.roughnessmap,ht.metalnessmap,ht.fog,ht.lights,{emissive:{value:new qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:Jr([ht.common,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.gradientmap,ht.fog,ht.lights,{emissive:{value:new qt(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:Jr([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:Jr([ht.points,ht.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:Jr([ht.common,ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:Jr([ht.common,ht.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:Jr([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:Jr([ht.sprite,ht.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new jt}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:Jr([ht.common,ht.displacementmap,{referencePosition:{value:new we},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:Jr([ht.lights,ht.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};qi.physical={uniforms:Jr([qi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new jt},clearcoatNormalScale:{value:new ot(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new jt},sheen:{value:0},sheenColor:{value:new qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new jt},transmissionSamplerSize:{value:new ot},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new jt},attenuationDistance:{value:0},attenuationColor:{value:new qt(0)},specularColor:{value:new qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new jt},anisotropyVector:{value:new ot},anisotropyMap:{value:null},anisotropyMapTransform:{value:new jt}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};const ng={r:0,b:0,g:0},kl=new lo,IAe=new Sn;function DAe(e,t,n,r,a,i,o){const s=new qt(0);let l=i===!0?0:1,u,c,f=null,d=0,h=null;function v(y){let x=y.isScene===!0?y.background:null;return x&&x.isTexture&&(x=(y.backgroundBlurriness>0?n:t).get(x)),x}function m(y){let x=!1;const b=v(y);b===null?g(s,l):b&&b.isColor&&(g(b,1),x=!0);const A=e.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||x)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))}function p(y,x){const b=v(x);b&&(b.isCubeTexture||b.mapping===t0)?(c===void 0&&(c=new Ka(new Dv(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:pf(qi.backgroundCube.uniforms),vertexShader:qi.backgroundCube.vertexShader,fragmentShader:qi.backgroundCube.fragmentShader,side:aa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(A,S,_){this.matrixWorld.copyPosition(_.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(c)),kl.copy(x.backgroundRotation),kl.x*=-1,kl.y*=-1,kl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(kl.y*=-1,kl.z*=-1),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(IAe.makeRotationFromEuler(kl)),c.material.toneMapped=hn.getTransfer(b.colorSpace)!==En,(f!==b||d!==b.version||h!==e.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,h=e.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Ka(new i0(2,2),new uo({name:"BackgroundMaterial",uniforms:pf(qi.background.uniforms),vertexShader:qi.background.vertexShader,fragmentShader:qi.background.fragmentShader,side:al,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=hn.getTransfer(b.colorSpace)!==En,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||h!==e.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,h=e.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function g(y,x){y.getRGB(ng,q9(e)),r.buffers.color.setClear(ng.r,ng.g,ng.b,x,o)}return{getClearColor:function(){return s},setClearColor:function(y,x=1){s.set(y),l=x,g(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(s,l)},render:m,addToRenderList:p}}function LAe(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},a=d(null);let i=a,o=!1;function s(M,T,E,P,R){let I=!1;const D=f(P,E,T);i!==D&&(i=D,u(i.object)),I=h(M,P,E,R),I&&v(M,P,E,R),R!==null&&t.update(R,e.ELEMENT_ARRAY_BUFFER),(I||o)&&(o=!1,b(M,T,E,P),R!==null&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(R).buffer))}function l(){return e.createVertexArray()}function u(M){return e.bindVertexArray(M)}function c(M){return e.deleteVertexArray(M)}function f(M,T,E){const P=E.wireframe===!0;let R=r[M.id];R===void 0&&(R={},r[M.id]=R);let I=R[T.id];I===void 0&&(I={},R[T.id]=I);let D=I[P];return D===void 0&&(D=d(l()),I[P]=D),D}function d(M){const T=[],E=[],P=[];for(let R=0;R<n;R++)T[R]=0,E[R]=0,P[R]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:E,attributeDivisors:P,object:M,attributes:{},index:null}}function h(M,T,E,P){const R=i.attributes,I=T.attributes;let D=0;const B=E.getAttributes();for(const F in B)if(B[F].location>=0){const z=R[F];let N=I[F];if(N===void 0&&(F==="instanceMatrix"&&M.instanceMatrix&&(N=M.instanceMatrix),F==="instanceColor"&&M.instanceColor&&(N=M.instanceColor)),z===void 0||z.attribute!==N||N&&z.data!==N.data)return!0;D++}return i.attributesNum!==D||i.index!==P}function v(M,T,E,P){const R={},I=T.attributes;let D=0;const B=E.getAttributes();for(const F in B)if(B[F].location>=0){let z=I[F];z===void 0&&(F==="instanceMatrix"&&M.instanceMatrix&&(z=M.instanceMatrix),F==="instanceColor"&&M.instanceColor&&(z=M.instanceColor));const N={};N.attribute=z,z&&z.data&&(N.data=z.data),R[F]=N,D++}i.attributes=R,i.attributesNum=D,i.index=P}function m(){const M=i.newAttributes;for(let T=0,E=M.length;T<E;T++)M[T]=0}function p(M){g(M,0)}function g(M,T){const E=i.newAttributes,P=i.enabledAttributes,R=i.attributeDivisors;E[M]=1,P[M]===0&&(e.enableVertexAttribArray(M),P[M]=1),R[M]!==T&&(e.vertexAttribDivisor(M,T),R[M]=T)}function y(){const M=i.newAttributes,T=i.enabledAttributes;for(let E=0,P=T.length;E<P;E++)T[E]!==M[E]&&(e.disableVertexAttribArray(E),T[E]=0)}function x(M,T,E,P,R,I,D){D===!0?e.vertexAttribIPointer(M,T,E,R,I):e.vertexAttribPointer(M,T,E,P,R,I)}function b(M,T,E,P){m();const R=P.attributes,I=E.getAttributes(),D=T.defaultAttributeValues;for(const B in I){const F=I[B];if(F.location>=0){let G=R[B];if(G===void 0&&(B==="instanceMatrix"&&M.instanceMatrix&&(G=M.instanceMatrix),B==="instanceColor"&&M.instanceColor&&(G=M.instanceColor)),G!==void 0){const z=G.normalized,N=G.itemSize,U=t.get(G);if(U===void 0)continue;const $=U.buffer,k=U.type,V=U.bytesPerElement,L=k===e.INT||k===e.UNSIGNED_INT||G.gpuType===N9;if(G.isInterleavedBufferAttribute){const O=G.data,H=O.stride,j=G.offset;if(O.isInstancedInterleavedBuffer){for(let Y=0;Y<F.locationSize;Y++)g(F.location+Y,O.meshPerAttribute);M.isInstancedMesh!==!0&&P._maxInstanceCount===void 0&&(P._maxInstanceCount=O.meshPerAttribute*O.count)}else for(let Y=0;Y<F.locationSize;Y++)p(F.location+Y);e.bindBuffer(e.ARRAY_BUFFER,$);for(let Y=0;Y<F.locationSize;Y++)x(F.location+Y,N/F.locationSize,k,z,H*V,(j+N/F.locationSize*Y)*V,L)}else{if(G.isInstancedBufferAttribute){for(let O=0;O<F.locationSize;O++)g(F.location+O,G.meshPerAttribute);M.isInstancedMesh!==!0&&P._maxInstanceCount===void 0&&(P._maxInstanceCount=G.meshPerAttribute*G.count)}else for(let O=0;O<F.locationSize;O++)p(F.location+O);e.bindBuffer(e.ARRAY_BUFFER,$);for(let O=0;O<F.locationSize;O++)x(F.location+O,N/F.locationSize,k,z,N*V,N/F.locationSize*O*V,L)}}else if(D!==void 0){const z=D[B];if(z!==void 0)switch(z.length){case 2:e.vertexAttrib2fv(F.location,z);break;case 3:e.vertexAttrib3fv(F.location,z);break;case 4:e.vertexAttrib4fv(F.location,z);break;default:e.vertexAttrib1fv(F.location,z)}}}}y()}function A(){w();for(const M in r){const T=r[M];for(const E in T){const P=T[E];for(const R in P)c(P[R].object),delete P[R];delete T[E]}delete r[M]}}function S(M){if(r[M.id]===void 0)return;const T=r[M.id];for(const E in T){const P=T[E];for(const R in P)c(P[R].object),delete P[R];delete T[E]}delete r[M.id]}function _(M){for(const T in r){const E=r[T];if(E[M.id]===void 0)continue;const P=E[M.id];for(const R in P)c(P[R].object),delete P[R];delete E[M.id]}}function w(){C(),o=!0,i!==a&&(i=a,u(i.object))}function C(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:w,resetDefaultState:C,dispose:A,releaseStatesOfGeometry:S,releaseStatesOfProgram:_,initAttributes:m,enableAttribute:p,disableUnusedAttributes:y}}function OAe(e,t,n){let r;function a(u){r=u}function i(u,c){e.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,f){f!==0&&(e.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;const d=t.get("WEBGL_multi_draw");if(d===null)for(let h=0;h<f;h++)this.render(u[h],c[h]);else{d.multiDrawArraysWEBGL(r,u,0,c,0,f);let h=0;for(let v=0;v<f;v++)h+=c[v];n.update(h,r,1)}}function l(u,c,f,d){if(f===0)return;const h=t.get("WEBGL_multi_draw");if(h===null)for(let v=0;v<u.length;v++)o(u[v],c[v],d[v]);else{h.multiDrawArraysInstancedWEBGL(r,u,0,c,0,d,0,f);let v=0;for(let m=0;m<f;m++)v+=c[m];for(let m=0;m<d.length;m++)n.update(v,r,d[m])}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function NAe(e,t,n,r){let a;function i(){if(a!==void 0)return a;if(t.has("EXT_texture_filter_anisotropic")===!0){const S=t.get("EXT_texture_filter_anisotropic");a=e.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(S){return!(S!==to&&r.convert(S)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(S){const _=S===Iv&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(S!==il&&r.convert(S)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&S!==Zs&&!_)}function l(S){if(S==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return S==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=e.getParameter(e.MAX_TEXTURE_SIZE),m=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),y=e.getParameter(e.MAX_VARYING_VECTORS),x=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,A=e.getParameter(e.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,maxTextures:d,maxVertexTextures:h,maxTextureSize:v,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:g,maxVaryings:y,maxFragmentUniforms:x,vertexTextures:b,maxSamples:A}}function kAe(e){const t=this;let n=null,r=0,a=!1,i=!1;const o=new Go,s=new jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||a;return a=d,r=f.length,h},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,h){const v=f.clippingPlanes,m=f.clipIntersection,p=f.clipShadows,g=e.get(f);if(!a||v===null||v.length===0||i&&!p)i?c(null):u();else{const y=i?0:r,x=y*4;let b=g.clippingState||null;l.value=b,b=c(v,d,x,h);for(let A=0;A!==x;++A)b[A]=n[A];g.clippingState=b,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(f,d,h,v){const m=f!==null?f.length:0;let p=null;if(m!==0){if(p=l.value,v!==!0||p===null){const g=h+m*4,y=d.matrixWorldInverse;s.getNormalMatrix(y),(p===null||p.length<g)&&(p=new Float32Array(g));for(let x=0,b=h;x!==m;++x,b+=4)o.copy(f[x]).applyMatrix4(y,s),o.normal.toArray(p,b),p[b+3]=o.constant}l.value=p,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,p}}function BAe(e){let t=new WeakMap;function n(o,s){return s===xM?o.mapping=cf:s===bM&&(o.mapping=ff),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===xM||s===bM)if(t.has(o)){const l=t.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new Xbe(l.height);return u.fromEquirectangularTexture(e,o),t.set(o,u),o.addEventListener("dispose",a),n(u.texture,o.mapping)}else return null}}return o}function a(o){const s=o.target;s.removeEventListener("dispose",a);const l=t.get(s);l!==void 0&&(t.delete(s),l.dispose())}function i(){t=new WeakMap}return{get:r,dispose:i}}class $P extends Z9{constructor(t=-1,n=1,r=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=n,this.top=r,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,n,r,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=r-t,o=r+t,s=a+n,l=a-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=u*this.view.offsetX,o=i+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Rc=4,XU=[.125,.215,.35,.446,.526,.582],Wl=20,yw=new $P,qU=new qt;let xw=null,bw=0,Sw=0,_w=!1;const zl=(1+Math.sqrt(5))/2,pc=1/zl,KU=[new we(-zl,pc,0),new we(zl,pc,0),new we(-pc,0,zl),new we(pc,0,zl),new we(0,zl,-pc),new we(0,zl,pc),new we(-1,1,-1),new we(1,1,-1),new we(-1,1,1),new we(1,1,1)];class ZU{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,r=.1,a=100){xw=this._renderer.getRenderTarget(),bw=this._renderer.getActiveCubeFace(),Sw=this._renderer.getActiveMipmapLevel(),_w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(t,r,a,i),n>0&&this._blur(i,0,0,n),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(t,n=null){return this._fromTexture(t,n)}fromCubemap(t,n=null){return this._fromTexture(t,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=JU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(xw,bw,Sw),this._renderer.xr.enabled=_w,t.scissorTest=!1,rg(t,0,0,t.width,t.height)}_fromTexture(t,n){t.mapping===cf||t.mapping===ff?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),xw=this._renderer.getRenderTarget(),bw=this._renderer.getActiveCubeFace(),Sw=this._renderer.getActiveMipmapLevel(),_w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ya,minFilter:Ya,generateMipmaps:!1,type:Iv,format:to,colorSpace:hl,depthBuffer:!1},a=QU(t,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QU(t,n,r);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=FAe(i)),this._blurMaterial=VAe(i,t,n)}return a}_compileMaterial(t){const n=new Ka(this._lodPlanes[0],t);this._renderer.compile(n,yw)}_sceneToCubeUV(t,n,r,a){const s=new ja(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(qU),c.toneMapping=tl,c.autoClear=!1;const h=new UP({name:"PMREM.Background",side:aa,depthWrite:!1,depthTest:!1}),v=new Ka(new Dv,h);let m=!1;const p=t.background;p?p.isColor&&(h.color.copy(p),t.background=null,m=!0):(h.color.copy(qU),m=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(s.up.set(0,l[g],0),s.lookAt(u[g],0,0)):y===1?(s.up.set(0,0,l[g]),s.lookAt(0,u[g],0)):(s.up.set(0,l[g],0),s.lookAt(0,0,u[g]));const x=this._cubeSize;rg(a,y*x,g>2?x:0,x,x),c.setRenderTarget(a),m&&c.render(v,s),c.render(t,s)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=d,c.autoClear=f,t.background=p}_textureToCubeUV(t,n){const r=this._renderer,a=t.mapping===cf||t.mapping===ff;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=eH()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=JU());const i=a?this._cubemapMaterial:this._equirectMaterial,o=new Ka(this._lodPlanes[0],i),s=i.uniforms;s.envMap.value=t;const l=this._cubeSize;rg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,yw)}_applyPMREM(t){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const a=this._lodPlanes.length;for(let i=1;i<a;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=KU[(a-i-1)%KU.length];this._blur(t,i-1,i,o,s)}n.autoClear=r}_blur(t,n,r,a,i){const o=this._pingPongRenderTarget;this._halfBlur(t,o,n,r,a,"latitudinal",i),this._halfBlur(o,t,r,r,a,"longitudinal",i)}_halfBlur(t,n,r,a,i,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Ka(this._lodPlanes[a],u),d=u.uniforms,h=this._sizeLods[r]-1,v=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*Wl-1),m=i/v,p=isFinite(i)?1+Math.floor(c*m):Wl;p>Wl&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${Wl}`);const g=[];let y=0;for(let _=0;_<Wl;++_){const w=_/m,C=Math.exp(-w*w/2);g.push(C),_===0?y+=C:_<p&&(y+=2*C)}for(let _=0;_<g.length;_++)g[_]=g[_]/y;d.envMap.value=t.texture,d.samples.value=p,d.weights.value=g,d.latitudinal.value=o==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:x}=this;d.dTheta.value=v,d.mipInt.value=x-r;const b=this._sizeLods[a],A=3*b*(a>x-Rc?a-x+Rc:0),S=4*(this._cubeSize-b);rg(n,A,S,3*b,2*b),l.setRenderTarget(n),l.render(f,yw)}}function FAe(e){const t=[],n=[],r=[];let a=e;const i=e-Rc+1+XU.length;for(let o=0;o<i;o++){const s=Math.pow(2,a);n.push(s);let l=1/s;o>e-Rc?l=XU[o-e+Rc-1]:o===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,v=6,m=3,p=2,g=1,y=new Float32Array(m*v*h),x=new Float32Array(p*v*h),b=new Float32Array(g*v*h);for(let S=0;S<h;S++){const _=S%3*2/3-1,w=S>2?0:-1,C=[_,w,0,_+2/3,w,0,_+2/3,w+1,0,_,w,0,_+2/3,w+1,0,_,w+1,0];y.set(C,m*v*S),x.set(d,p*v*S);const M=[S,S,S,S,S,S];b.set(M,g*v*S)}const A=new ya;A.setAttribute("position",new ri(y,m)),A.setAttribute("uv",new ri(x,p)),A.setAttribute("faceIndex",new ri(b,g)),t.push(A),a>Rc&&a--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function QU(e,t,n){const r=new ol(e,t,n);return r.texture.mapping=t0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function rg(e,t,n,r,a){e.viewport.set(t,n,r,a),e.scissor.set(t,n,r,a)}function VAe(e,t,n){const r=new Float32Array(Wl),a=new we(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:Wl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:GP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ts,depthTest:!1,depthWrite:!1})}function JU(){return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:GP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ts,depthTest:!1,depthWrite:!1})}function eH(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:GP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ts,depthTest:!1,depthWrite:!1})}function GP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zAe(e){let t=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===xM||l===bM,c=l===cf||l===ff;if(u||c){let f=t.get(s);const d=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return n===null&&(n=new ZU(e)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),f.texture;if(f!==void 0)return f.texture;{const h=s.image;return u&&h&&h.height>0||c&&h&&a(h)?(n===null&&(n=new ZU(e)),f=u?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,t.set(s,f),s.addEventListener("dispose",i),f.texture):null}}}return s}function a(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function i(s){const l=s.target;l.removeEventListener("dispose",i);const u=t.get(l);u!==void 0&&(t.delete(l),u.dispose())}function o(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function UAe(e){const t={};function n(r){if(t[r]!==void 0)return t[r];let a;switch(r){case"WEBGL_depth_texture":a=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=e.getExtension(r)}return t[r]=a,a}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const a=n(r);return a===null&&VP("THREE.WebGLRenderer: "+r+" extension not supported."),a}}}function HAe(e,t,n,r){const a={},i=new WeakMap;function o(f){const d=f.target;d.index!==null&&t.remove(d.index);for(const v in d.attributes)t.remove(d.attributes[v]);for(const v in d.morphAttributes){const m=d.morphAttributes[v];for(let p=0,g=m.length;p<g;p++)t.remove(m[p])}d.removeEventListener("dispose",o),delete a[d.id];const h=i.get(d);h&&(t.remove(h),i.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return a[d.id]===!0||(d.addEventListener("dispose",o),a[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const v in d)t.update(d[v],e.ARRAY_BUFFER);const h=f.morphAttributes;for(const v in h){const m=h[v];for(let p=0,g=m.length;p<g;p++)t.update(m[p],e.ARRAY_BUFFER)}}function u(f){const d=[],h=f.index,v=f.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let x=0,b=y.length;x<b;x+=3){const A=y[x+0],S=y[x+1],_=y[x+2];d.push(A,S,S,_,_,A)}}else if(v!==void 0){const y=v.array;m=v.version;for(let x=0,b=y.length/3-1;x<b;x+=3){const A=x+0,S=x+1,_=x+2;d.push(A,S,S,_,_,A)}}else return;const p=new($9(d)?X9:Y9)(d,1);p.version=m;const g=i.get(f);g&&t.remove(g),i.set(f,p)}function c(f){const d=i.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&u(f)}else u(f);return i.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function $Ae(e,t,n){let r;function a(d){r=d}let i,o;function s(d){i=d.type,o=d.bytesPerElement}function l(d,h){e.drawElements(r,h,i,d*o),n.update(h,r,1)}function u(d,h,v){v!==0&&(e.drawElementsInstanced(r,h,i,d*o,v),n.update(h,r,v))}function c(d,h,v){if(v===0)return;const m=t.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<v;p++)this.render(d[p]/o,h[p]);else{m.multiDrawElementsWEBGL(r,h,0,i,d,0,v);let p=0;for(let g=0;g<v;g++)p+=h[g];n.update(p,r,1)}}function f(d,h,v,m){if(v===0)return;const p=t.get("WEBGL_multi_draw");if(p===null)for(let g=0;g<d.length;g++)u(d[g]/o,h[g],m[g]);else{p.multiDrawElementsInstancedWEBGL(r,h,0,i,d,0,m,0,v);let g=0;for(let y=0;y<v;y++)g+=h[y];for(let y=0;y<m.length;y++)n.update(g,r,m[y])}}this.setMode=a,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function GAe(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,o,s){switch(n.calls++,o){case e.TRIANGLES:n.triangles+=s*(i/3);break;case e.LINES:n.lines+=s*(i/2);break;case e.LINE_STRIP:n.lines+=s*(i-1);break;case e.LINE_LOOP:n.lines+=s*i;break;case e.POINTS:n.points+=s*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function a(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:a,update:r}}function WAe(e,t,n){const r=new WeakMap,a=new Mr;function i(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let d=r.get(s);if(d===void 0||d.count!==f){let C=function(){_.dispose(),r.delete(s),s.removeEventListener("dispose",C)};d!==void 0&&d.texture.dispose();const h=s.morphAttributes.position!==void 0,v=s.morphAttributes.normal!==void 0,m=s.morphAttributes.color!==void 0,p=s.morphAttributes.position||[],g=s.morphAttributes.normal||[],y=s.morphAttributes.color||[];let x=0;h===!0&&(x=1),v===!0&&(x=2),m===!0&&(x=3);let b=s.attributes.position.count*x,A=1;b>t.maxTextureSize&&(A=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const S=new Float32Array(b*A*4*f),_=new W9(S,b,A,f);_.type=Zs,_.needsUpdate=!0;const w=x*4;for(let M=0;M<f;M++){const T=p[M],E=g[M],P=y[M],R=b*A*4*M;for(let I=0;I<T.count;I++){const D=I*w;h===!0&&(a.fromBufferAttribute(T,I),S[R+D+0]=a.x,S[R+D+1]=a.y,S[R+D+2]=a.z,S[R+D+3]=0),v===!0&&(a.fromBufferAttribute(E,I),S[R+D+4]=a.x,S[R+D+5]=a.y,S[R+D+6]=a.z,S[R+D+7]=0),m===!0&&(a.fromBufferAttribute(P,I),S[R+D+8]=a.x,S[R+D+9]=a.y,S[R+D+10]=a.z,S[R+D+11]=P.itemSize===4?a.w:1)}}d={count:f,texture:_,size:new ot(b,A)},r.set(s,d),s.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let h=0;for(let m=0;m<u.length;m++)h+=u[m];const v=s.morphTargetsRelative?1:1-h;l.getUniforms().setValue(e,"morphTargetBaseInfluence",v),l.getUniforms().setValue(e,"morphTargetInfluences",u)}l.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}return{update:i}}function jAe(e,t,n,r){let a=new WeakMap;function i(l){const u=r.render.frame,c=l.geometry,f=t.get(l,c);if(a.get(f)!==u&&(t.update(f),a.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),a.get(l)!==u&&(n.update(l.instanceMatrix,e.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,e.ARRAY_BUFFER),a.set(l,u))),l.isSkinnedMesh){const d=l.skeleton;a.get(d)!==u&&(d.update(),a.set(d,u))}return f}function o(){a=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:i,dispose:o}}class ej extends Gr{constructor(t,n,r,a,i,o,s,l,u,c=jc){if(c!==jc&&c!==vf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===jc&&(r=df),r===void 0&&c===vf&&(r=hf),super(null,a,i,o,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:t,height:n},this.magFilter=s!==void 0?s:qa,this.minFilter=l!==void 0?l:qa,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const n=super.toJSON(t);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const tj=new Gr,nj=new ej(1,1);nj.compareFunction=H9;const rj=new W9,aj=new Lbe,ij=new Q9,tH=[],nH=[],rH=new Float32Array(16),aH=new Float32Array(9),iH=new Float32Array(4);function Wf(e,t,n){const r=e[0];if(r<=0||r>0)return e;const a=t*n;let i=tH[a];if(i===void 0&&(i=new Float32Array(a),tH[a]=i),t!==0){r.toArray(i,0);for(let o=1,s=0;o!==t;++o)s+=n,e[o].toArray(i,s)}return i}function vr(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function pr(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function o0(e,t){let n=nH[t];n===void 0&&(n=new Int32Array(t),nH[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function YAe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function XAe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vr(n,t))return;e.uniform2fv(this.addr,t),pr(n,t)}}function qAe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(vr(n,t))return;e.uniform3fv(this.addr,t),pr(n,t)}}function KAe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vr(n,t))return;e.uniform4fv(this.addr,t),pr(n,t)}}function ZAe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(vr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),pr(n,t)}else{if(vr(n,r))return;iH.set(r),e.uniformMatrix2fv(this.addr,!1,iH),pr(n,r)}}function QAe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(vr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),pr(n,t)}else{if(vr(n,r))return;aH.set(r),e.uniformMatrix3fv(this.addr,!1,aH),pr(n,r)}}function JAe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(vr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),pr(n,t)}else{if(vr(n,r))return;rH.set(r),e.uniformMatrix4fv(this.addr,!1,rH),pr(n,r)}}function ewe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function twe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vr(n,t))return;e.uniform2iv(this.addr,t),pr(n,t)}}function nwe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(vr(n,t))return;e.uniform3iv(this.addr,t),pr(n,t)}}function rwe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vr(n,t))return;e.uniform4iv(this.addr,t),pr(n,t)}}function awe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function iwe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(vr(n,t))return;e.uniform2uiv(this.addr,t),pr(n,t)}}function owe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(vr(n,t))return;e.uniform3uiv(this.addr,t),pr(n,t)}}function swe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(vr(n,t))return;e.uniform4uiv(this.addr,t),pr(n,t)}}function lwe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a);const i=this.type===e.SAMPLER_2D_SHADOW?nj:tj;n.setTexture2D(t||i,a)}function uwe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(t||aj,a)}function cwe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTextureCube(t||ij,a)}function fwe(e,t,n){const r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(e.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(t||rj,a)}function dwe(e){switch(e){case 5126:return YAe;case 35664:return XAe;case 35665:return qAe;case 35666:return KAe;case 35674:return ZAe;case 35675:return QAe;case 35676:return JAe;case 5124:case 35670:return ewe;case 35667:case 35671:return twe;case 35668:case 35672:return nwe;case 35669:case 35673:return rwe;case 5125:return awe;case 36294:return iwe;case 36295:return owe;case 36296:return swe;case 35678:case 36198:case 36298:case 36306:case 35682:return lwe;case 35679:case 36299:case 36307:return uwe;case 35680:case 36300:case 36308:case 36293:return cwe;case 36289:case 36303:case 36311:case 36292:return fwe}}function hwe(e,t){e.uniform1fv(this.addr,t)}function vwe(e,t){const n=Wf(t,this.size,2);e.uniform2fv(this.addr,n)}function pwe(e,t){const n=Wf(t,this.size,3);e.uniform3fv(this.addr,n)}function gwe(e,t){const n=Wf(t,this.size,4);e.uniform4fv(this.addr,n)}function mwe(e,t){const n=Wf(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ywe(e,t){const n=Wf(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function xwe(e,t){const n=Wf(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function bwe(e,t){e.uniform1iv(this.addr,t)}function Swe(e,t){e.uniform2iv(this.addr,t)}function _we(e,t){e.uniform3iv(this.addr,t)}function Awe(e,t){e.uniform4iv(this.addr,t)}function wwe(e,t){e.uniform1uiv(this.addr,t)}function Cwe(e,t){e.uniform2uiv(this.addr,t)}function Mwe(e,t){e.uniform3uiv(this.addr,t)}function Twe(e,t){e.uniform4uiv(this.addr,t)}function Ewe(e,t,n){const r=this.cache,a=t.length,i=o0(n,a);vr(r,i)||(e.uniform1iv(this.addr,i),pr(r,i));for(let o=0;o!==a;++o)n.setTexture2D(t[o]||tj,i[o])}function Pwe(e,t,n){const r=this.cache,a=t.length,i=o0(n,a);vr(r,i)||(e.uniform1iv(this.addr,i),pr(r,i));for(let o=0;o!==a;++o)n.setTexture3D(t[o]||aj,i[o])}function Rwe(e,t,n){const r=this.cache,a=t.length,i=o0(n,a);vr(r,i)||(e.uniform1iv(this.addr,i),pr(r,i));for(let o=0;o!==a;++o)n.setTextureCube(t[o]||ij,i[o])}function Iwe(e,t,n){const r=this.cache,a=t.length,i=o0(n,a);vr(r,i)||(e.uniform1iv(this.addr,i),pr(r,i));for(let o=0;o!==a;++o)n.setTexture2DArray(t[o]||rj,i[o])}function Dwe(e){switch(e){case 5126:return hwe;case 35664:return vwe;case 35665:return pwe;case 35666:return gwe;case 35674:return mwe;case 35675:return ywe;case 35676:return xwe;case 5124:case 35670:return bwe;case 35667:case 35671:return Swe;case 35668:case 35672:return _we;case 35669:case 35673:return Awe;case 5125:return wwe;case 36294:return Cwe;case 36295:return Mwe;case 36296:return Twe;case 35678:case 36198:case 36298:case 36306:case 35682:return Ewe;case 35679:case 36299:case 36307:return Pwe;case 35680:case 36300:case 36308:case 36293:return Rwe;case 36289:case 36303:case 36311:case 36292:return Iwe}}class Lwe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=dwe(n.type)}}class Owe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Dwe(n.type)}}class Nwe{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,n,r){const a=this.seq;for(let i=0,o=a.length;i!==o;++i){const s=a[i];s.setValue(t,n[s.id],r)}}}const Aw=/(\w+)(\])?(\[|\.)?/g;function oH(e,t){e.seq.push(t),e.map[t.id]=t}function kwe(e,t,n){const r=e.name,a=r.length;for(Aw.lastIndex=0;;){const i=Aw.exec(r),o=Aw.lastIndex;let s=i[1];const l=i[2]==="]",u=i[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===a){oH(n,u===void 0?new Lwe(s,e,t):new Owe(s,e,t));break}else{let f=n.map[s];f===void 0&&(f=new Nwe(s),oH(n,f)),n=f}}}class zg{constructor(t,n){this.seq=[],this.map={};const r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const i=t.getActiveUniform(n,a),o=t.getUniformLocation(n,i.name);kwe(i,o,this)}}setValue(t,n,r,a){const i=this.map[n];i!==void 0&&i.setValue(t,r,a)}setOptional(t,n,r){const a=n[r];a!==void 0&&this.setValue(t,r,a)}static upload(t,n,r,a){for(let i=0,o=n.length;i!==o;++i){const s=n[i],l=r[s.id];l.needsUpdate!==!1&&s.setValue(t,l.value,a)}}static seqWithValue(t,n){const r=[];for(let a=0,i=t.length;a!==i;++a){const o=t[a];o.id in n&&r.push(o)}return r}}function sH(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const Bwe=37297;let Fwe=0;function Vwe(e,t){const n=e.split(`
`),r=[],a=Math.max(t-6,0),i=Math.min(t+6,n.length);for(let o=a;o<i;o++){const s=o+1;r.push(`${s===t?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}function zwe(e){const t=hn.getPrimaries(hn.workingColorSpace),n=hn.getPrimaries(e);let r;switch(t===n?r="":t===Dm&&n===Im?r="LinearDisplayP3ToLinearSRGB":t===Im&&n===Dm&&(r="LinearSRGBToLinearDisplayP3"),e){case hl:case n0:return[r,"LinearTransferOETF"];case Ga:case BP:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}function lH(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),a=e.getShaderInfoLog(t).trim();if(r&&a==="")return"";const i=/ERROR: 0:(\d+)/.exec(a);if(i){const o=parseInt(i[1]);return n.toUpperCase()+`

`+a+`

`+Vwe(e.getShaderSource(t),o)}else return a}function Uwe(e,t){const n=zwe(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Hwe(e,t){let n;switch(t){case k1e:n="Linear";break;case B1e:n="Reinhard";break;case F1e:n="OptimizedCineon";break;case V1e:n="ACESFilmic";break;case U1e:n="AgX";break;case H1e:n="Neutral";break;case z1e:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function $we(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xd).join(`
`)}function Gwe(e){const t=[];for(const n in e){const r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function Wwe(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const i=e.getActiveAttrib(t,a),o=i.name;let s=1;i.type===e.FLOAT_MAT2&&(s=2),i.type===e.FLOAT_MAT3&&(s=3),i.type===e.FLOAT_MAT4&&(s=4),n[o]={type:i.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}function Xd(e){return e!==""}function uH(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function cH(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const jwe=/^[ \t]*#include +<([\w\d./]+)>/gm;function CM(e){return e.replace(jwe,Xwe)}const Ywe=new Map;function Xwe(e,t){let n=Wt[t];if(n===void 0){const r=Ywe.get(t);if(r!==void 0)n=Wt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r);else throw new Error("Can not resolve #include <"+t+">")}return CM(n)}const qwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fH(e){return e.replace(qwe,Kwe)}function Kwe(e,t,n,r){let a="";for(let i=parseInt(t);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function dH(e){let t=`precision ${e.precision} float;
	precision ${e.precision} int;
	precision ${e.precision} sampler2D;
	precision ${e.precision} samplerCube;
	precision ${e.precision} sampler3D;
	precision ${e.precision} sampler2DArray;
	precision ${e.precision} sampler2DShadow;
	precision ${e.precision} samplerCubeShadow;
	precision ${e.precision} sampler2DArrayShadow;
	precision ${e.precision} isampler2D;
	precision ${e.precision} isampler3D;
	precision ${e.precision} isamplerCube;
	precision ${e.precision} isampler2DArray;
	precision ${e.precision} usampler2D;
	precision ${e.precision} usampler3D;
	precision ${e.precision} usamplerCube;
	precision ${e.precision} usampler2DArray;
	`;return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function Zwe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===L9?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===l1e?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===zo&&(t="SHADOWMAP_TYPE_VSM"),t}function Qwe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case cf:case ff:t="ENVMAP_TYPE_CUBE";break;case t0:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Jwe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ff:t="ENVMAP_MODE_REFRACTION";break}return t}function eCe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case kP:t="ENVMAP_BLENDING_MULTIPLY";break;case O1e:t="ENVMAP_BLENDING_MIX";break;case N1e:t="ENVMAP_BLENDING_ADD";break}return t}function tCe(e){const t=e.envMapCubeUVHeight;if(t===null)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function nCe(e,t,n,r){const a=e.getContext(),i=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=Zwe(n),u=Qwe(n),c=Jwe(n),f=eCe(n),d=tCe(n),h=$we(n),v=Gwe(i),m=a.createProgram();let p,g,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Xd).join(`
`),p.length>0&&(p+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Xd).join(`
`),g.length>0&&(g+=`
`)):(p=[dH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xd).join(`
`),g=[dH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==tl?"#define TONE_MAPPING":"",n.toneMapping!==tl?Wt.tonemapping_pars_fragment:"",n.toneMapping!==tl?Hwe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Wt.colorspace_pars_fragment,Uwe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Xd).join(`
`)),o=CM(o),o=uH(o,n),o=cH(o,n),s=CM(s),s=uH(s,n),s=cH(s,n),o=fH(o),s=fH(s),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,g=["#define varying in",n.glslVersion===TU?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TU?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const x=y+p+o,b=y+g+s,A=sH(a,a.VERTEX_SHADER,x),S=sH(a,a.FRAGMENT_SHADER,b);a.attachShader(m,A),a.attachShader(m,S),n.index0AttributeName!==void 0?a.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(m,0,"position"),a.linkProgram(m);function _(T){if(e.debug.checkShaderErrors){const E=a.getProgramInfoLog(m).trim(),P=a.getShaderInfoLog(A).trim(),R=a.getShaderInfoLog(S).trim();let I=!0,D=!0;if(a.getProgramParameter(m,a.LINK_STATUS)===!1)if(I=!1,typeof e.debug.onShaderError=="function")e.debug.onShaderError(a,m,A,S);else{const B=lH(a,A,"vertex"),F=lH(a,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(m,a.VALIDATE_STATUS)+`

Material Name: `+T.name+`
Material Type: `+T.type+`

Program Info Log: `+E+`
`+B+`
`+F)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(P===""||R==="")&&(D=!1);D&&(T.diagnostics={runnable:I,programLog:E,vertexShader:{log:P,prefix:p},fragmentShader:{log:R,prefix:g}})}a.deleteShader(A),a.deleteShader(S),w=new zg(a,m),C=Wwe(a,m)}let w;this.getUniforms=function(){return w===void 0&&_(this),w};let C;this.getAttributes=function(){return C===void 0&&_(this),C};let M=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return M===!1&&(M=a.getProgramParameter(m,Bwe)),M},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Fwe++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=A,this.fragmentShader=S,this}let rCe=0;class aCe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.vertexShader,r=t.fragmentShader,a=this._getShaderStage(n),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(t);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(t){const n=this.materialCache.get(t);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const n=this.materialCache;let r=n.get(t);return r===void 0&&(r=new Set,n.set(t,r)),r}_getShaderStage(t){const n=this.shaderCache;let r=n.get(t);return r===void 0&&(r=new iCe(t),n.set(t,r)),r}}class iCe{constructor(t){this.id=rCe++,this.code=t,this.usedTimes=0}}function oCe(e,t,n,r,a,i,o){const s=new zP,l=new aCe,u=new Set,c=[],f=a.logarithmicDepthBuffer,d=a.vertexTextures;let h=a.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(C){return u.add(C),C===0?"uv":`uv${C}`}function p(C,M,T,E,P){const R=E.fog,I=P.geometry,D=C.isMeshStandardMaterial?E.environment:null,B=(C.isMeshStandardMaterial?n:t).get(C.envMap||D),F=B&&B.mapping===t0?B.image.height:null,G=v[C.type];C.precision!==null&&(h=a.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const z=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,N=z!==void 0?z.length:0;let U=0;I.morphAttributes.position!==void 0&&(U=1),I.morphAttributes.normal!==void 0&&(U=2),I.morphAttributes.color!==void 0&&(U=3);let $,k,V,L;if(G){const _t=qi[G];$=_t.vertexShader,k=_t.fragmentShader}else $=C.vertexShader,k=C.fragmentShader,l.update(C),V=l.getVertexShaderID(C),L=l.getFragmentShaderID(C);const O=e.getRenderTarget(),H=P.isInstancedMesh===!0,j=P.isBatchedMesh===!0,Y=!!C.map,X=!!C.matcap,Q=!!B,K=!!C.aoMap,Z=!!C.lightMap,te=!!C.bumpMap,oe=!!C.normalMap,ue=!!C.displacementMap,se=!!C.emissiveMap,me=!!C.metalnessMap,re=!!C.roughnessMap,q=C.anisotropy>0,ae=C.clearcoat>0,ce=C.dispersion>0,ee=C.iridescence>0,ne=C.sheen>0,le=C.transmission>0,he=q&&!!C.anisotropyMap,pe=ae&&!!C.clearcoatMap,ye=ae&&!!C.clearcoatNormalMap,ge=ae&&!!C.clearcoatRoughnessMap,Ce=ee&&!!C.iridescenceMap,xe=ee&&!!C.iridescenceThicknessMap,be=ne&&!!C.sheenColorMap,_e=ne&&!!C.sheenRoughnessMap,Ee=!!C.specularMap,Pe=!!C.specularColorMap,Ne=!!C.specularIntensityMap,J=le&&!!C.transmissionMap,Ae=le&&!!C.thicknessMap,Se=!!C.gradientMap,Te=!!C.alphaMap,De=C.alphaTest>0,Ke=!!C.alphaHash,rt=!!C.extensions;let wt=tl;C.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(wt=e.toneMapping);const Ct={shaderID:G,shaderType:C.type,shaderName:C.name,vertexShader:$,fragmentShader:k,defines:C.defines,customVertexShaderID:V,customFragmentShaderID:L,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,batching:j,batchingColor:j&&P._colorsTexture!==null,instancing:H,instancingColor:H&&P.instanceColor!==null,instancingMorph:H&&P.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:O===null?e.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:hl,alphaToCoverage:!!C.alphaToCoverage,map:Y,matcap:X,envMap:Q,envMapMode:Q&&B.mapping,envMapCubeUVHeight:F,aoMap:K,lightMap:Z,bumpMap:te,normalMap:oe,displacementMap:d&&ue,emissiveMap:se,normalMapObjectSpace:oe&&C.normalMapType===nbe,normalMapTangentSpace:oe&&C.normalMapType===U9,metalnessMap:me,roughnessMap:re,anisotropy:q,anisotropyMap:he,clearcoat:ae,clearcoatMap:pe,clearcoatNormalMap:ye,clearcoatRoughnessMap:ge,dispersion:ce,iridescence:ee,iridescenceMap:Ce,iridescenceThicknessMap:xe,sheen:ne,sheenColorMap:be,sheenRoughnessMap:_e,specularMap:Ee,specularColorMap:Pe,specularIntensityMap:Ne,transmission:le,transmissionMap:J,thicknessMap:Ae,gradientMap:Se,opaque:C.transparent===!1&&C.blending===Wc&&C.alphaToCoverage===!1,alphaMap:Te,alphaTest:De,alphaHash:Ke,combine:C.combine,mapUv:Y&&m(C.map.channel),aoMapUv:K&&m(C.aoMap.channel),lightMapUv:Z&&m(C.lightMap.channel),bumpMapUv:te&&m(C.bumpMap.channel),normalMapUv:oe&&m(C.normalMap.channel),displacementMapUv:ue&&m(C.displacementMap.channel),emissiveMapUv:se&&m(C.emissiveMap.channel),metalnessMapUv:me&&m(C.metalnessMap.channel),roughnessMapUv:re&&m(C.roughnessMap.channel),anisotropyMapUv:he&&m(C.anisotropyMap.channel),clearcoatMapUv:pe&&m(C.clearcoatMap.channel),clearcoatNormalMapUv:ye&&m(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ge&&m(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ce&&m(C.iridescenceMap.channel),iridescenceThicknessMapUv:xe&&m(C.iridescenceThicknessMap.channel),sheenColorMapUv:be&&m(C.sheenColorMap.channel),sheenRoughnessMapUv:_e&&m(C.sheenRoughnessMap.channel),specularMapUv:Ee&&m(C.specularMap.channel),specularColorMapUv:Pe&&m(C.specularColorMap.channel),specularIntensityMapUv:Ne&&m(C.specularIntensityMap.channel),transmissionMapUv:J&&m(C.transmissionMap.channel),thicknessMapUv:Ae&&m(C.thicknessMap.channel),alphaMapUv:Te&&m(C.alphaMap.channel),vertexTangents:!!I.attributes.tangent&&(oe||q),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!I.attributes.color&&I.attributes.color.itemSize===4,pointsUvs:P.isPoints===!0&&!!I.attributes.uv&&(Y||Te),fog:!!R,useFog:C.fog===!0,fogExp2:!!R&&R.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:P.isSkinnedMesh===!0,morphTargets:I.morphAttributes.position!==void 0,morphNormals:I.morphAttributes.normal!==void 0,morphColors:I.morphAttributes.color!==void 0,morphTargetsCount:N,morphTextureStride:U,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numSpotLightMaps:M.spotLightMap.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numSpotLightShadowsWithMaps:M.numSpotLightShadowsWithMaps,numLightProbes:M.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:e.shadowMap.enabled&&T.length>0,shadowMapType:e.shadowMap.type,toneMapping:wt,decodeVideoTexture:Y&&C.map.isVideoTexture===!0&&hn.getTransfer(C.map.colorSpace)===En,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Yo,flipSided:C.side===aa,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:rt&&C.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:rt&&C.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Ct.vertexUv1s=u.has(1),Ct.vertexUv2s=u.has(2),Ct.vertexUv3s=u.has(3),u.clear(),Ct}function g(C){const M=[];if(C.shaderID?M.push(C.shaderID):(M.push(C.customVertexShaderID),M.push(C.customFragmentShaderID)),C.defines!==void 0)for(const T in C.defines)M.push(T),M.push(C.defines[T]);return C.isRawShaderMaterial===!1&&(y(M,C),x(M,C),M.push(e.outputColorSpace)),M.push(C.customProgramCacheKey),M.join()}function y(C,M){C.push(M.precision),C.push(M.outputColorSpace),C.push(M.envMapMode),C.push(M.envMapCubeUVHeight),C.push(M.mapUv),C.push(M.alphaMapUv),C.push(M.lightMapUv),C.push(M.aoMapUv),C.push(M.bumpMapUv),C.push(M.normalMapUv),C.push(M.displacementMapUv),C.push(M.emissiveMapUv),C.push(M.metalnessMapUv),C.push(M.roughnessMapUv),C.push(M.anisotropyMapUv),C.push(M.clearcoatMapUv),C.push(M.clearcoatNormalMapUv),C.push(M.clearcoatRoughnessMapUv),C.push(M.iridescenceMapUv),C.push(M.iridescenceThicknessMapUv),C.push(M.sheenColorMapUv),C.push(M.sheenRoughnessMapUv),C.push(M.specularMapUv),C.push(M.specularColorMapUv),C.push(M.specularIntensityMapUv),C.push(M.transmissionMapUv),C.push(M.thicknessMapUv),C.push(M.combine),C.push(M.fogExp2),C.push(M.sizeAttenuation),C.push(M.morphTargetsCount),C.push(M.morphAttributeCount),C.push(M.numDirLights),C.push(M.numPointLights),C.push(M.numSpotLights),C.push(M.numSpotLightMaps),C.push(M.numHemiLights),C.push(M.numRectAreaLights),C.push(M.numDirLightShadows),C.push(M.numPointLightShadows),C.push(M.numSpotLightShadows),C.push(M.numSpotLightShadowsWithMaps),C.push(M.numLightProbes),C.push(M.shadowMapType),C.push(M.toneMapping),C.push(M.numClippingPlanes),C.push(M.numClipIntersection),C.push(M.depthPacking)}function x(C,M){s.disableAll(),M.supportsVertexTextures&&s.enable(0),M.instancing&&s.enable(1),M.instancingColor&&s.enable(2),M.instancingMorph&&s.enable(3),M.matcap&&s.enable(4),M.envMap&&s.enable(5),M.normalMapObjectSpace&&s.enable(6),M.normalMapTangentSpace&&s.enable(7),M.clearcoat&&s.enable(8),M.iridescence&&s.enable(9),M.alphaTest&&s.enable(10),M.vertexColors&&s.enable(11),M.vertexAlphas&&s.enable(12),M.vertexUv1s&&s.enable(13),M.vertexUv2s&&s.enable(14),M.vertexUv3s&&s.enable(15),M.vertexTangents&&s.enable(16),M.anisotropy&&s.enable(17),M.alphaHash&&s.enable(18),M.batching&&s.enable(19),M.dispersion&&s.enable(20),M.batchingColor&&s.enable(21),C.push(s.mask),s.disableAll(),M.fog&&s.enable(0),M.useFog&&s.enable(1),M.flatShading&&s.enable(2),M.logarithmicDepthBuffer&&s.enable(3),M.skinning&&s.enable(4),M.morphTargets&&s.enable(5),M.morphNormals&&s.enable(6),M.morphColors&&s.enable(7),M.premultipliedAlpha&&s.enable(8),M.shadowMapEnabled&&s.enable(9),M.doubleSided&&s.enable(10),M.flipSided&&s.enable(11),M.useDepthPacking&&s.enable(12),M.dithering&&s.enable(13),M.transmission&&s.enable(14),M.sheen&&s.enable(15),M.opaque&&s.enable(16),M.pointsUvs&&s.enable(17),M.decodeVideoTexture&&s.enable(18),M.alphaToCoverage&&s.enable(19),C.push(s.mask)}function b(C){const M=v[C.type];let T;if(M){const E=qi[M];T=K9.clone(E.uniforms)}else T=C.uniforms;return T}function A(C,M){let T;for(let E=0,P=c.length;E<P;E++){const R=c[E];if(R.cacheKey===M){T=R,++T.usedTimes;break}}return T===void 0&&(T=new nCe(e,M,C,i),c.push(T)),T}function S(C){if(--C.usedTimes===0){const M=c.indexOf(C);c[M]=c[c.length-1],c.pop(),C.destroy()}}function _(C){l.remove(C)}function w(){l.dispose()}return{getParameters:p,getProgramCacheKey:g,getUniforms:b,acquireProgram:A,releaseProgram:S,releaseShaderCache:_,programs:c,dispose:w}}function sCe(){let e=new WeakMap;function t(i){let o=e.get(i);return o===void 0&&(o={},e.set(i,o)),o}function n(i){e.delete(i)}function r(i,o,s){e.get(i)[o]=s}function a(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:a}}function lCe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function hH(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function vH(){const e=[];let t=0;const n=[],r=[],a=[];function i(){t=0,n.length=0,r.length=0,a.length=0}function o(f,d,h,v,m,p){let g=e[t];return g===void 0?(g={id:f.id,object:f,geometry:d,material:h,groupOrder:v,renderOrder:f.renderOrder,z:m,group:p},e[t]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=h,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=m,g.group=p),t++,g}function s(f,d,h,v,m,p){const g=o(f,d,h,v,m,p);h.transmission>0?r.push(g):h.transparent===!0?a.push(g):n.push(g)}function l(f,d,h,v,m,p){const g=o(f,d,h,v,m,p);h.transmission>0?r.unshift(g):h.transparent===!0?a.unshift(g):n.unshift(g)}function u(f,d){n.length>1&&n.sort(f||lCe),r.length>1&&r.sort(d||hH),a.length>1&&a.sort(d||hH)}function c(){for(let f=t,d=e.length;f<d;f++){const h=e[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:a,init:i,push:s,unshift:l,finish:c,sort:u}}function uCe(){let e=new WeakMap;function t(r,a){const i=e.get(r);let o;return i===void 0?(o=new vH,e.set(r,[o])):a>=i.length?(o=new vH,i.push(o)):o=i[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}function cCe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new we,color:new qt};break;case"SpotLight":n={position:new we,direction:new we,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new we,color:new qt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new we,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":n={color:new qt,position:new we,halfWidth:new we,halfHeight:new we};break}return e[t.id]=n,n}}}function fCe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let dCe=0;function hCe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function vCe(e){const t=new cCe,n=fCe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new we);const a=new we,i=new Sn,o=new Sn;function s(u){let c=0,f=0,d=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let h=0,v=0,m=0,p=0,g=0,y=0,x=0,b=0,A=0,S=0,_=0;u.sort(hCe);for(let C=0,M=u.length;C<M;C++){const T=u[C],E=T.color,P=T.intensity,R=T.distance,I=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)c+=E.r*P,f+=E.g*P,d+=E.b*P;else if(T.isLightProbe){for(let D=0;D<9;D++)r.probe[D].addScaledVector(T.sh.coefficients[D],P);_++}else if(T.isDirectionalLight){const D=t.get(T);if(D.color.copy(T.color).multiplyScalar(T.intensity),T.castShadow){const B=T.shadow,F=n.get(T);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,r.directionalShadow[h]=F,r.directionalShadowMap[h]=I,r.directionalShadowMatrix[h]=T.shadow.matrix,y++}r.directional[h]=D,h++}else if(T.isSpotLight){const D=t.get(T);D.position.setFromMatrixPosition(T.matrixWorld),D.color.copy(E).multiplyScalar(P),D.distance=R,D.coneCos=Math.cos(T.angle),D.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),D.decay=T.decay,r.spot[m]=D;const B=T.shadow;if(T.map&&(r.spotLightMap[A]=T.map,A++,B.updateMatrices(T),T.castShadow&&S++),r.spotLightMatrix[m]=B.matrix,T.castShadow){const F=n.get(T);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,r.spotShadow[m]=F,r.spotShadowMap[m]=I,b++}m++}else if(T.isRectAreaLight){const D=t.get(T);D.color.copy(E).multiplyScalar(P),D.halfWidth.set(T.width*.5,0,0),D.halfHeight.set(0,T.height*.5,0),r.rectArea[p]=D,p++}else if(T.isPointLight){const D=t.get(T);if(D.color.copy(T.color).multiplyScalar(T.intensity),D.distance=T.distance,D.decay=T.decay,T.castShadow){const B=T.shadow,F=n.get(T);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,F.shadowCameraNear=B.camera.near,F.shadowCameraFar=B.camera.far,r.pointShadow[v]=F,r.pointShadowMap[v]=I,r.pointShadowMatrix[v]=T.shadow.matrix,x++}r.point[v]=D,v++}else if(T.isHemisphereLight){const D=t.get(T);D.skyColor.copy(T.color).multiplyScalar(P),D.groundColor.copy(T.groundColor).multiplyScalar(P),r.hemi[g]=D,g++}}p>0&&(e.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ht.LTC_FLOAT_1,r.rectAreaLTC2=ht.LTC_FLOAT_2):(r.rectAreaLTC1=ht.LTC_HALF_1,r.rectAreaLTC2=ht.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=d;const w=r.hash;(w.directionalLength!==h||w.pointLength!==v||w.spotLength!==m||w.rectAreaLength!==p||w.hemiLength!==g||w.numDirectionalShadows!==y||w.numPointShadows!==x||w.numSpotShadows!==b||w.numSpotMaps!==A||w.numLightProbes!==_)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=p,r.point.length=v,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=x,r.spotLightMatrix.length=b+A-S,r.spotLightMap.length=A,r.numSpotLightShadowsWithMaps=S,r.numLightProbes=_,w.directionalLength=h,w.pointLength=v,w.spotLength=m,w.rectAreaLength=p,w.hemiLength=g,w.numDirectionalShadows=y,w.numPointShadows=x,w.numSpotShadows=b,w.numSpotMaps=A,w.numLightProbes=_,r.version=dCe++)}function l(u,c){let f=0,d=0,h=0,v=0,m=0;const p=c.matrixWorldInverse;for(let g=0,y=u.length;g<y;g++){const x=u[g];if(x.isDirectionalLight){const b=r.directional[f];b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(p),f++}else if(x.isSpotLight){const b=r.spot[h];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(p),h++}else if(x.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),o.identity(),i.copy(x.matrixWorld),i.premultiply(p),o.extractRotation(i),b.halfWidth.set(x.width*.5,0,0),b.halfHeight.set(0,x.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(x.isPointLight){const b=r.point[d];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(p),d++}else if(x.isHemisphereLight){const b=r.hemi[m];b.direction.setFromMatrixPosition(x.matrixWorld),b.direction.transformDirection(p),m++}}}return{setup:s,setupView:l,state:r}}function pH(e){const t=new vCe(e),n=[],r=[];function a(c){u.camera=c,n.length=0,r.length=0}function i(c){n.push(c)}function o(c){r.push(c)}function s(){t.setup(n)}function l(c){t.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:a,state:u,setupLights:s,setupLightsView:l,pushLight:i,pushShadow:o}}function pCe(e){let t=new WeakMap;function n(a,i=0){const o=t.get(a);let s;return o===void 0?(s=new pH(e),t.set(a,[s])):i>=o.length?(s=new pH(e),o.push(s)):s=o[i],s}function r(){t=new WeakMap}return{get:n,dispose:r}}class gCe extends Iu{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ebe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class mCe extends Iu{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const yCe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xCe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function bCe(e,t,n){let r=new HP;const a=new ot,i=new ot,o=new Mr,s=new gCe({depthPacking:tbe}),l=new mCe,u={},c=n.maxTextureSize,f={[al]:aa,[aa]:al,[Yo]:Yo},d=new uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ot},radius:{value:4}},vertexShader:yCe,fragmentShader:xCe}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const v=new ya;v.setAttribute("position",new ri(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ka(v,d),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=L9;let g=this.type;this.render=function(S,_,w){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||S.length===0)return;const C=e.getRenderTarget(),M=e.getActiveCubeFace(),T=e.getActiveMipmapLevel(),E=e.state;E.setBlending(ts),E.buffers.color.setClear(1,1,1,1),E.buffers.depth.setTest(!0),E.setScissorTest(!1);const P=g!==zo&&this.type===zo,R=g===zo&&this.type!==zo;for(let I=0,D=S.length;I<D;I++){const B=S[I],F=B.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",B,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;a.copy(F.mapSize);const G=F.getFrameExtents();if(a.multiply(G),i.copy(F.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(i.x=Math.floor(c/G.x),a.x=i.x*G.x,F.mapSize.x=i.x),a.y>c&&(i.y=Math.floor(c/G.y),a.y=i.y*G.y,F.mapSize.y=i.y)),F.map===null||P===!0||R===!0){const N=this.type!==zo?{minFilter:qa,magFilter:qa}:{};F.map!==null&&F.map.dispose(),F.map=new ol(a.x,a.y,N),F.map.texture.name=B.name+".shadowMap",F.camera.updateProjectionMatrix()}e.setRenderTarget(F.map),e.clear();const z=F.getViewportCount();for(let N=0;N<z;N++){const U=F.getViewport(N);o.set(i.x*U.x,i.y*U.y,i.x*U.z,i.y*U.w),E.viewport(o),F.updateMatrices(B,N),r=F.getFrustum(),b(_,w,F.camera,B,this.type)}F.isPointLightShadow!==!0&&this.type===zo&&y(F,w),F.needsUpdate=!1}g=this.type,p.needsUpdate=!1,e.setRenderTarget(C,M,T)};function y(S,_){const w=t.update(m);d.defines.VSM_SAMPLES!==S.blurSamples&&(d.defines.VSM_SAMPLES=S.blurSamples,h.defines.VSM_SAMPLES=S.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new ol(a.x,a.y)),d.uniforms.shadow_pass.value=S.map.texture,d.uniforms.resolution.value=S.mapSize,d.uniforms.radius.value=S.radius,e.setRenderTarget(S.mapPass),e.clear(),e.renderBufferDirect(_,null,w,d,m,null),h.uniforms.shadow_pass.value=S.mapPass.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,e.setRenderTarget(S.map),e.clear(),e.renderBufferDirect(_,null,w,h,m,null)}function x(S,_,w,C){let M=null;const T=w.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(T!==void 0)M=T;else if(M=w.isPointLight===!0?l:s,e.localClippingEnabled&&_.clipShadows===!0&&Array.isArray(_.clippingPlanes)&&_.clippingPlanes.length!==0||_.displacementMap&&_.displacementScale!==0||_.alphaMap&&_.alphaTest>0||_.map&&_.alphaTest>0){const E=M.uuid,P=_.uuid;let R=u[E];R===void 0&&(R={},u[E]=R);let I=R[P];I===void 0&&(I=M.clone(),R[P]=I,_.addEventListener("dispose",A)),M=I}if(M.visible=_.visible,M.wireframe=_.wireframe,C===zo?M.side=_.shadowSide!==null?_.shadowSide:_.side:M.side=_.shadowSide!==null?_.shadowSide:f[_.side],M.alphaMap=_.alphaMap,M.alphaTest=_.alphaTest,M.map=_.map,M.clipShadows=_.clipShadows,M.clippingPlanes=_.clippingPlanes,M.clipIntersection=_.clipIntersection,M.displacementMap=_.displacementMap,M.displacementScale=_.displacementScale,M.displacementBias=_.displacementBias,M.wireframeLinewidth=_.wireframeLinewidth,M.linewidth=_.linewidth,w.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const E=e.properties.get(M);E.light=w}return M}function b(S,_,w,C,M){if(S.visible===!1)return;if(S.layers.test(_.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&M===zo)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,S.matrixWorld);const P=t.update(S),R=S.material;if(Array.isArray(R)){const I=P.groups;for(let D=0,B=I.length;D<B;D++){const F=I[D],G=R[F.materialIndex];if(G&&G.visible){const z=x(S,G,C,M);S.onBeforeShadow(e,S,_,w,P,z,F),e.renderBufferDirect(w,null,P,z,S,F),S.onAfterShadow(e,S,_,w,P,z,F)}}}else if(R.visible){const I=x(S,R,C,M);S.onBeforeShadow(e,S,_,w,P,I,null),e.renderBufferDirect(w,null,P,I,S,null),S.onAfterShadow(e,S,_,w,P,I,null)}}const E=S.children;for(let P=0,R=E.length;P<R;P++)b(E[P],_,w,C,M)}function A(S){S.target.removeEventListener("dispose",A);for(const w in u){const C=u[w],M=S.target.uuid;M in C&&(C[M].dispose(),delete C[M])}}}function SCe(e){function t(){let J=!1;const Ae=new Mr;let Se=null;const Te=new Mr(0,0,0,0);return{setMask:function(De){Se!==De&&!J&&(e.colorMask(De,De,De,De),Se=De)},setLocked:function(De){J=De},setClear:function(De,Ke,rt,wt,Ct){Ct===!0&&(De*=wt,Ke*=wt,rt*=wt),Ae.set(De,Ke,rt,wt),Te.equals(Ae)===!1&&(e.clearColor(De,Ke,rt,wt),Te.copy(Ae))},reset:function(){J=!1,Se=null,Te.set(-1,0,0,0)}}}function n(){let J=!1,Ae=null,Se=null,Te=null;return{setTest:function(De){De?L(e.DEPTH_TEST):O(e.DEPTH_TEST)},setMask:function(De){Ae!==De&&!J&&(e.depthMask(De),Ae=De)},setFunc:function(De){if(Se!==De){switch(De){case T1e:e.depthFunc(e.NEVER);break;case E1e:e.depthFunc(e.ALWAYS);break;case P1e:e.depthFunc(e.LESS);break;case Em:e.depthFunc(e.LEQUAL);break;case R1e:e.depthFunc(e.EQUAL);break;case I1e:e.depthFunc(e.GEQUAL);break;case D1e:e.depthFunc(e.GREATER);break;case L1e:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}Se=De}},setLocked:function(De){J=De},setClear:function(De){Te!==De&&(e.clearDepth(De),Te=De)},reset:function(){J=!1,Ae=null,Se=null,Te=null}}}function r(){let J=!1,Ae=null,Se=null,Te=null,De=null,Ke=null,rt=null,wt=null,Ct=null;return{setTest:function(_t){J||(_t?L(e.STENCIL_TEST):O(e.STENCIL_TEST))},setMask:function(_t){Ae!==_t&&!J&&(e.stencilMask(_t),Ae=_t)},setFunc:function(_t,Yt,Xt){(Se!==_t||Te!==Yt||De!==Xt)&&(e.stencilFunc(_t,Yt,Xt),Se=_t,Te=Yt,De=Xt)},setOp:function(_t,Yt,Xt){(Ke!==_t||rt!==Yt||wt!==Xt)&&(e.stencilOp(_t,Yt,Xt),Ke=_t,rt=Yt,wt=Xt)},setLocked:function(_t){J=_t},setClear:function(_t){Ct!==_t&&(e.clearStencil(_t),Ct=_t)},reset:function(){J=!1,Ae=null,Se=null,Te=null,De=null,Ke=null,rt=null,wt=null,Ct=null}}}const a=new t,i=new n,o=new r,s=new WeakMap,l=new WeakMap;let u={},c={},f=new WeakMap,d=[],h=null,v=!1,m=null,p=null,g=null,y=null,x=null,b=null,A=null,S=new qt(0,0,0),_=0,w=!1,C=null,M=null,T=null,E=null,P=null;const R=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let I=!1,D=0;const B=e.getParameter(e.VERSION);B.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(B)[1]),I=D>=1):B.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),I=D>=2);let F=null,G={};const z=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),U=new Mr().fromArray(z),$=new Mr().fromArray(N);function k(J,Ae,Se,Te){const De=new Uint8Array(4),Ke=e.createTexture();e.bindTexture(J,Ke),e.texParameteri(J,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(J,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let rt=0;rt<Se;rt++)J===e.TEXTURE_3D||J===e.TEXTURE_2D_ARRAY?e.texImage3D(Ae,0,e.RGBA,1,1,Te,0,e.RGBA,e.UNSIGNED_BYTE,De):e.texImage2D(Ae+rt,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,De);return Ke}const V={};V[e.TEXTURE_2D]=k(e.TEXTURE_2D,e.TEXTURE_2D,1),V[e.TEXTURE_CUBE_MAP]=k(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),V[e.TEXTURE_2D_ARRAY]=k(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),V[e.TEXTURE_3D]=k(e.TEXTURE_3D,e.TEXTURE_3D,1,1),a.setClear(0,0,0,1),i.setClear(1),o.setClear(0),L(e.DEPTH_TEST),i.setFunc(Em),te(!1),oe(Kz),L(e.CULL_FACE),K(ts);function L(J){u[J]!==!0&&(e.enable(J),u[J]=!0)}function O(J){u[J]!==!1&&(e.disable(J),u[J]=!1)}function H(J,Ae){return c[J]!==Ae?(e.bindFramebuffer(J,Ae),c[J]=Ae,J===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=Ae),J===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=Ae),!0):!1}function j(J,Ae){let Se=d,Te=!1;if(J){Se=f.get(Ae),Se===void 0&&(Se=[],f.set(Ae,Se));const De=J.textures;if(Se.length!==De.length||Se[0]!==e.COLOR_ATTACHMENT0){for(let Ke=0,rt=De.length;Ke<rt;Ke++)Se[Ke]=e.COLOR_ATTACHMENT0+Ke;Se.length=De.length,Te=!0}}else Se[0]!==e.BACK&&(Se[0]=e.BACK,Te=!0);Te&&e.drawBuffers(Se)}function Y(J){return h!==J?(e.useProgram(J),h=J,!0):!1}const X={[Gl]:e.FUNC_ADD,[c1e]:e.FUNC_SUBTRACT,[f1e]:e.FUNC_REVERSE_SUBTRACT};X[d1e]=e.MIN,X[h1e]=e.MAX;const Q={[v1e]:e.ZERO,[p1e]:e.ONE,[g1e]:e.SRC_COLOR,[mM]:e.SRC_ALPHA,[_1e]:e.SRC_ALPHA_SATURATE,[b1e]:e.DST_COLOR,[y1e]:e.DST_ALPHA,[m1e]:e.ONE_MINUS_SRC_COLOR,[yM]:e.ONE_MINUS_SRC_ALPHA,[S1e]:e.ONE_MINUS_DST_COLOR,[x1e]:e.ONE_MINUS_DST_ALPHA,[A1e]:e.CONSTANT_COLOR,[w1e]:e.ONE_MINUS_CONSTANT_COLOR,[C1e]:e.CONSTANT_ALPHA,[M1e]:e.ONE_MINUS_CONSTANT_ALPHA};function K(J,Ae,Se,Te,De,Ke,rt,wt,Ct,_t){if(J===ts){v===!0&&(O(e.BLEND),v=!1);return}if(v===!1&&(L(e.BLEND),v=!0),J!==u1e){if(J!==m||_t!==w){if((p!==Gl||x!==Gl)&&(e.blendEquation(e.FUNC_ADD),p=Gl,x=Gl),_t)switch(J){case Wc:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Zz:e.blendFunc(e.ONE,e.ONE);break;case Qz:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Jz:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case Wc:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case Zz:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case Qz:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case Jz:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}g=null,y=null,b=null,A=null,S.set(0,0,0),_=0,m=J,w=_t}return}De=De||Ae,Ke=Ke||Se,rt=rt||Te,(Ae!==p||De!==x)&&(e.blendEquationSeparate(X[Ae],X[De]),p=Ae,x=De),(Se!==g||Te!==y||Ke!==b||rt!==A)&&(e.blendFuncSeparate(Q[Se],Q[Te],Q[Ke],Q[rt]),g=Se,y=Te,b=Ke,A=rt),(wt.equals(S)===!1||Ct!==_)&&(e.blendColor(wt.r,wt.g,wt.b,Ct),S.copy(wt),_=Ct),m=J,w=!1}function Z(J,Ae){J.side===Yo?O(e.CULL_FACE):L(e.CULL_FACE);let Se=J.side===aa;Ae&&(Se=!Se),te(Se),J.blending===Wc&&J.transparent===!1?K(ts):K(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.blendColor,J.blendAlpha,J.premultipliedAlpha),i.setFunc(J.depthFunc),i.setTest(J.depthTest),i.setMask(J.depthWrite),a.setMask(J.colorWrite);const Te=J.stencilWrite;o.setTest(Te),Te&&(o.setMask(J.stencilWriteMask),o.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),o.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),se(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?L(e.SAMPLE_ALPHA_TO_COVERAGE):O(e.SAMPLE_ALPHA_TO_COVERAGE)}function te(J){C!==J&&(J?e.frontFace(e.CW):e.frontFace(e.CCW),C=J)}function oe(J){J!==o1e?(L(e.CULL_FACE),J!==M&&(J===Kz?e.cullFace(e.BACK):J===s1e?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):O(e.CULL_FACE),M=J}function ue(J){J!==T&&(I&&e.lineWidth(J),T=J)}function se(J,Ae,Se){J?(L(e.POLYGON_OFFSET_FILL),(E!==Ae||P!==Se)&&(e.polygonOffset(Ae,Se),E=Ae,P=Se)):O(e.POLYGON_OFFSET_FILL)}function me(J){J?L(e.SCISSOR_TEST):O(e.SCISSOR_TEST)}function re(J){J===void 0&&(J=e.TEXTURE0+R-1),F!==J&&(e.activeTexture(J),F=J)}function q(J,Ae,Se){Se===void 0&&(F===null?Se=e.TEXTURE0+R-1:Se=F);let Te=G[Se];Te===void 0&&(Te={type:void 0,texture:void 0},G[Se]=Te),(Te.type!==J||Te.texture!==Ae)&&(F!==Se&&(e.activeTexture(Se),F=Se),e.bindTexture(J,Ae||V[J]),Te.type=J,Te.texture=Ae)}function ae(){const J=G[F];J!==void 0&&J.type!==void 0&&(e.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function ce(){try{e.compressedTexImage2D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ee(){try{e.compressedTexImage3D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ne(){try{e.texSubImage2D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function le(){try{e.texSubImage3D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function he(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function pe(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ye(){try{e.texStorage2D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ge(){try{e.texStorage3D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ce(){try{e.texImage2D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function xe(){try{e.texImage3D.apply(e,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function be(J){U.equals(J)===!1&&(e.scissor(J.x,J.y,J.z,J.w),U.copy(J))}function _e(J){$.equals(J)===!1&&(e.viewport(J.x,J.y,J.z,J.w),$.copy(J))}function Ee(J,Ae){let Se=l.get(Ae);Se===void 0&&(Se=new WeakMap,l.set(Ae,Se));let Te=Se.get(J);Te===void 0&&(Te=e.getUniformBlockIndex(Ae,J.name),Se.set(J,Te))}function Pe(J,Ae){const Te=l.get(Ae).get(J);s.get(Ae)!==Te&&(e.uniformBlockBinding(Ae,Te,J.__bindingPointIndex),s.set(Ae,Te))}function Ne(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},F=null,G={},c={},f=new WeakMap,d=[],h=null,v=!1,m=null,p=null,g=null,y=null,x=null,b=null,A=null,S=new qt(0,0,0),_=0,w=!1,C=null,M=null,T=null,E=null,P=null,U.set(0,0,e.canvas.width,e.canvas.height),$.set(0,0,e.canvas.width,e.canvas.height),a.reset(),i.reset(),o.reset()}return{buffers:{color:a,depth:i,stencil:o},enable:L,disable:O,bindFramebuffer:H,drawBuffers:j,useProgram:Y,setBlending:K,setMaterial:Z,setFlipSided:te,setCullFace:oe,setLineWidth:ue,setPolygonOffset:se,setScissorTest:me,activeTexture:re,bindTexture:q,unbindTexture:ae,compressedTexImage2D:ce,compressedTexImage3D:ee,texImage2D:Ce,texImage3D:xe,updateUBOMapping:Ee,uniformBlockBinding:Pe,texStorage2D:ye,texStorage3D:ge,texSubImage2D:ne,texSubImage3D:le,compressedTexSubImage2D:he,compressedTexSubImage3D:pe,scissor:be,viewport:_e,reset:Ne}}function _Ce(e,t,n,r,a,i,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new ot,c=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(re,q){return h?new OffscreenCanvas(re,q):Dh("canvas")}function m(re,q,ae){let ce=1;const ee=me(re);if((ee.width>ae||ee.height>ae)&&(ce=ae/Math.max(ee.width,ee.height)),ce<1)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const ne=Math.floor(ce*ee.width),le=Math.floor(ce*ee.height);f===void 0&&(f=v(ne,le));const he=q?v(ne,le):f;return he.width=ne,he.height=le,he.getContext("2d").drawImage(re,0,0,ne,le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ee.width+"x"+ee.height+") to ("+ne+"x"+le+")."),he}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ee.width+"x"+ee.height+")."),re;return re}function p(re){return re.generateMipmaps&&re.minFilter!==qa&&re.minFilter!==Ya}function g(re){e.generateMipmap(re)}function y(re,q,ae,ce,ee=!1){if(re!==null){if(e[re]!==void 0)return e[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let ne=q;if(q===e.RED&&(ae===e.FLOAT&&(ne=e.R32F),ae===e.HALF_FLOAT&&(ne=e.R16F),ae===e.UNSIGNED_BYTE&&(ne=e.R8)),q===e.RED_INTEGER&&(ae===e.UNSIGNED_BYTE&&(ne=e.R8UI),ae===e.UNSIGNED_SHORT&&(ne=e.R16UI),ae===e.UNSIGNED_INT&&(ne=e.R32UI),ae===e.BYTE&&(ne=e.R8I),ae===e.SHORT&&(ne=e.R16I),ae===e.INT&&(ne=e.R32I)),q===e.RG&&(ae===e.FLOAT&&(ne=e.RG32F),ae===e.HALF_FLOAT&&(ne=e.RG16F),ae===e.UNSIGNED_BYTE&&(ne=e.RG8)),q===e.RG_INTEGER&&(ae===e.UNSIGNED_BYTE&&(ne=e.RG8UI),ae===e.UNSIGNED_SHORT&&(ne=e.RG16UI),ae===e.UNSIGNED_INT&&(ne=e.RG32UI),ae===e.BYTE&&(ne=e.RG8I),ae===e.SHORT&&(ne=e.RG16I),ae===e.INT&&(ne=e.RG32I)),q===e.RGB&&ae===e.UNSIGNED_INT_5_9_9_9_REV&&(ne=e.RGB9_E5),q===e.RGBA){const le=ee?Rm:hn.getTransfer(ce);ae===e.FLOAT&&(ne=e.RGBA32F),ae===e.HALF_FLOAT&&(ne=e.RGBA16F),ae===e.UNSIGNED_BYTE&&(ne=le===En?e.SRGB8_ALPHA8:e.RGBA8),ae===e.UNSIGNED_SHORT_4_4_4_4&&(ne=e.RGBA4),ae===e.UNSIGNED_SHORT_5_5_5_1&&(ne=e.RGB5_A1)}return(ne===e.R16F||ne===e.R32F||ne===e.RG16F||ne===e.RG32F||ne===e.RGBA16F||ne===e.RGBA32F)&&t.get("EXT_color_buffer_float"),ne}function x(re,q){let ae;return re?q===null||q===df||q===hf?ae=e.DEPTH24_STENCIL8:q===Zs?ae=e.DEPTH32F_STENCIL8:q===Pm&&(ae=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===df||q===hf?ae=e.DEPTH_COMPONENT24:q===Zs?ae=e.DEPTH_COMPONENT32F:q===Pm&&(ae=e.DEPTH_COMPONENT16),ae}function b(re,q){return p(re)===!0||re.isFramebufferTexture&&re.minFilter!==qa&&re.minFilter!==Ya?Math.log2(Math.max(q.width,q.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?q.mipmaps.length:1}function A(re){const q=re.target;q.removeEventListener("dispose",A),_(q),q.isVideoTexture&&c.delete(q)}function S(re){const q=re.target;q.removeEventListener("dispose",S),C(q)}function _(re){const q=r.get(re);if(q.__webglInit===void 0)return;const ae=re.source,ce=d.get(ae);if(ce){const ee=ce[q.__cacheKey];ee.usedTimes--,ee.usedTimes===0&&w(re),Object.keys(ce).length===0&&d.delete(ae)}r.remove(re)}function w(re){const q=r.get(re);e.deleteTexture(q.__webglTexture);const ae=re.source,ce=d.get(ae);delete ce[q.__cacheKey],o.memory.textures--}function C(re){const q=r.get(re);if(re.depthTexture&&re.depthTexture.dispose(),re.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++){if(Array.isArray(q.__webglFramebuffer[ce]))for(let ee=0;ee<q.__webglFramebuffer[ce].length;ee++)e.deleteFramebuffer(q.__webglFramebuffer[ce][ee]);else e.deleteFramebuffer(q.__webglFramebuffer[ce]);q.__webglDepthbuffer&&e.deleteRenderbuffer(q.__webglDepthbuffer[ce])}else{if(Array.isArray(q.__webglFramebuffer))for(let ce=0;ce<q.__webglFramebuffer.length;ce++)e.deleteFramebuffer(q.__webglFramebuffer[ce]);else e.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&e.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&e.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let ce=0;ce<q.__webglColorRenderbuffer.length;ce++)q.__webglColorRenderbuffer[ce]&&e.deleteRenderbuffer(q.__webglColorRenderbuffer[ce]);q.__webglDepthRenderbuffer&&e.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const ae=re.textures;for(let ce=0,ee=ae.length;ce<ee;ce++){const ne=r.get(ae[ce]);ne.__webglTexture&&(e.deleteTexture(ne.__webglTexture),o.memory.textures--),r.remove(ae[ce])}r.remove(re)}let M=0;function T(){M=0}function E(){const re=M;return re>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+a.maxTextures),M+=1,re}function P(re){const q=[];return q.push(re.wrapS),q.push(re.wrapT),q.push(re.wrapR||0),q.push(re.magFilter),q.push(re.minFilter),q.push(re.anisotropy),q.push(re.internalFormat),q.push(re.format),q.push(re.type),q.push(re.generateMipmaps),q.push(re.premultiplyAlpha),q.push(re.flipY),q.push(re.unpackAlignment),q.push(re.colorSpace),q.join()}function R(re,q){const ae=r.get(re);if(re.isVideoTexture&&ue(re),re.isRenderTargetTexture===!1&&re.version>0&&ae.__version!==re.version){const ce=re.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(ae,re,q);return}}n.bindTexture(e.TEXTURE_2D,ae.__webglTexture,e.TEXTURE0+q)}function I(re,q){const ae=r.get(re);if(re.version>0&&ae.__version!==re.version){$(ae,re,q);return}n.bindTexture(e.TEXTURE_2D_ARRAY,ae.__webglTexture,e.TEXTURE0+q)}function D(re,q){const ae=r.get(re);if(re.version>0&&ae.__version!==re.version){$(ae,re,q);return}n.bindTexture(e.TEXTURE_3D,ae.__webglTexture,e.TEXTURE0+q)}function B(re,q){const ae=r.get(re);if(re.version>0&&ae.__version!==re.version){k(ae,re,q);return}n.bindTexture(e.TEXTURE_CUBE_MAP,ae.__webglTexture,e.TEXTURE0+q)}const F={[SM]:e.REPEAT,[Kl]:e.CLAMP_TO_EDGE,[_M]:e.MIRRORED_REPEAT},G={[qa]:e.NEAREST,[$1e]:e.NEAREST_MIPMAP_NEAREST,[kp]:e.NEAREST_MIPMAP_LINEAR,[Ya]:e.LINEAR,[XA]:e.LINEAR_MIPMAP_NEAREST,[Zl]:e.LINEAR_MIPMAP_LINEAR},z={[rbe]:e.NEVER,[ube]:e.ALWAYS,[abe]:e.LESS,[H9]:e.LEQUAL,[ibe]:e.EQUAL,[lbe]:e.GEQUAL,[obe]:e.GREATER,[sbe]:e.NOTEQUAL};function N(re,q){if(q.type===Zs&&t.has("OES_texture_float_linear")===!1&&(q.magFilter===Ya||q.magFilter===XA||q.magFilter===kp||q.magFilter===Zl||q.minFilter===Ya||q.minFilter===XA||q.minFilter===kp||q.minFilter===Zl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(re,e.TEXTURE_WRAP_S,F[q.wrapS]),e.texParameteri(re,e.TEXTURE_WRAP_T,F[q.wrapT]),(re===e.TEXTURE_3D||re===e.TEXTURE_2D_ARRAY)&&e.texParameteri(re,e.TEXTURE_WRAP_R,F[q.wrapR]),e.texParameteri(re,e.TEXTURE_MAG_FILTER,G[q.magFilter]),e.texParameteri(re,e.TEXTURE_MIN_FILTER,G[q.minFilter]),q.compareFunction&&(e.texParameteri(re,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(re,e.TEXTURE_COMPARE_FUNC,z[q.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===qa||q.minFilter!==kp&&q.minFilter!==Zl||q.type===Zs&&t.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||r.get(q).__currentAnisotropy){const ae=t.get("EXT_texture_filter_anisotropic");e.texParameterf(re,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,a.getMaxAnisotropy())),r.get(q).__currentAnisotropy=q.anisotropy}}}function U(re,q){let ae=!1;re.__webglInit===void 0&&(re.__webglInit=!0,q.addEventListener("dispose",A));const ce=q.source;let ee=d.get(ce);ee===void 0&&(ee={},d.set(ce,ee));const ne=P(q);if(ne!==re.__cacheKey){ee[ne]===void 0&&(ee[ne]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,ae=!0),ee[ne].usedTimes++;const le=ee[re.__cacheKey];le!==void 0&&(ee[re.__cacheKey].usedTimes--,le.usedTimes===0&&w(q)),re.__cacheKey=ne,re.__webglTexture=ee[ne].texture}return ae}function $(re,q,ae){let ce=e.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(ce=e.TEXTURE_2D_ARRAY),q.isData3DTexture&&(ce=e.TEXTURE_3D);const ee=U(re,q),ne=q.source;n.bindTexture(ce,re.__webglTexture,e.TEXTURE0+ae);const le=r.get(ne);if(ne.version!==le.__version||ee===!0){n.activeTexture(e.TEXTURE0+ae);const he=hn.getPrimaries(hn.workingColorSpace),pe=q.colorSpace===Ws?null:hn.getPrimaries(q.colorSpace),ye=q.colorSpace===Ws||he===pe?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,q.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,q.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,ye);let ge=m(q.image,!1,a.maxTextureSize);ge=se(q,ge);const Ce=i.convert(q.format,q.colorSpace),xe=i.convert(q.type);let be=y(q.internalFormat,Ce,xe,q.colorSpace,q.isVideoTexture);N(ce,q);let _e;const Ee=q.mipmaps,Pe=q.isVideoTexture!==!0,Ne=le.__version===void 0||ee===!0,J=ne.dataReady,Ae=b(q,ge);if(q.isDepthTexture)be=x(q.format===vf,q.type),Ne&&(Pe?n.texStorage2D(e.TEXTURE_2D,1,be,ge.width,ge.height):n.texImage2D(e.TEXTURE_2D,0,be,ge.width,ge.height,0,Ce,xe,null));else if(q.isDataTexture)if(Ee.length>0){Pe&&Ne&&n.texStorage2D(e.TEXTURE_2D,Ae,be,Ee[0].width,Ee[0].height);for(let Se=0,Te=Ee.length;Se<Te;Se++)_e=Ee[Se],Pe?J&&n.texSubImage2D(e.TEXTURE_2D,Se,0,0,_e.width,_e.height,Ce,xe,_e.data):n.texImage2D(e.TEXTURE_2D,Se,be,_e.width,_e.height,0,Ce,xe,_e.data);q.generateMipmaps=!1}else Pe?(Ne&&n.texStorage2D(e.TEXTURE_2D,Ae,be,ge.width,ge.height),J&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,ge.width,ge.height,Ce,xe,ge.data)):n.texImage2D(e.TEXTURE_2D,0,be,ge.width,ge.height,0,Ce,xe,ge.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){Pe&&Ne&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Ae,be,Ee[0].width,Ee[0].height,ge.depth);for(let Se=0,Te=Ee.length;Se<Te;Se++)if(_e=Ee[Se],q.format!==to)if(Ce!==null)if(Pe){if(J)if(q.layerUpdates.size>0){for(const De of q.layerUpdates){const Ke=_e.width*_e.height;n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,Se,0,0,De,_e.width,_e.height,1,Ce,_e.data.slice(Ke*De,Ke*(De+1)),0,0)}q.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,Se,0,0,0,_e.width,_e.height,ge.depth,Ce,_e.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,Se,be,_e.width,_e.height,ge.depth,0,_e.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Pe?J&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,Se,0,0,0,_e.width,_e.height,ge.depth,Ce,xe,_e.data):n.texImage3D(e.TEXTURE_2D_ARRAY,Se,be,_e.width,_e.height,ge.depth,0,Ce,xe,_e.data)}else{Pe&&Ne&&n.texStorage2D(e.TEXTURE_2D,Ae,be,Ee[0].width,Ee[0].height);for(let Se=0,Te=Ee.length;Se<Te;Se++)_e=Ee[Se],q.format!==to?Ce!==null?Pe?J&&n.compressedTexSubImage2D(e.TEXTURE_2D,Se,0,0,_e.width,_e.height,Ce,_e.data):n.compressedTexImage2D(e.TEXTURE_2D,Se,be,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?J&&n.texSubImage2D(e.TEXTURE_2D,Se,0,0,_e.width,_e.height,Ce,xe,_e.data):n.texImage2D(e.TEXTURE_2D,Se,be,_e.width,_e.height,0,Ce,xe,_e.data)}else if(q.isDataArrayTexture)if(Pe){if(Ne&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Ae,be,ge.width,ge.height,ge.depth),J)if(q.layerUpdates.size>0){let Se;switch(xe){case e.UNSIGNED_BYTE:switch(Ce){case e.ALPHA:Se=1;break;case e.LUMINANCE:Se=1;break;case e.LUMINANCE_ALPHA:Se=2;break;case e.RGB:Se=3;break;case e.RGBA:Se=4;break;default:throw new Error(`Unknown texel size for format ${Ce}.`)}break;case e.UNSIGNED_SHORT_4_4_4_4:case e.UNSIGNED_SHORT_5_5_5_1:case e.UNSIGNED_SHORT_5_6_5:Se=1;break;default:throw new Error(`Unknown texel size for type ${xe}.`)}const Te=ge.width*ge.height*Se;for(const De of q.layerUpdates)n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,De,ge.width,ge.height,1,Ce,xe,ge.data.slice(Te*De,Te*(De+1)));q.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,ge.width,ge.height,ge.depth,Ce,xe,ge.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,be,ge.width,ge.height,ge.depth,0,Ce,xe,ge.data);else if(q.isData3DTexture)Pe?(Ne&&n.texStorage3D(e.TEXTURE_3D,Ae,be,ge.width,ge.height,ge.depth),J&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,ge.width,ge.height,ge.depth,Ce,xe,ge.data)):n.texImage3D(e.TEXTURE_3D,0,be,ge.width,ge.height,ge.depth,0,Ce,xe,ge.data);else if(q.isFramebufferTexture){if(Ne)if(Pe)n.texStorage2D(e.TEXTURE_2D,Ae,be,ge.width,ge.height);else{let Se=ge.width,Te=ge.height;for(let De=0;De<Ae;De++)n.texImage2D(e.TEXTURE_2D,De,be,Se,Te,0,Ce,xe,null),Se>>=1,Te>>=1}}else if(Ee.length>0){if(Pe&&Ne){const Se=me(Ee[0]);n.texStorage2D(e.TEXTURE_2D,Ae,be,Se.width,Se.height)}for(let Se=0,Te=Ee.length;Se<Te;Se++)_e=Ee[Se],Pe?J&&n.texSubImage2D(e.TEXTURE_2D,Se,0,0,Ce,xe,_e):n.texImage2D(e.TEXTURE_2D,Se,be,Ce,xe,_e);q.generateMipmaps=!1}else if(Pe){if(Ne){const Se=me(ge);n.texStorage2D(e.TEXTURE_2D,Ae,be,Se.width,Se.height)}J&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,Ce,xe,ge)}else n.texImage2D(e.TEXTURE_2D,0,be,Ce,xe,ge);p(q)&&g(ce),le.__version=ne.version,q.onUpdate&&q.onUpdate(q)}re.__version=q.version}function k(re,q,ae){if(q.image.length!==6)return;const ce=U(re,q),ee=q.source;n.bindTexture(e.TEXTURE_CUBE_MAP,re.__webglTexture,e.TEXTURE0+ae);const ne=r.get(ee);if(ee.version!==ne.__version||ce===!0){n.activeTexture(e.TEXTURE0+ae);const le=hn.getPrimaries(hn.workingColorSpace),he=q.colorSpace===Ws?null:hn.getPrimaries(q.colorSpace),pe=q.colorSpace===Ws||le===he?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,q.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,q.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,pe);const ye=q.isCompressedTexture||q.image[0].isCompressedTexture,ge=q.image[0]&&q.image[0].isDataTexture,Ce=[];for(let Te=0;Te<6;Te++)!ye&&!ge?Ce[Te]=m(q.image[Te],!0,a.maxCubemapSize):Ce[Te]=ge?q.image[Te].image:q.image[Te],Ce[Te]=se(q,Ce[Te]);const xe=Ce[0],be=i.convert(q.format,q.colorSpace),_e=i.convert(q.type),Ee=y(q.internalFormat,be,_e,q.colorSpace),Pe=q.isVideoTexture!==!0,Ne=ne.__version===void 0||ce===!0,J=ee.dataReady;let Ae=b(q,xe);N(e.TEXTURE_CUBE_MAP,q);let Se;if(ye){Pe&&Ne&&n.texStorage2D(e.TEXTURE_CUBE_MAP,Ae,Ee,xe.width,xe.height);for(let Te=0;Te<6;Te++){Se=Ce[Te].mipmaps;for(let De=0;De<Se.length;De++){const Ke=Se[De];q.format!==to?be!==null?Pe?J&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De,0,0,Ke.width,Ke.height,be,Ke.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De,Ee,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?J&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De,0,0,Ke.width,Ke.height,be,_e,Ke.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De,Ee,Ke.width,Ke.height,0,be,_e,Ke.data)}}}else{if(Se=q.mipmaps,Pe&&Ne){Se.length>0&&Ae++;const Te=me(Ce[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,Ae,Ee,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(ge){Pe?J&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Ce[Te].width,Ce[Te].height,be,_e,Ce[Te].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,Ee,Ce[Te].width,Ce[Te].height,0,be,_e,Ce[Te].data);for(let De=0;De<Se.length;De++){const rt=Se[De].image[Te].image;Pe?J&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De+1,0,0,rt.width,rt.height,be,_e,rt.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De+1,Ee,rt.width,rt.height,0,be,_e,rt.data)}}else{Pe?J&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,be,_e,Ce[Te]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,Ee,be,_e,Ce[Te]);for(let De=0;De<Se.length;De++){const Ke=Se[De];Pe?J&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De+1,0,0,be,_e,Ke.image[Te]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+Te,De+1,Ee,be,_e,Ke.image[Te])}}}p(q)&&g(e.TEXTURE_CUBE_MAP),ne.__version=ee.version,q.onUpdate&&q.onUpdate(q)}re.__version=q.version}function V(re,q,ae,ce,ee,ne){const le=i.convert(ae.format,ae.colorSpace),he=i.convert(ae.type),pe=y(ae.internalFormat,le,he,ae.colorSpace);if(!r.get(q).__hasExternalTextures){const ge=Math.max(1,q.width>>ne),Ce=Math.max(1,q.height>>ne);ee===e.TEXTURE_3D||ee===e.TEXTURE_2D_ARRAY?n.texImage3D(ee,ne,pe,ge,Ce,q.depth,0,le,he,null):n.texImage2D(ee,ne,pe,ge,Ce,0,le,he,null)}n.bindFramebuffer(e.FRAMEBUFFER,re),oe(q)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,ce,ee,r.get(ae).__webglTexture,0,te(q)):(ee===e.TEXTURE_2D||ee>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&ee<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,ce,ee,r.get(ae).__webglTexture,ne),n.bindFramebuffer(e.FRAMEBUFFER,null)}function L(re,q,ae){if(e.bindRenderbuffer(e.RENDERBUFFER,re),q.depthBuffer){const ce=q.depthTexture,ee=ce&&ce.isDepthTexture?ce.type:null,ne=x(q.stencilBuffer,ee),le=q.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,he=te(q);oe(q)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,he,ne,q.width,q.height):ae?e.renderbufferStorageMultisample(e.RENDERBUFFER,he,ne,q.width,q.height):e.renderbufferStorage(e.RENDERBUFFER,ne,q.width,q.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,le,e.RENDERBUFFER,re)}else{const ce=q.textures;for(let ee=0;ee<ce.length;ee++){const ne=ce[ee],le=i.convert(ne.format,ne.colorSpace),he=i.convert(ne.type),pe=y(ne.internalFormat,le,he,ne.colorSpace),ye=te(q);ae&&oe(q)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,ye,pe,q.width,q.height):oe(q)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,ye,pe,q.width,q.height):e.renderbufferStorage(e.RENDERBUFFER,pe,q.width,q.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function O(re,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,re),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),R(q.depthTexture,0);const ce=r.get(q.depthTexture).__webglTexture,ee=te(q);if(q.depthTexture.format===jc)oe(q)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,ce,0,ee):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,ce,0);else if(q.depthTexture.format===vf)oe(q)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,ce,0,ee):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,ce,0);else throw new Error("Unknown depthTexture format")}function H(re){const q=r.get(re),ae=re.isWebGLCubeRenderTarget===!0;if(re.depthTexture&&!q.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");O(q.__webglFramebuffer,re)}else if(ae){q.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)n.bindFramebuffer(e.FRAMEBUFFER,q.__webglFramebuffer[ce]),q.__webglDepthbuffer[ce]=e.createRenderbuffer(),L(q.__webglDepthbuffer[ce],re,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer=e.createRenderbuffer(),L(q.__webglDepthbuffer,re,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function j(re,q,ae){const ce=r.get(re);q!==void 0&&V(ce.__webglFramebuffer,re,re.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),ae!==void 0&&H(re)}function Y(re){const q=re.texture,ae=r.get(re),ce=r.get(q);re.addEventListener("dispose",S);const ee=re.textures,ne=re.isWebGLCubeRenderTarget===!0,le=ee.length>1;if(le||(ce.__webglTexture===void 0&&(ce.__webglTexture=e.createTexture()),ce.__version=q.version,o.memory.textures++),ne){ae.__webglFramebuffer=[];for(let he=0;he<6;he++)if(q.mipmaps&&q.mipmaps.length>0){ae.__webglFramebuffer[he]=[];for(let pe=0;pe<q.mipmaps.length;pe++)ae.__webglFramebuffer[he][pe]=e.createFramebuffer()}else ae.__webglFramebuffer[he]=e.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){ae.__webglFramebuffer=[];for(let he=0;he<q.mipmaps.length;he++)ae.__webglFramebuffer[he]=e.createFramebuffer()}else ae.__webglFramebuffer=e.createFramebuffer();if(le)for(let he=0,pe=ee.length;he<pe;he++){const ye=r.get(ee[he]);ye.__webglTexture===void 0&&(ye.__webglTexture=e.createTexture(),o.memory.textures++)}if(re.samples>0&&oe(re)===!1){ae.__webglMultisampledFramebuffer=e.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let he=0;he<ee.length;he++){const pe=ee[he];ae.__webglColorRenderbuffer[he]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,ae.__webglColorRenderbuffer[he]);const ye=i.convert(pe.format,pe.colorSpace),ge=i.convert(pe.type),Ce=y(pe.internalFormat,ye,ge,pe.colorSpace,re.isXRRenderTarget===!0),xe=te(re);e.renderbufferStorageMultisample(e.RENDERBUFFER,xe,Ce,re.width,re.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+he,e.RENDERBUFFER,ae.__webglColorRenderbuffer[he])}e.bindRenderbuffer(e.RENDERBUFFER,null),re.depthBuffer&&(ae.__webglDepthRenderbuffer=e.createRenderbuffer(),L(ae.__webglDepthRenderbuffer,re,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(ne){n.bindTexture(e.TEXTURE_CUBE_MAP,ce.__webglTexture),N(e.TEXTURE_CUBE_MAP,q);for(let he=0;he<6;he++)if(q.mipmaps&&q.mipmaps.length>0)for(let pe=0;pe<q.mipmaps.length;pe++)V(ae.__webglFramebuffer[he][pe],re,q,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+he,pe);else V(ae.__webglFramebuffer[he],re,q,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);p(q)&&g(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(le){for(let he=0,pe=ee.length;he<pe;he++){const ye=ee[he],ge=r.get(ye);n.bindTexture(e.TEXTURE_2D,ge.__webglTexture),N(e.TEXTURE_2D,ye),V(ae.__webglFramebuffer,re,ye,e.COLOR_ATTACHMENT0+he,e.TEXTURE_2D,0),p(ye)&&g(e.TEXTURE_2D)}n.unbindTexture()}else{let he=e.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(he=re.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(he,ce.__webglTexture),N(he,q),q.mipmaps&&q.mipmaps.length>0)for(let pe=0;pe<q.mipmaps.length;pe++)V(ae.__webglFramebuffer[pe],re,q,e.COLOR_ATTACHMENT0,he,pe);else V(ae.__webglFramebuffer,re,q,e.COLOR_ATTACHMENT0,he,0);p(q)&&g(he),n.unbindTexture()}re.depthBuffer&&H(re)}function X(re){const q=re.textures;for(let ae=0,ce=q.length;ae<ce;ae++){const ee=q[ae];if(p(ee)){const ne=re.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,le=r.get(ee).__webglTexture;n.bindTexture(ne,le),g(ne),n.unbindTexture()}}}const Q=[],K=[];function Z(re){if(re.samples>0){if(oe(re)===!1){const q=re.textures,ae=re.width,ce=re.height;let ee=e.COLOR_BUFFER_BIT;const ne=re.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,le=r.get(re),he=q.length>1;if(he)for(let pe=0;pe<q.length;pe++)n.bindFramebuffer(e.FRAMEBUFFER,le.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+pe,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,le.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+pe,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,le.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,le.__webglFramebuffer);for(let pe=0;pe<q.length;pe++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(ee|=e.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(ee|=e.STENCIL_BUFFER_BIT)),he){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,le.__webglColorRenderbuffer[pe]);const ye=r.get(q[pe]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,ye,0)}e.blitFramebuffer(0,0,ae,ce,0,0,ae,ce,ee,e.NEAREST),l===!0&&(Q.length=0,K.length=0,Q.push(e.COLOR_ATTACHMENT0+pe),re.depthBuffer&&re.resolveDepthBuffer===!1&&(Q.push(ne),K.push(ne),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,K)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,Q))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),he)for(let pe=0;pe<q.length;pe++){n.bindFramebuffer(e.FRAMEBUFFER,le.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+pe,e.RENDERBUFFER,le.__webglColorRenderbuffer[pe]);const ye=r.get(q[pe]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,le.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+pe,e.TEXTURE_2D,ye,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,le.__webglMultisampledFramebuffer)}else if(re.depthBuffer&&re.resolveDepthBuffer===!1&&l){const q=re.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[q])}}}function te(re){return Math.min(a.maxSamples,re.samples)}function oe(re){const q=r.get(re);return re.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function ue(re){const q=o.render.frame;c.get(re)!==q&&(c.set(re,q),re.update())}function se(re,q){const ae=re.colorSpace,ce=re.format,ee=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||ae!==hl&&ae!==Ws&&(hn.getTransfer(ae)===En?(ce!==to||ee!==il)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),q}function me(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(u.width=re.naturalWidth||re.width,u.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(u.width=re.displayWidth,u.height=re.displayHeight):(u.width=re.width,u.height=re.height),u}this.allocateTextureUnit=E,this.resetTextureUnits=T,this.setTexture2D=R,this.setTexture2DArray=I,this.setTexture3D=D,this.setTextureCube=B,this.rebindTextures=j,this.setupRenderTarget=Y,this.updateRenderTargetMipmap=X,this.updateMultisampleRenderTarget=Z,this.setupDepthRenderbuffer=H,this.setupFrameBufferTexture=V,this.useMultisampledRTT=oe}function ACe(e,t){function n(r,a=Ws){let i;const o=hn.getTransfer(a);if(r===il)return e.UNSIGNED_BYTE;if(r===k9)return e.UNSIGNED_SHORT_4_4_4_4;if(r===B9)return e.UNSIGNED_SHORT_5_5_5_1;if(r===j1e)return e.UNSIGNED_INT_5_9_9_9_REV;if(r===G1e)return e.BYTE;if(r===W1e)return e.SHORT;if(r===Pm)return e.UNSIGNED_SHORT;if(r===N9)return e.INT;if(r===df)return e.UNSIGNED_INT;if(r===Zs)return e.FLOAT;if(r===Iv)return e.HALF_FLOAT;if(r===Y1e)return e.ALPHA;if(r===X1e)return e.RGB;if(r===to)return e.RGBA;if(r===q1e)return e.LUMINANCE;if(r===K1e)return e.LUMINANCE_ALPHA;if(r===jc)return e.DEPTH_COMPONENT;if(r===vf)return e.DEPTH_STENCIL;if(r===Z1e)return e.RED;if(r===F9)return e.RED_INTEGER;if(r===Q1e)return e.RG;if(r===V9)return e.RG_INTEGER;if(r===z9)return e.RGBA_INTEGER;if(r===qA||r===KA||r===ZA||r===QA)if(o===En)if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(r===qA)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===KA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===ZA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===QA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=t.get("WEBGL_compressed_texture_s3tc"),i!==null){if(r===qA)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===KA)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===ZA)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===QA)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===eU||r===tU||r===nU||r===rU)if(i=t.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(r===eU)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===tU)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===nU)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===rU)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===aU||r===iU||r===oU)if(i=t.get("WEBGL_compressed_texture_etc"),i!==null){if(r===aU||r===iU)return o===En?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===oU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===sU||r===lU||r===uU||r===cU||r===fU||r===dU||r===hU||r===vU||r===pU||r===gU||r===mU||r===yU||r===xU||r===bU)if(i=t.get("WEBGL_compressed_texture_astc"),i!==null){if(r===sU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===lU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===uU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===cU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===fU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===dU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===hU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===vU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===pU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===gU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===mU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===yU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===xU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===bU)return o===En?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===JA||r===SU||r===_U)if(i=t.get("EXT_texture_compression_bptc"),i!==null){if(r===JA)return o===En?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===SU)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===_U)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===J1e||r===AU||r===wU||r===CU)if(i=t.get("EXT_texture_compression_rgtc"),i!==null){if(r===JA)return i.COMPRESSED_RED_RGTC1_EXT;if(r===AU)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===wU)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===CU)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===hf?e.UNSIGNED_INT_24_8:e[r]!==void 0?e[r]:null}return{convert:n}}class wCe extends ja{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}let Ic=class extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}};const CCe={type:"move"};class ww{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ic,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ic,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new we,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new we),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ic,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new we,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new we),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const n=this._hand;if(n)for(const r of t.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,n,r){let a=null,i=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(t&&n.session.visibilityState!=="visible-blurred"){if(u&&t.hand){o=!0;for(const m of t.hand.values()){const p=n.getJointPose(m,r),g=this._getHandJoint(u,m);p!==null&&(g.matrix.fromArray(p.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=p.radius),g.visible=p!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),h=.02,v=.005;u.inputState.pinching&&d>h+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&d<=h-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(i=n.getPose(t.gripSpace,r),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(a=n.getPose(t.targetRaySpace,r),a===null&&i!==null&&(a=i),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(CCe)))}return s!==null&&(s.visible=a!==null),l!==null&&(l.visible=i!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(t,n){if(t.joints[n.jointName]===void 0){const r=new Ic;r.matrixAutoUpdate=!1,r.visible=!1,t.joints[n.jointName]=r,t.add(r)}return t.joints[n.jointName]}}const MCe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,TCe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class ECe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,n,r){if(this.texture===null){const a=new Gr,i=t.properties.get(a);i.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=a}}getMesh(t){if(this.texture!==null&&this.mesh===null){const n=t.cameras[0].viewport,r=new uo({vertexShader:MCe,fragmentShader:TCe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ka(new i0(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class PCe extends Vi{constructor(t,n){super();const r=this;let a=null,i=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,d=null,h=null,v=null;const m=new ECe,p=n.getContextAttributes();let g=null,y=null;const x=[],b=[],A=new ot;let S=null;const _=new ja;_.layers.enable(1),_.viewport=new Mr;const w=new ja;w.layers.enable(2),w.viewport=new Mr;const C=[_,w],M=new wCe;M.layers.enable(1),M.layers.enable(2);let T=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let V=x[k];return V===void 0&&(V=new ww,x[k]=V),V.getTargetRaySpace()},this.getControllerGrip=function(k){let V=x[k];return V===void 0&&(V=new ww,x[k]=V),V.getGripSpace()},this.getHand=function(k){let V=x[k];return V===void 0&&(V=new ww,x[k]=V),V.getHandSpace()};function P(k){const V=b.indexOf(k.inputSource);if(V===-1)return;const L=x[V];L!==void 0&&(L.update(k.inputSource,k.frame,u||o),L.dispatchEvent({type:k.type,data:k.inputSource}))}function R(){a.removeEventListener("select",P),a.removeEventListener("selectstart",P),a.removeEventListener("selectend",P),a.removeEventListener("squeeze",P),a.removeEventListener("squeezestart",P),a.removeEventListener("squeezeend",P),a.removeEventListener("end",R),a.removeEventListener("inputsourceschange",I);for(let k=0;k<x.length;k++){const V=b[k];V!==null&&(b[k]=null,x[k].disconnect(V))}T=null,E=null,m.reset(),t.setRenderTarget(g),h=null,d=null,f=null,a=null,y=null,$.stop(),r.isPresenting=!1,t.setPixelRatio(S),t.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){i=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(k){u=k},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return a},this.setSession=async function(k){if(a=k,a!==null){if(g=t.getRenderTarget(),a.addEventListener("select",P),a.addEventListener("selectstart",P),a.addEventListener("selectend",P),a.addEventListener("squeeze",P),a.addEventListener("squeezestart",P),a.addEventListener("squeezeend",P),a.addEventListener("end",R),a.addEventListener("inputsourceschange",I),p.xrCompatible!==!0&&await n.makeXRCompatible(),S=t.getPixelRatio(),t.getSize(A),a.renderState.layers===void 0){const V={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(a,n,V),a.updateRenderState({baseLayer:h}),t.setPixelRatio(1),t.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new ol(h.framebufferWidth,h.framebufferHeight,{format:to,type:il,colorSpace:t.outputColorSpace,stencilBuffer:p.stencil})}else{let V=null,L=null,O=null;p.depth&&(O=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,V=p.stencil?vf:jc,L=p.stencil?hf:df);const H={colorFormat:n.RGBA8,depthFormat:O,scaleFactor:i};f=new XRWebGLBinding(a,n),d=f.createProjectionLayer(H),a.updateRenderState({layers:[d]}),t.setPixelRatio(1),t.setSize(d.textureWidth,d.textureHeight,!1),y=new ol(d.textureWidth,d.textureHeight,{format:to,type:il,depthTexture:new ej(d.textureWidth,d.textureHeight,L,void 0,void 0,void 0,void 0,void 0,void 0,V),stencilBuffer:p.stencil,colorSpace:t.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await a.requestReferenceSpace(s),$.setContext(a),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode};function I(k){for(let V=0;V<k.removed.length;V++){const L=k.removed[V],O=b.indexOf(L);O>=0&&(b[O]=null,x[O].disconnect(L))}for(let V=0;V<k.added.length;V++){const L=k.added[V];let O=b.indexOf(L);if(O===-1){for(let j=0;j<x.length;j++)if(j>=b.length){b.push(L),O=j;break}else if(b[j]===null){b[j]=L,O=j;break}if(O===-1)break}const H=x[O];H&&H.connect(L)}}const D=new we,B=new we;function F(k,V,L){D.setFromMatrixPosition(V.matrixWorld),B.setFromMatrixPosition(L.matrixWorld);const O=D.distanceTo(B),H=V.projectionMatrix.elements,j=L.projectionMatrix.elements,Y=H[14]/(H[10]-1),X=H[14]/(H[10]+1),Q=(H[9]+1)/H[5],K=(H[9]-1)/H[5],Z=(H[8]-1)/H[0],te=(j[8]+1)/j[0],oe=Y*Z,ue=Y*te,se=O/(-Z+te),me=se*-Z;V.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(me),k.translateZ(se),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const re=Y+se,q=X+se,ae=oe-me,ce=ue+(O-me),ee=Q*X/q*re,ne=K*X/q*re;k.projectionMatrix.makePerspective(ae,ce,ee,ne,re,q),k.projectionMatrixInverse.copy(k.projectionMatrix).invert()}function G(k,V){V===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(V.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(a===null)return;m.texture!==null&&(k.near=m.depthNear,k.far=m.depthFar),M.near=w.near=_.near=k.near,M.far=w.far=_.far=k.far,(T!==M.near||E!==M.far)&&(a.updateRenderState({depthNear:M.near,depthFar:M.far}),T=M.near,E=M.far,_.near=T,_.far=E,w.near=T,w.far=E,_.updateProjectionMatrix(),w.updateProjectionMatrix(),k.updateProjectionMatrix());const V=k.parent,L=M.cameras;G(M,V);for(let O=0;O<L.length;O++)G(L[O],V);L.length===2?F(M,_,w):M.projectionMatrix.copy(_.projectionMatrix),z(k,M,V)};function z(k,V,L){L===null?k.matrix.copy(V.matrixWorld):(k.matrix.copy(L.matrixWorld),k.matrix.invert(),k.matrix.multiply(V.matrixWorld)),k.matrix.decompose(k.position,k.quaternion,k.scale),k.updateMatrixWorld(!0),k.projectionMatrix.copy(V.projectionMatrix),k.projectionMatrixInverse.copy(V.projectionMatrixInverse),k.isPerspectiveCamera&&(k.fov=Ih*2*Math.atan(1/k.projectionMatrix.elements[5]),k.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(k){l=k,d!==null&&(d.fixedFoveation=k),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=k)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(M)};let N=null;function U(k,V){if(c=V.getViewerPose(u||o),v=V,c!==null){const L=c.views;h!==null&&(t.setRenderTargetFramebuffer(y,h.framebuffer),t.setRenderTarget(y));let O=!1;L.length!==M.cameras.length&&(M.cameras.length=0,O=!0);for(let j=0;j<L.length;j++){const Y=L[j];let X=null;if(h!==null)X=h.getViewport(Y);else{const K=f.getViewSubImage(d,Y);X=K.viewport,j===0&&(t.setRenderTargetTextures(y,K.colorTexture,d.ignoreDepthValues?void 0:K.depthStencilTexture),t.setRenderTarget(y))}let Q=C[j];Q===void 0&&(Q=new ja,Q.layers.enable(j),Q.viewport=new Mr,C[j]=Q),Q.matrix.fromArray(Y.transform.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.projectionMatrix.fromArray(Y.projectionMatrix),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert(),Q.viewport.set(X.x,X.y,X.width,X.height),j===0&&(M.matrix.copy(Q.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),O===!0&&M.cameras.push(Q)}const H=a.enabledFeatures;if(H&&H.includes("depth-sensing")){const j=f.getDepthInformation(L[0]);j&&j.isValid&&j.texture&&m.init(t,j,a.renderState)}}for(let L=0;L<x.length;L++){const O=b[L],H=x[L];O!==null&&H!==void 0&&H.update(O,V,u||o)}N&&N(k,V),V.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:V}),v=null}const $=new J9;$.setAnimationLoop(U),this.setAnimationLoop=function(k){N=k},this.dispose=function(){}}}const Bl=new lo,RCe=new Sn;function ICe(e,t){function n(p,g){p.matrixAutoUpdate===!0&&p.updateMatrix(),g.value.copy(p.matrix)}function r(p,g){g.color.getRGB(p.fogColor.value,q9(e)),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function a(p,g,y,x,b){g.isMeshBasicMaterial||g.isMeshLambertMaterial?i(p,g):g.isMeshToonMaterial?(i(p,g),f(p,g)):g.isMeshPhongMaterial?(i(p,g),c(p,g)):g.isMeshStandardMaterial?(i(p,g),d(p,g),g.isMeshPhysicalMaterial&&h(p,g,b)):g.isMeshMatcapMaterial?(i(p,g),v(p,g)):g.isMeshDepthMaterial?i(p,g):g.isMeshDistanceMaterial?(i(p,g),m(p,g)):g.isMeshNormalMaterial?i(p,g):g.isLineBasicMaterial?(o(p,g),g.isLineDashedMaterial&&s(p,g)):g.isPointsMaterial?l(p,g,y,x):g.isSpriteMaterial?u(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(p,g){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.bumpMap&&(p.bumpMap.value=g.bumpMap,n(g.bumpMap,p.bumpMapTransform),p.bumpScale.value=g.bumpScale,g.side===aa&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,n(g.normalMap,p.normalMapTransform),p.normalScale.value.copy(g.normalScale),g.side===aa&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,n(g.displacementMap,p.displacementMapTransform),p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,p.emissiveMapTransform)),g.specularMap&&(p.specularMap.value=g.specularMap,n(g.specularMap,p.specularMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest);const y=t.get(g),x=y.envMap,b=y.envMapRotation;x&&(p.envMap.value=x,Bl.copy(b),Bl.x*=-1,Bl.y*=-1,Bl.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(Bl.y*=-1,Bl.z*=-1),p.envMapRotation.value.setFromMatrix4(RCe.makeRotationFromEuler(Bl)),p.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=g.reflectivity,p.ior.value=g.ior,p.refractionRatio.value=g.refractionRatio),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,p.lightMapTransform)),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,p.aoMapTransform))}function o(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform))}function s(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function l(p,g,y,x){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*y,p.scale.value=x*.5,g.map&&(p.map.value=g.map,n(g.map,p.uvTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function u(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map,n(g.map,p.mapTransform)),g.alphaMap&&(p.alphaMap.value=g.alphaMap,n(g.alphaMap,p.alphaMapTransform)),g.alphaTest>0&&(p.alphaTest.value=g.alphaTest)}function c(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4)}function f(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap)}function d(p,g){p.metalness.value=g.metalness,g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,p.metalnessMapTransform)),p.roughness.value=g.roughness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,p.roughnessMapTransform)),g.envMap&&(p.envMapIntensity.value=g.envMapIntensity)}function h(p,g,y){p.ior.value=g.ior,g.sheen>0&&(p.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),p.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(p.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,p.sheenColorMapTransform)),g.sheenRoughnessMap&&(p.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,p.sheenRoughnessMapTransform))),g.clearcoat>0&&(p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,p.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(p.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===aa&&p.clearcoatNormalScale.value.negate())),g.dispersion>0&&(p.dispersion.value=g.dispersion),g.iridescence>0&&(p.iridescence.value=g.iridescence,p.iridescenceIOR.value=g.iridescenceIOR,p.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(p.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,p.iridescenceMapTransform)),g.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),g.transmission>0&&(p.transmission.value=g.transmission,p.transmissionSamplerMap.value=y.texture,p.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(p.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,p.transmissionMapTransform)),p.thickness.value=g.thickness,g.thicknessMap&&(p.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=g.attenuationDistance,p.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(p.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(p.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,p.anisotropyMapTransform))),p.specularIntensity.value=g.specularIntensity,p.specularColor.value.copy(g.specularColor),g.specularColorMap&&(p.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,p.specularColorMapTransform)),g.specularIntensityMap&&(p.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,p.specularIntensityMapTransform))}function v(p,g){g.matcap&&(p.matcap.value=g.matcap)}function m(p,g){const y=t.get(g).light;p.referencePosition.value.setFromMatrixPosition(y.matrixWorld),p.nearDistance.value=y.shadow.camera.near,p.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function DCe(e,t,n,r){let a={},i={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,x){const b=x.program;r.uniformBlockBinding(y,b)}function u(y,x){let b=a[y.id];b===void 0&&(v(y),b=c(y),a[y.id]=b,y.addEventListener("dispose",p));const A=x.program;r.updateUBOMapping(y,A);const S=t.render.frame;i[y.id]!==S&&(d(y),i[y.id]=S)}function c(y){const x=f();y.__bindingPointIndex=x;const b=e.createBuffer(),A=y.__size,S=y.usage;return e.bindBuffer(e.UNIFORM_BUFFER,b),e.bufferData(e.UNIFORM_BUFFER,A,S),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,x,b),b}function f(){for(let y=0;y<s;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const x=a[y.id],b=y.uniforms,A=y.__cache;e.bindBuffer(e.UNIFORM_BUFFER,x);for(let S=0,_=b.length;S<_;S++){const w=Array.isArray(b[S])?b[S]:[b[S]];for(let C=0,M=w.length;C<M;C++){const T=w[C];if(h(T,S,C,A)===!0){const E=T.__offset,P=Array.isArray(T.value)?T.value:[T.value];let R=0;for(let I=0;I<P.length;I++){const D=P[I],B=m(D);typeof D=="number"||typeof D=="boolean"?(T.__data[0]=D,e.bufferSubData(e.UNIFORM_BUFFER,E+R,T.__data)):D.isMatrix3?(T.__data[0]=D.elements[0],T.__data[1]=D.elements[1],T.__data[2]=D.elements[2],T.__data[3]=0,T.__data[4]=D.elements[3],T.__data[5]=D.elements[4],T.__data[6]=D.elements[5],T.__data[7]=0,T.__data[8]=D.elements[6],T.__data[9]=D.elements[7],T.__data[10]=D.elements[8],T.__data[11]=0):(D.toArray(T.__data,R),R+=B.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,E,T.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function h(y,x,b,A){const S=y.value,_=x+"_"+b;if(A[_]===void 0)return typeof S=="number"||typeof S=="boolean"?A[_]=S:A[_]=S.clone(),!0;{const w=A[_];if(typeof S=="number"||typeof S=="boolean"){if(w!==S)return A[_]=S,!0}else if(w.equals(S)===!1)return w.copy(S),!0}return!1}function v(y){const x=y.uniforms;let b=0;const A=16;for(let _=0,w=x.length;_<w;_++){const C=Array.isArray(x[_])?x[_]:[x[_]];for(let M=0,T=C.length;M<T;M++){const E=C[M],P=Array.isArray(E.value)?E.value:[E.value];for(let R=0,I=P.length;R<I;R++){const D=P[R],B=m(D),F=b%A;F!==0&&A-F<B.boundary&&(b+=A-F),E.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=b,b+=B.storage}}}const S=b%A;return S>0&&(b+=A-S),y.__size=b,y.__cache={},this}function m(y){const x={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function p(y){const x=y.target;x.removeEventListener("dispose",p);const b=o.indexOf(x.__bindingPointIndex);o.splice(b,1),e.deleteBuffer(a[x.id]),delete a[x.id],delete i[x.id]}function g(){for(const y in a)e.deleteBuffer(a[y]);o=[],a={},i={}}return{bind:l,update:u,dispose:g}}class LCe{constructor(t={}){const{canvas:n=Mbe(),context:r=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=t;this.isWebGLRenderer=!0;let d;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=r.getContextAttributes().alpha}else d=o;const h=new Uint32Array(4),v=new Int32Array(4);let m=null,p=null;const g=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ga,this.toneMapping=tl,this.toneMappingExposure=1;const x=this;let b=!1,A=0,S=0,_=null,w=-1,C=null;const M=new Mr,T=new Mr;let E=null;const P=new qt(0);let R=0,I=n.width,D=n.height,B=1,F=null,G=null;const z=new Mr(0,0,I,D),N=new Mr(0,0,I,D);let U=!1;const $=new HP;let k=!1,V=!1;const L=new Sn,O=new we,H={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let j=!1;function Y(){return _===null?B:1}let X=r;function Q(fe,Re){return n.getContext(fe,Re)}try{const fe={alpha:!0,depth:a,stencil:i,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${e0}`),n.addEventListener("webglcontextlost",Ae,!1),n.addEventListener("webglcontextrestored",Se,!1),n.addEventListener("webglcontextcreationerror",Te,!1),X===null){const Re="webgl2";if(X=Q(Re,fe),X===null)throw Q(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(fe){throw console.error("THREE.WebGLRenderer: "+fe.message),fe}let K,Z,te,oe,ue,se,me,re,q,ae,ce,ee,ne,le,he,pe,ye,ge,Ce,xe,be,_e,Ee,Pe;function Ne(){K=new UAe(X),K.init(),_e=new ACe(X,K),Z=new NAe(X,K,t,_e),te=new SCe(X),oe=new GAe(X),ue=new sCe,se=new _Ce(X,K,te,ue,Z,_e,oe),me=new BAe(x),re=new zAe(x),q=new Zbe(X),Ee=new LAe(X,q),ae=new HAe(X,q,oe,Ee),ce=new jAe(X,ae,q,oe),Ce=new WAe(X,Z,se),pe=new kAe(ue),ee=new oCe(x,me,re,K,Z,Ee,pe),ne=new ICe(x,ue),le=new uCe,he=new pCe(K),ge=new DAe(x,me,re,te,ce,d,l),ye=new bCe(x,ce,Z),Pe=new DCe(X,oe,Z,te),xe=new OAe(X,K,oe),be=new $Ae(X,K,oe),oe.programs=ee.programs,x.capabilities=Z,x.extensions=K,x.properties=ue,x.renderLists=le,x.shadowMap=ye,x.state=te,x.info=oe}Ne();const J=new PCe(x,X);this.xr=J,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const fe=K.get("WEBGL_lose_context");fe&&fe.loseContext()},this.forceContextRestore=function(){const fe=K.get("WEBGL_lose_context");fe&&fe.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(fe){fe!==void 0&&(B=fe,this.setSize(I,D,!1))},this.getSize=function(fe){return fe.set(I,D)},this.setSize=function(fe,Re,Be=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}I=fe,D=Re,n.width=Math.floor(fe*B),n.height=Math.floor(Re*B),Be===!0&&(n.style.width=fe+"px",n.style.height=Re+"px"),this.setViewport(0,0,fe,Re)},this.getDrawingBufferSize=function(fe){return fe.set(I*B,D*B).floor()},this.setDrawingBufferSize=function(fe,Re,Be){I=fe,D=Re,B=Be,n.width=Math.floor(fe*Be),n.height=Math.floor(Re*Be),this.setViewport(0,0,fe,Re)},this.getCurrentViewport=function(fe){return fe.copy(M)},this.getViewport=function(fe){return fe.copy(z)},this.setViewport=function(fe,Re,Be,Ve){fe.isVector4?z.set(fe.x,fe.y,fe.z,fe.w):z.set(fe,Re,Be,Ve),te.viewport(M.copy(z).multiplyScalar(B).round())},this.getScissor=function(fe){return fe.copy(N)},this.setScissor=function(fe,Re,Be,Ve){fe.isVector4?N.set(fe.x,fe.y,fe.z,fe.w):N.set(fe,Re,Be,Ve),te.scissor(T.copy(N).multiplyScalar(B).round())},this.getScissorTest=function(){return U},this.setScissorTest=function(fe){te.setScissorTest(U=fe)},this.setOpaqueSort=function(fe){F=fe},this.setTransparentSort=function(fe){G=fe},this.getClearColor=function(fe){return fe.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(fe=!0,Re=!0,Be=!0){let Ve=0;if(fe){let Le=!1;if(_!==null){const st=_.texture.format;Le=st===z9||st===V9||st===F9}if(Le){const st=_.texture.type,pt=st===il||st===df||st===Pm||st===hf||st===k9||st===B9,mt=ge.getClearColor(),xt=ge.getClearAlpha(),Tt=mt.r,It=mt.g,Mt=mt.b;pt?(h[0]=Tt,h[1]=It,h[2]=Mt,h[3]=xt,X.clearBufferuiv(X.COLOR,0,h)):(v[0]=Tt,v[1]=It,v[2]=Mt,v[3]=xt,X.clearBufferiv(X.COLOR,0,v))}else Ve|=X.COLOR_BUFFER_BIT}Re&&(Ve|=X.DEPTH_BUFFER_BIT),Be&&(Ve|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ae,!1),n.removeEventListener("webglcontextrestored",Se,!1),n.removeEventListener("webglcontextcreationerror",Te,!1),le.dispose(),he.dispose(),ue.dispose(),me.dispose(),re.dispose(),ce.dispose(),Ee.dispose(),Pe.dispose(),ee.dispose(),J.dispose(),J.removeEventListener("sessionstart",Yt),J.removeEventListener("sessionend",Xt),yn.stop()};function Ae(fe){fe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const fe=oe.autoReset,Re=ye.enabled,Be=ye.autoUpdate,Ve=ye.needsUpdate,Le=ye.type;Ne(),oe.autoReset=fe,ye.enabled=Re,ye.autoUpdate=Be,ye.needsUpdate=Ve,ye.type=Le}function Te(fe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",fe.statusMessage)}function De(fe){const Re=fe.target;Re.removeEventListener("dispose",De),Ke(Re)}function Ke(fe){rt(fe),ue.remove(fe)}function rt(fe){const Re=ue.get(fe).programs;Re!==void 0&&(Re.forEach(function(Be){ee.releaseProgram(Be)}),fe.isShaderMaterial&&ee.releaseShaderCache(fe))}this.renderBufferDirect=function(fe,Re,Be,Ve,Le,st){Re===null&&(Re=H);const pt=Le.isMesh&&Le.matrixWorld.determinant()<0,mt=dr(fe,Re,Be,Ve,Le);te.setMaterial(Ve,pt);let xt=Be.index,Tt=1;if(Ve.wireframe===!0){if(xt=ae.getWireframeAttribute(Be),xt===void 0)return;Tt=2}const It=Be.drawRange,Mt=Be.attributes.position;let rn=It.start*Tt,On=(It.start+It.count)*Tt;st!==null&&(rn=Math.max(rn,st.start*Tt),On=Math.min(On,(st.start+st.count)*Tt)),xt!==null?(rn=Math.max(rn,0),On=Math.min(On,xt.count)):Mt!=null&&(rn=Math.max(rn,0),On=Math.min(On,Mt.count));const Nn=On-rn;if(Nn<0||Nn===1/0)return;Ee.setup(Le,Ve,mt,Be,xt);let qr,un=xe;if(xt!==null&&(qr=q.get(xt),un=be,un.setIndex(qr)),Le.isMesh)Ve.wireframe===!0?(te.setLineWidth(Ve.wireframeLinewidth*Y()),un.setMode(X.LINES)):un.setMode(X.TRIANGLES);else if(Le.isLine){let At=Ve.linewidth;At===void 0&&(At=1),te.setLineWidth(At*Y()),Le.isLineSegments?un.setMode(X.LINES):Le.isLineLoop?un.setMode(X.LINE_LOOP):un.setMode(X.LINE_STRIP)}else Le.isPoints?un.setMode(X.POINTS):Le.isSprite&&un.setMode(X.TRIANGLES);if(Le.isBatchedMesh)Le._multiDrawInstances!==null?un.renderMultiDrawInstances(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount,Le._multiDrawInstances):un.renderMultiDraw(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount);else if(Le.isInstancedMesh)un.renderInstances(rn,Nn,Le.count);else if(Be.isInstancedBufferGeometry){const At=Be._maxInstanceCount!==void 0?Be._maxInstanceCount:1/0,Ir=Math.min(Be.instanceCount,At);un.renderInstances(rn,Nn,Ir)}else un.render(rn,Nn)};function wt(fe,Re,Be){fe.transparent===!0&&fe.side===Yo&&fe.forceSinglePass===!1?(fe.side=aa,fe.needsUpdate=!0,tr(fe,Re,Be),fe.side=al,fe.needsUpdate=!0,tr(fe,Re,Be),fe.side=Yo):tr(fe,Re,Be)}this.compile=function(fe,Re,Be=null){Be===null&&(Be=fe),p=he.get(Be),p.init(Re),y.push(p),Be.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Re.layers)&&(p.pushLight(Le),Le.castShadow&&p.pushShadow(Le))}),fe!==Be&&fe.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Re.layers)&&(p.pushLight(Le),Le.castShadow&&p.pushShadow(Le))}),p.setupLights();const Ve=new Set;return fe.traverse(function(Le){const st=Le.material;if(st)if(Array.isArray(st))for(let pt=0;pt<st.length;pt++){const mt=st[pt];wt(mt,Be,Le),Ve.add(mt)}else wt(st,Be,Le),Ve.add(st)}),y.pop(),p=null,Ve},this.compileAsync=function(fe,Re,Be=null){const Ve=this.compile(fe,Re,Be);return new Promise(Le=>{function st(){if(Ve.forEach(function(pt){ue.get(pt).currentProgram.isReady()&&Ve.delete(pt)}),Ve.size===0){Le(fe);return}setTimeout(st,10)}K.get("KHR_parallel_shader_compile")!==null?st():setTimeout(st,10)})};let Ct=null;function _t(fe){Ct&&Ct(fe)}function Yt(){yn.stop()}function Xt(){yn.start()}const yn=new J9;yn.setAnimationLoop(_t),typeof self<"u"&&yn.setContext(self),this.setAnimationLoop=function(fe){Ct=fe,J.setAnimationLoop(fe),fe===null?yn.stop():yn.start()},J.addEventListener("sessionstart",Yt),J.addEventListener("sessionend",Xt),this.render=function(fe,Re){if(Re!==void 0&&Re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(fe.matrixWorldAutoUpdate===!0&&fe.updateMatrixWorld(),Re.parent===null&&Re.matrixWorldAutoUpdate===!0&&Re.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(Re),Re=J.getCamera()),fe.isScene===!0&&fe.onBeforeRender(x,fe,Re,_),p=he.get(fe,y.length),p.init(Re),y.push(p),L.multiplyMatrices(Re.projectionMatrix,Re.matrixWorldInverse),$.setFromProjectionMatrix(L),V=this.localClippingEnabled,k=pe.init(this.clippingPlanes,V),m=le.get(fe,g.length),m.init(),g.push(m),J.enabled===!0&&J.isPresenting===!0){const st=x.xr.getDepthSensingMesh();st!==null&&Dn(st,Re,-1/0,x.sortObjects)}Dn(fe,Re,0,x.sortObjects),m.finish(),x.sortObjects===!0&&m.sort(F,G),j=J.enabled===!1||J.isPresenting===!1||J.hasDepthSensing()===!1,j&&ge.addToRenderList(m,fe),this.info.render.frame++,k===!0&&pe.beginShadows();const Be=p.state.shadowsArray;ye.render(Be,fe,Re),k===!0&&pe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ve=m.opaque,Le=m.transmissive;if(p.setupLights(),Re.isArrayCamera){const st=Re.cameras;if(Le.length>0)for(let pt=0,mt=st.length;pt<mt;pt++){const xt=st[pt];nn(Ve,Le,fe,xt)}j&&ge.render(fe);for(let pt=0,mt=st.length;pt<mt;pt++){const xt=st[pt];xn(m,fe,xt,xt.viewport)}}else Le.length>0&&nn(Ve,Le,fe,Re),j&&ge.render(fe),xn(m,fe,Re);_!==null&&(se.updateMultisampleRenderTarget(_),se.updateRenderTargetMipmap(_)),fe.isScene===!0&&fe.onAfterRender(x,fe,Re),Ee.resetDefaultState(),w=-1,C=null,y.pop(),y.length>0?(p=y[y.length-1],k===!0&&pe.setGlobalState(x.clippingPlanes,p.state.camera)):p=null,g.pop(),g.length>0?m=g[g.length-1]:m=null};function Dn(fe,Re,Be,Ve){if(fe.visible===!1)return;if(fe.layers.test(Re.layers)){if(fe.isGroup)Be=fe.renderOrder;else if(fe.isLOD)fe.autoUpdate===!0&&fe.update(Re);else if(fe.isLight)p.pushLight(fe),fe.castShadow&&p.pushShadow(fe);else if(fe.isSprite){if(!fe.frustumCulled||$.intersectsSprite(fe)){Ve&&O.setFromMatrixPosition(fe.matrixWorld).applyMatrix4(L);const pt=ce.update(fe),mt=fe.material;mt.visible&&m.push(fe,pt,mt,Be,O.z,null)}}else if((fe.isMesh||fe.isLine||fe.isPoints)&&(!fe.frustumCulled||$.intersectsObject(fe))){const pt=ce.update(fe),mt=fe.material;if(Ve&&(fe.boundingSphere!==void 0?(fe.boundingSphere===null&&fe.computeBoundingSphere(),O.copy(fe.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),O.copy(pt.boundingSphere.center)),O.applyMatrix4(fe.matrixWorld).applyMatrix4(L)),Array.isArray(mt)){const xt=pt.groups;for(let Tt=0,It=xt.length;Tt<It;Tt++){const Mt=xt[Tt],rn=mt[Mt.materialIndex];rn&&rn.visible&&m.push(fe,pt,rn,Be,O.z,Mt)}}else mt.visible&&m.push(fe,pt,mt,Be,O.z,null)}}const st=fe.children;for(let pt=0,mt=st.length;pt<mt;pt++)Dn(st[pt],Re,Be,Ve)}function xn(fe,Re,Be,Ve){const Le=fe.opaque,st=fe.transmissive,pt=fe.transparent;p.setupLightsView(Be),k===!0&&pe.setGlobalState(x.clippingPlanes,Be),Ve&&te.viewport(M.copy(Ve)),Le.length>0&&Ln(Le,Re,Be),st.length>0&&Ln(st,Re,Be),pt.length>0&&Ln(pt,Re,Be),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function nn(fe,Re,Be,Ve){if((Be.isScene===!0?Be.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Ve.id]===void 0&&(p.state.transmissionRenderTarget[Ve.id]=new ol(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")||K.has("EXT_color_buffer_float")?Iv:il,minFilter:Zl,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:hn.workingColorSpace}));const st=p.state.transmissionRenderTarget[Ve.id],pt=Ve.viewport||M;st.setSize(pt.z,pt.w);const mt=x.getRenderTarget();x.setRenderTarget(st),x.getClearColor(P),R=x.getClearAlpha(),R<1&&x.setClearColor(16777215,.5),j?ge.render(Be):x.clear();const xt=x.toneMapping;x.toneMapping=tl;const Tt=Ve.viewport;if(Ve.viewport!==void 0&&(Ve.viewport=void 0),p.setupLightsView(Ve),k===!0&&pe.setGlobalState(x.clippingPlanes,Ve),Ln(fe,Be,Ve),se.updateMultisampleRenderTarget(st),se.updateRenderTargetMipmap(st),K.has("WEBGL_multisampled_render_to_texture")===!1){let It=!1;for(let Mt=0,rn=Re.length;Mt<rn;Mt++){const On=Re[Mt],Nn=On.object,qr=On.geometry,un=On.material,At=On.group;if(un.side===Yo&&Nn.layers.test(Ve.layers)){const Ir=un.side;un.side=aa,un.needsUpdate=!0,Xn(Nn,Be,Ve,qr,un,At),un.side=Ir,un.needsUpdate=!0,It=!0}}It===!0&&(se.updateMultisampleRenderTarget(st),se.updateRenderTargetMipmap(st))}x.setRenderTarget(mt),x.setClearColor(P,R),Tt!==void 0&&(Ve.viewport=Tt),x.toneMapping=xt}function Ln(fe,Re,Be){const Ve=Re.isScene===!0?Re.overrideMaterial:null;for(let Le=0,st=fe.length;Le<st;Le++){const pt=fe[Le],mt=pt.object,xt=pt.geometry,Tt=Ve===null?pt.material:Ve,It=pt.group;mt.layers.test(Be.layers)&&Xn(mt,Re,Be,xt,Tt,It)}}function Xn(fe,Re,Be,Ve,Le,st){fe.onBeforeRender(x,Re,Be,Ve,Le,st),fe.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,fe.matrixWorld),fe.normalMatrix.getNormalMatrix(fe.modelViewMatrix),Le.onBeforeRender(x,Re,Be,Ve,fe,st),Le.transparent===!0&&Le.side===Yo&&Le.forceSinglePass===!1?(Le.side=aa,Le.needsUpdate=!0,x.renderBufferDirect(Be,Re,Ve,Le,fe,st),Le.side=al,Le.needsUpdate=!0,x.renderBufferDirect(Be,Re,Ve,Le,fe,st),Le.side=Yo):x.renderBufferDirect(Be,Re,Ve,Le,fe,st),fe.onAfterRender(x,Re,Be,Ve,Le,st)}function tr(fe,Re,Be){Re.isScene!==!0&&(Re=H);const Ve=ue.get(fe),Le=p.state.lights,st=p.state.shadowsArray,pt=Le.state.version,mt=ee.getParameters(fe,Le.state,st,Re,Be),xt=ee.getProgramCacheKey(mt);let Tt=Ve.programs;Ve.environment=fe.isMeshStandardMaterial?Re.environment:null,Ve.fog=Re.fog,Ve.envMap=(fe.isMeshStandardMaterial?re:me).get(fe.envMap||Ve.environment),Ve.envMapRotation=Ve.environment!==null&&fe.envMap===null?Re.environmentRotation:fe.envMapRotation,Tt===void 0&&(fe.addEventListener("dispose",De),Tt=new Map,Ve.programs=Tt);let It=Tt.get(xt);if(It!==void 0){if(Ve.currentProgram===It&&Ve.lightsStateVersion===pt)return Un(fe,mt),It}else mt.uniforms=ee.getUniforms(fe),fe.onBuild(Be,mt,x),fe.onBeforeCompile(mt,x),It=ee.acquireProgram(mt,xt),Tt.set(xt,It),Ve.uniforms=mt.uniforms;const Mt=Ve.uniforms;return(!fe.isShaderMaterial&&!fe.isRawShaderMaterial||fe.clipping===!0)&&(Mt.clippingPlanes=pe.uniform),Un(fe,mt),Ve.needsLights=ms(fe),Ve.lightsStateVersion=pt,Ve.needsLights&&(Mt.ambientLightColor.value=Le.state.ambient,Mt.lightProbe.value=Le.state.probe,Mt.directionalLights.value=Le.state.directional,Mt.directionalLightShadows.value=Le.state.directionalShadow,Mt.spotLights.value=Le.state.spot,Mt.spotLightShadows.value=Le.state.spotShadow,Mt.rectAreaLights.value=Le.state.rectArea,Mt.ltc_1.value=Le.state.rectAreaLTC1,Mt.ltc_2.value=Le.state.rectAreaLTC2,Mt.pointLights.value=Le.state.point,Mt.pointLightShadows.value=Le.state.pointShadow,Mt.hemisphereLights.value=Le.state.hemi,Mt.directionalShadowMap.value=Le.state.directionalShadowMap,Mt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,Mt.spotShadowMap.value=Le.state.spotShadowMap,Mt.spotLightMatrix.value=Le.state.spotLightMatrix,Mt.spotLightMap.value=Le.state.spotLightMap,Mt.pointShadowMap.value=Le.state.pointShadowMap,Mt.pointShadowMatrix.value=Le.state.pointShadowMatrix),Ve.currentProgram=It,Ve.uniformsList=null,It}function di(fe){if(fe.uniformsList===null){const Re=fe.currentProgram.getUniforms();fe.uniformsList=zg.seqWithValue(Re.seq,fe.uniforms)}return fe.uniformsList}function Un(fe,Re){const Be=ue.get(fe);Be.outputColorSpace=Re.outputColorSpace,Be.batching=Re.batching,Be.batchingColor=Re.batchingColor,Be.instancing=Re.instancing,Be.instancingColor=Re.instancingColor,Be.instancingMorph=Re.instancingMorph,Be.skinning=Re.skinning,Be.morphTargets=Re.morphTargets,Be.morphNormals=Re.morphNormals,Be.morphColors=Re.morphColors,Be.morphTargetsCount=Re.morphTargetsCount,Be.numClippingPlanes=Re.numClippingPlanes,Be.numIntersection=Re.numClipIntersection,Be.vertexAlphas=Re.vertexAlphas,Be.vertexTangents=Re.vertexTangents,Be.toneMapping=Re.toneMapping}function dr(fe,Re,Be,Ve,Le){Re.isScene!==!0&&(Re=H),se.resetTextureUnits();const st=Re.fog,pt=Ve.isMeshStandardMaterial?Re.environment:null,mt=_===null?x.outputColorSpace:_.isXRRenderTarget===!0?_.texture.colorSpace:hl,xt=(Ve.isMeshStandardMaterial?re:me).get(Ve.envMap||pt),Tt=Ve.vertexColors===!0&&!!Be.attributes.color&&Be.attributes.color.itemSize===4,It=!!Be.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),Mt=!!Be.morphAttributes.position,rn=!!Be.morphAttributes.normal,On=!!Be.morphAttributes.color;let Nn=tl;Ve.toneMapped&&(_===null||_.isXRRenderTarget===!0)&&(Nn=x.toneMapping);const qr=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,un=qr!==void 0?qr.length:0,At=ue.get(Ve),Ir=p.state.lights;if(k===!0&&(V===!0||fe!==C)){const vt=fe===C&&Ve.id===w;pe.setState(Ve,fe,vt)}let an=!1;Ve.version===At.__version?(At.needsLights&&At.lightsStateVersion!==Ir.state.version||At.outputColorSpace!==mt||Le.isBatchedMesh&&At.batching===!1||!Le.isBatchedMesh&&At.batching===!0||Le.isBatchedMesh&&At.batchingColor===!0&&Le.colorTexture===null||Le.isBatchedMesh&&At.batchingColor===!1&&Le.colorTexture!==null||Le.isInstancedMesh&&At.instancing===!1||!Le.isInstancedMesh&&At.instancing===!0||Le.isSkinnedMesh&&At.skinning===!1||!Le.isSkinnedMesh&&At.skinning===!0||Le.isInstancedMesh&&At.instancingColor===!0&&Le.instanceColor===null||Le.isInstancedMesh&&At.instancingColor===!1&&Le.instanceColor!==null||Le.isInstancedMesh&&At.instancingMorph===!0&&Le.morphTexture===null||Le.isInstancedMesh&&At.instancingMorph===!1&&Le.morphTexture!==null||At.envMap!==xt||Ve.fog===!0&&At.fog!==st||At.numClippingPlanes!==void 0&&(At.numClippingPlanes!==pe.numPlanes||At.numIntersection!==pe.numIntersection)||At.vertexAlphas!==Tt||At.vertexTangents!==It||At.morphTargets!==Mt||At.morphNormals!==rn||At.morphColors!==On||At.toneMapping!==Nn||At.morphTargetsCount!==un)&&(an=!0):(an=!0,At.__version=Ve.version);let ve=At.currentProgram;an===!0&&(ve=tr(Ve,Re,Le));let Me=!1,Ue=!1,Qe=!1;const Xe=ve.getUniforms(),Je=At.uniforms;if(te.useProgram(ve.program)&&(Me=!0,Ue=!0,Qe=!0),Ve.id!==w&&(w=Ve.id,Ue=!0),Me||C!==fe){Xe.setValue(X,"projectionMatrix",fe.projectionMatrix),Xe.setValue(X,"viewMatrix",fe.matrixWorldInverse);const vt=Xe.map.cameraPosition;vt!==void 0&&vt.setValue(X,O.setFromMatrixPosition(fe.matrixWorld)),Z.logarithmicDepthBuffer&&Xe.setValue(X,"logDepthBufFC",2/(Math.log(fe.far+1)/Math.LN2)),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&Xe.setValue(X,"isOrthographic",fe.isOrthographicCamera===!0),C!==fe&&(C=fe,Ue=!0,Qe=!0)}if(Le.isSkinnedMesh){Xe.setOptional(X,Le,"bindMatrix"),Xe.setOptional(X,Le,"bindMatrixInverse");const vt=Le.skeleton;vt&&(vt.boneTexture===null&&vt.computeBoneTexture(),Xe.setValue(X,"boneTexture",vt.boneTexture,se))}Le.isBatchedMesh&&(Xe.setOptional(X,Le,"batchingTexture"),Xe.setValue(X,"batchingTexture",Le._matricesTexture,se),Xe.setOptional(X,Le,"batchingColorTexture"),Le._colorsTexture!==null&&Xe.setValue(X,"batchingColorTexture",Le._colorsTexture,se));const ut=Be.morphAttributes;if((ut.position!==void 0||ut.normal!==void 0||ut.color!==void 0)&&Ce.update(Le,Be,ve),(Ue||At.receiveShadow!==Le.receiveShadow)&&(At.receiveShadow=Le.receiveShadow,Xe.setValue(X,"receiveShadow",Le.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(Je.envMap.value=xt,Je.flipEnvMap.value=xt.isCubeTexture&&xt.isRenderTargetTexture===!1?-1:1),Ve.isMeshStandardMaterial&&Ve.envMap===null&&Re.environment!==null&&(Je.envMapIntensity.value=Re.environmentIntensity),Ue&&(Xe.setValue(X,"toneMappingExposure",x.toneMappingExposure),At.needsLights&&zi(Je,Qe),st&&Ve.fog===!0&&ne.refreshFogUniforms(Je,st),ne.refreshMaterialUniforms(Je,Ve,B,D,p.state.transmissionRenderTarget[fe.id]),zg.upload(X,di(At),Je,se)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(zg.upload(X,di(At),Je,se),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&Xe.setValue(X,"center",Le.center),Xe.setValue(X,"modelViewMatrix",Le.modelViewMatrix),Xe.setValue(X,"normalMatrix",Le.normalMatrix),Xe.setValue(X,"modelMatrix",Le.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const vt=Ve.uniformsGroups;for(let dt=0,Nt=vt.length;dt<Nt;dt++){const Bt=vt[dt];Pe.update(Bt,ve),Pe.bind(Bt,ve)}}return ve}function zi(fe,Re){fe.ambientLightColor.needsUpdate=Re,fe.lightProbe.needsUpdate=Re,fe.directionalLights.needsUpdate=Re,fe.directionalLightShadows.needsUpdate=Re,fe.pointLights.needsUpdate=Re,fe.pointLightShadows.needsUpdate=Re,fe.spotLights.needsUpdate=Re,fe.spotLightShadows.needsUpdate=Re,fe.rectAreaLights.needsUpdate=Re,fe.hemisphereLights.needsUpdate=Re}function ms(fe){return fe.isMeshLambertMaterial||fe.isMeshToonMaterial||fe.isMeshPhongMaterial||fe.isMeshStandardMaterial||fe.isShadowMaterial||fe.isShaderMaterial&&fe.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(fe,Re,Be){ue.get(fe.texture).__webglTexture=Re,ue.get(fe.depthTexture).__webglTexture=Be;const Ve=ue.get(fe);Ve.__hasExternalTextures=!0,Ve.__autoAllocateDepthBuffer=Be===void 0,Ve.__autoAllocateDepthBuffer||K.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ve.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(fe,Re){const Be=ue.get(fe);Be.__webglFramebuffer=Re,Be.__useDefaultFramebuffer=Re===void 0},this.setRenderTarget=function(fe,Re=0,Be=0){_=fe,A=Re,S=Be;let Ve=!0,Le=null,st=!1,pt=!1;if(fe){const xt=ue.get(fe);xt.__useDefaultFramebuffer!==void 0?(te.bindFramebuffer(X.FRAMEBUFFER,null),Ve=!1):xt.__webglFramebuffer===void 0?se.setupRenderTarget(fe):xt.__hasExternalTextures&&se.rebindTextures(fe,ue.get(fe.texture).__webglTexture,ue.get(fe.depthTexture).__webglTexture);const Tt=fe.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(pt=!0);const It=ue.get(fe).__webglFramebuffer;fe.isWebGLCubeRenderTarget?(Array.isArray(It[Re])?Le=It[Re][Be]:Le=It[Re],st=!0):fe.samples>0&&se.useMultisampledRTT(fe)===!1?Le=ue.get(fe).__webglMultisampledFramebuffer:Array.isArray(It)?Le=It[Be]:Le=It,M.copy(fe.viewport),T.copy(fe.scissor),E=fe.scissorTest}else M.copy(z).multiplyScalar(B).floor(),T.copy(N).multiplyScalar(B).floor(),E=U;if(te.bindFramebuffer(X.FRAMEBUFFER,Le)&&Ve&&te.drawBuffers(fe,Le),te.viewport(M),te.scissor(T),te.setScissorTest(E),st){const xt=ue.get(fe.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Re,xt.__webglTexture,Be)}else if(pt){const xt=ue.get(fe.texture),Tt=Re||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,xt.__webglTexture,Be||0,Tt)}w=-1},this.readRenderTargetPixels=function(fe,Re,Be,Ve,Le,st,pt){if(!(fe&&fe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let mt=ue.get(fe).__webglFramebuffer;if(fe.isWebGLCubeRenderTarget&&pt!==void 0&&(mt=mt[pt]),mt){te.bindFramebuffer(X.FRAMEBUFFER,mt);try{const xt=fe.texture,Tt=xt.format,It=xt.type;if(!Z.textureFormatReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Z.textureTypeReadable(It)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Re>=0&&Re<=fe.width-Ve&&Be>=0&&Be<=fe.height-Le&&X.readPixels(Re,Be,Ve,Le,_e.convert(Tt),_e.convert(It),st)}finally{const xt=_!==null?ue.get(_).__webglFramebuffer:null;te.bindFramebuffer(X.FRAMEBUFFER,xt)}}},this.readRenderTargetPixelsAsync=async function(fe,Re,Be,Ve,Le,st,pt){if(!(fe&&fe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let mt=ue.get(fe).__webglFramebuffer;if(fe.isWebGLCubeRenderTarget&&pt!==void 0&&(mt=mt[pt]),mt){te.bindFramebuffer(X.FRAMEBUFFER,mt);try{const xt=fe.texture,Tt=xt.format,It=xt.type;if(!Z.textureFormatReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Z.textureTypeReadable(It))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Re>=0&&Re<=fe.width-Ve&&Be>=0&&Be<=fe.height-Le){const Mt=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,Mt),X.bufferData(X.PIXEL_PACK_BUFFER,st.byteLength,X.STREAM_READ),X.readPixels(Re,Be,Ve,Le,_e.convert(Tt),_e.convert(It),0),X.flush();const rn=X.fenceSync(X.SYNC_GPU_COMMANDS_COMPLETE,0);await Tbe(X,rn,4);try{X.bindBuffer(X.PIXEL_PACK_BUFFER,Mt),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,st)}finally{X.deleteBuffer(Mt),X.deleteSync(rn)}return st}}finally{const xt=_!==null?ue.get(_).__webglFramebuffer:null;te.bindFramebuffer(X.FRAMEBUFFER,xt)}}},this.copyFramebufferToTexture=function(fe,Re=null,Be=0){fe.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Re=arguments[0]||null,fe=arguments[1]);const Ve=Math.pow(2,-Be),Le=Math.floor(fe.image.width*Ve),st=Math.floor(fe.image.height*Ve),pt=Re!==null?Re.x:0,mt=Re!==null?Re.y:0;se.setTexture2D(fe,0),X.copyTexSubImage2D(X.TEXTURE_2D,Be,0,0,pt,mt,Le,st),te.unbindTexture()},this.copyTextureToTexture=function(fe,Re,Be=null,Ve=null,Le=0){fe.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),Ve=arguments[0]||null,fe=arguments[1],Re=arguments[2],Le=arguments[3]||0,Be=null);let st,pt,mt,xt,Tt,It;Be!==null?(st=Be.max.x-Be.min.x,pt=Be.max.y-Be.min.y,mt=Be.min.x,xt=Be.min.y):(st=fe.image.width,pt=fe.image.height,mt=0,xt=0),Ve!==null?(Tt=Ve.x,It=Ve.y):(Tt=0,It=0);const Mt=_e.convert(Re.format),rn=_e.convert(Re.type);se.setTexture2D(Re,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Re.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Re.unpackAlignment);const On=X.getParameter(X.UNPACK_ROW_LENGTH),Nn=X.getParameter(X.UNPACK_IMAGE_HEIGHT),qr=X.getParameter(X.UNPACK_SKIP_PIXELS),un=X.getParameter(X.UNPACK_SKIP_ROWS),At=X.getParameter(X.UNPACK_SKIP_IMAGES),Ir=fe.isCompressedTexture?fe.mipmaps[Le]:fe.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,Ir.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Ir.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,mt),X.pixelStorei(X.UNPACK_SKIP_ROWS,xt),fe.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,Le,Tt,It,st,pt,Mt,rn,Ir.data):fe.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,Le,Tt,It,Ir.width,Ir.height,Mt,Ir.data):X.texSubImage2D(X.TEXTURE_2D,Le,Tt,It,Mt,rn,Ir),X.pixelStorei(X.UNPACK_ROW_LENGTH,On),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Nn),X.pixelStorei(X.UNPACK_SKIP_PIXELS,qr),X.pixelStorei(X.UNPACK_SKIP_ROWS,un),X.pixelStorei(X.UNPACK_SKIP_IMAGES,At),Le===0&&Re.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),te.unbindTexture()},this.copyTextureToTexture3D=function(fe,Re,Be=null,Ve=null,Le=0){fe.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Be=arguments[0]||null,Ve=arguments[1]||null,fe=arguments[2],Re=arguments[3],Le=arguments[4]||0);let st,pt,mt,xt,Tt,It,Mt,rn,On;const Nn=fe.isCompressedTexture?fe.mipmaps[Le]:fe.image;Be!==null?(st=Be.max.x-Be.min.x,pt=Be.max.y-Be.min.y,mt=Be.max.z-Be.min.z,xt=Be.min.x,Tt=Be.min.y,It=Be.min.z):(st=Nn.width,pt=Nn.height,mt=Nn.depth,xt=0,Tt=0,It=0),Ve!==null?(Mt=Ve.x,rn=Ve.y,On=Ve.z):(Mt=0,rn=0,On=0);const qr=_e.convert(Re.format),un=_e.convert(Re.type);let At;if(Re.isData3DTexture)se.setTexture3D(Re,0),At=X.TEXTURE_3D;else if(Re.isDataArrayTexture||Re.isCompressedArrayTexture)se.setTexture2DArray(Re,0),At=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Re.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Re.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Re.unpackAlignment);const Ir=X.getParameter(X.UNPACK_ROW_LENGTH),an=X.getParameter(X.UNPACK_IMAGE_HEIGHT),ve=X.getParameter(X.UNPACK_SKIP_PIXELS),Me=X.getParameter(X.UNPACK_SKIP_ROWS),Ue=X.getParameter(X.UNPACK_SKIP_IMAGES);X.pixelStorei(X.UNPACK_ROW_LENGTH,Nn.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Nn.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,xt),X.pixelStorei(X.UNPACK_SKIP_ROWS,Tt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,It),fe.isDataTexture||fe.isData3DTexture?X.texSubImage3D(At,Le,Mt,rn,On,st,pt,mt,qr,un,Nn.data):Re.isCompressedArrayTexture?X.compressedTexSubImage3D(At,Le,Mt,rn,On,st,pt,mt,qr,Nn.data):X.texSubImage3D(At,Le,Mt,rn,On,st,pt,mt,qr,un,Nn),X.pixelStorei(X.UNPACK_ROW_LENGTH,Ir),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,an),X.pixelStorei(X.UNPACK_SKIP_PIXELS,ve),X.pixelStorei(X.UNPACK_SKIP_ROWS,Me),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Ue),Le===0&&Re.generateMipmaps&&X.generateMipmap(At),te.unbindTexture()},this.initRenderTarget=function(fe){ue.get(fe).__webglFramebuffer===void 0&&se.setupRenderTarget(fe)},this.initTexture=function(fe){fe.isCubeTexture?se.setTextureCube(fe,0):fe.isData3DTexture?se.setTexture3D(fe,0):fe.isDataArrayTexture||fe.isCompressedArrayTexture?se.setTexture2DArray(fe,0):se.setTexture2D(fe,0),te.unbindTexture()},this.resetState=function(){A=0,S=0,_=null,te.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Xo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const n=this.getContext();n.drawingBufferColorSpace=t===BP?"display-p3":"srgb",n.unpackColorSpace=hn.workingColorSpace===n0?"display-p3":"srgb"}}class OCe extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new lo,this.environmentIntensity=1,this.environmentRotation=new lo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class NCe{constructor(t,n){this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=t!==void 0?t.length/n:0,this.usage=AM,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ns()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return VP("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,n){this.updateRanges.push({start:t,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,n,r){t*=this.stride,r*=n.stride;for(let a=0,i=this.stride;a<i;a++)this.array[t+a]=n.array[r+a];return this}set(t,n=0){return this.array.set(t,n),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ns()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ns()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Kr=new we;class Om{constructor(t,n,r,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let n=0,r=this.data.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix4(t),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyNormalMatrix(t),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.transformDirection(t),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}getComponent(t,n){let r=this.array[t*this.data.stride+this.offset+n];return this.normalized&&(r=Ai(r,this.array)),r}setComponent(t,n,r){return this.normalized&&(r=dn(r,this.array)),this.data.array[t*this.data.stride+this.offset+n]=r,this}setX(t,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[t*this.data.stride+this.offset]=n,this}setY(t,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[t*this.data.stride+this.offset+1]=n,this}setZ(t,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[t*this.data.stride+this.offset+2]=n,this}setW(t,n){return this.normalized&&(n=dn(n,this.array)),this.data.array[t*this.data.stride+this.offset+3]=n,this}getX(t){let n=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(n=Ai(n,this.array)),n}getY(t){let n=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(n=Ai(n,this.array)),n}getZ(t){let n=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(n=Ai(n,this.array)),n}getW(t){let n=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(n=Ai(n,this.array)),n}setXY(t,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this}setXYZ(t,n,r,a){return t=t*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array),a=dn(a,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this.data.array[t+2]=a,this}setXYZW(t,n,r,a,i){return t=t*this.data.stride+this.offset,this.normalized&&(n=dn(n,this.array),r=dn(r,this.array),a=dn(a,this.array),i=dn(i,this.array)),this.data.array[t+0]=n,this.data.array[t+1]=r,this.data.array[t+2]=a,this.data.array[t+3]=i,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)n.push(this.data.array[a+i])}return new ri(new this.array.constructor(n),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Om(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const a=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)n.push(this.data.array[a+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oj extends Iu{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let gc;const Id=new we,mc=new we,yc=new we,xc=new ot,Dd=new ot,sj=new Sn,ag=new we,Ld=new we,ig=new we,gH=new ot,Cw=new ot,mH=new ot;class kCe extends Tr{constructor(t=new oj){if(super(),this.isSprite=!0,this.type="Sprite",gc===void 0){gc=new ya;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new NCe(n,5);gc.setIndex([0,1,2,0,2,3]),gc.setAttribute("position",new Om(r,3,0,!1)),gc.setAttribute("uv",new Om(r,2,3,!1))}this.geometry=gc,this.material=t,this.center=new ot(.5,.5)}raycast(t,n){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),mc.setFromMatrixScale(this.matrixWorld),sj.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),yc.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&mc.multiplyScalar(-yc.z);const r=this.material.rotation;let a,i;r!==0&&(i=Math.cos(r),a=Math.sin(r));const o=this.center;og(ag.set(-.5,-.5,0),yc,o,mc,a,i),og(Ld.set(.5,-.5,0),yc,o,mc,a,i),og(ig.set(.5,.5,0),yc,o,mc,a,i),gH.set(0,0),Cw.set(1,0),mH.set(1,1);let s=t.ray.intersectTriangle(ag,Ld,ig,!1,Id);if(s===null&&(og(Ld.set(-.5,.5,0),yc,o,mc,a,i),Cw.set(0,1),s=t.ray.intersectTriangle(ag,ig,Ld,!1,Id),s===null))return;const l=t.ray.origin.distanceTo(Id);l<t.near||l>t.far||n.push({distance:l,point:Id.clone(),uv:wi.getInterpolation(Id,ag,Ld,ig,gH,Cw,mH,new ot),face:null,object:this})}copy(t,n){return super.copy(t,n),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function og(e,t,n,r,a,i){xc.subVectors(e,n).addScalar(.5).multiply(r),a!==void 0?(Dd.x=i*xc.x-a*xc.y,Dd.y=a*xc.x+i*xc.y):Dd.copy(xc),e.copy(t),e.x+=Dd.x,e.y+=Dd.y,e.applyMatrix4(sj)}class lj extends Iu{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Nm=new we,km=new we,yH=new Sn,Od=new a0,sg=new r0,Mw=new we,xH=new we;class BCe extends Tr{constructor(t=new ya,n=new lj){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const n=t.attributes.position,r=[0];for(let a=1,i=n.count;a<i;a++)Nm.fromBufferAttribute(n,a-1),km.fromBufferAttribute(n,a),r[a]=r[a-1],r[a]+=Nm.distanceTo(km);t.setAttribute("lineDistance",new hr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,n){const r=this.geometry,a=this.matrixWorld,i=t.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sg.copy(r.boundingSphere),sg.applyMatrix4(a),sg.radius+=i,t.ray.intersectsSphere(sg)===!1)return;yH.copy(a).invert(),Od.copy(t.ray).applyMatrix4(yH);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let m=h,p=v-1;m<p;m+=u){const g=c.getX(m),y=c.getX(m+1),x=lg(this,t,Od,l,g,y);x&&n.push(x)}if(this.isLineLoop){const m=c.getX(v-1),p=c.getX(h),g=lg(this,t,Od,l,m,p);g&&n.push(g)}}else{const h=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let m=h,p=v-1;m<p;m+=u){const g=lg(this,t,Od,l,m,m+1);g&&n.push(g)}if(this.isLineLoop){const m=lg(this,t,Od,l,v-1,h);m&&n.push(m)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){const s=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}}function lg(e,t,n,r,a,i){const o=e.geometry.attributes.position;if(Nm.fromBufferAttribute(o,a),km.fromBufferAttribute(o,i),n.distanceSqToSegment(Nm,km,Mw,xH)>r)return;Mw.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(Mw);if(!(l<t.near||l>t.far))return{distance:l,point:xH.clone().applyMatrix4(e.matrixWorld),index:a,face:null,faceIndex:null,object:e}}class cs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,n){const r=this.getUtoTmapping(t);return this.getPoint(r,n)}getPoints(t=5){const n=[];for(let r=0;r<=t;r++)n.push(this.getPoint(r/t));return n}getSpacedPoints(t=5){const n=[];for(let r=0;r<=t;r++)n.push(this.getPointAt(r/t));return n}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,a=this.getPoint(0),i=0;n.push(0);for(let o=1;o<=t;o++)r=this.getPoint(o/t),i+=r.distanceTo(a),n.push(i),a=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,n){const r=this.getLengths();let a=0;const i=r.length;let o;n?o=n:o=t*r[i-1];let s=0,l=i-1,u;for(;s<=l;)if(a=Math.floor(s+(l-s)/2),u=r[a]-o,u<0)s=a+1;else if(u>0)l=a-1;else{l=a;break}if(a=l,r[a]===o)return a/(i-1);const c=r[a],d=r[a+1]-c,h=(o-c)/d;return(a+h)/(i-1)}getTangent(t,n){let a=t-1e-4,i=t+1e-4;a<0&&(a=0),i>1&&(i=1);const o=this.getPoint(a),s=this.getPoint(i),l=n||(o.isVector2?new ot:new we);return l.copy(s).sub(o).normalize(),l}getTangentAt(t,n){const r=this.getUtoTmapping(t);return this.getTangent(r,n)}computeFrenetFrames(t,n){const r=new we,a=[],i=[],o=[],s=new we,l=new Sn;for(let h=0;h<=t;h++){const v=h/t;a[h]=this.getTangentAt(v,new we)}i[0]=new we,o[0]=new we;let u=Number.MAX_VALUE;const c=Math.abs(a[0].x),f=Math.abs(a[0].y),d=Math.abs(a[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),i[0].crossVectors(a[0],s),o[0].crossVectors(a[0],i[0]);for(let h=1;h<=t;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(a[h-1],a[h]),s.length()>Number.EPSILON){s.normalize();const v=Math.acos(Ar(a[h-1].dot(a[h]),-1,1));i[h].applyMatrix4(l.makeRotationAxis(s,v))}o[h].crossVectors(a[h],i[h])}if(n===!0){let h=Math.acos(Ar(i[0].dot(i[t]),-1,1));h/=t,a[0].dot(s.crossVectors(i[0],i[t]))>0&&(h=-h);for(let v=1;v<=t;v++)i[v].applyMatrix4(l.makeRotationAxis(a[v],h*v)),o[v].crossVectors(a[v],i[v])}return{tangents:a,normals:i,binormals:o}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class uj extends cs{constructor(t=0,n=0,r=1,a=1,i=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=n,this.xRadius=r,this.yRadius=a,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(t,n=new ot){const r=n,a=Math.PI*2;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=a;for(;i>a;)i-=a;i<Number.EPSILON&&(o?i=0:i=a),this.aClockwise===!0&&!o&&(i===a?i=-a:i=i-a);const s=this.aStartAngle+t*i;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=u-this.aY;l=d*c-h*f+this.aX,u=d*f+h*c+this.aY}return r.set(l,u)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class FCe extends uj{constructor(t,n,r,a,i,o){super(t,n,r,r,a,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function WP(){let e=0,t=0,n=0,r=0;function a(i,o,s,l){e=i,t=s,n=-3*i+3*o-2*s-l,r=2*i-2*o+s+l}return{initCatmullRom:function(i,o,s,l,u){a(o,s,u*(s-i),u*(l-o))},initNonuniformCatmullRom:function(i,o,s,l,u,c,f){let d=(o-i)/u-(s-i)/(u+c)+(s-o)/c,h=(s-o)/c-(l-o)/(c+f)+(l-s)/f;d*=c,h*=c,a(o,s,d,h)},calc:function(i){const o=i*i,s=o*i;return e+t*i+n*o+r*s}}}const ug=new we,Tw=new WP,Ew=new WP,Pw=new WP;class VCe extends cs{constructor(t=[],n=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=n,this.curveType=r,this.tension=a}getPoint(t,n=new we){const r=n,a=this.points,i=a.length,o=(i-(this.closed?0:1))*t;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:l===0&&s===i-1&&(s=i-2,l=1);let u,c;this.closed||s>0?u=a[(s-1)%i]:(ug.subVectors(a[0],a[1]).add(a[0]),u=ug);const f=a[s%i],d=a[(s+1)%i];if(this.closed||s+2<i?c=a[(s+2)%i]:(ug.subVectors(a[i-1],a[i-2]).add(a[i-1]),c=ug),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),h),m=Math.pow(f.distanceToSquared(d),h),p=Math.pow(d.distanceToSquared(c),h);m<1e-4&&(m=1),v<1e-4&&(v=m),p<1e-4&&(p=m),Tw.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,v,m,p),Ew.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,v,m,p),Pw.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,v,m,p)}else this.curveType==="catmullrom"&&(Tw.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),Ew.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),Pw.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(Tw.calc(l),Ew.calc(l),Pw.calc(l)),r}copy(t){super.copy(t),this.points=[];for(let n=0,r=t.points.length;n<r;n++){const a=t.points[n];this.points.push(a.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let n=0,r=this.points.length;n<r;n++){const a=this.points[n];t.points.push(a.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let n=0,r=t.points.length;n<r;n++){const a=t.points[n];this.points.push(new we().fromArray(a))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function bH(e,t,n,r,a){const i=(r-t)*.5,o=(a-n)*.5,s=e*e,l=e*s;return(2*n-2*r+i+o)*l+(-3*n+3*r-2*i-o)*s+i*e+n}function zCe(e,t){const n=1-e;return n*n*t}function UCe(e,t){return 2*(1-e)*e*t}function HCe(e,t){return e*e*t}function ch(e,t,n,r){return zCe(e,t)+UCe(e,n)+HCe(e,r)}function $Ce(e,t){const n=1-e;return n*n*n*t}function GCe(e,t){const n=1-e;return 3*n*n*e*t}function WCe(e,t){return 3*(1-e)*e*e*t}function jCe(e,t){return e*e*e*t}function fh(e,t,n,r,a){return $Ce(e,t)+GCe(e,n)+WCe(e,r)+jCe(e,a)}class YCe extends cs{constructor(t=new ot,n=new ot,r=new ot,a=new ot){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=n,this.v2=r,this.v3=a}getPoint(t,n=new ot){const r=n,a=this.v0,i=this.v1,o=this.v2,s=this.v3;return r.set(fh(t,a.x,i.x,o.x,s.x),fh(t,a.y,i.y,o.y,s.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class cj extends cs{constructor(t=new we,n=new we,r=new we,a=new we){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=n,this.v2=r,this.v3=a}getPoint(t,n=new we){const r=n,a=this.v0,i=this.v1,o=this.v2,s=this.v3;return r.set(fh(t,a.x,i.x,o.x,s.x),fh(t,a.y,i.y,o.y,s.y),fh(t,a.z,i.z,o.z,s.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class XCe extends cs{constructor(t=new ot,n=new ot){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=n}getPoint(t,n=new ot){const r=n;return t===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,n){return this.getPoint(t,n)}getTangent(t,n=new ot){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,n){return this.getTangent(t,n)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class qCe extends cs{constructor(t=new we,n=new we){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=n}getPoint(t,n=new we){const r=n;return t===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r}getPointAt(t,n){return this.getPoint(t,n)}getTangent(t,n=new we){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,n){return this.getTangent(t,n)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class KCe extends cs{constructor(t=new ot,n=new ot,r=new ot){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=n,this.v2=r}getPoint(t,n=new ot){const r=n,a=this.v0,i=this.v1,o=this.v2;return r.set(ch(t,a.x,i.x,o.x),ch(t,a.y,i.y,o.y)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class jP extends cs{constructor(t=new we,n=new we,r=new we){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=n,this.v2=r}getPoint(t,n=new we){const r=n,a=this.v0,i=this.v1,o=this.v2;return r.set(ch(t,a.x,i.x,o.x),ch(t,a.y,i.y,o.y),ch(t,a.z,i.z,o.z)),r}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ZCe extends cs{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,n=new ot){const r=n,a=this.points,i=(a.length-1)*t,o=Math.floor(i),s=i-o,l=a[o===0?o:o-1],u=a[o],c=a[o>a.length-2?a.length-1:o+1],f=a[o>a.length-3?a.length-1:o+2];return r.set(bH(s,l.x,u.x,c.x,f.x),bH(s,l.y,u.y,c.y,f.y)),r}copy(t){super.copy(t),this.points=[];for(let n=0,r=t.points.length;n<r;n++){const a=t.points[n];this.points.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let n=0,r=this.points.length;n<r;n++){const a=this.points[n];t.points.push(a.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let n=0,r=t.points.length;n<r;n++){const a=t.points[n];this.points.push(new ot().fromArray(a))}return this}}var QCe=Object.freeze({__proto__:null,ArcCurve:FCe,CatmullRomCurve3:VCe,CubicBezierCurve:YCe,CubicBezierCurve3:cj,EllipseCurve:uj,LineCurve:XCe,LineCurve3:qCe,QuadraticBezierCurve:KCe,QuadraticBezierCurve3:jP,SplineCurve:ZCe});class s0 extends ya{constructor(t=1,n=1,r=1,a=32,i=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:n,height:r,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:l};const u=this;a=Math.floor(a),i=Math.floor(i);const c=[],f=[],d=[],h=[];let v=0;const m=[],p=r/2;let g=0;y(),o===!1&&(t>0&&x(!0),n>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new hr(f,3)),this.setAttribute("normal",new hr(d,3)),this.setAttribute("uv",new hr(h,2));function y(){const b=new we,A=new we;let S=0;const _=(n-t)/r;for(let w=0;w<=i;w++){const C=[],M=w/i,T=M*(n-t)+t;for(let E=0;E<=a;E++){const P=E/a,R=P*l+s,I=Math.sin(R),D=Math.cos(R);A.x=T*I,A.y=-M*r+p,A.z=T*D,f.push(A.x,A.y,A.z),b.set(I,_,D).normalize(),d.push(b.x,b.y,b.z),h.push(P,1-M),C.push(v++)}m.push(C)}for(let w=0;w<a;w++)for(let C=0;C<i;C++){const M=m[C][w],T=m[C+1][w],E=m[C+1][w+1],P=m[C][w+1];c.push(M,T,P),c.push(T,E,P),S+=6}u.addGroup(g,S,0),g+=S}function x(b){const A=v,S=new ot,_=new we;let w=0;const C=b===!0?t:n,M=b===!0?1:-1;for(let E=1;E<=a;E++)f.push(0,p*M,0),d.push(0,M,0),h.push(.5,.5),v++;const T=v;for(let E=0;E<=a;E++){const R=E/a*l+s,I=Math.cos(R),D=Math.sin(R);_.x=C*D,_.y=p*M,_.z=C*I,f.push(_.x,_.y,_.z),d.push(0,M,0),S.x=I*.5+.5,S.y=D*.5*M+.5,h.push(S.x,S.y),v++}for(let E=0;E<a;E++){const P=A+E,R=T+E;b===!0?c.push(R,R+1,P):c.push(R+1,R,P),w+=3}u.addGroup(g,w,b===!0?1:2),g+=w}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new s0(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class YP extends s0{constructor(t=1,n=1,r=32,a=1,i=!1,o=0,s=Math.PI*2){super(0,t,n,r,a,i,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:n,radialSegments:r,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:s}}static fromJSON(t){return new YP(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class l0 extends ya{constructor(t=1,n=32,r=16,a=0,i=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:n,heightSegments:r,phiStart:a,phiLength:i,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new we,d=new we,h=[],v=[],m=[],p=[];for(let g=0;g<=r;g++){const y=[],x=g/r;let b=0;g===0&&o===0?b=.5/n:g===r&&l===Math.PI&&(b=-.5/n);for(let A=0;A<=n;A++){const S=A/n;f.x=-t*Math.cos(a+S*i)*Math.sin(o+x*s),f.y=t*Math.cos(o+x*s),f.z=t*Math.sin(a+S*i)*Math.sin(o+x*s),v.push(f.x,f.y,f.z),d.copy(f).normalize(),m.push(d.x,d.y,d.z),p.push(S+b,1-x),y.push(u++)}c.push(y)}for(let g=0;g<r;g++)for(let y=0;y<n;y++){const x=c[g][y+1],b=c[g][y],A=c[g+1][y],S=c[g+1][y+1];(g!==0||o>0)&&h.push(x,b,S),(g!==r-1||l<Math.PI)&&h.push(b,A,S)}this.setIndex(h),this.setAttribute("position",new hr(v,3)),this.setAttribute("normal",new hr(m,3)),this.setAttribute("uv",new hr(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new l0(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class XP extends ya{constructor(t=new jP(new we(-1,-1,0),new we(-1,1,0),new we(1,1,0)),n=64,r=1,a=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:n,radius:r,radialSegments:a,closed:i};const o=t.computeFrenetFrames(n,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new we,l=new we,u=new ot;let c=new we;const f=[],d=[],h=[],v=[];m(),this.setIndex(v),this.setAttribute("position",new hr(f,3)),this.setAttribute("normal",new hr(d,3)),this.setAttribute("uv",new hr(h,2));function m(){for(let x=0;x<n;x++)p(x);p(i===!1?n:0),y(),g()}function p(x){c=t.getPointAt(x/n,c);const b=o.normals[x],A=o.binormals[x];for(let S=0;S<=a;S++){const _=S/a*Math.PI*2,w=Math.sin(_),C=-Math.cos(_);l.x=C*b.x+w*A.x,l.y=C*b.y+w*A.y,l.z=C*b.z+w*A.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function g(){for(let x=1;x<=n;x++)for(let b=1;b<=a;b++){const A=(a+1)*(x-1)+(b-1),S=(a+1)*x+(b-1),_=(a+1)*x+b,w=(a+1)*(x-1)+b;v.push(A,S,w),v.push(S,_,w)}}function y(){for(let x=0;x<=n;x++)for(let b=0;b<=a;b++)u.x=x/n,u.y=b/a,h.push(u.x,u.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new XP(new QCe[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class JCe extends Iu{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=U9,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new lo,this.combine=kP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}const SH={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class eMe{constructor(t,n,r){const a=this;let i=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,i===!1&&a.onStart!==void 0&&a.onStart(c,o,s),i=!0},this.itemEnd=function(c){o++,a.onProgress!==void 0&&a.onProgress(c,o,s),o===s&&(i=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(c){a.onError!==void 0&&a.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const h=u[f],v=u[f+1];if(h.global&&(h.lastIndex=0),h.test(c))return v}return null}}}const tMe=new eMe;class qP{constructor(t){this.manager=t!==void 0?t:tMe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,n){const r=this;return new Promise(function(a,i){r.load(t,a,n,i)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}qP.DEFAULT_MATERIAL_NAME="__DEFAULT";class nMe extends qP{constructor(t){super(t)}load(t,n,r,a){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const i=this,o=SH.get(t);if(o!==void 0)return i.manager.itemStart(t),setTimeout(function(){n&&n(o),i.manager.itemEnd(t)},0),o;const s=Dh("img");function l(){c(),SH.add(t,this),n&&n(this),i.manager.itemEnd(t)}function u(f){c(),a&&a(f),i.manager.itemError(t),i.manager.itemEnd(t)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s}}class rMe extends qP{constructor(t){super(t)}load(t,n,r,a){const i=new Gr,o=new nMe(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(s){i.image=s,i.needsUpdate=!0,n!==void 0&&n(i)},r,a),i}}class fj extends Tr{constructor(t,n=1){super(),this.isLight=!0,this.type="Light",this.color=new qt(t),this.intensity=n}dispose(){}copy(t,n){return super.copy(t,n),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const n=super.toJSON(t);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Rw=new Sn,_H=new we,AH=new we;class aMe{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ot(512,512),this.map=null,this.mapPass=null,this.matrix=new Sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new HP,this._frameExtents=new ot(1,1),this._viewportCount=1,this._viewports=[new Mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const n=this.camera,r=this.matrix;_H.setFromMatrixPosition(t.matrixWorld),n.position.copy(_H),AH.setFromMatrixPosition(t.target.matrixWorld),n.lookAt(AH),n.updateMatrixWorld(),Rw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Rw),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Rw)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class iMe extends aMe{constructor(){super(new $P(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class oMe extends fj{constructor(t,n){super(t,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new iMe}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class sMe extends fj{constructor(t,n){super(t,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class dj{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wH(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=wH();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}function wH(){return(typeof performance>"u"?Date:performance).now()}const CH=new Sn;class hj{constructor(t,n,r=0,a=1/0){this.ray=new a0(t,n),this.near=r,this.far=a,this.camera=null,this.layers=new zP,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,n){this.ray.set(t,n)}setFromCamera(t,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(t){return CH.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(CH),this}intersectObject(t,n=!0,r=[]){return MM(t,this,r,n),r.sort(MH),r}intersectObjects(t,n=!0,r=[]){for(let a=0,i=t.length;a<i;a++)MM(t[a],this,r,n);return r.sort(MH),r}}function MH(e,t){return e.distance-t.distance}function MM(e,t,n,r){let a=!0;if(e.layers.test(t.layers)&&e.raycast(t,n)===!1&&(a=!1),a===!0&&r===!0){const i=e.children;for(let o=0,s=i.length;o<s;o++)MM(i[o],t,n,!0)}}class TM{constructor(t=1,n=0,r=0){return this.radius=t,this.phi=n,this.theta=r,this}set(t,n,r){return this.radius=t,this.phi=n,this.theta=r,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,n,r){return this.radius=Math.sqrt(t*t+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,r),this.phi=Math.acos(Ar(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e0);const bc=new Go,Ls=new hj,Lo=new ot,TH=new we,Iw=new ot,cg=new ot,fg=new we,Dw=new we,EH=new Sn,PH=new we,RH=new we;class lMe extends Vi{constructor(t,n,r){super(),r.style.touchAction="none";let a=null,i=null;const o=[];this.mode="translate",this.rotateSpeed=1;const s=this;function l(){r.addEventListener("pointermove",v),r.addEventListener("pointerdown",m),r.addEventListener("pointerup",p),r.addEventListener("pointerleave",p)}function u(){r.removeEventListener("pointermove",v),r.removeEventListener("pointerdown",m),r.removeEventListener("pointerup",p),r.removeEventListener("pointerleave",p),r.style.cursor=""}function c(){u()}function f(){return t}function d(x){t=x}function h(){return Ls}function v(x){if(s.enabled!==!1){if(g(x),Ls.setFromCamera(Lo,n),a)s.mode==="translate"?Ls.ray.intersectPlane(bc,fg)&&a.position.copy(fg.sub(TH).applyMatrix4(EH)):s.mode==="rotate"&&(Iw.subVectors(Lo,cg).multiplyScalar(s.rotateSpeed),a.rotateOnWorldAxis(PH,Iw.x),a.rotateOnWorldAxis(RH.normalize(),-Iw.y)),s.dispatchEvent({type:"drag",object:a}),cg.copy(Lo);else if(x.pointerType==="mouse"||x.pointerType==="pen")if(o.length=0,Ls.setFromCamera(Lo,n),Ls.intersectObjects(t,s.recursive,o),o.length>0){const b=o[0].object;bc.setFromNormalAndCoplanarPoint(n.getWorldDirection(bc.normal),Dw.setFromMatrixPosition(b.matrixWorld)),i!==b&&i!==null&&(s.dispatchEvent({type:"hoveroff",object:i}),r.style.cursor="auto",i=null),i!==b&&(s.dispatchEvent({type:"hoveron",object:b}),r.style.cursor="pointer",i=b)}else i!==null&&(s.dispatchEvent({type:"hoveroff",object:i}),r.style.cursor="auto",i=null);cg.copy(Lo)}}function m(x){s.enabled!==!1&&(g(x),o.length=0,Ls.setFromCamera(Lo,n),Ls.intersectObjects(t,s.recursive,o),o.length>0&&(s.transformGroup===!0?a=y(o[0].object):a=o[0].object,bc.setFromNormalAndCoplanarPoint(n.getWorldDirection(bc.normal),Dw.setFromMatrixPosition(a.matrixWorld)),Ls.ray.intersectPlane(bc,fg)&&(s.mode==="translate"?(EH.copy(a.parent.matrixWorld).invert(),TH.copy(fg).sub(Dw.setFromMatrixPosition(a.matrixWorld))):s.mode==="rotate"&&(PH.set(0,1,0).applyQuaternion(n.quaternion).normalize(),RH.set(1,0,0).applyQuaternion(n.quaternion).normalize())),r.style.cursor="move",s.dispatchEvent({type:"dragstart",object:a})),cg.copy(Lo))}function p(){s.enabled!==!1&&(a&&(s.dispatchEvent({type:"dragend",object:a}),a=null),r.style.cursor=i?"pointer":"auto")}function g(x){const b=r.getBoundingClientRect();Lo.x=(x.clientX-b.left)/b.width*2-1,Lo.y=-(x.clientY-b.top)/b.height*2+1}function y(x,b=null){return x.isGroup&&(b=x),x.parent===null?b:y(x.parent,b)}l(),this.enabled=!0,this.recursive=!0,this.transformGroup=!1,this.activate=l,this.deactivate=u,this.dispose=c,this.getObjects=f,this.getRaycaster=h,this.setObjects=d}}function uMe(e,t,n){var r,a=1;e==null&&(e=0),t==null&&(t=0),n==null&&(n=0);function i(){var o,s=r.length,l,u=0,c=0,f=0;for(o=0;o<s;++o)l=r[o],u+=l.x||0,c+=l.y||0,f+=l.z||0;for(u=(u/s-e)*a,c=(c/s-t)*a,f=(f/s-n)*a,o=0;o<s;++o)l=r[o],u&&(l.x-=u),c&&(l.y-=c),f&&(l.z-=f)}return i.initialize=function(o){r=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.z=function(o){return arguments.length?(n=+o,i):n},i.strength=function(o){return arguments.length?(a=+o,i):a},i}function cMe(e){const t=+this._x.call(null,e);return vj(this.cover(t),t,e)}function vj(e,t,n){if(isNaN(t))return e;var r,a=e._root,i={data:n},o=e._x0,s=e._x1,l,u,c,f,d;if(!a)return e._root=i,e;for(;a.length;)if((c=t>=(l=(o+s)/2))?o=l:s=l,r=a,!(a=a[f=+c]))return r[f]=i,e;if(u=+e._x.call(null,a.data),t===u)return i.next=a,r?r[f]=i:e._root=i,e;do r=r?r[f]=new Array(2):e._root=new Array(2),(c=t>=(l=(o+s)/2))?o=l:s=l;while((f=+c)==(d=+(u>=l)));return r[d]=a,r[f]=i,e}function fMe(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t);let r=1/0,a=-1/0;for(let i=0,o;i<t;++i)isNaN(o=+this._x.call(null,e[i]))||(n[i]=o,o<r&&(r=o),o>a&&(a=o));if(r>a)return this;this.cover(r).cover(a);for(let i=0;i<t;++i)vj(this,n[i],e[i]);return this}function dMe(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r=n-t||1,a=this._root,i,o;t>e||e>=n;)switch(o=+(e<t),i=new Array(2),i[o]=a,a=i,r*=2,o){case 0:n=t+r;break;case 1:t=n-r;break}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=n,this}function hMe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function vMe(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function rs(e,t,n){this.node=e,this.x0=t,this.x1=n}function pMe(e,t){var n,r=this._x0,a,i,o=this._x1,s=[],l=this._root,u,c;for(l&&s.push(new rs(l,r,o)),t==null?t=1/0:(r=e-t,o=e+t);u=s.pop();)if(!(!(l=u.node)||(a=u.x0)>o||(i=u.x1)<r))if(l.length){var f=(a+i)/2;s.push(new rs(l[1],f,i),new rs(l[0],a,f)),(c=+(e>=f))&&(u=s[s.length-1],s[s.length-1]=s[s.length-1-c],s[s.length-1-c]=u)}else{var d=Math.abs(e-+this._x.call(null,l.data));d<t&&(t=d,r=e-d,o=e+d,n=l.data)}return n}function gMe(e){if(isNaN(l=+this._x.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._x1,l,u,c,f,d;if(!n)return this;if(n.length)for(;;){if((c=l>=(u=(o+s)/2))?o=u:s=u,t=n,!(n=n[f=+c]))return this;if(!n.length)break;t[f+1&1]&&(r=t,d=f)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[f]=i:delete t[f],(n=t[0]||t[1])&&n===(t[1]||t[0])&&!n.length&&(r?r[d]=n:this._root=n),this):(this._root=i,this)}function mMe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function yMe(){return this._root}function xMe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function bMe(e){var t=[],n,r=this._root,a,i,o;for(r&&t.push(new rs(r,this._x0,this._x1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.x1)&&r.length){var s=(i+o)/2;(a=r[1])&&t.push(new rs(a,s,o)),(a=r[0])&&t.push(new rs(a,i,s))}return this}function SMe(e){var t=[],n=[],r;for(this._root&&t.push(new rs(this._root,this._x0,this._x1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.x1,l=(o+s)/2;(i=a[0])&&t.push(new rs(i,o,l)),(i=a[1])&&t.push(new rs(i,l,s))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.x1);return this}function _Me(e){return e[0]}function AMe(e){return arguments.length?(this._x=e,this):this._x}function pj(e,t){var n=new KP(t??_Me,NaN,NaN);return e==null?n:n.addAll(e)}function KP(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function IH(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var xa=pj.prototype=KP.prototype;xa.copy=function(){var e=new KP(this._x,this._x0,this._x1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=IH(t),e;for(n=[{source:t,target:e._root=new Array(2)}];t=n.pop();)for(var a=0;a<2;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(2)}):t.target[a]=IH(r));return e};xa.add=cMe;xa.addAll=fMe;xa.cover=dMe;xa.data=hMe;xa.extent=vMe;xa.find=pMe;xa.remove=gMe;xa.removeAll=mMe;xa.root=yMe;xa.size=xMe;xa.visit=bMe;xa.visitAfter=SMe;xa.x=AMe;function wMe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return gj(this.cover(t,n),t,n,e)}function gj(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,l=e._y0,u=e._x1,c=e._y1,f,d,h,v,m,p,g,y;if(!i)return e._root=o,e;for(;i.length;)if((m=t>=(f=(s+u)/2))?s=f:u=f,(p=n>=(d=(l+c)/2))?l=d:c=d,a=i,!(i=i[g=p<<1|m]))return a[g]=o,e;if(h=+e._x.call(null,i.data),v=+e._y.call(null,i.data),t===h&&n===v)return o.next=i,a?a[g]=o:e._root=o,e;do a=a?a[g]=new Array(4):e._root=new Array(4),(m=t>=(f=(s+u)/2))?s=f:u=f,(p=n>=(d=(l+c)/2))?l=d:c=d;while((g=p<<1|m)===(y=(v>=d)<<1|h>=f));return a[y]=i,a[g]=o,e}function CMe(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=a,s[n]=i,a<l&&(l=a),a>c&&(c=a),i<u&&(u=i),i>f&&(f=i));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<r;++n)gj(this,o[n],s[n],e[n]);return this}function MMe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o=a-n||1,s=this._root,l,u;n>e||e>=a||r>t||t>=i;)switch(u=(t<r)<<1|e<n,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function TMe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function EMe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function na(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function PMe(e,t,n){var r,a=this._x0,i=this._y0,o,s,l,u,c=this._x1,f=this._y1,d=[],h=this._root,v,m;for(h&&d.push(new na(h,a,i,c,f)),n==null?n=1/0:(a=e-n,i=t-n,c=e+n,f=t+n,n*=n);v=d.pop();)if(!(!(h=v.node)||(o=v.x0)>c||(s=v.y0)>f||(l=v.x1)<a||(u=v.y1)<i))if(h.length){var p=(o+l)/2,g=(s+u)/2;d.push(new na(h[3],p,g,l,u),new na(h[2],o,g,p,u),new na(h[1],p,s,l,g),new na(h[0],o,s,p,g)),(m=(t>=g)<<1|e>=p)&&(v=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=v)}else{var y=e-+this._x.call(null,h.data),x=t-+this._y.call(null,h.data),b=y*y+x*x;if(b<n){var A=Math.sqrt(n=b);a=e-A,i=t-A,c=e+A,f=t+A,r=h.data}}return r}function RMe(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,f,d,h,v,m,p,g;if(!n)return this;if(n.length)for(;;){if((v=c>=(d=(o+l)/2))?o=d:l=d,(m=f>=(h=(s+u)/2))?s=h:u=h,t=n,!(n=n[p=m<<1|v]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,g=p)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[p]=i:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=i,this)}function IMe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function DMe(){return this._root}function LMe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function OMe(e){var t=[],n,r=this._root,a,i,o,s,l;for(r&&t.push(new na(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var u=(i+s)/2,c=(o+l)/2;(a=r[3])&&t.push(new na(a,u,c,s,l)),(a=r[2])&&t.push(new na(a,i,c,u,l)),(a=r[1])&&t.push(new na(a,u,o,s,c)),(a=r[0])&&t.push(new na(a,i,o,u,c))}return this}function NMe(e){var t=[],n=[],r;for(this._root&&t.push(new na(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.x1,u=r.y1,c=(o+l)/2,f=(s+u)/2;(i=a[0])&&t.push(new na(i,o,s,c,f)),(i=a[1])&&t.push(new na(i,c,s,l,f)),(i=a[2])&&t.push(new na(i,o,f,c,u)),(i=a[3])&&t.push(new na(i,c,f,l,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function kMe(e){return e[0]}function BMe(e){return arguments.length?(this._x=e,this):this._x}function FMe(e){return e[1]}function VMe(e){return arguments.length?(this._y=e,this):this._y}function mj(e,t,n){var r=new ZP(t??kMe,n??FMe,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function ZP(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function DH(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var oa=mj.prototype=ZP.prototype;oa.copy=function(){var e=new ZP(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=DH(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=DH(r));return e};oa.add=wMe;oa.addAll=CMe;oa.cover=MMe;oa.data=TMe;oa.extent=EMe;oa.find=PMe;oa.remove=RMe;oa.removeAll=IMe;oa.root=DMe;oa.size=LMe;oa.visit=OMe;oa.visitAfter=NMe;oa.x=BMe;oa.y=VMe;function zMe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return yj(this.cover(t,n,r),t,n,r,e)}function yj(e,t,n,r,a){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var i,o=e._root,s={data:a},l=e._x0,u=e._y0,c=e._z0,f=e._x1,d=e._y1,h=e._z1,v,m,p,g,y,x,b,A,S,_,w;if(!o)return e._root=s,e;for(;o.length;)if((b=t>=(v=(l+f)/2))?l=v:f=v,(A=n>=(m=(u+d)/2))?u=m:d=m,(S=r>=(p=(c+h)/2))?c=p:h=p,i=o,!(o=o[_=S<<2|A<<1|b]))return i[_]=s,e;if(g=+e._x.call(null,o.data),y=+e._y.call(null,o.data),x=+e._z.call(null,o.data),t===g&&n===y&&r===x)return s.next=o,i?i[_]=s:e._root=s,e;do i=i?i[_]=new Array(8):e._root=new Array(8),(b=t>=(v=(l+f)/2))?l=v:f=v,(A=n>=(m=(u+d)/2))?u=m:d=m,(S=r>=(p=(c+h)/2))?c=p:h=p;while((_=S<<2|A<<1|b)===(w=(x>=p)<<2|(y>=m)<<1|g>=v));return i[w]=o,i[_]=s,e}function UMe(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),r=new Float64Array(t),a=new Float64Array(t);let i=1/0,o=1/0,s=1/0,l=-1/0,u=-1/0,c=-1/0;for(let f=0,d,h,v,m;f<t;++f)isNaN(h=+this._x.call(null,d=e[f]))||isNaN(v=+this._y.call(null,d))||isNaN(m=+this._z.call(null,d))||(n[f]=h,r[f]=v,a[f]=m,h<i&&(i=h),h>l&&(l=h),v<o&&(o=v),v>u&&(u=v),m<s&&(s=m),m>c&&(c=m));if(i>l||o>u||s>c)return this;this.cover(i,o,s).cover(l,u,c);for(let f=0;f<t;++f)yj(this,n[f],r[f],a[f],e[f]);return this}function HMe(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,a=this._y0,i=this._z0,o=this._x1,s=this._y1,l=this._z1;if(isNaN(r))o=(r=Math.floor(e))+1,s=(a=Math.floor(t))+1,l=(i=Math.floor(n))+1;else{for(var u=o-r||1,c=this._root,f,d;r>e||e>=o||a>t||t>=s||i>n||n>=l;)switch(d=(n<i)<<2|(t<a)<<1|e<r,f=new Array(8),f[d]=c,c=f,u*=2,d){case 0:o=r+u,s=a+u,l=i+u;break;case 1:r=o-u,s=a+u,l=i+u;break;case 2:o=r+u,a=s-u,l=i+u;break;case 3:r=o-u,a=s-u,l=i+u;break;case 4:o=r+u,s=a+u,i=l-u;break;case 5:r=o-u,s=a+u,i=l-u;break;case 6:o=r+u,a=s-u,i=l-u;break;case 7:r=o-u,a=s-u,i=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=a,this._z0=i,this._x1=o,this._y1=s,this._z1=l,this}function $Me(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function GMe(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function bn(e,t,n,r,a,i,o){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=a,this.y1=i,this.z1=o}function WMe(e,t,n,r){var a,i=this._x0,o=this._y0,s=this._z0,l,u,c,f,d,h,v=this._x1,m=this._y1,p=this._z1,g=[],y=this._root,x,b;for(y&&g.push(new bn(y,i,o,s,v,m,p)),r==null?r=1/0:(i=e-r,o=t-r,s=n-r,v=e+r,m=t+r,p=n+r,r*=r);x=g.pop();)if(!(!(y=x.node)||(l=x.x0)>v||(u=x.y0)>m||(c=x.z0)>p||(f=x.x1)<i||(d=x.y1)<o||(h=x.z1)<s))if(y.length){var A=(l+f)/2,S=(u+d)/2,_=(c+h)/2;g.push(new bn(y[7],A,S,_,f,d,h),new bn(y[6],l,S,_,A,d,h),new bn(y[5],A,u,_,f,S,h),new bn(y[4],l,u,_,A,S,h),new bn(y[3],A,S,c,f,d,_),new bn(y[2],l,S,c,A,d,_),new bn(y[1],A,u,c,f,S,_),new bn(y[0],l,u,c,A,S,_)),(b=(n>=_)<<2|(t>=S)<<1|e>=A)&&(x=g[g.length-1],g[g.length-1]=g[g.length-1-b],g[g.length-1-b]=x)}else{var w=e-+this._x.call(null,y.data),C=t-+this._y.call(null,y.data),M=n-+this._z.call(null,y.data),T=w*w+C*C+M*M;if(T<r){var E=Math.sqrt(r=T);i=e-E,o=t-E,s=n-E,v=e+E,m=t+E,p=n+E,a=y.data}}return a}function jMe(e){if(isNaN(d=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e))||isNaN(v=+this._z.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._z0,u=this._x1,c=this._y1,f=this._z1,d,h,v,m,p,g,y,x,b,A,S;if(!n)return this;if(n.length)for(;;){if((y=d>=(m=(o+u)/2))?o=m:u=m,(x=h>=(p=(s+c)/2))?s=p:c=p,(b=v>=(g=(l+f)/2))?l=g:f=g,t=n,!(n=n[A=b<<2|x<<1|y]))return this;if(!n.length)break;(t[A+1&7]||t[A+2&7]||t[A+3&7]||t[A+4&7]||t[A+5&7]||t[A+6&7]||t[A+7&7])&&(r=t,S=A)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[A]=i:delete t[A],(n=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&n===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[S]=n:this._root=n),this):(this._root=i,this)}function YMe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function XMe(){return this._root}function qMe(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function KMe(e){var t=[],n,r=this._root,a,i,o,s,l,u,c;for(r&&t.push(new bn(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.z0,l=n.x1,u=n.y1,c=n.z1)&&r.length){var f=(i+l)/2,d=(o+u)/2,h=(s+c)/2;(a=r[7])&&t.push(new bn(a,f,d,h,l,u,c)),(a=r[6])&&t.push(new bn(a,i,d,h,f,u,c)),(a=r[5])&&t.push(new bn(a,f,o,h,l,d,c)),(a=r[4])&&t.push(new bn(a,i,o,h,f,d,c)),(a=r[3])&&t.push(new bn(a,f,d,s,l,u,h)),(a=r[2])&&t.push(new bn(a,i,d,s,f,u,h)),(a=r[1])&&t.push(new bn(a,f,o,s,l,d,h)),(a=r[0])&&t.push(new bn(a,i,o,s,f,d,h))}return this}function ZMe(e){var t=[],n=[],r;for(this._root&&t.push(new bn(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.z0,u=r.x1,c=r.y1,f=r.z1,d=(o+u)/2,h=(s+c)/2,v=(l+f)/2;(i=a[0])&&t.push(new bn(i,o,s,l,d,h,v)),(i=a[1])&&t.push(new bn(i,d,s,l,u,h,v)),(i=a[2])&&t.push(new bn(i,o,h,l,d,c,v)),(i=a[3])&&t.push(new bn(i,d,h,l,u,c,v)),(i=a[4])&&t.push(new bn(i,o,s,v,d,h,f)),(i=a[5])&&t.push(new bn(i,d,s,v,u,h,f)),(i=a[6])&&t.push(new bn(i,o,h,v,d,c,f)),(i=a[7])&&t.push(new bn(i,d,h,v,u,c,f))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function QMe(e){return e[0]}function JMe(e){return arguments.length?(this._x=e,this):this._x}function eTe(e){return e[1]}function tTe(e){return arguments.length?(this._y=e,this):this._y}function nTe(e){return e[2]}function rTe(e){return arguments.length?(this._z=e,this):this._z}function xj(e,t,n,r){var a=new QP(t??QMe,n??eTe,r??nTe,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function QP(e,t,n,r,a,i,o,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=a,this._z0=i,this._x1=o,this._y1=s,this._z1=l,this._root=void 0}function LH(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var jr=xj.prototype=QP.prototype;jr.copy=function(){var e=new QP(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=LH(t),e;for(n=[{source:t,target:e._root=new Array(8)}];t=n.pop();)for(var a=0;a<8;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(8)}):t.target[a]=LH(r));return e};jr.add=zMe;jr.addAll=UMe;jr.cover=HMe;jr.data=$Me;jr.extent=GMe;jr.find=WMe;jr.remove=jMe;jr.removeAll=YMe;jr.root=XMe;jr.size=qMe;jr.visit=KMe;jr.visitAfter=ZMe;jr.x=JMe;jr.y=tTe;jr.z=rTe;function qo(e){return function(){return e}}function Wo(e){return(e()-.5)*1e-6}function aTe(e){return e.index}function OH(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function iTe(e){var t=aTe,n=d,r,a=qo(30),i,o,s,l,u,c,f=1;e==null&&(e=[]);function d(g){return 1/Math.min(l[g.source.index],l[g.target.index])}function h(g){for(var y=0,x=e.length;y<f;++y)for(var b=0,A,S,_,w=0,C=0,M=0,T,E;b<x;++b)A=e[b],S=A.source,_=A.target,w=_.x+_.vx-S.x-S.vx||Wo(c),s>1&&(C=_.y+_.vy-S.y-S.vy||Wo(c)),s>2&&(M=_.z+_.vz-S.z-S.vz||Wo(c)),T=Math.sqrt(w*w+C*C+M*M),T=(T-i[b])/T*g*r[b],w*=T,C*=T,M*=T,_.vx-=w*(E=u[b]),s>1&&(_.vy-=C*E),s>2&&(_.vz-=M*E),S.vx+=w*(E=1-E),s>1&&(S.vy+=C*E),s>2&&(S.vz+=M*E)}function v(){if(o){var g,y=o.length,x=e.length,b=new Map(o.map((S,_)=>[t(S,_,o),S])),A;for(g=0,l=new Array(y);g<x;++g)A=e[g],A.index=g,typeof A.source!="object"&&(A.source=OH(b,A.source)),typeof A.target!="object"&&(A.target=OH(b,A.target)),l[A.source.index]=(l[A.source.index]||0)+1,l[A.target.index]=(l[A.target.index]||0)+1;for(g=0,u=new Array(x);g<x;++g)A=e[g],u[g]=l[A.source.index]/(l[A.source.index]+l[A.target.index]);r=new Array(x),m(),i=new Array(x),p()}}function m(){if(o)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function p(){if(o)for(var g=0,y=e.length;g<y;++g)i[g]=+a(e[g],g,e)}return h.initialize=function(g,...y){o=g,c=y.find(x=>typeof x=="function")||Math.random,s=y.find(x=>[1,2,3].includes(x))||2,v()},h.links=function(g){return arguments.length?(e=g,v(),h):e},h.id=function(g){return arguments.length?(t=g,h):t},h.iterations=function(g){return arguments.length?(f=+g,h):f},h.strength=function(g){return arguments.length?(n=typeof g=="function"?g:qo(+g),m(),h):n},h.distance=function(g){return arguments.length?(a=typeof g=="function"?g:qo(+g),p(),h):a},h}var oTe={value:()=>{}};function bj(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ug(n)}function Ug(e){this._=e}function sTe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ug.prototype=bj.prototype={constructor:Ug,on:function(e,t){var n=this._,r=sTe(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=lTe(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=NH(n[a],e.name,t);else if(t==null)for(a in n)n[a]=NH(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ug(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function lTe(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function NH(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=oTe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var gf=0,qd=0,Nd=0,Sj=1e3,Bm,Kd,Fm=0,uu=0,u0=0,Lh=typeof performance=="object"&&performance.now?performance:Date,_j=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Aj(){return uu||(_j(uTe),uu=Lh.now()+u0)}function uTe(){uu=0}function EM(){this._call=this._time=this._next=null}EM.prototype=wj.prototype={constructor:EM,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Aj():+n)+(t==null?0:+t),!this._next&&Kd!==this&&(Kd?Kd._next=this:Bm=this,Kd=this),this._call=e,this._time=n,PM()},stop:function(){this._call&&(this._call=null,this._time=1/0,PM())}};function wj(e,t,n){var r=new EM;return r.restart(e,t,n),r}function cTe(){Aj(),++gf;for(var e=Bm,t;e;)(t=uu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gf}function kH(){uu=(Fm=Lh.now())+u0,gf=qd=0;try{cTe()}finally{gf=0,dTe(),uu=0}}function fTe(){var e=Lh.now(),t=e-Fm;t>Sj&&(u0-=t,Fm=e)}function dTe(){for(var e,t=Bm,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Bm=n);Kd=e,PM(r)}function PM(e){if(!gf){qd&&(qd=clearTimeout(qd));var t=e-uu;t>24?(e<1/0&&(qd=setTimeout(kH,e-Lh.now()-u0)),Nd&&(Nd=clearInterval(Nd))):(Nd||(Fm=Lh.now(),Nd=setInterval(fTe,Sj)),gf=1,_j(kH))}}const hTe=1664525,vTe=1013904223,BH=4294967296;function pTe(){let e=1;return()=>(e=(hTe*e+vTe)%BH)/BH}var FH=3;function Lw(e){return e.x}function VH(e){return e.y}function gTe(e){return e.z}var mTe=10,yTe=Math.PI*(3-Math.sqrt(5)),xTe=Math.PI*20/(9+Math.sqrt(221));function bTe(e,t){t=t||2;var n=Math.min(FH,Math.max(1,Math.round(t))),r,a=1,i=.001,o=1-Math.pow(i,1/300),s=0,l=.6,u=new Map,c=wj(h),f=bj("tick","end"),d=pTe();e==null&&(e=[]);function h(){v(),f.call("tick",r),a<i&&(c.stop(),f.call("end",r))}function v(g){var y,x=e.length,b;g===void 0&&(g=1);for(var A=0;A<g;++A)for(a+=(s-a)*o,u.forEach(function(S){S(a)}),y=0;y<x;++y)b=e[y],b.fx==null?b.x+=b.vx*=l:(b.x=b.fx,b.vx=0),n>1&&(b.fy==null?b.y+=b.vy*=l:(b.y=b.fy,b.vy=0)),n>2&&(b.fz==null?b.z+=b.vz*=l:(b.z=b.fz,b.vz=0));return r}function m(){for(var g=0,y=e.length,x;g<y;++g){if(x=e[g],x.index=g,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),x.fz!=null&&(x.z=x.fz),isNaN(x.x)||n>1&&isNaN(x.y)||n>2&&isNaN(x.z)){var b=mTe*(n>2?Math.cbrt(.5+g):n>1?Math.sqrt(.5+g):g),A=g*yTe,S=g*xTe;n===1?x.x=b:n===2?(x.x=b*Math.cos(A),x.y=b*Math.sin(A)):(x.x=b*Math.sin(A)*Math.cos(S),x.y=b*Math.cos(A),x.z=b*Math.sin(A)*Math.sin(S))}(isNaN(x.vx)||n>1&&isNaN(x.vy)||n>2&&isNaN(x.vz))&&(x.vx=0,n>1&&(x.vy=0),n>2&&(x.vz=0))}}function p(g){return g.initialize&&g.initialize(e,d,n),g}return m(),r={tick:v,restart:function(){return c.restart(h),r},stop:function(){return c.stop(),r},numDimensions:function(g){return arguments.length?(n=Math.min(FH,Math.max(1,Math.round(g))),u.forEach(p),r):n},nodes:function(g){return arguments.length?(e=g,m(),u.forEach(p),r):e},alpha:function(g){return arguments.length?(a=+g,r):a},alphaMin:function(g){return arguments.length?(i=+g,r):i},alphaDecay:function(g){return arguments.length?(o=+g,r):+o},alphaTarget:function(g){return arguments.length?(s=+g,r):s},velocityDecay:function(g){return arguments.length?(l=1-g,r):1-l},randomSource:function(g){return arguments.length?(d=g,u.forEach(p),r):d},force:function(g,y){return arguments.length>1?(y==null?u.delete(g):u.set(g,p(y)),r):u.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),y=g.shift()||0,x=(n>1?g.shift():null)||0,b=(n>2?g.shift():null)||0,A=g.shift()||1/0,S=0,_=e.length,w,C,M,T,E,P;for(A*=A,S=0;S<_;++S)E=e[S],w=y-E.x,C=x-(E.y||0),M=b-(E.z||0),T=w*w+C*C+M*M,T<A&&(P=E,A=T);return P},on:function(g,y){return arguments.length>1?(f.on(g,y),r):f.on(g)}}}function STe(){var e,t,n,r,a,i=qo(-30),o,s=1,l=1/0,u=.81;function c(v){var m,p=e.length,g=(t===1?pj(e,Lw):t===2?mj(e,Lw,VH):t===3?xj(e,Lw,VH,gTe):null).visitAfter(d);for(a=v,m=0;m<p;++m)n=e[m],g.visit(h)}function f(){if(e){var v,m=e.length,p;for(o=new Array(m),v=0;v<m;++v)p=e[v],o[p.index]=+i(p,v,e)}}function d(v){var m=0,p,g,y=0,x,b,A,S,_=v.length;if(_){for(x=b=A=S=0;S<_;++S)(p=v[S])&&(g=Math.abs(p.value))&&(m+=p.value,y+=g,x+=g*(p.x||0),b+=g*(p.y||0),A+=g*(p.z||0));m*=Math.sqrt(4/_),v.x=x/y,t>1&&(v.y=b/y),t>2&&(v.z=A/y)}else{p=v,p.x=p.data.x,t>1&&(p.y=p.data.y),t>2&&(p.z=p.data.z);do m+=o[p.data.index];while(p=p.next)}v.value=m}function h(v,m,p,g,y){if(!v.value)return!0;var x=[p,g,y][t-1],b=v.x-n.x,A=t>1?v.y-n.y:0,S=t>2?v.z-n.z:0,_=x-m,w=b*b+A*A+S*S;if(_*_/u<w)return w<l&&(b===0&&(b=Wo(r),w+=b*b),t>1&&A===0&&(A=Wo(r),w+=A*A),t>2&&S===0&&(S=Wo(r),w+=S*S),w<s&&(w=Math.sqrt(s*w)),n.vx+=b*v.value*a/w,t>1&&(n.vy+=A*v.value*a/w),t>2&&(n.vz+=S*v.value*a/w)),!0;if(v.length||w>=l)return;(v.data!==n||v.next)&&(b===0&&(b=Wo(r),w+=b*b),t>1&&A===0&&(A=Wo(r),w+=A*A),t>2&&S===0&&(S=Wo(r),w+=S*S),w<s&&(w=Math.sqrt(s*w)));do v.data!==n&&(_=o[v.data.index]*a/w,n.vx+=b*_,t>1&&(n.vy+=A*_),t>2&&(n.vz+=S*_));while(v=v.next)}return c.initialize=function(v,...m){e=v,r=m.find(p=>typeof p=="function")||Math.random,t=m.find(p=>[1,2,3].includes(p))||2,f()},c.strength=function(v){return arguments.length?(i=typeof v=="function"?v:qo(+v),f(),c):i},c.distanceMin=function(v){return arguments.length?(s=v*v,c):Math.sqrt(s)},c.distanceMax=function(v){return arguments.length?(l=v*v,c):Math.sqrt(l)},c.theta=function(v){return arguments.length?(u=v*v,c):Math.sqrt(u)},c}function _Te(e,t,n,r){var a,i,o=qo(.1),s,l;typeof e!="function"&&(e=qo(+e)),t==null&&(t=0),n==null&&(n=0),r==null&&(r=0);function u(f){for(var d=0,h=a.length;d<h;++d){var v=a[d],m=v.x-t||1e-6,p=(v.y||0)-n||1e-6,g=(v.z||0)-r||1e-6,y=Math.sqrt(m*m+p*p+g*g),x=(l[d]-y)*s[d]*f/y;v.vx+=m*x,i>1&&(v.vy+=p*x),i>2&&(v.vz+=g*x)}}function c(){if(a){var f,d=a.length;for(s=new Array(d),l=new Array(d),f=0;f<d;++f)l[f]=+e(a[f],f,a),s[f]=isNaN(l[f])?0:+o(a[f],f,a)}}return u.initialize=function(f,...d){a=f,i=d.find(h=>[1,2,3].includes(h))||2,c()},u.strength=function(f){return arguments.length?(o=typeof f=="function"?f:qo(+f),c(),u):o},u.radius=function(f){return arguments.length?(e=typeof f=="function"?f:qo(+f),c(),u):e},u.x=function(f){return arguments.length?(t=+f,u):t},u.y=function(f){return arguments.length?(n=+f,u):n},u.z=function(f){return arguments.length?(r=+f,u):r},u}var JP=function(t){wTe(t);var n=ATe(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function ATe(e){var t=Object.create(null);return{on:function(n,r,a){if(typeof r!="function")throw new Error("callback is expected to be a function");var i=t[n];return i||(i=t[n]=[]),i.push({callback:r,ctx:a}),e},off:function(n,r){var a=typeof n>"u";if(a)return t=Object.create(null),e;if(t[n]){var i=typeof r!="function";if(i)delete t[n];else for(var o=t[n],s=0;s<o.length;++s)o[s].callback===r&&o.splice(s,1)}return e},fire:function(n){var r=t[n];if(!r)return e;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<r.length;++i){var o=r[i];o.callback.apply(o.ctx,a)}return e}}}function wTe(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var CTe=TTe,MTe=JP;function TTe(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),e.multigraph=e.uniqueLinkId),e.multigraph===void 0&&(e.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,r={},a=0,i=e.multigraph?b:x,o=[],s=D,l=D,u=D,c=D,f={version:20,addNode:m,addLink:y,removeLink:w,removeNode:g,getNode:p,getNodeCount:A,getLinkCount:S,getEdgeCount:S,getLinksCount:S,getNodesCount:A,getLinks:_,forEachNode:G,forEachLinkedNode:P,forEachLink:E,beginUpdate:u,endUpdate:c,clear:T,hasLink:M,hasNode:p,getLink:M};return MTe(f),d(),f;function d(){var z=f.on;f.on=N;function N(){return f.beginUpdate=u=B,f.endUpdate=c=F,s=h,l=v,f.on=z,z.apply(f,arguments)}}function h(z,N){o.push({link:z,changeType:N})}function v(z,N){o.push({node:z,changeType:N})}function m(z,N){if(z===void 0)throw new Error("Invalid node identifier");u();var U=p(z);return U?(U.data=N,l(U,"update")):(U=new ETe(z,N),l(U,"add")),t.set(z,U),c(),U}function p(z){return t.get(z)}function g(z){var N=p(z);if(!N)return!1;u();var U=N.links;return U&&(U.forEach(C),N.links=null),t.delete(z),l(N,"remove"),c(),!0}function y(z,N,U){u();var $=p(z)||m(z),k=p(N)||m(N),V=i(z,N,U),L=n.has(V.id);return n.set(V.id,V),zH($,V),z!==N&&zH(k,V),s(V,L?"update":"add"),c(),V}function x(z,N,U){var $=dg(z,N),k=n.get($);return k?(k.data=U,k):new UH(z,N,U,$)}function b(z,N,U){var $=dg(z,N),k=r.hasOwnProperty($);if(k||M(z,N)){k||(r[$]=0);var V="@"+ ++r[$];$=dg(z+V,N+V)}return new UH(z,N,U,$)}function A(){return t.size}function S(){return n.size}function _(z){var N=p(z);return N?N.links:null}function w(z,N){return N!==void 0&&(z=M(z,N)),C(z)}function C(z){if(!z||!n.get(z.id))return!1;u(),n.delete(z.id);var N=p(z.fromId),U=p(z.toId);return N&&N.links.delete(z),U&&U.links.delete(z),s(z,"remove"),c(),!0}function M(z,N){if(!(z===void 0||N===void 0))return n.get(dg(z,N))}function T(){u(),G(function(z){g(z.id)}),c()}function E(z){if(typeof z=="function")for(var N=n.values(),U=N.next();!U.done;){if(z(U.value))return!0;U=N.next()}}function P(z,N,U){var $=p(z);if($&&$.links&&typeof N=="function")return U?I($.links,z,N):R($.links,z,N)}function R(z,N,U){for(var $,k=z.values(),V=k.next();!V.done;){var L=V.value,O=L.fromId===N?L.toId:L.fromId;if($=U(t.get(O),L),$)return!0;V=k.next()}}function I(z,N,U){for(var $,k=z.values(),V=k.next();!V.done;){var L=V.value;if(L.fromId===N&&($=U(t.get(L.toId),L),$))return!0;V=k.next()}}function D(){}function B(){a+=1}function F(){a-=1,a===0&&o.length>0&&(f.fire("changed",o),o.length=0)}function G(z){if(typeof z!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+z);for(var N=t.values(),U=N.next();!U.done;){if(z(U.value))return!0;U=N.next()}}}function ETe(e,t){this.id=e,this.links=null,this.data=t}function zH(e,t){e.links?e.links.add(t):e.links=new Set([t])}function UH(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function dg(e,t){return e.toString()+"👉 "+t.toString()}const PTe=my(CTe);var eR={exports:{}},Lv={exports:{}},Cj=function(t){return t===0?"x":t===1?"y":t===2?"z":"c"+(t+1)};const RTe=Cj;var jf=function(t){return n;function n(r,a){let i=a&&a.indent||0,o=a&&a.join!==void 0?a.join:`
`,s=Array(i+1).join(" "),l=[];for(let u=0;u<t;++u){let c=RTe(u),f=u===0?"":s;l.push(f+r.replace(/{var}/g,c))}return l.join(o)}};const Mj=jf;Lv.exports=ITe;Lv.exports.generateCreateBodyFunctionBody=Tj;Lv.exports.getVectorCode=Pj;Lv.exports.getBodyCode=Ej;function ITe(e,t){let n=Tj(e,t),{Body:r}=new Function(n)();return r}function Tj(e,t){return`
${Pj(e,t)}
${Ej(e)}
return {Body: Body, Vector: Vector};
`}function Ej(e){let t=Mj(e),n=t("{var}",{join:", "});return`
function Body(${n}) {
  this.isPinned = false;
  this.pos = new Vector(${n});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${n}) {
  ${t("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function Pj(e,t){let n=Mj(e),r="";return t&&(r=`${n(`
   var v{var};
Object.defineProperty(this, '{var}', {
  set: function(v) { 
    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
    v{var} = v; 
  },
  get: function() { return v{var}; }
});`)}`),`function Vector(${n("{var}",{join:", "})}) {
  ${r}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${n("this.{var} = v.{var};",{indent:4})}
    } else {
      ${n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${n("this.{var} = ",{join:""})}0;
  };`}var DTe=Lv.exports,vl={exports:{}};const tR=jf,Os=Cj;vl.exports=LTe;vl.exports.generateQuadTreeFunctionBody=Rj;vl.exports.getInsertStackCode=Nj;vl.exports.getQuadNodeCode=Oj;vl.exports.isSamePosition=Ij;vl.exports.getChildBodyCode=Lj;vl.exports.setChildBodyCode=Dj;function LTe(e){let t=Rj(e);return new Function(t)()}function Rj(e){let t=tR(e),n=Math.pow(2,e);return`
${Nj()}
${Oj(e)}
${Ij(e)}
${Lj(e)}
${Dj(e)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${o("      node.")}
      node.body = null;
      node.mass = ${t("node.mass_{var} = ",{join:""})}0;
      ${t("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${t("var d{var};",{indent:4})}
    var r; 
    ${t("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${t("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < θ, treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${Os(0)} - node.min_${Os(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${t("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${i()}
        }
      }
    }

    ${t("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${t("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${t("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${t("root.min_{var} = {var}min;",{indent:4})}
    ${t("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${t("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${t("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${t("var min_{var} = node.min_{var};",{indent:8})}
        ${t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${a(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${t("child.min_{var} = min_{var};",{indent:10})}
          ${t("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function a(s){let l=[],u=Array(s+1).join(" ");for(let c=0;c<e;++c)l.push(u+`if (${Os(c)} > max_${Os(c)}) {`),l.push(u+`  quadIdx = quadIdx + ${Math.pow(2,c)};`),l.push(u+`  min_${Os(c)} = max_${Os(c)};`),l.push(u+`  max_${Os(c)} = node.max_${Os(c)};`),l.push(u+"}");return l.join(`
`)}function i(){let s=Array(11).join(" "),l=[];for(let u=0;u<n;++u)l.push(s+`if (node.quad${u}) {`),l.push(s+`  queue[pushIdx] = node.quad${u};`),l.push(s+"  queueLength += 1;"),l.push(s+"  pushIdx += 1;"),l.push(s+"}");return l.join(`
`)}function o(s){let l=[];for(let u=0;u<n;++u)l.push(`${s}quad${u} = null;`);return l.join(`
`)}}function Ij(e){let t=tR(e);return`
  function isSamePosition(point1, point2) {
    ${t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${t("d{var} < 1e-8",{join:" && "})};
  }  
`}function Dj(e){var t=Math.pow(2,e);return`
function setChild(node, idx, child) {
  ${n()}
}`;function n(){let r=[];for(let a=0;a<t;++a){let i=a===0?"  ":"  else ";r.push(`${i}if (idx === ${a}) node.quad${a} = child;`)}return r.join(`
`)}}function Lj(e){return`function getChild(node, idx) {
${t()}
  return null;
}`;function t(){let n=[],r=Math.pow(2,e);for(let a=0;a<r;++a)n.push(`  if (idx === ${a}) return node.quad${a};`);return n.join(`
`)}}function Oj(e){let t=tR(e),n=Math.pow(2,e);var r=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${a("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${t("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${t("this.min_{var} = 0;",{indent:2})}
  ${t("this.max_{var} = 0;",{indent:2})}
}
`;return r;function a(i){let o=[];for(let s=0;s<n;++s)o.push(`${i}quad${s} = null;`);return o.join(`
`)}}function Nj(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}var OTe=vl.exports,nR={exports:{}};nR.exports=kTe;nR.exports.generateFunctionBody=kj;const NTe=jf;function kTe(e){let t=kj(e);return new Function("bodies","settings","random",t)}function kj(e){let t=NTe(e);return`
  var boundingBox = {
    ${t("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${t("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${t("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${t("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${t("var max_{var} = -Infinity;",{indent:4})}
    ${t("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${t("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${t("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}var BTe=nR.exports,rR={exports:{}};const FTe=jf;rR.exports=VTe;rR.exports.generateCreateDragForceFunctionBody=Bj;function VTe(e){let t=Bj(e);return new Function("options",t)}function Bj(e){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${FTe(e)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}var zTe=rR.exports,aR={exports:{}};const UTe=jf;aR.exports=HTe;aR.exports.generateCreateSpringForceFunctionBody=Fj;function HTe(e){let t=Fj(e);return new Function("options","random",t)}function Fj(e){let t=UTe(e);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${t("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${t("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}var $Te=aR.exports,iR={exports:{}};const GTe=jf;iR.exports=WTe;iR.exports.generateIntegratorFunctionBody=Vj;function WTe(e){let t=Vj(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)}function Vj(e){let t=GTe(e);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${t("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${t("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${t("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${t("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${t("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${t("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${t("body.pos.{var} += d{var};",{indent:4})}

    ${t("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${t("t{var} * t{var}",{join:" + "})})/length;
`}var jTe=iR.exports,Ow,HH;function YTe(){if(HH)return Ow;HH=1,Ow=e;function e(t,n,r,a){this.from=t,this.to=n,this.length=r,this.coefficient=a}return Ow}var Nw,$H;function XTe(){if($H)return Nw;$H=1,Nw=e;function e(t,n){var r;if(t||(t={}),n){for(r in n)if(n.hasOwnProperty(r)){var a=t.hasOwnProperty(r),i=typeof n[r],o=!a||typeof t[r]!==i;o?t[r]=n[r]:i==="object"&&(t[r]=e(t[r],n[r]))}}return t}return Nw}var kd={exports:{}},GH;function qTe(){if(GH)return kd.exports;GH=1,kd.exports=e,kd.exports.random=e,kd.exports.randomIterator=s;function e(l){var u=typeof l=="number"?l:+new Date;return new t(u)}function t(l){this.seed=l}t.prototype.next=o,t.prototype.nextDouble=i,t.prototype.uniform=i,t.prototype.gaussian=n;function n(){var l,u,c;do u=this.nextDouble()*2-1,c=this.nextDouble()*2-1,l=u*u+c*c;while(l>=1||l===0);return u*Math.sqrt(-2*Math.log(l)/l)}t.prototype.levy=r;function r(){var l=1.5,u=Math.pow(a(1+l)*Math.sin(Math.PI*l/2)/(a((1+l)/2)*l*Math.pow(2,(l-1)/2)),1/l);return this.gaussian()*u/Math.pow(Math.abs(this.gaussian()),1/l)}function a(l){return Math.sqrt(2*Math.PI/l)*Math.pow(1/Math.E*(l+1/(12*l-1/(10*l))),l)}function i(){var l=this.seed;return l=l+2127912214+(l<<12)&4294967295,l=(l^3345072700^l>>>19)&4294967295,l=l+374761393+(l<<5)&4294967295,l=(l+3550635116^l<<9)&4294967295,l=l+4251993797+(l<<3)&4294967295,l=(l^3042594569^l>>>16)&4294967295,this.seed=l,(l&268435455)/268435456}function o(l){return Math.floor(this.nextDouble()*l)}function s(l,u){var c=u||e();if(typeof c.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:d,shuffle:f};function f(){var h,v,m;for(h=l.length-1;h>0;--h)v=c.next(h+1),m=l[v],l[v]=l[h],l[h]=m;return l}function d(h){var v,m,p;for(v=l.length-1;v>0;--v)m=c.next(v+1),p=l[m],l[m]=l[v],l[v]=p,h(p);l.length&&h(l[0])}}return kd.exports}var zj=nEe,KTe=DTe,ZTe=OTe,QTe=BTe,JTe=zTe,eEe=$Te,tEe=jTe,WH={};function nEe(e){var t=YTe(),n=XTe(),r=JP;if(e){if(e.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(e.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}e=n(e,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var a=WH[e.dimensions];if(!a){var i=e.dimensions;a={Body:KTe(i,e.debug),createQuadTree:ZTe(i),createBounds:QTe(i),createDragForce:JTe(i),createSpringForce:eEe(i),integrate:tEe(i)},WH[i]=a}var o=a.Body,s=a.createQuadTree,l=a.createBounds,u=a.createDragForce,c=a.createSpringForce,f=a.integrate,d=I=>new o(I),h=qTe().random(42),v=[],m=[],p=s(e,h),g=l(v,e,h),y=c(e,h),x=u(e),b=0,A=[],S=new Map,_=0;M("nbody",P),M("spring",R);var w={bodies:v,quadTree:p,springs:m,settings:e,addForce:M,removeForce:T,getForces:E,step:function(){for(var I=0;I<A.length;++I)A[I](_);var D=f(v,e.timeStep,e.adaptiveTimeStepWeight);return _+=1,D},addBody:function(I){if(!I)throw new Error("Body is required");return v.push(I),I},addBodyAt:function(I){if(!I)throw new Error("Body position is required");var D=d(I);return v.push(D),D},removeBody:function(I){if(I){var D=v.indexOf(I);if(!(D<0))return v.splice(D,1),v.length===0&&g.reset(),!0}},addSpring:function(I,D,B,F){if(!I||!D)throw new Error("Cannot add null spring to force simulator");typeof B!="number"&&(B=-1);var G=new t(I,D,B,F>=0?F:-1);return m.push(G),G},getTotalMovement:function(){return b},removeSpring:function(I){if(I){var D=m.indexOf(I);if(D>-1)return m.splice(D,1),!0}},getBestNewBodyPosition:function(I){return g.getBestNewPosition(I)},getBBox:C,getBoundingBox:C,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(I){return I!==void 0?(e.gravity=I,p.options({gravity:I}),this):e.gravity},theta:function(I){return I!==void 0?(e.theta=I,p.options({theta:I}),this):e.theta},random:h};return rEe(e,w),r(w),w;function C(){return g.update(),g.box}function M(I,D){if(S.has(I))throw new Error("Force "+I+" is already added");S.set(I,D),A.push(D)}function T(I){var D=A.indexOf(S.get(I));D<0||(A.splice(D,1),S.delete(I))}function E(){return S}function P(){if(v.length!==0){p.insertBodies(v);for(var I=v.length;I--;){var D=v[I];D.isPinned||(D.reset(),p.updateBodyForce(D),x.update(D))}}}function R(){for(var I=m.length;I--;)y.update(m[I])}}function rEe(e,t){for(var n in e)aEe(e,t,n)}function aEe(e,t,n){if(e.hasOwnProperty(n)&&typeof t[n]!="function"){var r=Number.isFinite(e[n]);r?t[n]=function(a){if(a!==void 0){if(!Number.isFinite(a))throw new Error("Value of "+n+" should be a valid number.");return e[n]=a,t}return e[n]}:t[n]=function(a){return a!==void 0?(e[n]=a,t):e[n]}}}eR.exports=oEe;eR.exports.simulator=zj;var iEe=JP;function oEe(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var n=t&&t.createSimulator||zj,r=n(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var a=e.version>19?P:E;t&&typeof t.nodeMass=="function"&&(a=t.nodeMass);var i=new Map,o={},s=0,l=r.settings.springTransform||sEe;x(),p();var u=!1,c={step:function(){if(s===0)return f(!0),!0;var R=r.step();c.lastMove=R,c.fire("step");var I=R/s,D=I<=.01;return f(D),D},getNodePosition:function(R){return T(R).pos},setNodePosition:function(R){var I=T(R);I.setPosition.apply(I,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(R){var I=o[R];if(I)return{from:I.from.pos,to:I.to.pos}},getGraphRect:function(){return r.getBBox()},forEachBody:d,pinNode:function(R,I){var D=T(R.id);D.isPinned=!!I},isNodePinned:function(R){return T(R.id).isPinned},dispose:function(){e.off("changed",y),c.fire("disposed")},getBody:m,getSpring:v,getForceVectorLength:h,simulator:r,graph:e,lastMove:0};return iEe(c),c;function f(R){u!==R&&(u=R,g(R))}function d(R){i.forEach(R)}function h(){var R=0,I=0;return d(function(D){R+=Math.abs(D.force.x),I+=Math.abs(D.force.y)}),Math.sqrt(R*R+I*I)}function v(R,I){var D;if(I===void 0)typeof R!="object"?D=R:D=R.id;else{var B=e.hasLink(R,I);if(!B)return;D=B.id}return o[D]}function m(R){return i.get(R)}function p(){e.on("changed",y)}function g(R){c.fire("stable",R)}function y(R){for(var I=0;I<R.length;++I){var D=R[I];D.changeType==="add"?(D.node&&b(D.node.id),D.link&&S(D.link)):D.changeType==="remove"&&(D.node&&A(D.node),D.link&&_(D.link))}s=e.getNodesCount()}function x(){s=0,e.forEachNode(function(R){b(R.id),s+=1}),e.forEachLink(S)}function b(R){var I=i.get(R);if(!I){var D=e.getNode(R);if(!D)throw new Error("initBody() was called with unknown node id");var B=D.position;if(!B){var F=w(D);B=r.getBestNewBodyPosition(F)}I=r.addBodyAt(B),I.id=R,i.set(R,I),C(R),M(D)&&(I.isPinned=!0)}}function A(R){var I=R.id,D=i.get(I);D&&(i.delete(I),r.removeBody(D))}function S(R){C(R.fromId),C(R.toId);var I=i.get(R.fromId),D=i.get(R.toId),B=r.addSpring(I,D,R.length);l(R,B),o[R.id]=B}function _(R){var I=o[R.id];if(I){var D=e.getNode(R.fromId),B=e.getNode(R.toId);D&&C(D.id),B&&C(B.id),delete o[R.id],r.removeSpring(I)}}function w(R){var I=[];if(!R.links)return I;for(var D=Math.min(R.links.length,2),B=0;B<D;++B){var F=R.links[B],G=F.fromId!==R.id?i.get(F.fromId):i.get(F.toId);G&&G.pos&&I.push(G)}return I}function C(R){var I=i.get(R);if(I.mass=a(R),Number.isNaN(I.mass))throw new Error("Node mass should be a number")}function M(R){return R&&(R.isPinned||R.data&&R.data.isPinned)}function T(R){var I=i.get(R);return I||(b(R),I=i.get(R)),I}function E(R){var I=e.getLinks(R);return I?1+I.length/3:1}function P(R){var I=e.getLinks(R);return I?1+I.size/3:1}}function sEe(){}var lEe=eR.exports;const uEe=my(lEe);function RM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var cEe=typeof global=="object"&&global&&global.Object===Object&&global,fEe=typeof self=="object"&&self&&self.Object===Object&&self,Uj=cEe||fEe||Function("return this")(),kw=function(){return Uj.Date.now()},dEe=/\s/;function hEe(e){for(var t=e.length;t--&&dEe.test(e.charAt(t)););return t}var vEe=/^\s+/;function pEe(e){return e&&e.slice(0,hEe(e)+1).replace(vEe,"")}var Vm=Uj.Symbol,Hj=Object.prototype,gEe=Hj.hasOwnProperty,mEe=Hj.toString,Bd=Vm?Vm.toStringTag:void 0;function yEe(e){var t=gEe.call(e,Bd),n=e[Bd];try{e[Bd]=void 0;var r=!0}catch{}var a=mEe.call(e);return r&&(t?e[Bd]=n:delete e[Bd]),a}var xEe=Object.prototype,bEe=xEe.toString;function SEe(e){return bEe.call(e)}var _Ee="[object Null]",AEe="[object Undefined]",jH=Vm?Vm.toStringTag:void 0;function wEe(e){return e==null?e===void 0?AEe:_Ee:jH&&jH in Object(e)?yEe(e):SEe(e)}function CEe(e){return e!=null&&typeof e=="object"}var MEe="[object Symbol]";function TEe(e){return typeof e=="symbol"||CEe(e)&&wEe(e)==MEe}var YH=NaN,EEe=/^[-+]0x[0-9a-f]+$/i,PEe=/^0b[01]+$/i,REe=/^0o[0-7]+$/i,IEe=parseInt;function XH(e){if(typeof e=="number")return e;if(TEe(e))return YH;if(RM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=pEe(e);var n=PEe.test(e);return n||REe.test(e)?IEe(e.slice(2),n?2:8):EEe.test(e)?YH:+e}var DEe="Expected a function",LEe=Math.max,OEe=Math.min;function NEe(e,t,n){var r,a,i,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(DEe);t=XH(t)||0,RM(n)&&(c=!!n.leading,f="maxWait"in n,i=f?LEe(XH(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function h(S){var _=r,w=a;return r=a=void 0,u=S,o=e.apply(w,_),o}function v(S){return u=S,s=setTimeout(g,t),c?h(S):o}function m(S){var _=S-l,w=S-u,C=t-_;return f?OEe(C,i-w):C}function p(S){var _=S-l,w=S-u;return l===void 0||_>=t||_<0||f&&w>=i}function g(){var S=kw();if(p(S))return y(S);s=setTimeout(g,m(S))}function y(S){return s=void 0,d&&r?h(S):(r=a=void 0,o)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=a=s=void 0}function b(){return s===void 0?o:y(kw())}function A(){var S=kw(),_=p(S);if(r=arguments,a=this,l=S,_){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(g,t),h(l)}return s===void 0&&(s=setTimeout(g,t)),o}return A.cancel=x,A.flush=b,A}function kEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function BEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GEe(r.key),r)}}function FEe(e,t,n){return t&&qH(e.prototype,t),n&&qH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VEe(e,t){return zEe(e)||kEe(e,t)||UEe(e,t)||HEe()}function zEe(e){if(Array.isArray(e))return e}function UEe(e,t){if(e){if(typeof e=="string")return KH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KH(e,t)}}function KH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ee(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GEe(e){var t=$Ee(e,"string");return typeof t=="symbol"?t:String(t)}var WEe=FEe(function e(t,n){var r=n.default,a=r===void 0?null:r,i=n.triggerUpdate,o=i===void 0?!0:i,s=n.onChange,l=s===void 0?function(u,c){}:s;BEe(this,e),this.name=t,this.defaultVal=a,this.triggerUpdate=o,this.onChange=l});function oR(e){var t=e.stateInit,n=t===void 0?function(){return{}}:t,r=e.props,a=r===void 0?{}:r,i=e.methods,o=i===void 0?{}:i,s=e.aliases,l=s===void 0?{}:s,u=e.init,c=u===void 0?function(){}:u,f=e.update,d=f===void 0?function(){}:f,h=Object.keys(a).map(function(v){return new WEe(v,a[v])});return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=Object.assign({},n instanceof Function?n(v):n,{initialised:!1}),p={};function g(b){return y(b,v),x(),g}var y=function(A,S){c.call(g,A,m,S),m.initialised=!0},x=NEe(function(){m.initialised&&(d.call(g,m,p),p={})},1);return h.forEach(function(b){g[b.name]=A(b);function A(S){var _=S.name,w=S.triggerUpdate,C=w===void 0?!1:w,M=S.onChange,T=M===void 0?function(R,I){}:M,E=S.defaultVal,P=E===void 0?null:E;return function(R){var I=m[_];if(!arguments.length)return I;var D=R===void 0?P:R;return m[_]=D,T.call(g,D,m,I),!p.hasOwnProperty(_)&&(p[_]=I),C&&x(),g}}}),Object.keys(o).forEach(function(b){g[b]=function(){for(var A,S=arguments.length,_=new Array(S),w=0;w<S;w++)_[w]=arguments[w];return(A=o[b]).call.apply(A,[g,m].concat(_))}}),Object.entries(l).forEach(function(b){var A=VEe(b,2),S=A[0],_=A[1];return g[S]=g[_]}),g.resetProps=function(){return h.forEach(function(b){g[b.name](b.defaultVal)}),g},g.resetProps(),m._rerender=x,g}}var on=function(e){return typeof e=="function"?e:typeof e=="string"?function(t){return t[e]}:function(t){return e}};class ZH extends Map{constructor(t,n=XEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(QH(this,t))}has(t){return super.has(QH(this,t))}set(t,n){return super.set(jEe(this,t),n)}delete(t){return super.delete(YEe(this,t))}}function QH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jEe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function YEe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function XEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qEe(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function KEe(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function ZEe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function QEe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function JEe(e,t){if(e==null)return{};var n=QEe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ePe(e,t){return rPe(e)||ZEe(e,t)||$j(e,t)||oPe()}function tPe(e){return nPe(e)||aPe(e)||$j(e)||iPe()}function nPe(e){if(Array.isArray(e))return IM(e)}function rPe(e){if(Array.isArray(e))return e}function aPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $j(e,t){if(e){if(typeof e=="string")return IM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(e,t)}}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lPe(e){var t=sPe(e,"string");return typeof t=="symbol"?t:String(t)}var JH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(t instanceof Array?t.length?t:[void 0]:[t]).map(function(s){return{keyAccessor:s,isProp:!(s instanceof Function)}}),i=e.reduce(function(s,l){var u=s,c=l;return a.forEach(function(f,d){var h=f.keyAccessor,v=f.isProp,m;if(v){var p=c,g=p[h],y=JEe(p,[h].map(lPe));m=g,c=y}else m=h(c,d);d+1<a.length?(u.hasOwnProperty(m)||(u[m]={}),u=u[m]):n?(u.hasOwnProperty(m)||(u[m]=[]),u[m].push(c)):u[m]=c}),s},{});n instanceof Function&&function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===a.length?Object.keys(l).forEach(function(c){return l[c]=n(l[c])}):Object.values(l).forEach(function(c){return s(c,u+1)})}(i);var o=i;return r&&(o=[],function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===a.length?o.push({keys:u,vals:l}):Object.entries(l).forEach(function(c){var f=ePe(c,2),d=f[0],h=f[1];return s(h,[].concat(tPe(u),[d]))})}(i),t instanceof Array&&t.length===0&&o.length===1&&(o[0].keys=[])),o};function uPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function e5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cPe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(n),!0).forEach(function(r){Gj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gj(e,t,n){return t=xPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fPe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function dPe(e,t){if(e==null)return{};var n=fPe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wj(e,t){return vPe(e)||uPe(e,t)||jj(e,t)||mPe()}function zm(e){return hPe(e)||pPe(e)||jj(e)||gPe()}function hPe(e){if(Array.isArray(e))return DM(e)}function vPe(e){if(Array.isArray(e))return e}function pPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jj(e,t){if(e){if(typeof e=="string")return DM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(e,t)}}function DM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xPe(e){var t=yPe(e,"string");return typeof t=="symbol"?t:String(t)}var bPe=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function SPe(e,t,n){var r={enter:[],update:[],exit:[]};if(n){var o=JH(e,n,!1),s=JH(t,n,!1),l=Object.assign({},o,s);Object.entries(l).forEach(function(u){var c=Wj(u,2),f=c[0],d=c[1],h=o.hasOwnProperty(f)?s.hasOwnProperty(f)?"update":"exit":"enter";r[h].push(h==="update"?[o[f],s[f]]:d)})}else{var a=new Set(e),i=new Set(t);new Set([].concat(zm(a),zm(i))).forEach(function(u){var c=a.has(u)?i.has(u)?"update":"exit":"enter";r[c].push(c==="update"?[u,u]:u)})}return r}function _Pe(e,t,n){var r=n.objBindAttr,a=r===void 0?"__obj":r,i=n.dataBindAttr,o=i===void 0?"__data":i,s=n.idAccessor,l=n.purge,u=l===void 0?!1:l,c=function(p){return p.hasOwnProperty(o)},f=t.filter(function(m){return!c(m)}),d=t.filter(c).map(function(m){return m[o]}),h=e,v=u?{enter:h,exit:d,update:[]}:SPe(d,h,s);return v.update=v.update.map(function(m){var p=Wj(m,2),g=p[0],y=p[1];return g!==y&&(y[a]=g[a],y[a][o]=y),y}),v.exit=v.exit.concat(f.map(function(m){return Gj({},a,m)})),v}function APe(e,t,n,r,a){var i=a.createObj,o=i===void 0?function(w){return{}}:i,s=a.updateObj,l=s===void 0?function(w,C){}:s,u=a.exitObj,c=u===void 0?function(w){}:u,f=a.objBindAttr,d=f===void 0?"__obj":f,h=a.dataBindAttr,v=h===void 0?"__data":h,m=dPe(a,bPe),p=_Pe(e,t,cPe({objBindAttr:d,dataBindAttr:v},m)),g=p.enter,y=p.update,x=p.exit;x.forEach(function(w){var C=w[d];delete w[d],c(C),r(C)});var b=S(g),A=[].concat(zm(g),zm(y));_(A),b.forEach(n);function S(w){var C=[];return w.forEach(function(M){var T=o(M);T&&(T[v]=M,M[d]=T,C.push(T))}),C}function _(w){w.forEach(function(C){var M=C[d];M&&(M[v]=C,l(M,C))})}}function wPe(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const t5=Symbol("implicit");function Yj(){var e=new ZH,t=[],n=[],r=t5;function a(i){let o=e.get(i);if(o===void 0){if(r!==t5)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ZH;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Yj(t,n).unknown(r)},wPe.apply(a,arguments),a}function CPe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const MPe=CPe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var TPe=/^\s+/,EPe=/\s+$/;function St(e,t){if(e=e||"",t=t||{},e instanceof St)return e;if(!(this instanceof St))return new St(e,t);var n=PPe(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}St.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,r,a,i,o,s;return n=t.r/255,r=t.g/255,a=t.b/255,n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*o+.0722*s},setAlpha:function(t){return this._a=Xj(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=r5(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r5(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=n5(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n5(this._r,this._g,this._b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return a5(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return LPe(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Bn(this._r,255)*100)+"%",g:Math.round(Bn(this._g,255)*100)+"%",b:Math.round(Bn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Bn(this._r,255)*100)+"%, "+Math.round(Bn(this._g,255)*100)+"%, "+Math.round(Bn(this._b,255)*100)+"%)":"rgba("+Math.round(Bn(this._r,255)*100)+"%, "+Math.round(Bn(this._g,255)*100)+"%, "+Math.round(Bn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:WPe[a5(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+i5(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=St(t);r="#"+i5(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(t){var n=!!t;t=t||this._format;var r=!1,a=this._a<1&&this._a>=0,i=!n&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return i?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return St(this.toString())},_applyModification:function(t,n){var r=t.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(BPe,arguments)},brighten:function(){return this._applyModification(FPe,arguments)},darken:function(){return this._applyModification(VPe,arguments)},desaturate:function(){return this._applyModification(OPe,arguments)},saturate:function(){return this._applyModification(NPe,arguments)},greyscale:function(){return this._applyModification(kPe,arguments)},spin:function(){return this._applyModification(zPe,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($Pe,arguments)},complement:function(){return this._applyCombination(UPe,arguments)},monochromatic:function(){return this._applyCombination(GPe,arguments)},splitcomplement:function(){return this._applyCombination(HPe,arguments)},triad:function(){return this._applyCombination(o5,[3])},tetrad:function(){return this._applyCombination(o5,[4])}};St.fromRatio=function(e,t){if(Um(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(r==="a"?n[r]=e[r]:n[r]=Zd(e[r]));e=n}return St(e,t)};function PPe(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e=="string"&&(e=qPe(e)),Um(e)=="object"&&(Oo(e.r)&&Oo(e.g)&&Oo(e.b)?(t=RPe(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Oo(e.h)&&Oo(e.s)&&Oo(e.v)?(r=Zd(e.s),a=Zd(e.v),t=DPe(e.h,r,a),o=!0,s="hsv"):Oo(e.h)&&Oo(e.s)&&Oo(e.l)&&(r=Zd(e.s),i=Zd(e.l),t=IPe(e.h,r,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Xj(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function RPe(e,t,n){return{r:Bn(e,255)*255,g:Bn(t,255)*255,b:Bn(n,255)*255}}function n5(e,t,n){e=Bn(e,255),t=Bn(t,255),n=Bn(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=(r+a)/2;if(r==a)i=o=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,l:s}}function IPe(e,t,n){var r,a,i;e=Bn(e,360),t=Bn(t,100),n=Bn(n,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(t===0)r=a=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),a=o(l,s,e),i=o(l,s,e-1/3)}return{r:r*255,g:a*255,b:i*255}}function r5(e,t,n){e=Bn(e,255),t=Bn(t,255),n=Bn(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i,o,s=r,l=r-a;if(o=r===0?0:l/r,r==a)i=0;else{switch(r){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4;break}i/=6}return{h:i,s:o,v:s}}function DPe(e,t,n){e=Bn(e,360)*6,t=Bn(t,100),n=Bn(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),l=r%6,u=[n,o,i,i,s,n][l],c=[s,n,n,o,i,i][l],f=[i,i,s,n,n,o][l];return{r:u*255,g:c*255,b:f*255}}function a5(e,t,n,r){var a=[Mi(Math.round(e).toString(16)),Mi(Math.round(t).toString(16)),Mi(Math.round(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function LPe(e,t,n,r,a){var i=[Mi(Math.round(e).toString(16)),Mi(Math.round(t).toString(16)),Mi(Math.round(n).toString(16)),Mi(qj(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function i5(e,t,n,r){var a=[Mi(qj(r)),Mi(Math.round(e).toString(16)),Mi(Math.round(t).toString(16)),Mi(Math.round(n).toString(16))];return a.join("")}St.equals=function(e,t){return!e||!t?!1:St(e).toRgbString()==St(t).toRgbString()};St.random=function(){return St.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function OPe(e,t){t=t===0?0:t||10;var n=St(e).toHsl();return n.s-=t/100,n.s=c0(n.s),St(n)}function NPe(e,t){t=t===0?0:t||10;var n=St(e).toHsl();return n.s+=t/100,n.s=c0(n.s),St(n)}function kPe(e){return St(e).desaturate(100)}function BPe(e,t){t=t===0?0:t||10;var n=St(e).toHsl();return n.l+=t/100,n.l=c0(n.l),St(n)}function FPe(e,t){t=t===0?0:t||10;var n=St(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),St(n)}function VPe(e,t){t=t===0?0:t||10;var n=St(e).toHsl();return n.l-=t/100,n.l=c0(n.l),St(n)}function zPe(e,t){var n=St(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,St(n)}function UPe(e){var t=St(e).toHsl();return t.h=(t.h+180)%360,St(t)}function o5(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=St(e).toHsl(),r=[St(e)],a=360/t,i=1;i<t;i++)r.push(St({h:(n.h+i*a)%360,s:n.s,l:n.l}));return r}function HPe(e){var t=St(e).toHsl(),n=t.h;return[St(e),St({h:(n+72)%360,s:t.s,l:t.l}),St({h:(n+216)%360,s:t.s,l:t.l})]}function $Pe(e,t,n){t=t||6,n=n||30;var r=St(e).toHsl(),a=360/n,i=[St(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(St(r));return i}function GPe(e,t){t=t||6;for(var n=St(e).toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(St({h:r,s:a,v:i})),i=(i+s)%1;return o}St.mix=function(e,t,n){n=n===0?0:n||50;var r=St(e).toRgb(),a=St(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return St(o)};St.readability=function(e,t){var n=St(e),r=St(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};St.isReadable=function(e,t,n){var r=St.readability(e,t),a,i;switch(i=!1,a=KPe(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=r>=4.5;break;case"AAlarge":i=r>=3;break;case"AAAsmall":i=r>=7;break}return i};St.mostReadable=function(e,t,n){var r=null,a=0,i,o,s,l;n=n||{},o=n.includeFallbackColors,s=n.level,l=n.size;for(var u=0;u<t.length;u++)i=St.readability(e,t[u]),i>a&&(a=i,r=St(t[u]));return St.isReadable(e,r,{level:s,size:l})||!o?r:(n.includeFallbackColors=!1,St.mostReadable(e,["#fff","#000"],n))};var LM=St.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},WPe=St.hexNames=jPe(LM);function jPe(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Xj(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Bn(e,t){YPe(e)&&(e="100%");var n=XPe(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function c0(e){return Math.min(1,Math.max(0,e))}function _a(e){return parseInt(e,16)}function YPe(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function XPe(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Mi(e){return e.length==1?"0"+e:""+e}function Zd(e){return e<=1&&(e=e*100+"%"),e}function qj(e){return Math.round(parseFloat(e)*255).toString(16)}function s5(e){return _a(e)/255}var xi=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Oo(e){return!!xi.CSS_UNIT.exec(e)}function qPe(e){e=e.replace(TPe,"").replace(EPe,"").toLowerCase();var t=!1;if(LM[e])e=LM[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=xi.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=xi.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=xi.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=xi.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=xi.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=xi.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=xi.hex8.exec(e))?{r:_a(n[1]),g:_a(n[2]),b:_a(n[3]),a:s5(n[4]),format:t?"name":"hex8"}:(n=xi.hex6.exec(e))?{r:_a(n[1]),g:_a(n[2]),b:_a(n[3]),format:t?"name":"hex"}:(n=xi.hex4.exec(e))?{r:_a(n[1]+""+n[1]),g:_a(n[2]+""+n[2]),b:_a(n[3]+""+n[3]),a:s5(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=xi.hex3.exec(e))?{r:_a(n[1]+""+n[1]),g:_a(n[2]+""+n[2]),b:_a(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function KPe(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function ZPe(e,t,n){return t=Hm(t),oRe(e,sR()?Reflect.construct(t,n||[],Hm(e).constructor):t.apply(e,n))}function QPe(e,t,n){if(sR())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&$m(a,n.prototype),a}function sR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sR=function(){return!!e})()}function JPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function l5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(n),!0).forEach(function(r){lR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eRe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zj(e){var t=eRe(e,"string");return typeof t=="symbol"?t:String(t)}function OM(e){"@babel/helpers - typeof";return OM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OM(e)}function tRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zj(r.key),r)}}function nRe(e,t,n){return t&&u5(e.prototype,t),n&&u5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lR(e,t,n){return t=Zj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}function Hm(e){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(e)}function $m(e,t){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$m(e,t)}function aRe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function iRe(e,t){if(e==null)return{};var n=aRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oRe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qj(e)}function c5(e,t){return lRe(e)||JPe(e,t)||Jj(e,t)||fRe()}function Si(e){return sRe(e)||uRe(e)||Jj(e)||cRe()}function sRe(e){if(Array.isArray(e))return NM(e)}function lRe(e){if(Array.isArray(e))return e}function uRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jj(e,t){if(e){if(typeof e=="string")return NM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NM(e,t)}}function NM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dRe=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},hRe=function e(t){t.geometry&&t.geometry.dispose(),t.material&&dRe(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},kM=function(t){for(;t.children.length;){var n=t.children[0];t.remove(n),hRe(n)}},vRe=["objFilter"];function Fd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.objFilter,a=r===void 0?function(){return!0}:r,i=iRe(n,vRe);return APe(e,t.children.filter(a),function(o){return t.add(o)},function(o){t.remove(o),kM(o)},Kj({objBindAttr:"__threeObj"},i))}var Vd=function(t){return isNaN(t)?parseInt(St(t).toHex(),16):t},Bw=function(t){return isNaN(t)?St(t).getAlpha():1},pRe=Yj(MPe);function f5(e,t,n){!t||typeof n!="string"||e.filter(function(r){return!r[n]}).forEach(function(r){r[n]=pRe(t(r))})}function gRe(e,t){var n=e.nodes,r=e.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.nodeFilter,o=i===void 0?function(){return!0}:i,s=a.onLoopError,l=s===void 0?function(h){throw"Invalid DAG structure! Found cycle in node path: ".concat(h.join(" -> "),".")}:s,u={};n.forEach(function(h){return u[t(h)]={data:h,out:[],depth:-1,skip:!o(h)}}),r.forEach(function(h){var v=h.source,m=h.target,p=b(v),g=b(m);if(!u.hasOwnProperty(p))throw"Missing source node with id: ".concat(p);if(!u.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var y=u[p],x=u[g];y.out.push(x);function b(A){return OM(A)==="object"?t(A):A}});var c=[];d(Object.values(u));var f=Object.assign.apply(Object,[{}].concat(Si(Object.entries(u).filter(function(h){var v=c5(h,2),m=v[1];return!m.skip}).map(function(h){var v=c5(h,2),m=v[0],p=v[1];return lR({},m,p.depth)}))));return f;function d(h){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,p=function(){var b=h[g];if(v.indexOf(b)!==-1){var A=[].concat(Si(v.slice(v.indexOf(b))),[b]).map(function(S){return t(S.data)});return c.some(function(S){return S.length===A.length&&S.every(function(_,w){return _===A[w]})})||(c.push(A),l(A)),1}m>b.depth&&(b.depth=m,d(b.out,[].concat(Si(v),[b]),m+(b.skip?0:1)))},g=0,y=h.length;g<y;g++)p()}}var Dt=window.THREE?window.THREE:{Group:Ic,Mesh:Ka,MeshLambertMaterial:JCe,Color:qt,BufferGeometry:ya,BufferAttribute:ri,Matrix4:Sn,Vector3:we,SphereGeometry:l0,CylinderGeometry:s0,TubeGeometry:XP,ConeGeometry:YP,Line:BCe,LineBasicMaterial:lj,QuadraticBezierCurve3:jP,CubicBezierCurve3:cj,Box3:Ru},d5={graph:PTe,forcelayout:uEe},mRe=2,h5=new Dt.BufferGeometry().setAttribute?"setAttribute":"addAttribute",hg=new Dt.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",yRe=oR({props:{jsonUrl:{onChange:function(t,n){var r=this;t&&!n.fetchingJson&&(n.fetchingJson=!0,n.onLoading(),fetch(t).then(function(a){return a.json()}).then(function(a){n.fetchingJson=!1,n.onFinishLoading(a),r.graphData(a)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(t,n){n.engineRunning=!1}},numDimensions:{default:3,onChange:function(t,n){var r=n.d3ForceLayout.force("charge");r&&r.strength(t>2?-60:-30),t<3&&a(n.graphData.nodes,"z"),t<2&&a(n.graphData.nodes,"y");function a(i,o){i.forEach(function(s){delete s[o],delete s["v".concat(o)]})}}},dagMode:{onChange:function(t,n){!t&&n.forceEngine==="d3"&&(n.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=r.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(t){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(t,n){n.d3ForceLayout.alphaDecay(t)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(t,n){n.d3ForceLayout.alphaTarget(t)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(t,n){n.d3ForceLayout.velocityDecay(t)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(t){return t._flushObjects=!0,t._rerender(),this},d3Force:function(t,n,r){return r===void 0?t.d3ForceLayout.force(n):(t.d3ForceLayout.force(n,r),this)},d3ReheatSimulation:function(t){return t.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(t){return t.cntTicks=0,t.startTickTime=new Date,t.engineRunning=!0,this},tickFrame:function(t){var n=t.forceEngine!=="ngraph";return t.engineRunning&&r(),a(),i(),this;function r(){++t.cntTicks>t.cooldownTicks||new Date-t.startTickTime>t.cooldownTime||n&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin?(t.engineRunning=!1,t.onEngineStop()):(t.layout[n?"tick":"step"](),t.onEngineTick());var o=on(t.nodeThreeObjectExtend);t.graphData.nodes.forEach(function(d){var h=d.__threeObj;if(h){var v=n?d:t.layout.getNodePosition(d[t.nodeId]),m=o(d);(!t.nodePositionUpdate||!t.nodePositionUpdate(m?h.children[0]:h,{x:v.x,y:v.y,z:v.z},d)||m)&&(h.position.x=v.x,h.position.y=v.y||0,h.position.z=v.z||0)}});var s=on(t.linkWidth),l=on(t.linkCurvature),u=on(t.linkCurveRotation),c=on(t.linkThreeObjectExtend);t.graphData.links.forEach(function(d){var h=d.__lineObj;if(h){var v=n?d:t.layout.getLinkPosition(t.layout.graph.getLink(d.source,d.target).id),m=v[n?"source":"from"],p=v[n?"target":"to"];if(!(!m||!p||!m.hasOwnProperty("x")||!p.hasOwnProperty("x"))){f(d);var g=c(d);if(!(t.linkPositionUpdate&&t.linkPositionUpdate(g?h.children[1]:h,{start:{x:m.x,y:m.y,z:m.z},end:{x:p.x,y:p.y,z:p.z}},d)&&!g)){var y=30,x=d.__curve,b=h.children.length?h.children[0]:h;if(b.type==="Line"){if(x)b.geometry.setFromPoints(x.getPoints(y));else{var A=b.geometry.getAttribute("position");(!A||!A.array||A.array.length!==6)&&b.geometry[h5]("position",A=new Dt.BufferAttribute(new Float32Array(2*3),3)),A.array[0]=m.x,A.array[1]=m.y||0,A.array[2]=m.z||0,A.array[3]=p.x,A.array[4]=p.y||0,A.array[5]=p.z||0,A.needsUpdate=!0}b.geometry.computeBoundingSphere()}else if(b.type==="Mesh")if(x){b.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(b.position.set(0,0,0),b.rotation.set(0,0,0),b.scale.set(1,1,1));var E=Math.ceil(s(d)*10)/10,P=E/2,R=new Dt.TubeGeometry(x,y,P,t.linkResolution,!1);b.geometry.dispose(),b.geometry=R}else{if(!b.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var S=Math.ceil(s(d)*10)/10,_=S/2,w=new Dt.CylinderGeometry(_,_,1,t.linkResolution,1,!1);w[hg](new Dt.Matrix4().makeTranslation(0,1/2,0)),w[hg](new Dt.Matrix4().makeRotationX(Math.PI/2)),b.geometry.dispose(),b.geometry=w}var C=new Dt.Vector3(m.x,m.y||0,m.z||0),M=new Dt.Vector3(p.x,p.y||0,p.z||0),T=C.distanceTo(M);b.position.x=C.x,b.position.y=C.y,b.position.z=C.z,b.scale.z=T,b.parent.localToWorld(M),b.lookAt(M)}}}}});function f(d){var h=n?d:t.layout.getLinkPosition(t.layout.graph.getLink(d.source,d.target).id),v=h[n?"source":"from"],m=h[n?"target":"to"];if(!(!v||!m||!v.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var p=l(d);if(!p)d.__curve=null;else{var g=new Dt.Vector3(v.x,v.y||0,v.z||0),y=new Dt.Vector3(m.x,m.y||0,m.z||0),x=g.distanceTo(y),b,A=u(d);if(x>0){var S=m.x-v.x,_=m.y-v.y||0,w=new Dt.Vector3().subVectors(y,g),C=w.clone().multiplyScalar(p).cross(S!==0||_!==0?new Dt.Vector3(0,0,1):new Dt.Vector3(0,1,0)).applyAxisAngle(w.normalize(),A).add(new Dt.Vector3().addVectors(g,y).divideScalar(2));b=new Dt.QuadraticBezierCurve3(g,C,y)}else{var M=p*70,T=-A,E=T+Math.PI/2;b=new Dt.CubicBezierCurve3(g,new Dt.Vector3(M*Math.cos(E),M*Math.sin(E),0).add(g),new Dt.Vector3(M*Math.cos(T),M*Math.sin(T),0).add(g),y)}d.__curve=b}}}}function a(){var o=on(t.linkDirectionalArrowRelPos),s=on(t.linkDirectionalArrowLength),l=on(t.nodeVal);t.graphData.links.forEach(function(u){var c=u.__arrowObj;if(c){var f=n?u:t.layout.getLinkPosition(t.layout.graph.getLink(u.source,u.target).id),d=f[n?"source":"from"],h=f[n?"target":"to"];if(!(!d||!h||!d.hasOwnProperty("x")||!h.hasOwnProperty("x"))){var v=Math.cbrt(Math.max(0,l(d)||1))*t.nodeRelSize,m=Math.cbrt(Math.max(0,l(h)||1))*t.nodeRelSize,p=s(u),g=o(u),y=u.__curve?function(w){return u.__curve.getPoint(w)}:function(w){var C=function(T,E,P,R){return E[T]+(P[T]-E[T])*R||0};return{x:C("x",d,h,w),y:C("y",d,h,w),z:C("z",d,h,w)}},x=u.__curve?u.__curve.getLength():Math.sqrt(["x","y","z"].map(function(w){return Math.pow((h[w]||0)-(d[w]||0),2)}).reduce(function(w,C){return w+C},0)),b=v+p+(x-v-m-p)*g,A=y(b/x),S=y((b-p)/x);["x","y","z"].forEach(function(w){return c.position[w]=S[w]});var _=QPe(Dt.Vector3,Si(["x","y","z"].map(function(w){return A[w]})));c.parent.localToWorld(_),c.lookAt(_)}}})}function i(){var o=on(t.linkDirectionalParticleSpeed);t.graphData.links.forEach(function(s){var l=s.__photonsObj&&s.__photonsObj.children,u=s.__singleHopPhotonsObj&&s.__singleHopPhotonsObj.children;if(!((!u||!u.length)&&(!l||!l.length))){var c=n?s:t.layout.getLinkPosition(t.layout.graph.getLink(s.source,s.target).id),f=c[n?"source":"from"],d=c[n?"target":"to"];if(!(!f||!d||!f.hasOwnProperty("x")||!d.hasOwnProperty("x"))){var h=o(s),v=s.__curve?function(p){return s.__curve.getPoint(p)}:function(p){var g=function(x,b,A,S){return b[x]+(A[x]-b[x])*S||0};return{x:g("x",f,d,p),y:g("y",f,d,p),z:g("z",f,d,p)}},m=[].concat(Si(l||[]),Si(u||[]));m.forEach(function(p,g){var y=p.parent.__linkThreeObjType==="singleHopPhotons";if(p.hasOwnProperty("__progressRatio")||(p.__progressRatio=y?0:g/l.length),p.__progressRatio+=h,p.__progressRatio>=1)if(!y)p.__progressRatio=p.__progressRatio%1;else{p.parent.remove(p),kM(p);return}var x=p.__progressRatio,b=v(x);["x","y","z"].forEach(function(A){return p.position[A]=b[A]})})}}})}},emitParticle:function(t,n){if(n&&t.graphData.links.includes(n)){if(!n.__singleHopPhotonsObj){var r=new Dt.Group;r.__linkThreeObjType="singleHopPhotons",n.__singleHopPhotonsObj=r,t.graphScene.add(r)}var a=on(t.linkDirectionalParticleWidth),i=Math.ceil(a(n)*10)/10/2,o=t.linkDirectionalParticleResolution,s=new Dt.SphereGeometry(i,o,o),l=on(t.linkColor),u=on(t.linkDirectionalParticleColor),c=u(n)||l(n)||"#f0f0f0",f=new Dt.Color(Vd(c)),d=t.linkOpacity*3,h=new Dt.MeshLambertMaterial({color:f,transparent:!0,opacity:d});n.__singleHopPhotonsObj.add(new Dt.Mesh(s,h))}return this},getGraphBbox:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!t.initialised)return null;var r=function a(i){var o=[];if(i.geometry){i.geometry.computeBoundingBox();var s=new Dt.Box3;s.copy(i.geometry.boundingBox).applyMatrix4(i.matrixWorld),o.push(s)}return o.concat.apply(o,Si((i.children||[]).filter(function(l){return!l.hasOwnProperty("__graphObjType")||l.__graphObjType==="node"&&n(l.__data)}).map(a)))}(t.graphScene);return r.length?Object.assign.apply(Object,Si(["x","y","z"].map(function(a){return lR({},a,[KEe(r,function(i){return i.min[a]}),qEe(r,function(i){return i.max[a]})])}))):null}},stateInit:function(){return{d3ForceLayout:bTe().force("link",iTe()).force("charge",STe()).force("center",uMe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(t,n){n.graphScene=t},update:function(t,n){var r=function(V){return V.some(function(L){return n.hasOwnProperty(L)})};if(t.engineRunning=!1,t.onUpdate(),t.nodeAutoColorBy!==null&&r(["nodeAutoColorBy","graphData","nodeColor"])&&f5(t.graphData.nodes,on(t.nodeAutoColorBy),t.nodeColor),t.linkAutoColorBy!==null&&r(["linkAutoColorBy","graphData","linkColor"])&&f5(t.graphData.links,on(t.linkAutoColorBy),t.linkColor),t._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var a=on(t.nodeThreeObject),i=on(t.nodeThreeObjectExtend),o=on(t.nodeVal),s=on(t.nodeColor),l=on(t.nodeVisibility),u={},c={};Fd(t.graphData.nodes.filter(l),t.graphScene,{purge:t._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(V){return V.__graphObjType==="node"},createObj:function(V){var L=a(V),O=i(V);L&&t.nodeThreeObject===L&&(L=L.clone());var H;return L&&!O?H=L:(H=new Dt.Mesh,H.__graphDefaultObj=!0,L&&O&&H.add(L)),H.__graphObjType="node",H},updateObj:function(V,L){if(V.__graphDefaultObj){var O=o(L)||1,H=Math.cbrt(O)*t.nodeRelSize,j=t.nodeResolution;(!V.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||V.geometry.parameters.radius!==H||V.geometry.parameters.widthSegments!==j)&&(u.hasOwnProperty(O)||(u[O]=new Dt.SphereGeometry(H,j,j)),V.geometry.dispose(),V.geometry=u[O]);var Y=s(L),X=new Dt.Color(Vd(Y||"#ffffaa")),Q=t.nodeOpacity*Bw(Y);(V.material.type!=="MeshLambertMaterial"||!V.material.color.equals(X)||V.material.opacity!==Q)&&(c.hasOwnProperty(Y)||(c[Y]=new Dt.MeshLambertMaterial({color:X,transparent:!0,opacity:Q})),V.material.dispose(),V.material=c[Y])}}})}if(t._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var f=on(t.linkThreeObject),d=on(t.linkThreeObjectExtend),h=on(t.linkMaterial),v=on(t.linkVisibility),m=on(t.linkColor),p=on(t.linkWidth),g={},y={},x={},b=t.graphData.links.filter(v);if(Fd(b,t.graphScene,{objBindAttr:"__lineObj",purge:t._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(V){return V.__graphObjType==="link"},exitObj:function(V){var L=V.__data&&V.__data.__singleHopPhotonsObj;L&&(L.parent.remove(L),kM(L),delete V.__data.__singleHopPhotonsObj)},createObj:function(V){var L=f(V),O=d(V);L&&t.linkThreeObject===L&&(L=L.clone());var H;if(!L||O){var j=!!p(V);if(j)H=new Dt.Mesh;else{var Y=new Dt.BufferGeometry;Y[h5]("position",new Dt.BufferAttribute(new Float32Array(2*3),3)),H=new Dt.Line(Y)}}var X;return L?O?(X=new Dt.Group,X.__graphDefaultObj=!0,X.add(H),X.add(L)):X=L:(X=H,X.__graphDefaultObj=!0),X.renderOrder=10,X.__graphObjType="link",X},updateObj:function(V,L){if(V.__graphDefaultObj){var O=V.children.length?V.children[0]:V,H=Math.ceil(p(L)*10)/10,j=!!H;if(j){var Y=H/2,X=t.linkResolution;if(!O.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||O.geometry.parameters.radiusTop!==Y||O.geometry.parameters.radialSegments!==X){if(!g.hasOwnProperty(H)){var Q=new Dt.CylinderGeometry(Y,Y,1,X,1,!1);Q[hg](new Dt.Matrix4().makeTranslation(0,1/2,0)),Q[hg](new Dt.Matrix4().makeRotationX(Math.PI/2)),g[H]=Q}O.geometry.dispose(),O.geometry=g[H]}}var K=h(L);if(K)O.material=K;else{var Z=m(L),te=new Dt.Color(Vd(Z||"#f0f0f0")),oe=t.linkOpacity*Bw(Z),ue=j?"MeshLambertMaterial":"LineBasicMaterial";if(O.material.type!==ue||!O.material.color.equals(te)||O.material.opacity!==oe){var se=j?y:x;se.hasOwnProperty(Z)||(se[Z]=new Dt[ue]({color:te,transparent:oe<1,opacity:oe,depthWrite:oe>=1})),O.material.dispose(),O.material=se[Z]}}}}}),t.linkDirectionalArrowLength||n.hasOwnProperty("linkDirectionalArrowLength")){var A=on(t.linkDirectionalArrowLength),S=on(t.linkDirectionalArrowColor);Fd(b.filter(A),t.graphScene,{objBindAttr:"__arrowObj",objFilter:function(V){return V.__linkThreeObjType==="arrow"},createObj:function(){var V=new Dt.Mesh(void 0,new Dt.MeshLambertMaterial({transparent:!0}));return V.__linkThreeObjType="arrow",V},updateObj:function(V,L){var O=A(L),H=t.linkDirectionalArrowResolution;if(!V.geometry.type.match(/^Cone(Buffer)?Geometry$/)||V.geometry.parameters.height!==O||V.geometry.parameters.radialSegments!==H){var j=new Dt.ConeGeometry(O*.25,O,H);j.translate(0,O/2,0),j.rotateX(Math.PI/2),V.geometry.dispose(),V.geometry=j}var Y=S(L)||m(L)||"#f0f0f0";V.material.color=new Dt.Color(Vd(Y)),V.material.opacity=t.linkOpacity*3*Bw(Y)}})}if(t.linkDirectionalParticles||n.hasOwnProperty("linkDirectionalParticles")){var _=on(t.linkDirectionalParticles),w=on(t.linkDirectionalParticleWidth),C=on(t.linkDirectionalParticleColor),M={},T={};Fd(b.filter(_),t.graphScene,{objBindAttr:"__photonsObj",objFilter:function(V){return V.__linkThreeObjType==="photons"},createObj:function(){var V=new Dt.Group;return V.__linkThreeObjType="photons",V},updateObj:function(V,L){var O=Math.round(Math.abs(_(L))),H=!!V.children.length&&V.children[0],j=Math.ceil(w(L)*10)/10/2,Y=t.linkDirectionalParticleResolution,X;H&&H.geometry.parameters.radius===j&&H.geometry.parameters.widthSegments===Y?X=H.geometry:(T.hasOwnProperty(j)||(T[j]=new Dt.SphereGeometry(j,Y,Y)),X=T[j],H&&H.geometry.dispose());var Q=C(L)||m(L)||"#f0f0f0",K=new Dt.Color(Vd(Q)),Z=t.linkOpacity*3,te;H&&H.material.color.equals(K)&&H.material.opacity===Z?te=H.material:(M.hasOwnProperty(Q)||(M[Q]=new Dt.MeshLambertMaterial({color:K,transparent:!0,opacity:Z})),te=M[Q],H&&H.material.dispose()),Fd(Si(new Array(O)).map(function(oe,ue){return{idx:ue}}),V,{idAccessor:function(ue){return ue.idx},createObj:function(){return new Dt.Mesh(X,te)},updateObj:function(ue){ue.geometry=X,ue.material=te}})}})}}if(t._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){t.engineRunning=!1,t.graphData.links.forEach(function(k){k.source=k[t.linkSource],k.target=k[t.linkTarget]});var E=t.forceEngine!=="ngraph",P;if(E){(P=t.d3ForceLayout).stop().alpha(1).numDimensions(t.numDimensions).nodes(t.graphData.nodes);var R=t.d3ForceLayout.force("link");R&&R.id(function(k){return k[t.nodeId]}).links(t.graphData.links);var I=t.dagMode&&gRe(t.graphData,function(k){return k[t.nodeId]},{nodeFilter:t.dagNodeFilter,onLoopError:t.onDagError||void 0}),D=Math.max.apply(Math,Si(Object.values(I||[]))),B=t.dagLevelDistance||t.graphData.nodes.length/(D||1)*mRe*(["radialin","radialout"].indexOf(t.dagMode)!==-1?.7:1);if(t.dagMode){var F=function(V,L){return function(O){return V?(I[O[t.nodeId]]-D/2)*B*(L?-1:1):void 0}},G=F(["lr","rl"].indexOf(t.dagMode)!==-1,t.dagMode==="rl"),z=F(["td","bu"].indexOf(t.dagMode)!==-1,t.dagMode==="td"),N=F(["zin","zout"].indexOf(t.dagMode)!==-1,t.dagMode==="zout");t.graphData.nodes.filter(t.dagNodeFilter).forEach(function(k){k.fx=G(k),k.fy=z(k),k.fz=N(k)})}t.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(t.dagMode)!==-1?_Te(function(k){var V=I[k[t.nodeId]]||-1;return(t.dagMode==="radialin"?D-V:V)*B}).strength(function(k){return t.dagNodeFilter(k)?1:0}):null)}else{var U=d5.graph();t.graphData.nodes.forEach(function(k){U.addNode(k[t.nodeId])}),t.graphData.links.forEach(function(k){U.addLink(k.source,k.target)}),P=d5.forcelayout(U,Kj({dimensions:t.numDimensions},t.ngraphPhysics)),P.graph=U}for(var $=0;$<t.warmupTicks&&!(E&&t.d3AlphaMin>0&&t.d3ForceLayout.alpha()<t.d3AlphaMin);$++)P[E?"tick":"step"]();t.layout=P,this.resetCountdown()}t.engineRunning=!0,t.onFinishUpdate()}});function xRe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(a){rRe(i,a);function i(){var o;tRe(this,i);for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return o=ZPe(this,i,[].concat(l)),o.__kapsuleInstance=e().apply(void 0,[].concat(Si(n?[Qj(o)]:[]),l)),o}return nRe(i)}(t);return Object.keys(e()).forEach(function(a){return r.prototype[a]=function(){var i,o=(i=this.__kapsuleInstance)[a].apply(i,arguments);return o===this.__kapsuleInstance?this:o}}),r}var bRe=window.THREE?window.THREE:{Group:Ic},e7=xRe(yRe,bRe.Group,!0);const Fw={type:"change"},Vw={type:"start"},zw={type:"end"};class SRe extends Vi{constructor(t,n){super();const r=this,a={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=t,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:Xi.ROTATE,MIDDLE:Xi.DOLLY,RIGHT:Xi.PAN},this.target=new we;const i=1e-6,o=new we;let s=1,l=a.NONE,u=a.NONE,c=0,f=0,d=0;const h=new we,v=new ot,m=new ot,p=new we,g=new ot,y=new ot,x=new ot,b=new ot,A=[],S={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const O=r.domElement.getBoundingClientRect(),H=r.domElement.ownerDocument.documentElement;r.screen.left=O.left+window.pageXOffset-H.clientLeft,r.screen.top=O.top+window.pageYOffset-H.clientTop,r.screen.width=O.width,r.screen.height=O.height};const _=function(){const O=new ot;return function(j,Y){return O.set((j-r.screen.left)/r.screen.width,(Y-r.screen.top)/r.screen.height),O}}(),w=function(){const O=new ot;return function(j,Y){return O.set((j-r.screen.width*.5-r.screen.left)/(r.screen.width*.5),(r.screen.height+2*(r.screen.top-Y))/r.screen.width),O}}();this.rotateCamera=function(){const O=new we,H=new Ri,j=new we,Y=new we,X=new we,Q=new we;return function(){Q.set(m.x-v.x,m.y-v.y,0);let Z=Q.length();Z?(h.copy(r.object.position).sub(r.target),j.copy(h).normalize(),Y.copy(r.object.up).normalize(),X.crossVectors(Y,j).normalize(),Y.setLength(m.y-v.y),X.setLength(m.x-v.x),Q.copy(Y.add(X)),O.crossVectors(Q,h).normalize(),Z*=r.rotateSpeed,H.setFromAxisAngle(O,Z),h.applyQuaternion(H),r.object.up.applyQuaternion(H),p.copy(O),d=Z):!r.staticMoving&&d&&(d*=Math.sqrt(1-r.dynamicDampingFactor),h.copy(r.object.position).sub(r.target),H.setFromAxisAngle(p,d),h.applyQuaternion(H),r.object.up.applyQuaternion(H)),v.copy(m)}}(),this.zoomCamera=function(){let O;l===a.TOUCH_ZOOM_PAN?(O=c/f,c=f,r.object.isPerspectiveCamera?h.multiplyScalar(O):r.object.isOrthographicCamera?(r.object.zoom=wM.clamp(r.object.zoom/O,r.minZoom,r.maxZoom),s!==r.object.zoom&&r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(O=1+(y.y-g.y)*r.zoomSpeed,O!==1&&O>0&&(r.object.isPerspectiveCamera?h.multiplyScalar(O):r.object.isOrthographicCamera?(r.object.zoom=wM.clamp(r.object.zoom/O,r.minZoom,r.maxZoom),s!==r.object.zoom&&r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),r.staticMoving?g.copy(y):g.y+=(y.y-g.y)*this.dynamicDampingFactor)},this.panCamera=function(){const O=new ot,H=new we,j=new we;return function(){if(O.copy(b).sub(x),O.lengthSq()){if(r.object.isOrthographicCamera){const X=(r.object.right-r.object.left)/r.object.zoom/r.domElement.clientWidth,Q=(r.object.top-r.object.bottom)/r.object.zoom/r.domElement.clientWidth;O.x*=X,O.y*=Q}O.multiplyScalar(h.length()*r.panSpeed),j.copy(h).cross(r.object.up).setLength(O.x),j.add(H.copy(r.object.up).setLength(O.y)),r.object.position.add(j),r.target.add(j),r.staticMoving?x.copy(b):x.add(O.subVectors(b,x).multiplyScalar(r.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!r.noZoom||!r.noPan)&&(h.lengthSq()>r.maxDistance*r.maxDistance&&(r.object.position.addVectors(r.target,h.setLength(r.maxDistance)),g.copy(y)),h.lengthSq()<r.minDistance*r.minDistance&&(r.object.position.addVectors(r.target,h.setLength(r.minDistance)),g.copy(y)))},this.update=function(){h.subVectors(r.object.position,r.target),r.noRotate||r.rotateCamera(),r.noZoom||r.zoomCamera(),r.noPan||r.panCamera(),r.object.position.addVectors(r.target,h),r.object.isPerspectiveCamera?(r.checkDistances(),r.object.lookAt(r.target),o.distanceToSquared(r.object.position)>i&&(r.dispatchEvent(Fw),o.copy(r.object.position))):r.object.isOrthographicCamera?(r.object.lookAt(r.target),(o.distanceToSquared(r.object.position)>i||s!==r.object.zoom)&&(r.dispatchEvent(Fw),o.copy(r.object.position),s=r.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){l=a.NONE,u=a.NONE,r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.up.copy(r.up0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),h.subVectors(r.object.position,r.target),r.object.lookAt(r.target),r.dispatchEvent(Fw),o.copy(r.object.position),s=r.object.zoom};function C(O){r.enabled!==!1&&(A.length===0&&(r.domElement.setPointerCapture(O.pointerId),r.domElement.addEventListener("pointermove",M),r.domElement.addEventListener("pointerup",T)),$(O),O.pointerType==="touch"?G(O):I(O))}function M(O){r.enabled!==!1&&(O.pointerType==="touch"?z(O):D(O))}function T(O){r.enabled!==!1&&(O.pointerType==="touch"?N(O):B(),k(O),A.length===0&&(r.domElement.releasePointerCapture(O.pointerId),r.domElement.removeEventListener("pointermove",M),r.domElement.removeEventListener("pointerup",T)))}function E(O){k(O)}function P(O){r.enabled!==!1&&(window.removeEventListener("keydown",P),u===a.NONE&&(O.code===r.keys[a.ROTATE]&&!r.noRotate?u=a.ROTATE:O.code===r.keys[a.ZOOM]&&!r.noZoom?u=a.ZOOM:O.code===r.keys[a.PAN]&&!r.noPan&&(u=a.PAN)))}function R(){r.enabled!==!1&&(u=a.NONE,window.addEventListener("keydown",P))}function I(O){if(l===a.NONE)switch(O.button){case r.mouseButtons.LEFT:l=a.ROTATE;break;case r.mouseButtons.MIDDLE:l=a.ZOOM;break;case r.mouseButtons.RIGHT:l=a.PAN;break}const H=u!==a.NONE?u:l;H===a.ROTATE&&!r.noRotate?(m.copy(w(O.pageX,O.pageY)),v.copy(m)):H===a.ZOOM&&!r.noZoom?(g.copy(_(O.pageX,O.pageY)),y.copy(g)):H===a.PAN&&!r.noPan&&(x.copy(_(O.pageX,O.pageY)),b.copy(x)),r.dispatchEvent(Vw)}function D(O){const H=u!==a.NONE?u:l;H===a.ROTATE&&!r.noRotate?(v.copy(m),m.copy(w(O.pageX,O.pageY))):H===a.ZOOM&&!r.noZoom?y.copy(_(O.pageX,O.pageY)):H===a.PAN&&!r.noPan&&b.copy(_(O.pageX,O.pageY))}function B(){l=a.NONE,r.dispatchEvent(zw)}function F(O){if(r.enabled!==!1&&r.noZoom!==!0){switch(O.preventDefault(),O.deltaMode){case 2:g.y-=O.deltaY*.025;break;case 1:g.y-=O.deltaY*.01;break;default:g.y-=O.deltaY*25e-5;break}r.dispatchEvent(Vw),r.dispatchEvent(zw)}}function G(O){switch(V(O),A.length){case 1:l=a.TOUCH_ROTATE,m.copy(w(A[0].pageX,A[0].pageY)),v.copy(m);break;default:l=a.TOUCH_ZOOM_PAN;const H=A[0].pageX-A[1].pageX,j=A[0].pageY-A[1].pageY;f=c=Math.sqrt(H*H+j*j);const Y=(A[0].pageX+A[1].pageX)/2,X=(A[0].pageY+A[1].pageY)/2;x.copy(_(Y,X)),b.copy(x);break}r.dispatchEvent(Vw)}function z(O){switch(V(O),A.length){case 1:v.copy(m),m.copy(w(O.pageX,O.pageY));break;default:const H=L(O),j=O.pageX-H.x,Y=O.pageY-H.y;f=Math.sqrt(j*j+Y*Y);const X=(O.pageX+H.x)/2,Q=(O.pageY+H.y)/2;b.copy(_(X,Q));break}}function N(O){switch(A.length){case 0:l=a.NONE;break;case 1:l=a.TOUCH_ROTATE,m.copy(w(O.pageX,O.pageY)),v.copy(m);break;case 2:l=a.TOUCH_ZOOM_PAN;for(let H=0;H<A.length;H++)if(A[H].pointerId!==O.pointerId){const j=S[A[H].pointerId];m.copy(w(j.x,j.y)),v.copy(m);break}break}r.dispatchEvent(zw)}function U(O){r.enabled!==!1&&O.preventDefault()}function $(O){A.push(O)}function k(O){delete S[O.pointerId];for(let H=0;H<A.length;H++)if(A[H].pointerId==O.pointerId){A.splice(H,1);return}}function V(O){let H=S[O.pointerId];H===void 0&&(H=new ot,S[O.pointerId]=H),H.set(O.pageX,O.pageY)}function L(O){const H=O.pointerId===A[0].pointerId?A[1]:A[0];return S[H.pointerId]}this.dispose=function(){r.domElement.removeEventListener("contextmenu",U),r.domElement.removeEventListener("pointerdown",C),r.domElement.removeEventListener("pointercancel",E),r.domElement.removeEventListener("wheel",F),r.domElement.removeEventListener("pointermove",M),r.domElement.removeEventListener("pointerup",T),window.removeEventListener("keydown",P),window.removeEventListener("keyup",R)},this.domElement.addEventListener("contextmenu",U),this.domElement.addEventListener("pointerdown",C),this.domElement.addEventListener("pointercancel",E),this.domElement.addEventListener("wheel",F,{passive:!1}),window.addEventListener("keydown",P),window.addEventListener("keyup",R),this.handleResize(),this.update()}}const v5={type:"change"},Uw={type:"start"},p5={type:"end"},vg=new a0,g5=new Go,_Re=Math.cos(70*wM.DEG2RAD);class ARe extends Vi{constructor(t,n){super(),this.object=t,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new we,this.cursor=new we,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Xi.ROTATE,MIDDLE:Xi.DOLLY,RIGHT:Xi.PAN},this.touches={ONE:Qu.ROTATE,TWO:Qu.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(J){J.addEventListener("keydown",pe),this._domElementKeyEvents=J},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",pe),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(v5),r.update(),i=a.NONE},this.update=function(){const J=new we,Ae=new Ri().setFromUnitVectors(t.up,new we(0,1,0)),Se=Ae.clone().invert(),Te=new we,De=new Ri,Ke=new we,rt=2*Math.PI;return function(Ct=null){const _t=r.object.position;J.copy(_t).sub(r.target),J.applyQuaternion(Ae),s.setFromVector3(J),r.autoRotate&&i===a.NONE&&E(M(Ct)),r.enableDamping?(s.theta+=l.theta*r.dampingFactor,s.phi+=l.phi*r.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let Yt=r.minAzimuthAngle,Xt=r.maxAzimuthAngle;isFinite(Yt)&&isFinite(Xt)&&(Yt<-Math.PI?Yt+=rt:Yt>Math.PI&&(Yt-=rt),Xt<-Math.PI?Xt+=rt:Xt>Math.PI&&(Xt-=rt),Yt<=Xt?s.theta=Math.max(Yt,Math.min(Xt,s.theta)):s.theta=s.theta>(Yt+Xt)/2?Math.max(Yt,s.theta):Math.min(Xt,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(c,r.dampingFactor):r.target.add(c),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor);let yn=!1;if(r.zoomToCursor&&S||r.object.isOrthographicCamera)s.radius=z(s.radius);else{const Dn=s.radius;s.radius=z(s.radius*u),yn=Dn!=s.radius}if(J.setFromSpherical(s),J.applyQuaternion(Se),_t.copy(r.target).add(J),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,c.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),r.zoomToCursor&&S){let Dn=null;if(r.object.isPerspectiveCamera){const xn=J.length();Dn=z(xn*u);const nn=xn-Dn;r.object.position.addScaledVector(b,nn),r.object.updateMatrixWorld(),yn=!!nn}else if(r.object.isOrthographicCamera){const xn=new we(A.x,A.y,0);xn.unproject(r.object);const nn=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/u)),r.object.updateProjectionMatrix(),yn=nn!==r.object.zoom;const Ln=new we(A.x,A.y,0);Ln.unproject(r.object),r.object.position.sub(Ln).add(xn),r.object.updateMatrixWorld(),Dn=J.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Dn!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Dn).add(r.object.position):(vg.origin.copy(r.object.position),vg.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(vg.direction))<_Re?t.lookAt(r.target):(g5.setFromNormalAndCoplanarPoint(r.object.up,r.target),vg.intersectPlane(g5,r.target))))}else if(r.object.isOrthographicCamera){const Dn=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/u)),Dn!==r.object.zoom&&(r.object.updateProjectionMatrix(),yn=!0)}return u=1,S=!1,yn||Te.distanceToSquared(r.object.position)>o||8*(1-De.dot(r.object.quaternion))>o||Ke.distanceToSquared(r.target)>o?(r.dispatchEvent(v5),Te.copy(r.object.position),De.copy(r.object.quaternion),Ke.copy(r.target),!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",Ce),r.domElement.removeEventListener("pointerdown",me),r.domElement.removeEventListener("pointercancel",q),r.domElement.removeEventListener("wheel",ee),r.domElement.removeEventListener("pointermove",re),r.domElement.removeEventListener("pointerup",q),r.domElement.getRootNode().removeEventListener("keydown",le,{capture:!0}),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",pe),r._domElementKeyEvents=null)};const r=this,a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let i=a.NONE;const o=1e-6,s=new TM,l=new TM;let u=1;const c=new we,f=new ot,d=new ot,h=new ot,v=new ot,m=new ot,p=new ot,g=new ot,y=new ot,x=new ot,b=new we,A=new ot;let S=!1;const _=[],w={};let C=!1;function M(J){return J!==null?2*Math.PI/60*r.autoRotateSpeed*J:2*Math.PI/60/60*r.autoRotateSpeed}function T(J){const Ae=Math.abs(J*.01);return Math.pow(.95,r.zoomSpeed*Ae)}function E(J){l.theta-=J}function P(J){l.phi-=J}const R=function(){const J=new we;return function(Se,Te){J.setFromMatrixColumn(Te,0),J.multiplyScalar(-Se),c.add(J)}}(),I=function(){const J=new we;return function(Se,Te){r.screenSpacePanning===!0?J.setFromMatrixColumn(Te,1):(J.setFromMatrixColumn(Te,0),J.crossVectors(r.object.up,J)),J.multiplyScalar(Se),c.add(J)}}(),D=function(){const J=new we;return function(Se,Te){const De=r.domElement;if(r.object.isPerspectiveCamera){const Ke=r.object.position;J.copy(Ke).sub(r.target);let rt=J.length();rt*=Math.tan(r.object.fov/2*Math.PI/180),R(2*Se*rt/De.clientHeight,r.object.matrix),I(2*Te*rt/De.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(R(Se*(r.object.right-r.object.left)/r.object.zoom/De.clientWidth,r.object.matrix),I(Te*(r.object.top-r.object.bottom)/r.object.zoom/De.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function B(J){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?u/=J:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(J){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?u*=J:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(J,Ae){if(!r.zoomToCursor)return;S=!0;const Se=r.domElement.getBoundingClientRect(),Te=J-Se.left,De=Ae-Se.top,Ke=Se.width,rt=Se.height;A.x=Te/Ke*2-1,A.y=-(De/rt)*2+1,b.set(A.x,A.y,1).unproject(r.object).sub(r.object.position).normalize()}function z(J){return Math.max(r.minDistance,Math.min(r.maxDistance,J))}function N(J){f.set(J.clientX,J.clientY)}function U(J){G(J.clientX,J.clientX),g.set(J.clientX,J.clientY)}function $(J){v.set(J.clientX,J.clientY)}function k(J){d.set(J.clientX,J.clientY),h.subVectors(d,f).multiplyScalar(r.rotateSpeed);const Ae=r.domElement;E(2*Math.PI*h.x/Ae.clientHeight),P(2*Math.PI*h.y/Ae.clientHeight),f.copy(d),r.update()}function V(J){y.set(J.clientX,J.clientY),x.subVectors(y,g),x.y>0?B(T(x.y)):x.y<0&&F(T(x.y)),g.copy(y),r.update()}function L(J){m.set(J.clientX,J.clientY),p.subVectors(m,v).multiplyScalar(r.panSpeed),D(p.x,p.y),v.copy(m),r.update()}function O(J){G(J.clientX,J.clientY),J.deltaY<0?F(T(J.deltaY)):J.deltaY>0&&B(T(J.deltaY)),r.update()}function H(J){let Ae=!1;switch(J.code){case r.keys.UP:J.ctrlKey||J.metaKey||J.shiftKey?P(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):D(0,r.keyPanSpeed),Ae=!0;break;case r.keys.BOTTOM:J.ctrlKey||J.metaKey||J.shiftKey?P(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):D(0,-r.keyPanSpeed),Ae=!0;break;case r.keys.LEFT:J.ctrlKey||J.metaKey||J.shiftKey?E(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):D(r.keyPanSpeed,0),Ae=!0;break;case r.keys.RIGHT:J.ctrlKey||J.metaKey||J.shiftKey?E(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):D(-r.keyPanSpeed,0),Ae=!0;break}Ae&&(J.preventDefault(),r.update())}function j(J){if(_.length===1)f.set(J.pageX,J.pageY);else{const Ae=Pe(J),Se=.5*(J.pageX+Ae.x),Te=.5*(J.pageY+Ae.y);f.set(Se,Te)}}function Y(J){if(_.length===1)v.set(J.pageX,J.pageY);else{const Ae=Pe(J),Se=.5*(J.pageX+Ae.x),Te=.5*(J.pageY+Ae.y);v.set(Se,Te)}}function X(J){const Ae=Pe(J),Se=J.pageX-Ae.x,Te=J.pageY-Ae.y,De=Math.sqrt(Se*Se+Te*Te);g.set(0,De)}function Q(J){r.enableZoom&&X(J),r.enablePan&&Y(J)}function K(J){r.enableZoom&&X(J),r.enableRotate&&j(J)}function Z(J){if(_.length==1)d.set(J.pageX,J.pageY);else{const Se=Pe(J),Te=.5*(J.pageX+Se.x),De=.5*(J.pageY+Se.y);d.set(Te,De)}h.subVectors(d,f).multiplyScalar(r.rotateSpeed);const Ae=r.domElement;E(2*Math.PI*h.x/Ae.clientHeight),P(2*Math.PI*h.y/Ae.clientHeight),f.copy(d)}function te(J){if(_.length===1)m.set(J.pageX,J.pageY);else{const Ae=Pe(J),Se=.5*(J.pageX+Ae.x),Te=.5*(J.pageY+Ae.y);m.set(Se,Te)}p.subVectors(m,v).multiplyScalar(r.panSpeed),D(p.x,p.y),v.copy(m)}function oe(J){const Ae=Pe(J),Se=J.pageX-Ae.x,Te=J.pageY-Ae.y,De=Math.sqrt(Se*Se+Te*Te);y.set(0,De),x.set(0,Math.pow(y.y/g.y,r.zoomSpeed)),B(x.y),g.copy(y);const Ke=(J.pageX+Ae.x)*.5,rt=(J.pageY+Ae.y)*.5;G(Ke,rt)}function ue(J){r.enableZoom&&oe(J),r.enablePan&&te(J)}function se(J){r.enableZoom&&oe(J),r.enableRotate&&Z(J)}function me(J){r.enabled!==!1&&(_.length===0&&(r.domElement.setPointerCapture(J.pointerId),r.domElement.addEventListener("pointermove",re),r.domElement.addEventListener("pointerup",q)),!_e(J)&&(xe(J),J.pointerType==="touch"?ye(J):ae(J)))}function re(J){r.enabled!==!1&&(J.pointerType==="touch"?ge(J):ce(J))}function q(J){switch(be(J),_.length){case 0:r.domElement.releasePointerCapture(J.pointerId),r.domElement.removeEventListener("pointermove",re),r.domElement.removeEventListener("pointerup",q),r.dispatchEvent(p5),i=a.NONE;break;case 1:const Ae=_[0],Se=w[Ae];ye({pointerId:Ae,pageX:Se.x,pageY:Se.y});break}}function ae(J){let Ae;switch(J.button){case 0:Ae=r.mouseButtons.LEFT;break;case 1:Ae=r.mouseButtons.MIDDLE;break;case 2:Ae=r.mouseButtons.RIGHT;break;default:Ae=-1}switch(Ae){case Xi.DOLLY:if(r.enableZoom===!1)return;U(J),i=a.DOLLY;break;case Xi.ROTATE:if(J.ctrlKey||J.metaKey||J.shiftKey){if(r.enablePan===!1)return;$(J),i=a.PAN}else{if(r.enableRotate===!1)return;N(J),i=a.ROTATE}break;case Xi.PAN:if(J.ctrlKey||J.metaKey||J.shiftKey){if(r.enableRotate===!1)return;N(J),i=a.ROTATE}else{if(r.enablePan===!1)return;$(J),i=a.PAN}break;default:i=a.NONE}i!==a.NONE&&r.dispatchEvent(Uw)}function ce(J){switch(i){case a.ROTATE:if(r.enableRotate===!1)return;k(J);break;case a.DOLLY:if(r.enableZoom===!1)return;V(J);break;case a.PAN:if(r.enablePan===!1)return;L(J);break}}function ee(J){r.enabled===!1||r.enableZoom===!1||i!==a.NONE||(J.preventDefault(),r.dispatchEvent(Uw),O(ne(J)),r.dispatchEvent(p5))}function ne(J){const Ae=J.deltaMode,Se={clientX:J.clientX,clientY:J.clientY,deltaY:J.deltaY};switch(Ae){case 1:Se.deltaY*=16;break;case 2:Se.deltaY*=100;break}return J.ctrlKey&&!C&&(Se.deltaY*=10),Se}function le(J){J.key==="Control"&&(C=!0,r.domElement.getRootNode().addEventListener("keyup",he,{passive:!0,capture:!0}))}function he(J){J.key==="Control"&&(C=!1,r.domElement.getRootNode().removeEventListener("keyup",he,{passive:!0,capture:!0}))}function pe(J){r.enabled===!1||r.enablePan===!1||H(J)}function ye(J){switch(Ee(J),_.length){case 1:switch(r.touches.ONE){case Qu.ROTATE:if(r.enableRotate===!1)return;j(J),i=a.TOUCH_ROTATE;break;case Qu.PAN:if(r.enablePan===!1)return;Y(J),i=a.TOUCH_PAN;break;default:i=a.NONE}break;case 2:switch(r.touches.TWO){case Qu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Q(J),i=a.TOUCH_DOLLY_PAN;break;case Qu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(J),i=a.TOUCH_DOLLY_ROTATE;break;default:i=a.NONE}break;default:i=a.NONE}i!==a.NONE&&r.dispatchEvent(Uw)}function ge(J){switch(Ee(J),i){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Z(J),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;te(J),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ue(J),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;se(J),r.update();break;default:i=a.NONE}}function Ce(J){r.enabled!==!1&&J.preventDefault()}function xe(J){_.push(J.pointerId)}function be(J){delete w[J.pointerId];for(let Ae=0;Ae<_.length;Ae++)if(_[Ae]==J.pointerId){_.splice(Ae,1);return}}function _e(J){for(let Ae=0;Ae<_.length;Ae++)if(_[Ae]==J.pointerId)return!0;return!1}function Ee(J){let Ae=w[J.pointerId];Ae===void 0&&(Ae=new ot,w[J.pointerId]=Ae),Ae.set(J.pageX,J.pageY)}function Pe(J){const Ae=J.pointerId===_[0]?_[1]:_[0];return w[Ae]}r.domElement.addEventListener("contextmenu",Ce),r.domElement.addEventListener("pointerdown",me),r.domElement.addEventListener("pointercancel",q),r.domElement.addEventListener("wheel",ee,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",le,{passive:!0,capture:!0}),this.update()}}const wRe={type:"change"};class CRe extends Vi{constructor(t,n){super(),this.object=t,this.domElement=n,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const r=this,a=1e-6,i=new Ri,o=new we;this.tmpQuaternion=new Ri,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new we(0,0,0),this.rotationVector=new we(0,0,0),this.keydown=function(v){if(!(v.altKey||this.enabled===!1)){switch(v.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(v){if(this.enabled!==!1){switch(v.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(v){if(this.enabled!==!1)if(this.dragToLook)this.status++;else{switch(v.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.pointermove=function(v){if(this.enabled!==!1&&(!this.dragToLook||this.status>0)){const m=this.getContainerDimensions(),p=m.size[0]/2,g=m.size[1]/2;this.moveState.yawLeft=-(v.pageX-m.offset[0]-p)/p,this.moveState.pitchDown=(v.pageY-m.offset[1]-g)/g,this.updateRotationVector()}},this.pointerup=function(v){if(this.enabled!==!1){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(v.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()}},this.pointercancel=function(){this.enabled!==!1&&(this.dragToLook?(this.status=0,this.moveState.yawLeft=this.moveState.pitchDown=0):(this.moveState.forward=0,this.moveState.back=0,this.updateMovementVector()),this.updateRotationVector())},this.contextMenu=function(v){this.enabled!==!1&&v.preventDefault()},this.update=function(v){if(this.enabled===!1)return;const m=v*r.movementSpeed,p=v*r.rollSpeed;r.object.translateX(r.moveVector.x*m),r.object.translateY(r.moveVector.y*m),r.object.translateZ(r.moveVector.z*m),r.tmpQuaternion.set(r.rotationVector.x*p,r.rotationVector.y*p,r.rotationVector.z*p,1).normalize(),r.object.quaternion.multiply(r.tmpQuaternion),(o.distanceToSquared(r.object.position)>a||8*(1-i.dot(r.object.quaternion))>a)&&(r.dispatchEvent(wRe),i.copy(r.object.quaternion),o.copy(r.object.position))},this.updateMovementVector=function(){const v=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-v+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",s),this.domElement.removeEventListener("pointerdown",u),this.domElement.removeEventListener("pointermove",l),this.domElement.removeEventListener("pointerup",c),this.domElement.removeEventListener("pointercancel",f),window.removeEventListener("keydown",d),window.removeEventListener("keyup",h)};const s=this.contextMenu.bind(this),l=this.pointermove.bind(this),u=this.pointerdown.bind(this),c=this.pointerup.bind(this),f=this.pointercancel.bind(this),d=this.keydown.bind(this),h=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",s),this.domElement.addEventListener("pointerdown",u),this.domElement.addEventListener("pointermove",l),this.domElement.addEventListener("pointerup",c),this.domElement.addEventListener("pointercancel",f),window.addEventListener("keydown",d),window.addEventListener("keyup",h),this.updateMovementVector(),this.updateRotationVector()}}const MRe={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class f0{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const TRe=new $P(-1,1,1,-1,0,1);class ERe extends ya{constructor(){super(),this.setAttribute("position",new hr([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new hr([0,2,0,0,2,0],2))}}const PRe=new ERe;class RRe{constructor(t){this._mesh=new Ka(PRe,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,TRe)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class IRe extends f0{constructor(t,n){super(),this.textureID=n!==void 0?n:"tDiffuse",t instanceof uo?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=K9.clone(t.uniforms),this.material=new uo({name:t.name!==void 0?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new RRe(this.material)}render(t,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class m5 extends f0{constructor(t,n){super(),this.scene=t,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,n,r){const a=t.getContext(),i=t.state;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0);let o,s;this.inverse?(o=0,s=1):(o=1,s=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),i.buffers.stencil.setFunc(a.ALWAYS,o,4294967295),i.buffers.stencil.setClear(s),i.buffers.stencil.setLocked(!0),t.setRenderTarget(r),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(n),this.clear&&t.clear(),t.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(a.EQUAL,1,4294967295),i.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),i.buffers.stencil.setLocked(!0)}}class DRe extends f0{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class LRe{constructor(t,n){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),n===void 0){const r=t.getSize(new ot);this._width=r.width,this._height=r.height,n=new ol(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Iv}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new IRe(MRe),this.copyPass.material.blending=ts,this.clock=new dj}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,n){this.passes.splice(n,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const n=this.passes.indexOf(t);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(t){for(let n=t+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(t){t===void 0&&(t=this.clock.getDelta());const n=this.renderer.getRenderTarget();let r=!1;for(let a=0,i=this.passes.length;a<i;a++){const o=this.passes[a];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(a),o.render(this.renderer,this.writeBuffer,this.readBuffer,t,r),o.needsSwap){if(r){const s=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),l.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}m5!==void 0&&(o instanceof m5?r=!0:o instanceof DRe&&(r=!1))}}this.renderer.setRenderTarget(n)}reset(t){if(t===void 0){const n=this.renderer.getSize(new ot);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,t=this.renderTarget1.clone(),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,n){this._width=t,this._height=n;const r=this._width*this._pixelRatio,a=this._height*this._pixelRatio;this.renderTarget1.setSize(r,a),this.renderTarget2.setSize(r,a);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(r,a)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class ORe extends f0{constructor(t,n,r=null,a=null,i=null){super(),this.scene=t,this.camera=n,this.overrideMaterial=r,this.clearColor=a,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new qt}render(t,n,r){const a=t.autoClear;t.autoClear=!1;let i,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(t.getClearColor(this._oldClearColor),t.setClearColor(this.clearColor,t.getClearAlpha())),this.clearAlpha!==null&&(i=t.getClearAlpha(),t.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),this.clearColor!==null&&t.setClearColor(this._oldClearColor),this.clearAlpha!==null&&t.setClearAlpha(i),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),t.autoClear=a}}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oh(e,t){return Oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Oh(e,t)}function kRe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Oh(e,t)}function BM(e){return BM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BM(e)}function BRe(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function t7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!e})()}function FRe(e,t,n){if(t7())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&Oh(a,n.prototype),a}function FM(e){var t=typeof Map=="function"?new Map:void 0;return FM=function(r){if(r===null||!BRe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return FRe(r,arguments,BM(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Oh(a,r)},FM(e)}var no=function(e){kRe(t,e);function t(n){var r;return r=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,NRe(r)}return t}(FM(Error));function Hw(e){return Math.round(e*255)}function VRe(e,t,n){return Hw(e)+","+Hw(t)+","+Hw(n)}function Nh(e,t,n,r){if(r===void 0&&(r=VRe),t===0)return r(n,n,n);var a=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,o=i*(1-Math.abs(a%2-1)),s=0,l=0,u=0;a>=0&&a<1?(s=i,l=o):a>=1&&a<2?(s=o,l=i):a>=2&&a<3?(l=i,u=o):a>=3&&a<4?(l=o,u=i):a>=4&&a<5?(s=o,u=i):a>=5&&a<6&&(s=i,u=o);var c=n-i/2,f=s+c,d=l+c,h=u+c;return r(f,d,h)}var y5={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function zRe(e){if(typeof e!="string")return e;var t=e.toLowerCase();return y5[t]?"#"+y5[t]:e}var URe=/^#[a-fA-F0-9]{6}$/,HRe=/^#[a-fA-F0-9]{8}$/,$Re=/^#[a-fA-F0-9]{3}$/,GRe=/^#[a-fA-F0-9]{4}$/,$w=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,WRe=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,jRe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,YRe=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function cu(e){if(typeof e!="string")throw new no(3);var t=zRe(e);if(t.match(URe))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(HRe)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match($Re))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(GRe)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var a=$w.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10)};var i=WRe.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])>1?parseFloat(""+i[4])/100:parseFloat(""+i[4])};var o=jRe.exec(t);if(o){var s=parseInt(""+o[1],10),l=parseInt(""+o[2],10)/100,u=parseInt(""+o[3],10)/100,c="rgb("+Nh(s,l,u)+")",f=$w.exec(c);if(!f)throw new no(4,t,c);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10)}}var d=YRe.exec(t.substring(0,50));if(d){var h=parseInt(""+d[1],10),v=parseInt(""+d[2],10)/100,m=parseInt(""+d[3],10)/100,p="rgb("+Nh(h,v,m)+")",g=$w.exec(p);if(!g)throw new no(4,t,p);return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10),alpha:parseFloat(""+d[4])>1?parseFloat(""+d[4])/100:parseFloat(""+d[4])}}throw new no(5)}function XRe(e){var t=e.red/255,n=e.green/255,r=e.blue/255,a=Math.max(t,n,r),i=Math.min(t,n,r),o=(a+i)/2;if(a===i)return e.alpha!==void 0?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s,l=a-i,u=o>.5?l/(2-a-i):l/(a+i);switch(a){case t:s=(n-r)/l+(n<r?6:0);break;case n:s=(r-t)/l+2;break;default:s=(t-n)/l+4;break}return s*=60,e.alpha!==void 0?{hue:s,saturation:u,lightness:o,alpha:e.alpha}:{hue:s,saturation:u,lightness:o}}function pl(e){return XRe(cu(e))}var qRe=function(t){return t.length===7&&t[1]===t[2]&&t[3]===t[4]&&t[5]===t[6]?"#"+t[1]+t[3]+t[5]:t},VM=qRe;function Ul(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Gw(e){return Ul(Math.round(e*255))}function KRe(e,t,n){return VM("#"+Gw(e)+Gw(t)+Gw(n))}function Gm(e,t,n){return Nh(e,t,n,KRe)}function ZRe(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Gm(e,t,n);if(typeof e=="object"&&t===void 0&&n===void 0)return Gm(e.hue,e.saturation,e.lightness);throw new no(1)}function QRe(e,t,n,r){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?Gm(e,t,n):"rgba("+Nh(e,t,n)+","+r+")";if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?Gm(e.hue,e.saturation,e.lightness):"rgba("+Nh(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new no(2)}function zM(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return VM("#"+Ul(e)+Ul(t)+Ul(n));if(typeof e=="object"&&t===void 0&&n===void 0)return VM("#"+Ul(e.red)+Ul(e.green)+Ul(e.blue));throw new no(6)}function d0(e,t,n,r){if(typeof e=="string"&&typeof t=="number"){var a=cu(e);return"rgba("+a.red+","+a.green+","+a.blue+","+t+")"}else{if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof r=="number")return r>=1?zM(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if(typeof e=="object"&&t===void 0&&n===void 0&&r===void 0)return e.alpha>=1?zM(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}throw new no(7)}var JRe=function(t){return typeof t.red=="number"&&typeof t.green=="number"&&typeof t.blue=="number"&&(typeof t.alpha!="number"||typeof t.alpha>"u")},eIe=function(t){return typeof t.red=="number"&&typeof t.green=="number"&&typeof t.blue=="number"&&typeof t.alpha=="number"},tIe=function(t){return typeof t.hue=="number"&&typeof t.saturation=="number"&&typeof t.lightness=="number"&&(typeof t.alpha!="number"||typeof t.alpha>"u")},nIe=function(t){return typeof t.hue=="number"&&typeof t.saturation=="number"&&typeof t.lightness=="number"&&typeof t.alpha=="number"};function gl(e){if(typeof e!="object")throw new no(8);if(eIe(e))return d0(e);if(JRe(e))return zM(e);if(nIe(e))return QRe(e);if(tIe(e))return ZRe(e);throw new no(8)}function n7(e,t,n){return function(){var a=n.concat(Array.prototype.slice.call(arguments));return a.length>=t?e.apply(this,a):n7(e,t,a)}}function Ia(e){return n7(e,e.length,[])}function rIe(e,t){if(t==="transparent")return t;var n=pl(t);return gl(va({},n,{hue:n.hue+parseFloat(e)}))}Ia(rIe);function Yf(e,t,n){return Math.max(e,Math.min(t,n))}function aIe(e,t){if(t==="transparent")return t;var n=pl(t);return gl(va({},n,{lightness:Yf(0,1,n.lightness-parseFloat(e))}))}Ia(aIe);function iIe(e,t){if(t==="transparent")return t;var n=pl(t);return gl(va({},n,{saturation:Yf(0,1,n.saturation-parseFloat(e))}))}Ia(iIe);function oIe(e,t){if(t==="transparent")return t;var n=pl(t);return gl(va({},n,{lightness:Yf(0,1,n.lightness+parseFloat(e))}))}Ia(oIe);function sIe(e,t,n){if(t==="transparent")return n;if(n==="transparent")return t;if(e===0)return n;var r=cu(t),a=va({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),i=cu(n),o=va({},i,{alpha:typeof i.alpha=="number"?i.alpha:1}),s=a.alpha-o.alpha,l=parseFloat(e)*2-1,u=l*s===-1?l:l+s,c=1+l*s,f=(u/c+1)/2,d=1-f,h={red:Math.floor(a.red*f+o.red*d),green:Math.floor(a.green*f+o.green*d),blue:Math.floor(a.blue*f+o.blue*d),alpha:a.alpha*parseFloat(e)+o.alpha*(1-parseFloat(e))};return d0(h)}var lIe=Ia(sIe),r7=lIe;function uIe(e,t){if(t==="transparent")return t;var n=cu(t),r=typeof n.alpha=="number"?n.alpha:1,a=va({},n,{alpha:Yf(0,1,(r*100+parseFloat(e)*100)/100)});return d0(a)}var cIe=Ia(uIe),fIe=cIe;function dIe(e,t){if(t==="transparent")return t;var n=pl(t);return gl(va({},n,{saturation:Yf(0,1,n.saturation+parseFloat(e))}))}Ia(dIe);function hIe(e,t){return t==="transparent"?t:gl(va({},pl(t),{hue:parseFloat(e)}))}Ia(hIe);function vIe(e,t){return t==="transparent"?t:gl(va({},pl(t),{lightness:parseFloat(e)}))}Ia(vIe);function pIe(e,t){return t==="transparent"?t:gl(va({},pl(t),{saturation:parseFloat(e)}))}Ia(pIe);function gIe(e,t){return t==="transparent"?t:r7(parseFloat(e),"rgb(0, 0, 0)",t)}Ia(gIe);function mIe(e,t){return t==="transparent"?t:r7(parseFloat(e),"rgb(255, 255, 255)",t)}Ia(mIe);function yIe(e,t){if(t==="transparent")return t;var n=cu(t),r=typeof n.alpha=="number"?n.alpha:1,a=va({},n,{alpha:Yf(0,1,+(r*100-parseFloat(e)*100).toFixed(2)/100)});return d0(a)}Ia(yIe);var au=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-au.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?au.Bounce.In(e*2)*.5:au.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(t*2,e)/2:(1-Math.pow(2-t*2,e))/2+.5}}}}),Qd=function(){return performance.now()},xIe=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=Qd()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<r.length;a++){var i=this._tweens[r[a]],o=!n;i&&i.update(t,o)===!1&&!n&&delete this._tweens[r[a]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Dc={Linear:function(e,t){var n=e.length-1,r=n*t,a=Math.floor(r),i=Dc.Utils.Linear;return t<0?i(e[0],e[1],r):t>1?i(e[n],e[n-1],n-r):i(e[a],e[a+1>n?n:a+1],r-a)},Bezier:function(e,t){for(var n=0,r=e.length-1,a=Math.pow,i=Dc.Utils.Bernstein,o=0;o<=r;o++)n+=a(1-t,r-o)*a(t,o)*e[o]*i(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,a=Math.floor(r),i=Dc.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(a=Math.floor(r=n*(1+t))),i(e[(a-1+n)%n],e[a],e[(a+1)%n],e[(a+2)%n],r-a)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(i(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):i(e[a?a-1:0],e[a],e[n<a+1?n:a+1],e[n<a+2?n:a+2],r-a)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Dc.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,a){var i=(n-e)*.5,o=(r-t)*.5,s=a*a,l=a*s;return(2*t-2*n+i+o)*l+(-3*t+3*n-2*i-o)*s+i*a+t}}},bIe=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),UM=new xIe,x5=function(){function e(t,n){n===void 0&&(n=UM),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=au.Linear.None,this._interpolationFunction=Dc.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=bIe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(t,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t<0?0:t,this},e.prototype.dynamic=function(t){return t===void 0&&(t=!1),this._isDynamic=t,this},e.prototype.start=function(t,n){if(t===void 0&&(t=Qd()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var i in this._valuesEnd)a[i]=this._valuesEnd[i];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,n,r,a,i){for(var o in r){var s=t[o],l=Array.isArray(s),u=l?"array":typeof s,c=!l&&Array.isArray(r[o]);if(!(u==="undefined"||u==="function")){if(c){var f=r[o];if(f.length===0)continue;for(var d=[s],h=0,v=f.length;h<v;h+=1){var m=this._handleRelativeValue(s,f[h]);if(isNaN(m)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(m)}c&&(r[o]=d)}if((u==="object"||l)&&s&&!c){n[o]=l?[]:{};var p=s;for(var g in p)n[o][g]=p[g];a[o]=l?[]:{};var f=r[o];if(!this._isDynamic){var y={};for(var g in f)y[g]=f[g];r[o]=f=y}this._setupProperties(p,n[o],f,a[o],i)}else(typeof n[o]>"u"||i)&&(n[o]=s),l||(n[o]*=1),c?a[o]=r[o].slice().reverse():a[o]=n[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=Qd()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=Qd()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t===void 0&&(t=UM),this._group=t,this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=au.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=Dc.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){var r;if(t===void 0&&(t=Qd()),n===void 0&&(n=!0),this._isPaused)return!0;var a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>a)return!1;n&&this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var i=t-this._startTime,o=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),s=this._duration+this._repeat*o,l=this._calculateElapsedPortion(i,o,s),u=this._easingFunction(l),c=this._calculateCompletionStatus(i,o);if(c==="repeat"&&this._processRepetition(i,o),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,u),c==="about-to-repeat"&&this._processRepetition(i,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,l),c==="repeat"||c==="about-to-repeat")this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1;else if(c==="completed"){this._isPlaying=!1,this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var f=0,d=this._chainedTweens.length;f<d;f++)this._chainedTweens[f].start(this._startTime+this._duration,!1)}return c!=="completed"},e.prototype._calculateElapsedPortion=function(t,n,r){if(this._duration===0||t>r)return 1;var a=t%n,i=Math.min(a/this._duration,1);return i===0&&t!==0&&t%this._duration===0?1:i},e.prototype._calculateCompletionStatus=function(t,n){return this._duration!==0&&t<this._duration?"playing":this._repeat<=0?"completed":t===this._duration?"about-to-repeat":"repeat"},e.prototype._processRepetition=function(t,n){var r=Math.min(Math.trunc((t-this._duration)/n)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=r);for(var a in this._valuesStartRepeat){var i=this._valuesEnd[a];!this._yoyo&&typeof i=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(i)),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}this._yoyo&&(this._reversed=!this._reversed),this._startTime+=n*r},e.prototype._updateProperties=function(t,n,r,a){for(var i in r)if(n[i]!==void 0){var o=n[i]||0,s=r[i],l=Array.isArray(t[i]),u=Array.isArray(s),c=!l&&u;c?t[i]=this._interpolationFunction(s,a):typeof s=="object"&&s?this._updateProperties(t[i],o,s,a):(s=this._handleRelativeValue(o,s),typeof s=="number"&&(t[i]=o+(s-o)*a))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];typeof r=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(r):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}(),co=UM;co.getAll.bind(co);co.removeAll.bind(co);co.add.bind(co);co.remove.bind(co);var SIe=co.update.bind(co);function _Ie(e,t){if(t={},t.insertAt,!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var AIe=`.scene-nav-info {
  bottom: 5px;
  width: 100%;
  text-align: center;
  color: slategrey;
  opacity: 0.7;
  font-size: 10px;
}

.scene-tooltip {
  top: 0;
  color: lavender;
  font-size: 15px;
}

.scene-nav-info, .scene-tooltip {
  position: absolute;
  font-family: sans-serif;
  pointer-events: none;
  user-select: none;
}

.scene-container canvas:focus {
  outline: none;
}`;_Ie(AIe);function wIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function CIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MIe(e){var t=CIe(e,"string");return typeof t=="symbol"?t:t+""}function TIe(e,t,n){return t=MIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EIe(e,t){return RIe(e)||wIe(e,t)||a7(e,t)||LIe()}function zd(e){return PIe(e)||IIe(e)||a7(e)||DIe()}function PIe(e){if(Array.isArray(e))return HM(e)}function RIe(e){if(Array.isArray(e))return e}function IIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a7(e,t){if(e){if(typeof e=="string")return HM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(e,t)}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kn=window.THREE?window.THREE:{WebGLRenderer:LCe,Scene:OCe,PerspectiveCamera:ja,Raycaster:hj,SRGBColorSpace:Ga,TextureLoader:rMe,Vector2:ot,Vector3:we,Box3:Ru,Color:qt,Mesh:Ka,SphereGeometry:l0,MeshBasicMaterial:UP,BackSide:aa,EventDispatcher:Vi,MOUSE:Xi,Quaternion:Ri,Spherical:TM,Clock:dj},i7=oR({props:{width:{default:window.innerWidth,onChange:function(t,n,r){isNaN(t)&&(n.width=r)}},height:{default:window.innerHeight,onChange:function(t,n,r){isNaN(t)&&(n.height=r)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},lights:{default:[]},enablePointerInteraction:{default:!0,onChange:function(t,n){n.hoverObj=null,n.toolTipElem&&(n.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(t){if(t.initialised){if(t.controls.update&&t.controls.update(Math.min(1,t.clock.getDelta())),t.postProcessingComposer?t.postProcessingComposer.render():t.renderer.render(t.scene,t.camera),t.extraRenderers.forEach(function(i){return i.render(t.scene,t.camera)}),t.enablePointerInteraction){var n=null;if(t.hoverDuringDrag||!t.isPointerDragging){var r=this.intersectingObjects(t.pointerPos.x,t.pointerPos.y).filter(function(i){return t.hoverFilter(i.object)}).sort(function(i,o){return t.hoverOrderComparator(i.object,o.object)}),a=r.length?r[0]:null;n=a?a.object:null,t.intersectionPoint=a?a.point:null}n!==t.hoverObj&&(t.onHover(n,t.hoverObj),t.toolTipElem.innerHTML=n&&on(t.tooltipContent)(n)||"",t.hoverObj=n)}SIe()}return this},getPointerPos:function(t){var n=t.pointerPos,r=n.x,a=n.y;return{x:r,y:a}},cameraPosition:function(t,n,r,a){var i=t.camera;if(n&&t.initialised){var o=n,s=r||{x:0,y:0,z:0};if(!a)c(o),f(s);else{var l=Object.assign({},i.position),u=d();new x5(l).to(o,a).easing(au.Quadratic.Out).onUpdate(c).start(),new x5(u).to(s,a/3).easing(au.Quadratic.Out).onUpdate(f).start()}return this}return Object.assign({},i.position,{lookAt:d()});function c(h){var v=h.x,m=h.y,p=h.z;v!==void 0&&(i.position.x=v),m!==void 0&&(i.position.y=m),p!==void 0&&(i.position.z=p)}function f(h){var v=new kn.Vector3(h.x,h.y,h.z);t.controls.target?t.controls.target=v:i.lookAt(v)}function d(){return Object.assign(new kn.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,i),n,r)},fitToBbox:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,i=t.camera;if(n){var o=new kn.Vector3(0,0,0),s=Math.max.apply(Math,zd(Object.entries(n).map(function(h){var v=EIe(h,2),m=v[0],p=v[1];return Math.max.apply(Math,zd(p.map(function(g){return Math.abs(o[m]-g)})))})))*2,l=(1-a*2/t.height)*i.fov,u=s/Math.atan(l*Math.PI/180),c=u/i.aspect,f=Math.max(u,c);if(f>0){var d=o.clone().sub(i.position).normalize().multiplyScalar(-f);this.cameraPosition(d,o,r)}}return this},getBbox:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=new kn.Box3(new kn.Vector3(0,0,0),new kn.Vector3(0,0,0)),a=t.objects.filter(n);return a.length?(a.forEach(function(i){return r.expandByObject(i)}),Object.assign.apply(Object,zd(["x","y","z"].map(function(i){return TIe({},i,[r.min[i],r.max[i]])})))):null},getScreenCoords:function(t,n,r,a){var i=new kn.Vector3(n,r,a);return i.project(this.camera()),{x:(i.x+1)*t.width/2,y:-(i.y-1)*t.height/2}},getSceneCoords:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=new kn.Vector2(n/t.width*2-1,-(r/t.height)*2+1),o=new kn.Raycaster;return o.setFromCamera(i,t.camera),Object.assign({},o.ray.at(a,new kn.Vector3))},intersectingObjects:function(t,n,r){var a=new kn.Vector2(n/t.width*2-1,-(r/t.height)*2+1),i=new kn.Raycaster;return i.params.Line.threshold=t.lineHoverPrecision,i.setFromCamera(a,t.camera),i.intersectObjects(t.objects,!0)},renderer:function(t){return t.renderer},scene:function(t){return t.scene},camera:function(t){return t.camera},postProcessingComposer:function(t){return t.postProcessingComposer},controls:function(t){return t.controls},tbControls:function(t){return t.controls}},stateInit:function(){return{scene:new kn.Scene,camera:new kn.PerspectiveCamera,clock:new kn.Clock}},init:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r.controlType,i=a===void 0?"trackball":a,o=r.rendererConfig,s=o===void 0?{}:o,l=r.extraRenderers,u=l===void 0?[]:l,c=r.waitForLoadComplete,f=c===void 0?!0:c;t.innerHTML="",t.appendChild(n.container=document.createElement("div")),n.container.className="scene-container",n.container.style.position="relative",n.container.appendChild(n.navInfo=document.createElement("div")),n.navInfo.className="scene-nav-info",n.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",n.navInfo.style.display=n.showNavInfo?null:"none",n.toolTipElem=document.createElement("div"),n.toolTipElem.classList.add("scene-tooltip"),n.container.appendChild(n.toolTipElem),n.pointerPos=new kn.Vector2,n.pointerPos.x=-2,n.pointerPos.y=-2,["pointermove","pointerdown"].forEach(function(d){return n.container.addEventListener(d,function(h){if(d==="pointerdown"&&(n.isPointerPressed=!0),!n.isPointerDragging&&h.type==="pointermove"&&(h.pressure>0||n.isPointerPressed)&&(h.pointerType!=="touch"||h.movementX===void 0||[h.movementX,h.movementY].some(function(p){return Math.abs(p)>1}))&&(n.isPointerDragging=!0),n.enablePointerInteraction){var v=m(n.container);n.pointerPos.x=h.pageX-v.left,n.pointerPos.y=h.pageY-v.top,n.toolTipElem.style.top="".concat(n.pointerPos.y,"px"),n.toolTipElem.style.left="".concat(n.pointerPos.x,"px"),n.toolTipElem.style.transform="translate(-".concat(n.pointerPos.x/n.width*100,"%, ").concat(n.height-n.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function m(p){var g=p.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:g.top+x,left:g.left+y}}},{passive:!0})}),n.container.addEventListener("pointerup",function(d){n.isPointerPressed=!1,!(n.isPointerDragging&&(n.isPointerDragging=!1,!n.clickAfterDrag))&&requestAnimationFrame(function(){d.button===0&&n.onClick(n.hoverObj||null,d,n.intersectionPoint),d.button===2&&n.onRightClick&&n.onRightClick(n.hoverObj||null,d,n.intersectionPoint)})},{passive:!0,capture:!0}),n.container.addEventListener("contextmenu",function(d){n.onRightClick&&d.preventDefault()}),n.renderer=new kn.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},s)),n.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),n.container.appendChild(n.renderer.domElement),n.extraRenderers=u,n.extraRenderers.forEach(function(d){d.domElement.style.position="absolute",d.domElement.style.top="0px",d.domElement.style.pointerEvents="none",n.container.appendChild(d.domElement)}),n.postProcessingComposer=new LRe(n.renderer),n.postProcessingComposer.addPass(new ORe(n.scene,n.camera)),n.controls=new{trackball:SRe,orbit:ARe,fly:CRe}[i](n.camera,n.renderer.domElement),i==="fly"&&(n.controls.movementSpeed=300,n.controls.rollSpeed=Math.PI/6,n.controls.dragToLook=!0),(i==="trackball"||i==="orbit")&&(n.controls.minDistance=.1,n.controls.maxDistance=n.skyRadius,n.controls.addEventListener("start",function(){n.controlsEngaged=!0}),n.controls.addEventListener("change",function(){n.controlsEngaged&&(n.controlsDragging=!0)}),n.controls.addEventListener("end",function(){n.controlsEngaged=!1,n.controlsDragging=!1})),[n.renderer,n.postProcessingComposer].concat(zd(n.extraRenderers)).forEach(function(d){return d.setSize(n.width,n.height)}),n.camera.aspect=n.width/n.height,n.camera.updateProjectionMatrix(),n.camera.position.z=1e3,n.scene.add(n.skysphere=new kn.Mesh),n.skysphere.visible=!1,n.loadComplete=n.scene.visible=!f,window.scene=n.scene},update:function(t,n){if(t.width&&t.height&&(n.hasOwnProperty("width")||n.hasOwnProperty("height"))&&(t.container.style.width="".concat(t.width,"px"),t.container.style.height="".concat(t.height,"px"),[t.renderer,t.postProcessingComposer].concat(zd(t.extraRenderers)).forEach(function(i){return i.setSize(t.width,t.height)}),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix()),n.hasOwnProperty("skyRadius")&&t.skyRadius&&(t.controls.hasOwnProperty("maxDistance")&&n.skyRadius&&(t.controls.maxDistance=Math.min(t.controls.maxDistance,t.skyRadius)),t.camera.far=t.skyRadius*2.5,t.camera.updateProjectionMatrix(),t.skysphere.geometry=new kn.SphereGeometry(t.skyRadius)),n.hasOwnProperty("backgroundColor")){var r=cu(t.backgroundColor).alpha;r===void 0&&(r=1),t.renderer.setClearColor(new kn.Color(fIe(1,t.backgroundColor)),r)}n.hasOwnProperty("backgroundImageUrl")&&(t.backgroundImageUrl?new kn.TextureLoader().load(t.backgroundImageUrl,function(i){i.colorSpace=kn.SRGBColorSpace,t.skysphere.material=new kn.MeshBasicMaterial({map:i,side:kn.BackSide}),t.skysphere.visible=!0,t.onBackgroundImageLoaded&&setTimeout(t.onBackgroundImageLoaded),!t.loadComplete&&a()}):(t.skysphere.visible=!1,t.skysphere.material.map=null,!t.loadComplete&&a())),n.hasOwnProperty("showNavInfo")&&(t.navInfo.style.display=t.showNavInfo?null:"none"),n.hasOwnProperty("lights")&&((n.lights||[]).forEach(function(i){return t.scene.remove(i)}),t.lights.forEach(function(i){return t.scene.add(i)})),n.hasOwnProperty("objects")&&((n.objects||[]).forEach(function(i){return t.scene.remove(i)}),t.objects.forEach(function(i){return t.scene.add(i)}));function a(){t.loadComplete=t.scene.visible=!0}}});function OIe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var NIe=`.graph-info-msg {
  top: 50%;
  width: 100%;
  text-align: center;
  color: lavender;
  opacity: 0.7;
  font-size: 22px;
  position: absolute;
  font-family: Sans-serif;
}

.scene-container .clickable {
  cursor: pointer;
}

.scene-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.scene-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}`;OIe(NIe);function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){Ov(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BIe(e){var t=kIe(e,"string");return typeof t=="symbol"?t:t+""}function Ov(e,t,n){return t=BIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h0(e){return FIe(e)||VIe(e)||zIe(e)||UIe()}function FIe(e){if(Array.isArray(e))return $M(e)}function VIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zIe(e,t){if(e){if(typeof e=="string")return $M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(e,t)}}function $M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7(e,t){var n=new t;return n._destructor&&n._destructor(),{linkProp:function(a){return{default:n[a](),onChange:function(o,s){s[e][a](o)},triggerUpdate:!1}},linkMethod:function(a){return function(i){for(var o=i[e],s=arguments.length,l=new Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];var c=o[a].apply(o,l);return c===o?this:c}}}}var Ww=window.THREE?window.THREE:{AmbientLight:sMe,DirectionalLight:oMe,Vector3:we,REVISION:e0},HIe=170,s7=o7("forceGraph",e7),$Ie=Object.assign.apply(Object,h0(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Ov({},e,s7.linkProp(e))}))),GIe=Object.assign.apply(Object,h0(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Ov({},e,s7.linkMethod(e))}))),Hg=o7("renderObjs",i7),WIe=Object.assign.apply(Object,h0(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map(function(e){return Ov({},e,Hg.linkProp(e))}))),jIe=Object.assign.apply(Object,h0(["lights","cameraPosition","postProcessingComposer"].map(function(e){return Ov({},e,Hg.linkMethod(e))})).concat([{graph2ScreenCoords:Hg.linkMethod("getScreenCoords"),screen2GraphCoords:Hg.linkMethod("getSceneCoords")}])),YIe=oR({props:pg(pg({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(t,n){return n.renderObjs.lineHoverPrecision(t)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(t,n){var r=n.renderObjs.controls();r&&(r.enabled=t,t&&r.domElement&&r.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},$Ie),WIe),methods:pg(pg({zoomToFit:function(t,n,r){for(var a,i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];return t.renderObjs.fitToBbox((a=t.forceGraph).getGraphBbox.apply(a,o),n,r),this},pauseAnimation:function(t){return t.animationFrameRequestId!==null&&(cancelAnimationFrame(t.animationFrameRequestId),t.animationFrameRequestId=null),this},resumeAnimation:function(t){return t.animationFrameRequestId===null&&this._animationCycle(),this},_animationCycle:function(t){t.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),t.forceGraph.tickFrame(),t.renderObjs.tick(),t.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(t){return t.renderObjs.scene()},camera:function(t){return t.renderObjs.camera()},renderer:function(t){return t.renderObjs.renderer()},controls:function(t){return t.renderObjs.controls()},tbControls:function(t){return t.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},GIe),jIe),stateInit:function(t){var n=t.controlType,r=t.rendererConfig,a=t.extraRenderers,i=new e7;return{forceGraph:i,renderObjs:i7({controlType:n,rendererConfig:r,extraRenderers:a}).objects([i]).lights([new Ww.AmbientLight(13421772,Math.PI),new Ww.DirectionalLight(16777215,.6*Math.PI)])}},init:function(t,n){t.innerHTML="",t.appendChild(n.container=document.createElement("div")),n.container.style.position="relative";var r=document.createElement("div");n.container.appendChild(r),n.renderObjs(r);var a=n.renderObjs.camera(),i=n.renderObjs.renderer(),o=n.renderObjs.controls();o.enabled=!!n.enableNavigationControls,n.lastSetCameraZ=a.position.z;var s;n.container.appendChild(s=document.createElement("div")),s.className="graph-info-msg",s.textContent="",n.forceGraph.onLoading(function(){s.textContent="Loading..."}).onFinishLoading(function(){s.textContent=""}).onUpdate(function(){n.graphData=n.forceGraph.graphData(),a.position.x===0&&a.position.y===0&&a.position.z===n.lastSetCameraZ&&n.graphData.nodes.length&&(a.lookAt(n.forceGraph.position),n.lastSetCameraZ=a.position.z=Math.cbrt(n.graphData.nodes.length)*HIe)}).onFinishUpdate(function(){if(n._dragControls){var l=n.graphData.nodes.find(function(c){return c.__initialFixedPos&&!c.__disposeControlsAfterDrag});l?l.__disposeControlsAfterDrag=!0:n._dragControls.dispose(),n._dragControls=void 0}if(n.enableNodeDrag&&n.enablePointerInteraction&&n.forceEngine==="d3"){var u=n._dragControls=new lMe(n.graphData.nodes.map(function(c){return c.__threeObj}).filter(function(c){return c}),a,i.domElement);u.addEventListener("dragstart",function(c){o.enabled=!1,c.object.__initialPos=c.object.position.clone(),c.object.__prevPos=c.object.position.clone();var f=No(c.object).__data;!f.__initialFixedPos&&(f.__initialFixedPos={fx:f.fx,fy:f.fy,fz:f.fz}),!f.__initialPos&&(f.__initialPos={x:f.x,y:f.y,z:f.z}),["x","y","z"].forEach(function(d){return f["f".concat(d)]=f[d]}),i.domElement.classList.add("grabbable")}),u.addEventListener("drag",function(c){var f=No(c.object);if(!c.object.hasOwnProperty("__graphObjType")){var d=c.object.__initialPos,h=c.object.__prevPos,v=c.object.position;f.position.add(v.clone().sub(h)),h.copy(v),v.copy(d)}var m=f.__data,p=f.position,g={x:p.x-m.x,y:p.y-m.y,z:p.z-m.z};["x","y","z"].forEach(function(y){return m["f".concat(y)]=m[y]=p[y]}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),m.__dragged=!0,n.onNodeDrag(m,g)}),u.addEventListener("dragend",function(c){delete c.object.__initialPos,delete c.object.__prevPos;var f=No(c.object).__data;f.__disposeControlsAfterDrag&&(u.dispose(),delete f.__disposeControlsAfterDrag);var d=f.__initialFixedPos,h=f.__initialPos,v={x:h.x-f.x,y:h.y-f.y,z:h.z-f.z};d&&(["x","y","z"].forEach(function(m){var p="f".concat(m);d[p]===void 0&&delete f[p]}),delete f.__initialFixedPos,delete f.__initialPos,f.__dragged&&(delete f.__dragged,n.onNodeDragEnd(f,v))),n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.enableNavigationControls&&(o.enabled=!0,o.domElement&&o.domElement.ownerDocument&&o.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),i.domElement.classList.remove("grabbable")})}}),Ww.REVISION<155&&(n.renderObjs.renderer().useLegacyLights=!1),n.renderObjs.hoverOrderComparator(function(l,u){var c=No(l);if(!c)return 1;var f=No(u);if(!f)return-1;var d=function(v){return v.__graphObjType==="node"};return d(f)-d(c)}).tooltipContent(function(l){var u=No(l);return u&&on(n["".concat(u.__graphObjType,"Label")])(u.__data)||""}).hoverDuringDrag(!1).onHover(function(l){var u=No(l);if(u!==n.hoverObj){var c=n.hoverObj?n.hoverObj.__graphObjType:null,f=n.hoverObj?n.hoverObj.__data:null,d=u?u.__graphObjType:null,h=u?u.__data:null;if(c&&c!==d){var v=n["on".concat(c==="node"?"Node":"Link","Hover")];v&&v(null,f)}if(d){var m=n["on".concat(d==="node"?"Node":"Link","Hover")];m&&m(h,c===d?f:null)}i.domElement.classList[u&&n["on".concat(d==="node"?"Node":"Link","Click")]||!u&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=u}}).clickAfterDrag(!1).onClick(function(l,u){var c=No(l);if(c){var f=n["on".concat(c.__graphObjType==="node"?"Node":"Link","Click")];f&&f(c.__data,u)}else n.onBackgroundClick&&n.onBackgroundClick(u)}).onRightClick(function(l,u){var c=No(l);if(c){var f=n["on".concat(c.__graphObjType==="node"?"Node":"Link","RightClick")];f&&f(c.__data,u)}else n.onBackgroundRightClick&&n.onBackgroundRightClick(u)}),this._animationCycle()}});function No(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t}function XIe(e,t,n){return t=Wm(t),nDe(e,l7()?Reflect.construct(t,n||[],Wm(e).constructor):t.apply(e,n))}function l7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!e})()}function qIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function KIe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZIe(e){var t=KIe(e,"string");return typeof t=="symbol"?t:String(t)}function QIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZIe(r.key),r)}}function JIe(e,t,n){return t&&S5(e.prototype,t),n&&S5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GM(e,t)}function Wm(e){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(e)}function GM(e,t){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},GM(e,t)}function tDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nDe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tDe(e)}function _5(e,t){return aDe(e)||qIe(e,t)||u7(e,t)||sDe()}function gg(e){return rDe(e)||iDe(e)||u7(e)||oDe()}function rDe(e){if(Array.isArray(e))return WM(e)}function aDe(e){if(Array.isArray(e))return e}function iDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u7(e,t){if(e){if(typeof e=="string")return WM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sc=typeof window<"u"&&window.THREE?window.THREE:{LinearFilter:Ya,Sprite:kCe,SpriteMaterial:oj,SRGBColorSpace:Ga,Texture:Gr},A5=function(e){eDe(t,e);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return QIe(this,t),n=XIe(this,t,[new Sc.SpriteMaterial]),n._text="".concat(r),n._textHeight=a,n._color=i,n._backgroundColor=!1,n._padding=0,n._borderWidth=0,n._borderRadius=0,n._borderColor="white",n._strokeWidth=0,n._strokeColor="white",n._fontFace="system-ui",n._fontSize=90,n._fontWeight="normal",n._canvas=document.createElement("canvas"),n._genCanvas(),n}return JIe(t,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,a=this._canvas,i=a.getContext("2d"),o=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],s=o.map(function(_){return _*r.fontSize*.1}),l=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],u=l.map(function(_){return _*r.fontSize*.1}),c=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],f=c.map(function(_){return _*r.fontSize*.1}),d=this.text.split(`
`),h="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);i.font=h;var v=Math.max.apply(Math,gg(d.map(function(_){return i.measureText(_).width}))),m=this.fontSize*d.length;if(a.width=v+s[0]*2+f[0]*2,a.height=m+s[1]*2+f[1]*2,this.borderWidth){if(i.strokeStyle=this.borderColor,s[0]){var p=s[0]/2;i.lineWidth=s[0],i.beginPath(),i.moveTo(p,u[0]),i.lineTo(p,a.height-u[3]),i.moveTo(a.width-p,u[1]),i.lineTo(a.width-p,a.height-u[2]),i.stroke()}if(s[1]){var g=s[1]/2;i.lineWidth=s[1],i.beginPath(),i.moveTo(Math.max(s[0],u[0]),g),i.lineTo(a.width-Math.max(s[0],u[1]),g),i.moveTo(Math.max(s[0],u[3]),a.height-g),i.lineTo(a.width-Math.max(s[0],u[2]),a.height-g),i.stroke()}if(this.borderRadius){var y=Math.max.apply(Math,gg(s)),x=y/2;i.lineWidth=y,i.beginPath(),[!!u[0]&&[u[0],x,x,u[0]],!!u[1]&&[a.width-u[1],a.width-x,x,u[1]],!!u[2]&&[a.width-u[2],a.width-x,a.height-x,a.height-u[2]],!!u[3]&&[u[3],x,a.height-x,a.height-u[3]]].filter(function(_){return _}).forEach(function(_){var w=_5(_,4),C=w[0],M=w[1],T=w[2],E=w[3];i.moveTo(C,T),i.quadraticCurveTo(M,T,M,E)}),i.stroke()}}this.backgroundColor&&(i.fillStyle=this.backgroundColor,this.borderRadius?(i.beginPath(),i.moveTo(s[0],u[0]),[[s[0],u[0],a.width-u[1],s[1],s[1],s[1]],[a.width-s[0],a.width-s[0],a.width-s[0],s[1],u[1],a.height-u[2]],[a.width-s[0],a.width-u[2],u[3],a.height-s[1],a.height-s[1],a.height-s[1]],[s[0],s[0],s[0],a.height-s[1],a.height-u[3],u[0]]].forEach(function(_){var w=_5(_,6),C=w[0],M=w[1],T=w[2],E=w[3],P=w[4],R=w[5];i.quadraticCurveTo(C,E,M,P),i.lineTo(T,R)}),i.closePath(),i.fill()):i.fillRect(s[0],s[1],a.width-s[0]*2,a.height-s[1]*2)),i.translate.apply(i,gg(s)),i.translate.apply(i,gg(f)),i.font=h,i.fillStyle=this.color,i.textBaseline="bottom";var b=this.strokeWidth>0;b&&(i.lineWidth=this.strokeWidth*this.fontSize/10,i.strokeStyle=this.strokeColor),d.forEach(function(_,w){var C=(v-i.measureText(_).width)/2,M=(w+1)*r.fontSize;b&&i.strokeText(_,C,M),i.fillText(_,C,M)}),this.material.map&&this.material.map.dispose();var A=this.material.map=new Sc.Texture(a);A.minFilter=Sc.LinearFilter,A.colorSpace=Sc.SRGBColorSpace,A.needsUpdate=!0;var S=this.textHeight*d.length+o[1]*2+c[1]*2;this.scale.set(S*a.width/a.height,S,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return Sc.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}]),t}(Sc.Sprite);const lDe={name:"ckGraph",data(){return{Graph:null,data:[],json:null,db:{uri:"bolt://localhost:7689",user:"neo4j",password:"19701975ASdf"},nodes:[],links:[],keyword:null,nodeSearch:[],linkSearch:[],nodeColors:["#31d01a","#ef5604","#e8cb53","#3670b5","#a0e85e","#ff5733","#f5d300","#23a6d5","#ff8c00","#9966cc"],labels:[],linkTypes:[],showIndicator:!0,user:"admin"}},mounted(){this.keyword?this.searchKeyWord():this.getRecords()},methods:{getRecords(){An.get("/api/graph/record").then(e=>{this.json=e.data.data,this.keyword=JSON.parse(sessionStorage.getItem("key")),this.d3jsonParser(this.json),console.log("response"),console.log(e)}).catch(e=>{console.error("Error fetching records:",e)})},d3jsonParser(e){An({method:"POST",url:"/api/graph/parseJson",data:{json:e}}).then(t=>{console.log(t),this.data=t.data.data,console.log(this.data),this.initData(),sessionStorage.setItem("key",JSON.stringify(""))}).catch(t=>{console.error("Error sending request:",t)})},initData(){this.nodes=this.data.nodes,this.links=this.data.links,this.nodeSearch=this.data.nodes,this.linkSearch=this.data.links,this.labels=this.data.labels,this.linkTypes=this.data.linkTypes,this.keyword?this.searchKeyWord():this.renderData()},insertLineBreaks(e,t){for(var n="",r=0;r<e.length;r++)n+=e[r],(r+1)%t===0&&(n+=`
`);return n},searchKeyWord(){console.log("search:start!!!!!!----------------------------------------");let e=this.keyword,t=null,n=[],r=[];this.nodeSearch=[],this.linkSearch=[];for(let a=0;a<this.nodes.length;a++)if(this.nodes[a].properties.name.indexOf(e)>=0){t=this.nodes[a],r.push(this.nodes[a].id),this.nodeSearch.push(this.nodes[a]);break}for(let a=0;a<this.nodes.length;a++)for(let i=0;i<this.links.length;i++)this.links[i].source===this.nodes[a].id&&this.links[i].target===t.id&&r.indexOf(this.nodes[a].id)===-1&&(r.push(this.nodes[a].id),this.nodeSearch.push(this.nodes[a])),this.links[i].target===this.nodes[a].id&&this.links[i].source===t.id&&r.indexOf(this.nodes[a].id)===-1&&(r.push(this.nodes[a].id),n.push(this.nodes[a]),this.nodeSearch.push(this.nodes[a]));console.log(n);for(let a=0;a<n.length;a++)for(let i=0;i<this.links.length;i++)if(this.links[i].target===n[a].id)for(let o=0;o<this.nodes.length;o++)this.links[i].source===this.nodes[o].id&&r.indexOf(this.nodes[o].id)===-1&&(r.push(this.nodes[o].id),this.nodeSearch.push(this.nodes[o]));this.links.filter(a=>{if(a.source===t.id||a.target===t.id)return this.linkSearch.push(a),!0;for(let i=0;i<n.length;i++)if(a.target===n[i].id)return this.linkSearch.push(a),!0}),this.renderData()},renderData(){console.log("renderData:start!!!!!------------------------------------------------"),console.log(this.nodeSearch),console.log(this.linkSearch),this.Graph=YIe()(this.$refs.graph).graphData({nodes:this.nodeSearch,links:this.linkSearch}).backgroundColor("#FFFFFF").width(1741).height(800).showNavInfo(!1).nodeOpacity(.65).nodeVal(e=>{let t=95;for(let n=0;n<this.labels.length;n++)e.label===this.labels[n]&&(t=t+n*7);return t}).nodeColor(e=>{let t=0;for(;t<this.labels.length&&e.label!==this.labels[t];t++);return this.nodeColors[t]}).nodeThreeObjectExtend(!0).nodeThreeObject(e=>{let t=e.properties.name;for(let a=1;a<=t.length/5;a++)t=t=t.substring((a-1)*5,a*5)+`
`+t.substring(a*5);const n=new A5(t);n.material.depthWrite=!1;let r=0;for(;r<this.labels.length&&e.label!==this.labels[r];r++);return n.color="#000000",n.textHeight=6,n}).nodeLabel(e=>`${e.properties.name}`).onNodeHover(e=>this.$refs.graph.style.cursor=e?"pointer":null).onNodeClick((e,t)=>{const r=1+40/Math.hypot(e.x,e.y,e.z),a=e.x||e.y||e.z?{x:e.x*r,y:e.y*r,z:e.z*r}:{x:0,y:0,z:40};this.Graph.cameraPosition(a,e,3e3),this.selectNodeData={},this.$set(this.selectNodeData,"label",e.label),this.$set(this.selectNodeData,"id",e.id),this.$set(this.selectNodeData,"name",e.properties.name);let i=0;for(;i<this.labels.length&&e.label!==this.labels[i];i++);this.$set(this.selectNodeData,"color",this.nodeColors[i]),this.$set(this.selectNodeData,"properties",e.properties)}).linkOpacity(.5).linkVisibility(!0).linkDirectionalArrowLength(4.5).linkDirectionalArrowRelPos(1).linkCurvature(.25).linkWidth(1).linkColor(e=>{let t=0;for(;t<this.linkTypes.length&&e.type!==this.linkTypes[t];t++);return this.nodeColors[t]}).linkThreeObjectExtend(!0).linkThreeObject(e=>{const t=new A5(`${e.type}`);for(let n=0;n<this.linkTypes.length;n++)e.type===this.linkTypes[n]&&(t.color=this.nodeColors[n]);return t.textHeight=7,t.fontWeight="bold",t}).linkLabel(e=>e.type).onLinkClick((e,t)=>{console.log(e.type)}).linkPositionUpdate((e,{start:t,end:n})=>{const r=Object.assign(...["x","y","z"].map(a=>({[a]:t[a]+(n[a]-t[a])/2})));Object.assign(e.position,r)}).linkDirectionalParticles(20).linkDirectionalParticleSpeed(e=>20*.001),this.Graph.d3Force("charge").strength(-230)}}},uDe=e=>(po("data-v-dce9c8bf"),e=e(),go(),e),cDe={ref:"graph",id:"graph"},fDe=uDe(()=>Ye("div",{id:"dashBoard"},null,-1)),dDe={id:"indicator"},hDe=["data-index"];function vDe(e,t,n,r,a,i){return at(),gt("div",null,[Ye("div",cDe,null,512),fDe,Ye("div",dDe,[a.showIndicator?(at(!0),gt(tt,{key:0},ir(a.labels,(o,s)=>(at(),gt("div",{key:s},[Ye("span",{"data-index":s,style:Ii([{cursor:"pointer"},{backgroundColor:a.nodeColors[s]}])},null,12,hDe),Lt(" "+Qt(o),1)]))),128)):rl("",!0)])])}const pDe=lr(lDe,[["render",vDe],["__scopeId","data-v-dce9c8bf"]]),jm=$Q({history:iQ("./"),routes:[{path:"/musee_view_master/",name:"index",component:sne},{path:"/musee_view_master/collection",name:"QuestionsCollectionView",component:Ene},{path:"/musee_view_master/student",name:"UserInforView",component:t1e},{path:"/musee_view_master/graph",name:"LanguageGraphView",component:pDe},{path:"/musee_view_master/error",name:"not-found",component:i1e}]});jm.beforeEach(async(e,t,n)=>{try{(await jm.resolve(e)).matched.length?n():n({name:"not-found"})}catch{n({name:"not-found"})}});const uR=e=>(po("data-v-79693de6"),e=e(),go(),e),gDe={class:"header-container"},mDe=C$('<div class="logo-section" data-v-79693de6><img src="'+UZ+'" alt="" class="logo-image" data-v-79693de6><div class="logo-text" data-v-79693de6><div class="main-title" data-v-79693de6>Musee</div><div class="subtitle" data-v-79693de6>Education</div></div></div>',1),yDe={class:"button-section"},xDe={class:"about-us-section"},bDe=uR(()=>Ye("span",{class:"text-h6"},"IK",-1)),SDe={class:"text-center"},_De={class:"image-container"},ADe=uR(()=>Ye("span",{class:"text-h5"},"个人信息",-1)),wDe=uR(()=>Ye("small",null,"*项必填",-1)),CDe={__name:"TopNavComponent",setup(e){const t=Oe(!1);Oe(!1);const n=Oe(!1),r=Oe(!1),a=Oe(!1),i=Oe("沐斯慧教（MuseeEducation）致力于运用人工智能大模型推动教育的智慧化转型。通过结合先进的AI技术和教育行业的深刻理解，能够为学习者提供更加个性化、互动性强和效率高的学习体验。沐斯慧教的核心理念是利用大数据分析、自然语言处理和机器学习等技术，为教育领域带来创新的解决方案，包括但不限于个性化学习路径推荐、智能辅导机器人、以及基于学习者表现的实时反馈系统。"),o=Oe([{rounded:"xl",size:"x-large",color:"#D6F3FF",elevation:"0",fontSize:"20px",textColor:"#96ABB3",label:"沐斯拍题",isActive:!1,to:"/musee_view_master/"},{rounded:"xl",size:"x-large",color:"#D6F3FF",elevation:"0",fontSize:"20px",textColor:"#96ABB3",label:"错题集",isActive:!1,to:"/musee_view_master/collection"},{rounded:"xl",size:"x-large",color:"#D6F3FF",elevation:"0",fontSize:"20px",textColor:"#96ABB3",label:"学生档案",isActive:!1,to:"/musee_view_master/student"},{rounded:"xl",size:"x-large",color:"#D6F3FF",elevation:"0",fontSize:"20px",textColor:"#96ABB3",label:"知识图谱",isActive:!1,to:"/musee_view_master/graph"}]),s=l=>{o.value.forEach((u,c)=>{u.isActive=c===l}),jm.push(o.value[l].to)};return gn(()=>{const l=window.location.pathname;l==="/musee_view_master/"?o.value[0].isActive=!0:l==="/musee_view_master/collection"?o.value[1].isActive=!0:l==="/musee_view_master/student"?o.value[2].isActive=!0:l==="/musee_view_master/graph"&&(o.value[3].isActive=!0)}),(l,u)=>{const c=We("v-btn"),f=We("v-avatar"),d=We("v-img"),h=We("v-icon"),v=We("v-card-title"),m=We("v-card-subtitle"),p=We("v-spacer"),g=We("v-card-actions"),y=We("v-divider"),x=We("v-card-text"),b=We("v-expand-transition"),A=We("v-card"),S=We("v-dialog"),_=We("v-text-field"),w=We("v-col"),C=We("v-select"),M=We("v-row"),T=We("v-container");return at(),gt(tt,null,[Ye("div",gDe,[mDe,Ye("div",yDe,[(at(!0),gt(tt,null,ir(o.value,(E,P)=>(at(),tn(c,{key:P,rounded:E.rounded,size:E.size,color:E.isActive?"#2081C3":E.color,elevation:E.elevation,style:Ii({fontSize:E.fontSize,color:E.isActive?"#FFFFFF":E.textColor}),onClick:R=>s(P)},{default:ke(()=>[Lt(Qt(E.label),1)]),_:2},1032,["rounded","size","color","elevation","style","onClick"]))),128))]),Ye("div",xDe,[W(c,{rounded:"xl",size:"x-large",variant:"outlined",color:"#388FCA",onClick:u[0]||(u[0]=()=>{a.value==!1,t.value=!0})},{default:ke(()=>[Lt("About us")]),_:1}),W(f,{color:"info",size:"45px",onClick:u[1]||(u[1]=()=>n.value=!0)},{default:ke(()=>[bDe]),_:1})])]),Ye("div",SDe,[Ye("template",null,[W(S,{modelValue:t.value,"onUpdate:modelValue":u[4]||(u[4]=E=>t.value=E),width:"600px"},{default:ke(()=>[W(A,{class:"mx-auto","max-width":"344"},{default:ke(()=>[Ye("div",_De,[W(d,{src:"../src/images/musee-edu/musee-edu.webp",height:"200px",cover:""}),W(c,{icon:"",small:"",class:"close-button",onClick:u[2]||(u[2]=()=>{a.value=!1,t.value=!1})},{default:ke(()=>[W(h,null,{default:ke(()=>[Lt("mdi-close")]),_:1})]),_:1})]),W(v,null,{default:ke(()=>[Lt(" 沐斯慧教 ")]),_:1}),W(m,null,{default:ke(()=>[Lt(" MuseeEducation ")]),_:1}),W(g,null,{default:ke(()=>[W(c,{color:"orange-lighten-2",text:"Explore More"}),W(p),W(c,{icon:a.value?"mdi-chevron-up":"mdi-chevron-down",onClick:u[3]||(u[3]=E=>a.value=!a.value)},null,8,["icon"])]),_:1}),W(b,null,{default:ke(()=>[_n(Ye("div",null,[W(y),W(x,null,{default:ke(()=>[Lt(Qt(i.value),1)]),_:1})],512),[[Ta,a.value]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Ye("template",null,[W(M,{justify:"center"},{default:ke(()=>[W(S,{modelValue:n.value,"onUpdate:modelValue":u[8]||(u[8]=E=>n.value=E),persistent:"",width:"1024"},{default:ke(()=>[W(A,{class:"hidden-flow"},{default:ke(()=>[W(v,null,{default:ke(()=>[Ye("div",null,[W(f,{color:"info",size:"33 !important"},{default:ke(()=>[W(h,{icon:"mdi-account-circle",size:"32"})]),_:1}),Lt("    "),ADe])]),_:1}),W(x,null,{default:ke(()=>[W(T,null,{default:ke(()=>[W(M,null,{default:ke(()=>[W(w,{cols:"12",sm:"6"},{default:ke(()=>[W(_,{label:"昵称",hint:"Enter your nickname",clearable:""})]),_:1}),W(w,{cols:"12",sm:"6"},{default:ke(()=>[W(C,{items:["0-6","7-12","12-15","18+"],label:"年龄*",required:""})]),_:1}),W(w,{cols:"12",sm:"6"},{default:ke(()=>[W(C,{items:["高中及以下","大学专科","大学本科","硕士及以上"],label:"学历*",required:""})]),_:1}),W(w,{cols:"12",sm:"6"},{default:ke(()=>[W(C,{items:["语文","数学","英语","物理","化学","生物","历史","政治","地理"],label:"专业",chips:"",multiple:"",clearable:""})]),_:1}),W(w,{cols:"12"},{default:ke(()=>[W(_,{label:"账号*","prepend-inner-icon":"mdi-account",hint:"Enter your account",required:"",clearable:""})]),_:1}),W(w,{cols:"12"},{default:ke(()=>[W(_,{label:"密码*",required:"","prepend-inner-icon":"mdi-lock","append-icon":r.value?"mdi-eye-off":"mdi-eye","onClick:append":u[5]||(u[5]=E=>r.value=!r.value),type:r.value?"text":"password",hint:"Enter your password",counter:"20",clearable:""},null,8,["append-icon","type"])]),_:1}),W(w,{cols:"12"},{default:ke(()=>[W(_,{label:"邮箱","prepend-inner-icon":"mdi-email",hint:"Enter your email",clearable:""})]),_:1})]),_:1})]),_:1}),wDe]),_:1}),W(g,null,{default:ke(()=>[W(p),W(c,{rounded:"xl",color:"blue-darken-1",onClick:u[6]||(u[6]=()=>n.value=!1)},{default:ke(()=>[Lt(" 关闭 ")]),_:1}),W(c,{rounded:"xl",color:"blue-darken-1",onClick:u[7]||(u[7]=()=>n.value=!1)},{default:ke(()=>[Lt(" 保存 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])])],64)}}},MDe=lr(CDe,[["__scopeId","data-v-79693de6"]]),c7=e=>(po("data-v-59ac071a"),e=e(),go(),e),TDe={class:"text-center"},EDe=c7(()=>Ye("div",{class:"logo-text"},[Ye("div",{class:"main-title"},"Musee"),Ye("div",{class:"subtitle"},"Education")],-1)),PDe=c7(()=>Ye("div",{style:{padding:"0 25px"}},[Ye("div",{class:"text-overline mb-4",style:{"font-size":"15px !important","margin-bottom":"0px !important"}},"💎 专业版"),Ye("div",{class:"text-medium-emphasis mb-1"}," Musee专业版提供更多功能和服务，包括：错题集功能、AI个性化分析、定制家庭教师服务等。 ")],-1)),RDe={__name:"LoginModal",setup(e){const t=Oe(!0),n=Oe(""),r=Oe(""),a=Oe(""),i=Oe(!1);function o(){t.value=!t.value}function s(){try{t.value?An({method:"get",url:"/api/student/login",params:{username:n.value,password:r.value}}).then(function(l){return l.data.status===1&&(localStorage.setItem("sid",l.data.data[0]),localStorage.setItem("token",l.data.data[1]),localStorage.setItem("username",n.value)),nm()}).catch(function(l){console.log("登录失败",l)}):An({method:"post",url:"/api/student/register",data:{username:n.value,email:a.value,password:r.value}}).then(function(l){return l.data.status===1?(alert("注册成功"),t.value=!t.value):alert("注册失败: "+l.data.msg),nm()}).catch(function(l){console.log("登录失败",l)}),Ze.showModal=!1}catch(l){console.error("登录失败",l)}}return(l,u)=>{const c=We("v-card-title"),f=We("v-text-field"),d=We("v-card-text"),h=We("v-btn"),v=We("v-spacer"),m=We("v-card-actions"),p=We("v-card"),g=We("v-dialog");return at(),gt("div",TDe,[W(g,{modelValue:ft(Ze).showModal,"onUpdate:modelValue":u[8]||(u[8]=y=>ft(Ze).showModal=y),"max-width":"40%",persistent:""},{default:ke(()=>[W(p,{class:"pa-4",elevation:"2",style:{"border-radius":"16px"}},{default:ke(()=>[W(c,{class:"d-flex justify-space-between align-center",style:{color:"#a1c9e3","font-weight":"bold","font-size":"25px","padding-right":"30px"}},{default:ke(()=>[EDe,Lt(" "+Qt(t.value?"注册":"登录"),1)]),_:1}),t.value?(at(),tn(d,{key:1,style:{margin:"30px 0px 10px 0px"}},{default:ke(()=>[W(f,{modelValue:n.value,"onUpdate:modelValue":u[3]||(u[3]=y=>n.value=y),label:"用户名","prepend-icon":"mdi-account",outlined:"",class:"mb-4",required:""},null,8,["modelValue"]),W(f,{modelValue:a.value,"onUpdate:modelValue":u[4]||(u[4]=y=>a.value=y),label:"邮箱","prepend-icon":"mdi-email",outlined:"",class:"mb-4",required:""},null,8,["modelValue"]),W(f,{modelValue:r.value,"onUpdate:modelValue":u[5]||(u[5]=y=>r.value=y),label:"密码",type:i.value?"text":"password","prepend-icon":"mdi-lock","append-icon":i.value?"mdi-eye":"mdi-eye-off","onClick:append":u[6]||(u[6]=y=>i.value=!i.value),outlined:"",required:""},null,8,["modelValue","type","append-icon"])]),_:1})):(at(),tn(d,{key:0,style:{margin:"30px 0px 10px 0px"}},{default:ke(()=>[W(f,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y),label:"用户名","prepend-icon":"mdi-account",outlined:"",class:"mb-4",required:""},null,8,["modelValue"]),W(f,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=y=>r.value=y),label:"密码",type:i.value?"text":"password","prepend-icon":"mdi-lock","append-icon":i.value?"mdi-eye":"mdi-eye-off","onClick:append":u[2]||(u[2]=y=>i.value=!i.value),outlined:"",required:""},null,8,["modelValue","type","append-icon"])]),_:1})),W(m,{style:{padding:"0 20px"}},{default:ke(()=>[W(h,{text:"",color:"rgb(143, 156, 166)",onClick:o},{default:ke(()=>[Lt(Qt(t.value?"没有账号？注册":"已有账号？登录"),1)]),_:1}),W(v),W(h,{text:"",color:"grey",onClick:u[7]||(u[7]=y=>ft(Ze).showModal=!0),variant:"flat"},{default:ke(()=>[Lt("取消")]),_:1}),W(h,{color:"#388fca",depressed:"",onClick:s,variant:"flat"},{default:ke(()=>[Lt(Qt(t.value?"注册":"登录"),1)]),_:1})]),_:1}),PDe]),_:1})]),_:1},8,["modelValue"])])}}},IDe=lr(RDe,[["__scopeId","data-v-59ac071a"]]),DDe={class:"pa-4 text-center"},LDe={class:"pe-4"},ODe={__name:"App",setup(e){return gn(nm),(t,n)=>{const r=We("RouterView"),a=We("v-icon"),i=We("v-progress-circular"),o=We("v-list-item"),s=We("v-list"),l=We("v-dialog");return at(),gt(tt,null,[W(MDe),W(r),W(IDe,{ref:"loginModal"},null,512),Ye("div",DDe,[W(l,{modelValue:ft(Ze).dialogVisible,"onUpdate:modelValue":n[0]||(n[0]=u=>ft(Ze).dialogVisible=u),"max-width":"320",persistent:""},{default:ke(()=>[W(s,{class:"py-2",color:"primary",elevation:"12",rounded:"lg"},{default:ke(()=>[W(o,{"prepend-icon":"$vuetify-outline",title:ft(Ze).warntitle},{prepend:ke(()=>[Ye("div",LDe,[W(a,{color:"primary",size:"x-large"})])]),append:ke(()=>[W(i,{color:"primary",indeterminate:"disable-shrink",size:"16",width:"2"})]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])],64)}}};function Ei(e,t){let n;function r(){n=RT(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}nt(e,a=>{a&&!n?r():a||(n==null||n.stop(),n=void 0)},{immediate:!0}),ia(()=>{n==null||n.stop()})}const pn=typeof window<"u",cR=pn&&"IntersectionObserver"in window,NDe=pn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),w5=pn&&"EyeDropper"in window;function C5(e,t,n){kDe(e,t),t.set(e,n)}function kDe(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function BDe(e,t,n){var r=f7(e,t,"set");return FDe(e,r,n),n}function FDe(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Fl(e,t){var n=f7(e,t,"get");return VDe(e,n)}function f7(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function VDe(e,t){return t.get?t.get.call(e):t.value}function d7(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let a=0;a<r;a++){if(e==null)return n;e=e[t[a]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function fs(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>fs(e[r],t[r]))}function fu(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),d7(e,t.split("."),n))}function Cr(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const a=t(e,n);return typeof a>"u"?n:a}if(typeof t=="string")return fu(e,t,n);if(Array.isArray(t))return d7(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function ro(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function lt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Ym(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function kh(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const M5=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),jM=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function h7(e){return Object.keys(e)}function Ql(e,t){return t.every(n=>e.hasOwnProperty(n))}function v7(e,t){const n={},r=new Set(Object.keys(e));for(const a of t)r.has(a)&&(n[a]=e[a]);return n}function YM(e,t,n){const r=Object.create(null),a=Object.create(null);for(const i in e)t.some(o=>o instanceof RegExp?o.test(i):o===i)&&!(n!=null&&n.some(o=>o===i))?r[i]=e[i]:a[i]=e[i];return[r,a]}function gr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function p7(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const g7=/^on[^a-z]/,v0=e=>g7.test(e),zDe=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],UDe=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function HDe(e){return e.isComposing&&UDe.includes(e.key)}function ml(e){const[t,n]=YM(e,[g7]),r=gr(t,zDe),[a,i]=YM(n,["class","style","id",/^data-/]);return Object.assign(a,t),Object.assign(i,r),[a,i]}function Wn(e){return e==null?[]:Array.isArray(e)?e:[e]}function $De(e,t){let n=0;const r=function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...i),ft(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function ar(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function T5(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function E5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function P5(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function GDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function R5(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function Ma(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const a in e)r[a]=e[a];for(const a in t){const i=e[a],o=t[a];if(Ym(i)&&Ym(o)){r[a]=Ma(i,o,n);continue}if(Array.isArray(i)&&Array.isArray(o)&&n){r[a]=n(i,o);continue}r[a]=o}return r}function m7(e){return e.map(t=>t.type===tt?m7(t.children):t).flat()}function iu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(iu.cache.has(e))return iu.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return iu.cache.set(e,t),t}iu.cache=new Map;function dh(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>dh(e,n)).flat(1);if(Array.isArray(t.children))return t.children.map(n=>dh(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return dh(e,t.component.subTree).flat(1)}return[]}var mg=new WeakMap,_c=new WeakMap;class WDe{constructor(t){C5(this,mg,{writable:!0,value:[]}),C5(this,_c,{writable:!0,value:0}),this.size=t}push(t){Fl(this,mg)[Fl(this,_c)]=t,BDe(this,_c,(Fl(this,_c)+1)%this.size)}values(){return Fl(this,mg).slice(Fl(this,_c)).concat(Fl(this,mg).slice(0,Fl(this,_c)))}}function jDe(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function fR(e){const t=wr({}),n=ie(e);return Fn(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),ay(t)}function Xm(e,t){return e.includes(t)}function y7(e){return e[2].toLowerCase()+e.slice(3)}const da=()=>[Function,Array];function I5(e,t){return t="on"+vo(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function dR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const a of e)a(...n);else typeof e=="function"&&e(...n)}function Bh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function x7(e,t,n){let r,a=e.indexOf(document.activeElement);const i=t==="next"?1:-1;do a+=i,r=e[a];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&a<e.length&&a>=0);return r}function mf(e,t){var r,a,i,o;const n=Bh(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(a=n[0])==null||a.focus();else if(t==="last")(i=n.at(-1))==null||i.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const s=x7(n,t);s?s.focus():mf(e,t==="next"?"first":"last")}}function yg(e){return e==null||typeof e=="string"&&e.trim()===""}function b7(){}function yf(e,t){if(!(pn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function p0(e){return e.some(t=>yh(t)?t.type===ti?!1:t.type!==tt||p0(t.children):!0)?e:null}function YDe(e,t){if(!pn||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}const S7=["top","bottom"],XDe=["start","end","left","right"];function XM(e,t){let[n,r]=e.split(" ");return r||(r=Xm(S7,n)?"start":Xm(XDe,n)?"top":"center"),{side:qM(n,t),align:qM(r,t)}}function qM(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function jw(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Yw(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function D5(e){return{side:e.align,align:e.side}}function L5(e){return Xm(S7,e.side)?"y":"x"}class ou{constructor(t){let{x:n,y:r,width:a,height:i}=t;this.x=n,this.y=r,this.width=a,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function O5(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function _7(e){return Array.isArray(e)?new ou({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function hR(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let a,i,o,s,l;if(r.startsWith("matrix3d("))a=r.slice(9,-1).split(/, /),i=+a[0],o=+a[5],s=+a[12],l=+a[13];else if(r.startsWith("matrix("))a=r.slice(7,-1).split(/, /),i=+a[0],o=+a[3],s=+a[4],l=+a[5];else return new ou(t);const u=n.transformOrigin,c=t.x-s-(1-i)*parseFloat(u),f=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),d=i?t.width/i:e.offsetWidth+1,h=o?t.height/o:e.offsetHeight+1;return new ou({x:c,y:f,width:d,height:h})}else return new ou(t)}function Jl(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(a=>{r.onfinish=()=>{a(r)}})),r}const $g=new WeakMap;function qDe(e,t){Object.keys(t).forEach(n=>{if(v0(n)){const r=y7(n),a=$g.get(e);if(t[n]==null)a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))});else if(!a||![...a].some(i=>i[0]===r&&i[1]===t[n])){e.addEventListener(r,t[n]);const i=a||new Set;i.add([r,t[n]]),$g.has(e)||$g.set(e,i)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function KDe(e,t){Object.keys(t).forEach(n=>{if(v0(n)){const r=y7(n),a=$g.get(e);a==null||a.forEach(i=>{const[o,s]=i;o===r&&(e.removeEventListener(r,s),a.delete(i))})}else e.removeAttribute(n)})}const Ac=2.4,N5=.2126729,k5=.7151522,B5=.072175,ZDe=.55,QDe=.58,JDe=.57,e2e=.62,xg=.03,F5=1.45,t2e=5e-4,n2e=1.25,r2e=1.25,V5=.078,z5=12.82051282051282,bg=.06,U5=.001;function H5(e,t){const n=(e.r/255)**Ac,r=(e.g/255)**Ac,a=(e.b/255)**Ac,i=(t.r/255)**Ac,o=(t.g/255)**Ac,s=(t.b/255)**Ac;let l=n*N5+r*k5+a*B5,u=i*N5+o*k5+s*B5;if(l<=xg&&(l+=(xg-l)**F5),u<=xg&&(u+=(xg-u)**F5),Math.abs(u-l)<t2e)return 0;let c;if(u>l){const f=(u**ZDe-l**QDe)*n2e;c=f<U5?0:f<V5?f-f*z5*bg:f-bg}else{const f=(u**e2e-l**JDe)*r2e;c=f>-U5?0:f>-V5?f-f*z5*bg:f+bg}return c*100}function a2e(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const qm=.20689655172413793,i2e=e=>e>qm**3?Math.cbrt(e):e/(3*qm**2)+4/29,o2e=e=>e>qm?e**3:3*qm**2*(e-4/29);function A7(e){const t=i2e,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function w7(e){const t=o2e,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const s2e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],l2e=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,u2e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c2e=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function C7(e){const t=Array(3),n=l2e,r=s2e;for(let a=0;a<3;++a)t[a]=Math.round(ar(n(r[a][0]*e[0]+r[a][1]*e[1]+r[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function vR(e){let{r:t,g:n,b:r}=e;const a=[0,0,0],i=c2e,o=u2e;t=i(t/255),n=i(n/255),r=i(r/255);for(let s=0;s<3;++s)a[s]=o[s][0]*t+o[s][1]*n+o[s][2]*r;return a}function KM(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function f2e(e){return KM(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const $5=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,d2e={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>G5({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>G5({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>as({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>as({h:e,s:t,v:n,a:r})};function Za(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&$5.test(e)){const{groups:t}=e.match($5),{fn:n,values:r}=t,a=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return d2e[n](...a)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),R7(t)}else if(typeof e=="object"){if(Ql(e,["r","g","b"]))return e;if(Ql(e,["h","s","l"]))return as(pR(e));if(Ql(e,["h","s","v"]))return as(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function as(e){const{h:t,s:n,v:r,a}=e,i=s=>{const l=(s+t/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:o[0],g:o[1],b:o[2],a}}function G5(e){return as(pR(e))}function g0(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),i=Math.min(t,n,r);let o=0;a!==i&&(a===t?o=60*(0+(n-r)/(a-i)):a===n?o=60*(2+(r-t)/(a-i)):a===r&&(o=60*(4+(t-n)/(a-i)))),o<0&&(o=o+360);const s=a===0?0:(a-i)/a,l=[o,s,a];return{h:l[0],s:l[1],v:l[2],a:e.a}}function M7(e){const{h:t,s:n,v:r,a}=e,i=r-r*n/2,o=i===1||i===0?0:(r-i)/Math.min(i,1-i);return{h:t,s:o,l:i,a}}function pR(e){const{h:t,s:n,l:r,a}=e,i=r+n*Math.min(r,1-r),o=i===0?0:2-2*r/i;return{h:t,s:o,v:i,a}}function T7(e){let{r:t,g:n,b:r,a}=e;return a===void 0?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${a})`}function E7(e){return T7(as(e))}function Sg(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function P7(e){let{r:t,g:n,b:r,a}=e;return`#${[Sg(t),Sg(n),Sg(r),a!==void 0?Sg(Math.round(a*255)):""].join("")}`}function R7(e){e=h2e(e);let[t,n,r,a]=GDe(e,2).map(i=>parseInt(i,16));return a=a===void 0?a:a/255,{r:t,g:n,b:r,a}}function I7(e){const t=R7(e);return g0(t)}function D7(e){return P7(as(e))}function h2e(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=E5(E5(e,6),8,"F")),e}function v2e(e,t){const n=A7(vR(e));return n[0]=n[0]+t*10,C7(w7(n))}function p2e(e,t){const n=A7(vR(e));return n[0]=n[0]-t*10,C7(w7(n))}function ZM(e){const t=Za(e);return vR(t)[1]}function g2e(e,t){const n=ZM(e),r=ZM(t),a=Math.max(n,r),i=Math.min(n,r);return(a+.05)/(i+.05)}function L7(e){const t=Math.abs(H5(Za(0),Za(e)));return Math.abs(H5(Za(16777215),Za(e)))>Math.min(t,50)?"#fff":"#000"}function Ie(e,t){return n=>Object.keys(e).reduce((r,a)=>{const o=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return n&&a in n?r[a]={...o,default:n[a]}:r[a]=o,t&&!r[a].source&&(r[a].source=t),r},{})}const ct=Ie({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component"),xf=Symbol.for("vuetify:defaults");function m2e(e){return Oe(e)}function gR(){const e=Vt(xf);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function Rn(e,t){const n=gR(),r=Oe(e),a=ie(()=>{if(ft(t==null?void 0:t.disabled))return n.value;const o=ft(t==null?void 0:t.scoped),s=ft(t==null?void 0:t.reset),l=ft(t==null?void 0:t.root);if(r.value==null&&!(o||s||l))return n.value;let u=Ma(r.value,{prev:n.value});if(o)return u;if(s||l){const c=Number(s||1/0);for(let f=0;f<=c&&!(!u||!("prev"in u));f++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Ma(Ma(u,{prev:u}),u[l])),u}return u.prev?Ma(u.prev,u):u});return cn(xf,a),a}function y2e(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[iu(t)])<"u"}function x2e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gR();const r=Yn("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=ie(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),i=new Proxy(e,{get(l,u){var f,d,h,v;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(f=a.value)==null?void 0:f[u],c].filter(m=>m!=null):typeof u=="string"&&!y2e(r.vnode,u)?((d=a.value)==null?void 0:d[u])??((v=(h=n.value)==null?void 0:h.global)==null?void 0:v[u])??c:c}}),o=it();Fn(()=>{if(a.value){const l=Object.entries(a.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function s(){const l=w2e(xf,r);cn(xf,ie(()=>o.value?Ma((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:i,provideSubDefaults:s}}function Da(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Ie(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return v7(r,t)},e.props._as=String,e.setup=function(r,a){const i=gR();if(!i.value)return e._setup(r,a);const{props:o,provideSubDefaults:s}=x2e(r,r._as??e.name,i),l=e._setup(o,a);return s(),l}}return e}function He(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Da:GT)(t)}function b2e(e,t){return t.props=e,t}function La(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return He()({name:n??vo(ai(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...ct()},setup(r,a){let{slots:i}=a;return()=>{var o;return mo(r.tag,{class:[e,r.class],style:r.style},(o=i.default)==null?void 0:o.call(i))}}})}function O7(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Fh="cubic-bezier(0.4, 0, 0.2, 1)",S2e="cubic-bezier(0.0, 0, 0.2, 1)",_2e="cubic-bezier(0.4, 0, 1, 1)";function W5(e,t,n){return Object.keys(e).filter(r=>v0(r)&&r.endsWith(t)).reduce((r,a)=>(r[a.slice(0,-t.length)]=i=>e[a](i,n(i)),r),{})}function Yn(e,t){const n=hy();if(!n)throw new Error(`[Vuetify] ${e} ${t||"must be called from inside a setup function"}`);return n}function wo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Yn(e).type;return iu((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let N7=0,Gg=new WeakMap;function Yr(){const e=Yn("getUid");if(Gg.has(e))return Gg.get(e);{const t=N7++;return Gg.set(e,t),t}}Yr.reset=()=>{N7=0,Gg=new WeakMap};function mR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?A2e(e):yR(e))return e;e=e.parentElement}return document.scrollingElement}function Km(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(yR(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function yR(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function A2e(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function w2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}function C2e(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ge(e){const t=Yn("useRender");t.render=e}function yt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const i=Yn("useProxiedModel"),o=Oe(e[t]!==void 0?e[t]:n),s=iu(t),u=ie(s!==t?()=>{var f,d,h,v;return e[t],!!(((f=i.vnode.props)!=null&&f.hasOwnProperty(t)||(d=i.vnode.props)!=null&&d.hasOwnProperty(s))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(v=i.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var f,d;return e[t],!!((f=i.vnode.props)!=null&&f.hasOwnProperty(t)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${t}`)))});Ei(()=>!u.value,()=>{nt(()=>e[t],f=>{o.value=f})});const c=ie({get(){const f=e[t];return r(u.value?f:o.value)},set(f){const d=a(f),h=zt(u.value?e[t]:o.value);h===d||r(h)===f||(o.value=d,i==null||i.emit(`update:${t}`,d))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const M2e={badge:"Badge",open:"Open",close:"Close",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},j5="$vuetify.",Y5=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),k7=(e,t,n)=>function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(!r.startsWith(j5))return Y5(r,i);const s=r.replace(j5,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=fu(l,s,null);return c||(`${r}${e.value}`,c=fu(u,s,null)),c||(c=r),typeof c!="string"&&(c=r),Y5(c,i)};function B7(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function Xw(e,t,n){const r=yt(e,t,e[t]??n.value);return r.value=e[t]??n.value,nt(n,a=>{e[t]==null&&(r.value=n.value)}),r}function F7(e){return t=>{const n=Xw(t,"locale",e.current),r=Xw(t,"fallback",e.fallback),a=Xw(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:a,t:k7(n,r,a),n:B7(n,r),provide:F7({current:n,fallback:r,messages:a})}}}function T2e(e){const t=it((e==null?void 0:e.locale)??"en"),n=it((e==null?void 0:e.fallback)??"en"),r=Oe({en:M2e,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:k7(t,n,r),n:B7(t,n),provide:F7({current:t,fallback:n,messages:r})}}const bf=Symbol.for("vuetify:locale");function E2e(e){return e.name!=null}function P2e(e){const t=e!=null&&e.adapter&&E2e(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:T2e(e),n=D2e(t,e);return{...t,...n}}function er(){const e=Vt(bf);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function R2e(e){const t=Vt(bf);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),r=L2e(n,t.rtl,e),a={...n,...r};return cn(bf,a),a}function I2e(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function D2e(e,t){const n=Oe((t==null?void 0:t.rtl)??I2e()),r=ie(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:ie(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function L2e(e,t,n){const r=ie(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:r,rtl:t,rtlClasses:ie(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Pr(){const e=Vt(bf);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const QM={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function O2e(e,t){const n=[];let r=[];const a=V7(e),i=z7(e),o=(a.getDay()-QM[t.slice(-2).toUpperCase()]+7)%7,s=(i.getDay()-QM[t.slice(-2).toUpperCase()]+7)%7;for(let l=0;l<o;l++){const u=new Date(a);u.setDate(u.getDate()-(o-l)),r.push(u)}for(let l=1;l<=i.getDate();l++){const u=new Date(e.getFullYear(),e.getMonth(),l);r.push(u),r.length===7&&(n.push(r),r=[])}for(let l=1;l<7-s;l++){const u=new Date(i);u.setDate(u.getDate()+l),r.push(u)}return r.length>0&&n.push(r),n}function N2e(e){const t=new Date(e);for(;t.getDay()!==0;)t.setDate(t.getDate()-1);return t}function k2e(e){const t=new Date(e);for(;t.getDay()!==6;)t.setDate(t.getDate()+1);return t}function V7(e){return new Date(e.getFullYear(),e.getMonth(),1)}function z7(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function B2e(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const F2e=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function U7(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(F2e.test(e))return B2e(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const X5=new Date(2e3,0,2);function V2e(e){const t=QM[e.slice(-2).toUpperCase()];return ro(7).map(n=>{const r=new Date(X5);return r.setDate(X5.getDate()+t+n),new Intl.DateTimeFormat(e,{weekday:"short"}).format(r)})}function z2e(e,t,n,r){const a=U7(e)??new Date,i=r==null?void 0:r[t];if(typeof i=="function")return i(a,t,n);let o={};switch(t){case"fullDateWithWeekday":o={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"hours12h":o={hour:"numeric",hour12:!0};break;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":o={day:"2-digit",month:"2-digit",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"dayOfMonth":o={day:"numeric"};break;case"shortDate":o={year:"2-digit",month:"numeric",day:"numeric"};break;case"weekdayShort":o={weekday:"short"};break;case"year":o={year:"numeric"};break;default:o=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(a)}function U2e(e,t){const n=e.toJsDate(t),r=n.getFullYear(),a=P5(String(n.getMonth()+1),2,"0"),i=P5(String(n.getDate()),2,"0");return`${r}-${a}-${i}`}function H2e(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function $2e(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function G2e(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function W2e(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function j2e(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Y2e(e,t){const n=new Date(e);return n.setMonth(n.getMonth()+t),n}function X2e(e){return e.getFullYear()}function q2e(e){return e.getMonth()}function K2e(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Z2e(e){return e.getHours()}function Q2e(e){return e.getMinutes()}function J2e(e){return new Date(e.getFullYear(),0,1)}function eLe(e){return new Date(e.getFullYear(),11,31)}function tLe(e,t){return JM(e,t[0])&&rLe(e,t[1])}function nLe(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function JM(e,t){return e.getTime()>t.getTime()}function rLe(e,t){return e.getTime()<t.getTime()}function q5(e,t){return e.getTime()===t.getTime()}function aLe(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function iLe(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function oLe(e,t,n){const r=new Date(e),a=new Date(t);return n==="month"?r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12:Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24))}function sLe(e,t){const n=new Date(e);return n.setHours(t),n}function lLe(e,t){const n=new Date(e);return n.setMinutes(t),n}function uLe(e,t){const n=new Date(e);return n.setMonth(t),n}function cLe(e,t){const n=new Date(e);return n.setFullYear(t),n}function fLe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function dLe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class hLe{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return U7(t)}toJsDate(t){return t}toISO(t){return U2e(this,t)}parseISO(t){return H2e(t)}addMinutes(t,n){return $2e(t,n)}addHours(t,n){return G2e(t,n)}addDays(t,n){return W2e(t,n)}addWeeks(t,n){return j2e(t,n)}addMonths(t,n){return Y2e(t,n)}getWeekArray(t){return O2e(t,this.locale)}startOfWeek(t){return N2e(t)}endOfWeek(t){return k2e(t)}startOfMonth(t){return V7(t)}endOfMonth(t){return z7(t)}format(t,n){return z2e(t,n,this.locale,this.formats)}isEqual(t,n){return q5(t,n)}isValid(t){return nLe(t)}isWithinRange(t,n){return tLe(t,n)}isAfter(t,n){return JM(t,n)}isBefore(t,n){return!JM(t,n)&&!q5(t,n)}isSameDay(t,n){return aLe(t,n)}isSameMonth(t,n){return iLe(t,n)}setMinutes(t,n){return lLe(t,n)}setHours(t,n){return sLe(t,n)}setMonth(t,n){return uLe(t,n)}setYear(t,n){return cLe(t,n)}getDiff(t,n,r){return oLe(t,n,r)}getWeekdays(){return V2e(this.locale)}getYear(t){return X2e(t)}getMonth(t){return q2e(t)}getNextMonth(t){return K2e(t)}getHours(t){return Z2e(t)}getMinutes(t){return Q2e(t)}startOfDay(t){return fLe(t)}endOfDay(t){return dLe(t)}startOfYear(t){return J2e(t)}endOfYear(t){return eLe(t)}}const H7=Symbol.for("vuetify:date-options"),K5=Symbol.for("vuetify:date-adapter");function vLe(e,t){const n=Ma({adapter:hLe,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:$7(n,t)}}function $7(e,t){const n=wr(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return nt(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function Nv(){const e=Vt(H7);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=er();return $7(e,t)}function pLe(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),a=new Date(r,0,1);if(n<a)r=r-1,a=new Date(r,0,1);else{const s=new Date(r+1,0,1);n>=s&&(r=r+1,a=s)}const i=Math.abs(n.getTime()-a.getTime()),o=Math.ceil(i/(1e3*60*60*24));return Math.floor(o/7)+1}const m0=["sm","md","lg","xl","xxl"],eT=Symbol.for("vuetify:display"),Z5={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},gLe=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z5;return Ma(Z5,e)};function Q5(e){return pn&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function J5(e){return pn&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function e4(e){const t=pn&&!e?window.navigator.userAgent:"ssr";function n(v){return!!t.match(v)}const r=n(/android/i),a=n(/iphone|ipad|ipod/i),i=n(/cordova/i),o=n(/electron/i),s=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),f=n(/win/i),d=n(/mac/i),h=n(/linux/i);return{android:r,ios:a,cordova:i,electron:o,chrome:s,edge:l,firefox:u,opera:c,win:f,mac:d,linux:h,touch:NDe,ssr:t==="ssr"}}function mLe(e,t){const{thresholds:n,mobileBreakpoint:r}=gLe(e),a=it(J5(t)),i=it(e4(t)),o=wr({}),s=it(Q5(t));function l(){a.value=J5(),s.value=Q5()}function u(){l(),i.value=e4()}return Fn(()=>{const c=s.value<n.sm,f=s.value<n.md&&!c,d=s.value<n.lg&&!(f||c),h=s.value<n.xl&&!(d||f||c),v=s.value<n.xxl&&!(h||d||f||c),m=s.value>=n.xxl,p=c?"xs":f?"sm":d?"md":h?"lg":v?"xl":"xxl",g=typeof r=="number"?r:n[r],y=s.value<g;o.xs=c,o.sm=f,o.md=d,o.lg=h,o.xl=v,o.xxl=m,o.smAndUp=!c,o.mdAndUp=!(c||f),o.lgAndUp=!(c||f||d),o.xlAndUp=!(c||f||d||h),o.smAndDown=!(d||h||v||m),o.mdAndDown=!(h||v||m),o.lgAndDown=!(v||m),o.xlAndDown=!m,o.name=p,o.height=a.value,o.width=s.value,o.mobile=y,o.mobileBreakpoint=r,o.platform=i.value,o.thresholds=n}),pn&&window.addEventListener("resize",l,{passive:!0}),{...ay(o),update:u,ssr:!!t}}const xR=Ie({mobileBreakpoint:[Number,String]},"display");function Du(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();const n=Vt(eT);if(!n)throw new Error("Could not find Vuetify display injection");const r=ie(()=>{if(!e.mobileBreakpoint)return n.mobile.value;const i=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<i}),a=ie(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:a,mobile:r}}const yLe=Symbol.for("vuetify:goto");function xLe(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function bLe(e,t){return{rtl:t.isRtl,options:Ma(xLe(),e)}}const SLe={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",eyeDropper:"mdi-eyedropper"},_Le={component:e=>mo(SR,{...e,class:"mdi"})},Ot=[String,Function,Object,Array],tT=Symbol.for("vuetify:icons"),y0=Ie({icon:{type:Ot},tag:{type:String,required:!0}},"icon"),nT=He()({name:"VComponentIcon",props:y0(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return W(e.tag,null,{default:()=>{var a;return[e.icon?W(r,null,null):(a=n.default)==null?void 0:a.call(n)]}})}}}),bR=Da({name:"VSvgIcon",inheritAttrs:!1,props:y0(),setup(e,t){let{attrs:n}=t;return()=>W(e.tag,je(n,{style:null}),{default:()=>[W("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?W("path",{d:r[0],"fill-opacity":r[1]},null):W("path",{d:r},null)):W("path",{d:e.icon},null)])]})}}),ALe=Da({name:"VLigatureIcon",props:y0(),setup(e){return()=>W(e.tag,null,{default:()=>[e.icon]})}}),SR=Da({name:"VClassIcon",props:y0(),setup(e){return()=>W(e.tag,{class:e.icon},null)}}),wLe={svg:{component:bR},class:{component:SR}};function CLe(e){return Ma({defaultSet:"mdi",sets:{...wLe,mdi:_Le},aliases:{...SLe,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},e)}const MLe=e=>{const t=Vt(tT);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:ie(()=>{var l;const r=ft(e);if(!r)return{component:nT};let a=r;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=(l=t.aliases)==null?void 0:l[a.slice(1)])),!a)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(a))return{component:bR,icon:a};if(typeof a!="string")return{component:nT,icon:a};const i=Object.keys(t.sets).find(u=>typeof a=="string"&&a.startsWith(`${u}:`)),o=i?a.slice(i.length+1):a;return{component:t.sets[i??t.defaultSet].component,icon:o}})}},Vh=Symbol.for("vuetify:theme"),Zt=Ie({theme:String},"theme");function t4(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function TLe(){var r,a;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t4();const t=t4();if(!e)return{...t,isDisabled:!0};const n={};for(const[i,o]of Object.entries(e.themes??{})){const s=o.dark||i==="dark"?(r=t.themes)==null?void 0:r.dark:(a=t.themes)==null?void 0:a.light;n[i]=Ma(s,o)}return Ma(t,{...e,themes:n})}function ELe(e){const t=TLe(e),n=Oe(t.defaultTheme),r=Oe(t.themes),a=ie(()=>{const c={};for(const[f,d]of Object.entries(r.value)){const h=c[f]={...d,colors:{...d.colors}};if(t.variations)for(const v of t.variations.colors){const m=h.colors[v];if(m)for(const p of["lighten","darken"]){const g=p==="lighten"?v2e:p2e;for(const y of ro(t.variations[p],1))h.colors[`${v}-${p}-${y}`]=P7(g(Za(m),y))}}for(const v of Object.keys(h.colors)){if(/^on-[a-z]/.test(v)||h.colors[`on-${v}`])continue;const m=`on-${v}`,p=Za(h.colors[v]);h.colors[m]=L7(p)}}return c}),i=ie(()=>a.value[n.value]),o=ie(()=>{const c=[];i.value.dark&&Vl(c,":root",["color-scheme: dark"]),Vl(c,":root",n4(i.value));for(const[v,m]of Object.entries(a.value))Vl(c,`.v-theme--${v}`,[`color-scheme: ${m.dark?"dark":"normal"}`,...n4(m)]);const f=[],d=[],h=new Set(Object.values(a.value).flatMap(v=>Object.keys(v.colors)));for(const v of h)/^on-[a-z]/.test(v)?Vl(d,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):(Vl(f,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),Vl(d,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),Vl(d,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return c.push(...f,...d),c.map((v,m)=>m===0?v:`    ${v}`).join("")});function s(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const f=c._context.provides.usehead;if(f)if(f.push){const d=f.push(s);pn&&nt(o,()=>{d.patch(s)})}else pn?(f.addHeadObjs(ie(s)),Fn(()=>f.updateDOM())):f.addHeadObjs(s());else{let h=function(){if(typeof document<"u"&&!d){const v=document.createElement("style");v.type="text/css",v.id="vuetify-theme-stylesheet",t.cspNonce&&v.setAttribute("nonce",t.cspNonce),d=v,document.head.appendChild(d)}d&&(d.innerHTML=o.value)},d=pn?document.getElementById("vuetify-theme-stylesheet"):null;pn?nt(o,h,{immediate:!0}):h()}}const u=ie(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:r,current:i,computedThemes:a,themeClasses:u,styles:o,global:{name:n,current:i}}}function ln(e){Yn("provideTheme");const t=Vt(Vh,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=ie(()=>e.theme??t.name.value),r=ie(()=>t.themes.value[n.value]),a=ie(()=>t.isDisabled?void 0:`v-theme--${n.value}`),i={...t,name:n,current:r,themeClasses:a};return cn(Vh,i),i}function G7(){Yn("useTheme");const e=Vt(Vh,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Vl(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function n4(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[a,i]of Object.entries(e.colors)){const o=Za(i);r.push(`--v-theme-${a}: ${o.r},${o.g},${o.b}`),a.startsWith("on-")||r.push(`--v-theme-${a}-overlay-multiplier: ${ZM(i)>.18?t:n}`)}for(const[a,i]of Object.entries(e.variables)){const o=typeof i=="string"&&i.startsWith("#")?Za(i):void 0,s=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${a}: ${s??i}`)}return r}function fo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Oe(),r=Oe();if(pn){const a=new ResizeObserver(i=>{e==null||e(i,a),i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Er(()=>{a.disconnect()}),nt(n,(i,o)=>{o&&(a.unobserve(kh(o)),r.value=void 0),i&&a.observe(kh(i))},{flush:"post"})}return{resizeRef:n,contentRect:qh(r)}}const Zm=Symbol.for("vuetify:layout"),W7=Symbol.for("vuetify:layout-item"),r4=1e3,j7=Ie({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Xf=Ie({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function PLe(){const e=Vt(Zm);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function qf(e){const t=Vt(Zm);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Yr()}`,r=Yn("useLayoutItem");cn(W7,{id:n});const a=it(!1);f$(()=>a.value=!0),c$(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:o}=t.register(r,{...e,active:ie(()=>a.value?!1:e.active.value),id:n});return Er(()=>t.unregister(n)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const RLe=(e,t,n,r)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const o of e){const s=t.get(o),l=n.get(o),u=r.get(o);if(!s||!l||!u)continue;const c={...a,[s.value]:parseInt(a[s.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:o,layer:c}),a=c}return i};function Y7(e){const t=Vt(Zm,null),n=ie(()=>t?t.rootZIndex.value-100:r4),r=Oe([]),a=wr(new Map),i=wr(new Map),o=wr(new Map),s=wr(new Map),l=wr(new Map),{resizeRef:u,contentRect:c}=fo(),f=ie(()=>{const S=new Map,_=e.overlaps??[];for(const w of _.filter(C=>C.includes(":"))){const[C,M]=w.split(":");if(!r.value.includes(C)||!r.value.includes(M))continue;const T=a.get(C),E=a.get(M),P=i.get(C),R=i.get(M);!T||!E||!P||!R||(S.set(M,{position:T.value,amount:parseInt(P.value,10)}),S.set(C,{position:E.value,amount:-parseInt(R.value,10)}))}return S}),d=ie(()=>{const S=[...new Set([...o.values()].map(w=>w.value))].sort((w,C)=>w-C),_=[];for(const w of S){const C=r.value.filter(M=>{var T;return((T=o.get(M))==null?void 0:T.value)===w});_.push(...C)}return RLe(_,a,i,s)}),h=ie(()=>!Array.from(l.values()).some(S=>S.value)),v=ie(()=>d.value[d.value.length-1].layer),m=ie(()=>({"--v-layout-left":lt(v.value.left),"--v-layout-right":lt(v.value.right),"--v-layout-top":lt(v.value.top),"--v-layout-bottom":lt(v.value.bottom),...h.value?void 0:{transition:"none"}})),p=ie(()=>d.value.slice(1).map((S,_)=>{let{id:w}=S;const{layer:C}=d.value[_],M=i.get(w),T=a.get(w);return{id:w,...C,size:Number(M.value),position:T.value}})),g=S=>p.value.find(_=>_.id===S),y=Yn("createLayout"),x=it(!1);gn(()=>{x.value=!0}),cn(Zm,{register:(S,_)=>{let{id:w,order:C,position:M,layoutSize:T,elementSize:E,active:P,disableTransitions:R,absolute:I}=_;o.set(w,C),a.set(w,M),i.set(w,T),s.set(w,P),R&&l.set(w,R);const B=dh(W7,y==null?void 0:y.vnode).indexOf(S);B>-1?r.value.splice(B,0,w):r.value.push(w);const F=ie(()=>p.value.findIndex(U=>U.id===w)),G=ie(()=>n.value+d.value.length*2-F.value*2),z=ie(()=>{const U=M.value==="left"||M.value==="right",$=M.value==="right",k=M.value==="bottom",V={[M.value]:0,zIndex:G.value,transform:`translate${U?"X":"Y"}(${(P.value?0:-110)*($||k?-1:1)}%)`,position:I.value||n.value!==r4?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!x.value)return V;const L=p.value[F.value];if(!L)throw new Error(`[Vuetify] Could not find layout item "${w}"`);const O=f.value.get(w);return O&&(L[O.position]+=O.amount),{...V,height:U?`calc(100% - ${L.top}px - ${L.bottom}px)`:E.value?`${E.value}px`:void 0,left:$?void 0:`${L.left}px`,right:$?`${L.right}px`:void 0,top:M.value!=="bottom"?`${L.top}px`:void 0,bottom:M.value!=="top"?`${L.bottom}px`:void 0,width:U?E.value?`${E.value}px`:void 0:`calc(100% - ${L.left}px - ${L.right}px)`}}),N=ie(()=>({zIndex:G.value-1}));return{layoutItemStyles:z,layoutItemScrimStyles:N,zIndex:G}},unregister:S=>{o.delete(S),a.delete(S),i.delete(S),s.delete(S),l.delete(S),r.value=r.value.filter(_=>_!==S)},mainRect:v,mainStyles:m,getLayoutItem:g,items:p,layoutRect:c,rootZIndex:n});const b=ie(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),A=ie(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:b,layoutStyles:A,getLayoutItem:g,items:p,layoutRect:c,layoutRef:u}}function X7(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=Ma(t,n),{aliases:a={},components:i={},directives:o={}}=r,s=m2e(r.defaults),l=mLe(r.display,r.ssr),u=ELe(r.theme),c=CLe(r.icons),f=P2e(r.locale),d=vLe(r.date,f),h=bLe(r.goTo,f);return{install:m=>{for(const p in o)m.directive(p,o[p]);for(const p in i)m.component(p,i[p]);for(const p in a)m.component(p,Da({...a[p],name:p,aliasName:a[p].name}));if(u.install(m),m.provide(xf,s),m.provide(eT,l),m.provide(Vh,u),m.provide(tT,c),m.provide(bf,f),m.provide(H7,d.options),m.provide(K5,d.instance),m.provide(yLe,h),pn&&r.ssr)if(m.$nuxt)m.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=m;m.mount=function(){const g=p(...arguments);return Ht(()=>l.update()),m.mount=p,g}}Yr.reset(),m.mixin({computed:{$vuetify(){return wr({defaults:wc.call(this,xf),display:wc.call(this,eT),theme:wc.call(this,Vh),icons:wc.call(this,tT),locale:wc.call(this,bf),date:wc.call(this,K5)})}}})},defaults:s,display:l,theme:u,icons:c,locale:f,date:d,goTo:h}}const ILe="3.5.1";X7.version=ILe;function wc(e){var r,a;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((a=t.vnode.appContext)==null?void 0:a.provides);if(n&&e in n)return n[e]}const DLe=Ie({...ct(),...j7({fullHeight:!0}),...Zt()},"VApp"),LLe=He()({name:"VApp",props:DLe(),setup(e,t){let{slots:n}=t;const r=ln(e),{layoutClasses:a,getLayoutItem:i,items:o,layoutRef:s}=Y7(e),{rtlClasses:l}=Pr();return Ge(()=>{var u;return W("div",{ref:s,class:["v-application",r.themeClasses.value,a.value,l.value,e.class],style:[e.style]},[W("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:i,items:o,theme:r}}}),kt=Ie({tag:{type:String,default:"div"}},"tag"),q7=Ie({text:String,...ct(),...kt()},"VToolbarTitle"),_R=He()({name:"VToolbarTitle",props:q7(),setup(e,t){let{slots:n}=t;return Ge(()=>{const r=!!(n.default||n.text||e.text);return W(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[r&&W("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(a=n.default)==null?void 0:a.call(n)])]}})}),{}}}),OLe=Ie({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Oa(e,t,n){return He()({name:e,props:OLe({mode:n,origin:t}),setup(r,a){let{slots:i}=a;const o={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:f}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${f}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:f,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=f||"",s.style.height=d||""}}};return()=>{const s=r.group?TZ:so;return mo(s,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},i.default)}}})}function K7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return He()({name:e,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,a){let{slots:i}=a;return()=>mo(so,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},i.default)}})}function Z7(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=ai(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const s=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=s.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:i,onEnterCancelled:i,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){e&&o._parent&&o._parent.classList.remove(e),i(o)}function i(o){const s=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,s!=null&&(o.style[n]=s),delete o._initialStyle}}const NLe=Ie({target:[Object,Array]},"v-dialog-transition"),x0=He()({name:"VDialogTransition",props:NLe(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,i){var d;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),a.style.visibility="";const{x:o,y:s,sx:l,sy:u,speed:c}=i4(e.target,a),f=Jl(a,[{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:S2e});(d=a4(a))==null||d.forEach(h=>{Jl(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:Fh})}),f.finished.then(()=>i())},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,i){var d;await new Promise(h=>requestAnimationFrame(h));const{x:o,y:s,sx:l,sy:u,speed:c}=i4(e.target,a);Jl(a,[{},{transform:`translate(${o}px, ${s}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:_2e}).finished.then(()=>i()),(d=a4(a))==null||d.forEach(h=>{Jl(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:Fh})})},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?W(so,je({name:"dialog-transition"},r,{css:!1}),n):W(so,{name:"dialog-transition"},n)}});function a4(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function i4(e,t){const n=_7(e),r=hR(t),[a,i]=getComputedStyle(t).transformOrigin.split(" ").map(g=>parseFloat(g)),[o,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||s==="left"?l-=n.width/2:(o==="right"||s==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||s==="top"?u-=n.height/2:(o==="bottom"||s==="bottom")&&(u+=n.height/2);const c=n.width/r.width,f=n.height/r.height,d=Math.max(1,c,f),h=c/d||0,v=f/d||0,m=r.width*r.height/(window.innerWidth*window.innerHeight),p=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:l-(a+r.left),y:u-(i+r.top),sx:h,sy:v,speed:p}}const kLe=Oa("fab-transition","center center","out-in"),BLe=Oa("dialog-bottom-transition"),FLe=Oa("dialog-top-transition"),Qm=Oa("fade-transition"),AR=Oa("scale-transition"),VLe=Oa("scroll-x-transition"),zLe=Oa("scroll-x-reverse-transition"),ULe=Oa("scroll-y-transition"),HLe=Oa("scroll-y-reverse-transition"),$Le=Oa("slide-x-transition"),GLe=Oa("slide-x-reverse-transition"),wR=Oa("slide-y-transition"),WLe=Oa("slide-y-reverse-transition"),b0=K7("expand-transition",Z7()),CR=K7("expand-x-transition",Z7("",!0)),jLe=Ie({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Kt=He(!1)({name:"VDefaultsProvider",props:jLe(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:a,reset:i,root:o,scoped:s}=ay(e);return Rn(r,{reset:i,root:o,scoped:s,disabled:a}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),sa=Ie({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function la(e){return{dimensionStyles:ie(()=>({height:lt(e.height),maxHeight:lt(e.maxHeight),maxWidth:lt(e.maxWidth),minHeight:lt(e.minHeight),minWidth:lt(e.minWidth),width:lt(e.width)}))}}function YLe(e){return{aspectStyles:ie(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const Q7=Ie({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...ct(),...sa()},"VResponsive"),rT=He()({name:"VResponsive",props:Q7(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=YLe(e),{dimensionStyles:a}=la(e);return Ge(()=>{var i;return W("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[a.value,e.style]},[W("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&W("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function MR(e){return fR(()=>{const t=[],n={};if(e.value.background)if(KM(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&f2e(e.value.background)){const r=Za(e.value.background);if(r.a==null||r.a===1){const a=L7(r);n.color=a,n.caretColor=a}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(KM(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Wr(e,t){const n=ie(()=>({text:Zn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=MR(n);return{textColorClasses:r,textColorStyles:a}}function mn(e,t){const n=ie(()=>({background:Zn(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:a}=MR(n);return{backgroundColorClasses:r,backgroundColorStyles:a}}const Mn=Ie({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function zn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return{roundedClasses:ie(()=>{const r=Zn(e)?e.value:e.rounded,a=[];if(r===!0||r==="")a.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))a.push(`rounded-${i}`);return a})}}const ds=Ie({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Qa=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:a,...i}=e,{component:o=so,...s}=typeof r=="object"?r:{};return mo(o,je(typeof r=="string"?{name:a?"":r}:s,i,{disabled:a}),n)};function XLe(e,t){if(!cR)return;const n=t.modifiers||{},r=t.value,{handler:a,options:i}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var f;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(f=e._observe)==null?void 0:f[t.instance.$.uid];if(!u)return;const c=s.some(d=>d.isIntersecting);a&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&a(c,s,l),c&&n.once?J7(e,t):u.init=!0},i);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function J7(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const kv={mounted:XLe,unmounted:J7},eY=Ie({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...Q7(),...ct(),...Mn(),...ds()},"VImg"),du=He()({name:"VImg",directives:{intersect:kv},props:eY(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:i}=mn(ze(e,"color")),{roundedClasses:o}=zn(e),s=Yn("VImg"),l=it(""),u=Oe(),c=it(e.eager?"loading":"idle"),f=it(),d=it(),h=ie(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=ie(()=>h.value.aspect||f.value/d.value||0);nt(()=>e.src,()=>{m(c.value!=="idle")}),nt(v,(E,P)=>{!E&&P&&u.value&&b(u.value)}),cy(()=>m());function m(E){if(!(e.eager&&E)&&!(cR&&!E&&!e.eager)){if(c.value="loading",h.value.lazySrc){const P=new Image;P.src=h.value.lazySrc,b(P,null)}h.value.src&&Ht(()=>{var P;n("loadstart",((P=u.value)==null?void 0:P.currentSrc)||h.value.src),setTimeout(()=>{var R;if(!s.isUnmounted)if((R=u.value)!=null&&R.complete){if(u.value.naturalWidth||g(),c.value==="error")return;v.value||b(u.value,null),c.value==="loading"&&p()}else v.value||b(u.value),y()})})}}function p(){var E;s.isUnmounted||(y(),b(u.value),c.value="loaded",n("load",((E=u.value)==null?void 0:E.currentSrc)||h.value.src))}function g(){var E;s.isUnmounted||(c.value="error",n("error",((E=u.value)==null?void 0:E.currentSrc)||h.value.src))}function y(){const E=u.value;E&&(l.value=E.currentSrc||E.src)}let x=-1;Er(()=>{clearTimeout(x)});function b(E){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const R=()=>{if(clearTimeout(x),s.isUnmounted)return;const{naturalHeight:I,naturalWidth:D}=E;I||D?(f.value=D,d.value=I):!E.complete&&c.value==="loading"&&P!=null?x=window.setTimeout(R,P):(E.currentSrc.endsWith(".svg")||E.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,d.value=1)};R()}const A=ie(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),S=()=>{var R;if(!h.value.src||c.value==="idle")return null;const E=W("img",{class:["v-img__img",A.value],style:{objectPosition:e.position},src:h.value.src,srcset:h.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:p,onError:g},null),P=(R=r.sources)==null?void 0:R.call(r);return W(Qa,{transition:e.transition,appear:!0},{default:()=>[_n(P?W("picture",{class:"v-img__picture"},[P,E]):E,[[Ta,c.value==="loaded"]])]})},_=()=>W(Qa,{transition:e.transition},{default:()=>[h.value.lazySrc&&c.value!=="loaded"&&W("img",{class:["v-img__img","v-img__img--preload",A.value],style:{objectPosition:e.position},src:h.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),w=()=>r.placeholder?W(Qa,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&W("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,C=()=>r.error?W(Qa,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&W("div",{class:"v-img__error"},[r.error()])]}):null,M=()=>e.gradient?W("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=it(!1);{const E=nt(v,P=>{P&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),E())})}return Ge(()=>{const E=rT.filterProps(e);return _n(W(rT,je({class:["v-img",{"v-img--booting":!T.value},a.value,o.value,e.class],style:[{width:lt(e.width==="auto"?f.value:e.width)},i.value,e.style]},E,{aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>W(tt,null,[W(S,null,null),W(_,null,null),W(M,null,null),W(w,null,null),W(C,null,null)]),default:r.default}),[[pa("intersect"),{handler:m,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:f,naturalHeight:d}}}),Na=Ie({border:[Boolean,Number,String]},"border");function ui(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return{borderClasses:ie(()=>{const r=Zn(e)?e.value:e.border,a=[];if(r===!0||r==="")a.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))a.push(`border-${i}`);return a})}}const fr=Ie({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Rr(e){return{elevationClasses:ie(()=>{const n=Zn(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const qLe=[null,"prominent","default","comfortable","compact"],tY=Ie({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>qLe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Na(),...ct(),...fr(),...Mn(),...kt({tag:"header"}),...Zt()},"VToolbar"),aT=He()({name:"VToolbar",props:tY(),setup(e,t){var h;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=mn(ze(e,"color")),{borderClasses:i}=ui(e),{elevationClasses:o}=Rr(e),{roundedClasses:s}=zn(e),{themeClasses:l}=ln(e),{rtlClasses:u}=Pr(),c=it(!!(e.extended||(h=n.extension)!=null&&h.call(n))),f=ie(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),d=ie(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Rn({VBtn:{variant:"text"}}),Ge(()=>{var g;const v=!!(e.title||n.title),m=!!(n.image||e.image),p=(g=n.extension)==null?void 0:g.call(n);return c.value=!!(e.extended||p),W(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,i.value,o.value,s.value,l.value,u.value,e.class],style:[a.value,e.style]},{default:()=>[m&&W("div",{key:"image",class:"v-toolbar__image"},[n.image?W(Kt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):W(du,{key:"image-img",cover:!0,src:e.image},null)]),W(Kt,{defaults:{VTabs:{height:lt(f.value)}}},{default:()=>{var y,x,b;return[W("div",{class:"v-toolbar__content",style:{height:lt(f.value)}},[n.prepend&&W("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),v&&W(_R,{key:"title",text:e.title},{text:n.title}),(x=n.default)==null?void 0:x.call(n),n.append&&W("div",{class:"v-toolbar__append"},[(b=n.append)==null?void 0:b.call(n)])])]}}),W(Kt,{defaults:{VTabs:{height:lt(d.value)}}},{default:()=>[W(b0,null,{default:()=>[c.value&&W("div",{class:"v-toolbar__extension",style:{height:lt(d.value)}},[p])]})]})]})}),{contentHeight:f,extensionHeight:d}}}),KLe=Ie({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ZLe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0;const a=Oe(null),i=it(0),o=it(0),s=it(0),l=it(!1),u=it(!1),c=ie(()=>Number(e.scrollThreshold)),f=ie(()=>ar((c.value-i.value)/c.value||0)),d=()=>{const h=a.value;!h||n&&!n.value||(r=i.value,i.value="window"in h?h.pageYOffset:h.scrollTop,u.value=i.value<r,s.value=Math.abs(i.value-c.value))};return nt(u,()=>{o.value=o.value||i.value}),nt(l,()=>{o.value=0}),gn(()=>{nt(()=>e.scrollTarget,h=>{var m;const v=h?document.querySelector(h):window;v&&v!==a.value&&((m=a.value)==null||m.removeEventListener("scroll",d),a.value=v,a.value.addEventListener("scroll",d,{passive:!0}))},{immediate:!0})}),Er(()=>{var h;(h=a.value)==null||h.removeEventListener("scroll",d)}),n&&nt(n,d,{immediate:!0}),{scrollThreshold:c,currentScroll:i,currentThreshold:s,isScrollActive:l,scrollRatio:f,isScrollingUp:u,savedScroll:o}}function Lu(){const e=it(!1);return gn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:ie(()=>e.value?void 0:{transition:"none !important"}),isBooted:qh(e)}}const QLe=Ie({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...tY(),...Xf(),...KLe(),height:{type:[Number,String],default:64}},"VAppBar"),JLe=He()({name:"VAppBar",props:QLe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Oe(),a=yt(e,"modelValue"),i=ie(()=>{var y;const g=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:g.has("hide"),inverted:g.has("inverted"),collapse:g.has("collapse"),elevate:g.has("elevate"),fadeImage:g.has("fade-image")}}),o=ie(()=>{const g=i.value;return g.hide||g.inverted||g.collapse||g.elevate||g.fadeImage||!a.value}),{currentScroll:s,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=ZLe(e,{canScroll:o}),f=ie(()=>e.collapse||i.value.collapse&&(i.value.inverted?c.value>0:c.value===0)),d=ie(()=>e.flat||i.value.elevate&&(i.value.inverted?s.value>0:s.value===0)),h=ie(()=>i.value.fadeImage?i.value.inverted?1-c.value:c.value:void 0),v=ie(()=>{var x,b;if(i.value.hide&&i.value.inverted)return 0;const g=((x=r.value)==null?void 0:x.contentHeight)??0,y=((b=r.value)==null?void 0:b.extensionHeight)??0;return g+y});Ei(ie(()=>!!e.scrollBehavior),()=>{Fn(()=>{i.value.hide?i.value.inverted?a.value=s.value>l.value:a.value=u.value||s.value<l.value:a.value=!0})});const{ssrBootStyles:m}=Lu(),{layoutItemStyles:p}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:ze(e,"location"),layoutSize:v,elementSize:it(void 0),active:a,absolute:ze(e,"absolute")});return Ge(()=>{const g=aT.filterProps(e);return W(aT,je({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...p.value,"--v-toolbar-image-opacity":h.value,height:void 0,...m.value},e.style]},g,{collapse:f.value,flat:d.value}),n)}),{}}}),eOe=[null,"default","comfortable","compact"],br=Ie({density:{type:String,default:"default",validator:e=>eOe.includes(e)}},"density");function Xr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return{densityClasses:ie(()=>`${t}--density-${e.density}`)}}const tOe=["elevated","flat","tonal","outlined","text","plain"];function Ou(e,t){return W(tt,null,[e&&W("span",{key:"overlay",class:`${t}__overlay`},null),W("span",{key:"underlay",class:`${t}__underlay`},null)])}const ci=Ie({color:String,variant:{type:String,default:"elevated",validator:e=>tOe.includes(e)}},"variant");function Nu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();const n=ie(()=>{const{variant:i}=ft(e);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:a}=MR(ie(()=>{const{variant:i,color:o}=ft(e);return{[["elevated","flat"].includes(i)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:a,variantClasses:n}}const nY=Ie({divided:Boolean,...Na(),...ct(),...br(),...fr(),...Mn(),...kt(),...Zt(),...ci()},"VBtnGroup"),iT=He()({name:"VBtnGroup",props:nY(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{densityClasses:a}=Xr(e),{borderClasses:i}=ui(e),{elevationClasses:o}=Rr(e),{roundedClasses:s}=zn(e);Rn({VBtn:{height:"auto",color:ze(e,"color"),density:ze(e,"density"),flat:!0,variant:ze(e,"variant")}}),Ge(()=>W(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,i.value,a.value,o.value,s.value,e.class],style:e.style},n))}}),ku=Ie({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Bu=Ie({value:null,disabled:Boolean,selectedClass:String},"group-item");function Fu(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Yn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=Yr();cn(Symbol.for(`${t.description}:id`),a);const i=Vt(t,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ze(e,"value"),s=ie(()=>!!(i.disabled.value||e.disabled));i.register({id:a,value:o,disabled:s},r),Er(()=>{i.unregister(a)});const l=ie(()=>i.isSelected(a)),u=ie(()=>l.value&&[i.selectedClass.value,e.selectedClass]);return nt(l,c=>{r.emit("group:selected",{value:c})}),{id:a,isSelected:l,toggle:()=>i.select(a,!l.value),select:c=>i.select(a,c),selectedClass:u,value:o,disabled:s,group:i}}function yl(e,t){let n=!1;const r=wr([]),a=yt(e,"modelValue",[],d=>d==null?[]:rY(r,Wn(d)),d=>{const h=rOe(r,d);return e.multiple?h:h[0]}),i=Yn("useGroup");function o(d,h){const v=d,m=Symbol.for(`${t.description}:id`),g=dh(m,i==null?void 0:i.vnode).indexOf(h);g>-1?r.splice(g,0,v):r.push(v)}function s(d){if(n)return;l();const h=r.findIndex(v=>v.id===d);r.splice(h,1)}function l(){const d=r.find(h=>!h.disabled);d&&e.mandatory==="force"&&!a.value.length&&(a.value=[d.id])}gn(()=>{l()}),Er(()=>{n=!0});function u(d,h){const v=r.find(m=>m.id===d);if(!(h&&(v!=null&&v.disabled)))if(e.multiple){const m=a.value.slice(),p=m.findIndex(y=>y===d),g=~p;if(h=h??!g,g&&e.mandatory&&m.length<=1||!g&&e.max!=null&&m.length+1>e.max)return;p<0&&h?m.push(d):p>=0&&!h&&m.splice(p,1),a.value=m}else{const m=a.value.includes(d);if(e.mandatory&&m)return;a.value=h??!m?[d]:[]}}function c(d){if(e.multiple,a.value.length){const h=a.value[0],v=r.findIndex(g=>g.id===h);let m=(v+d)%r.length,p=r[m];for(;p.disabled&&m!==v;)m=(m+d)%r.length,p=r[m];if(p.disabled)return;a.value=[r[m].id]}else{const h=r.find(v=>!v.disabled);h&&(a.value=[h.id])}}const f={register:o,unregister:s,selected:a,select:u,disabled:ze(e,"disabled"),prev:()=>c(r.length-1),next:()=>c(1),isSelected:d=>a.value.includes(d),selectedClass:ie(()=>e.selectedClass),items:ie(()=>r),getItemIndex:d=>nOe(r,d)};return cn(t,f),f}function nOe(e,t){const n=rY(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function rY(e,t){const n=[];return t.forEach(r=>{const a=e.find(o=>fs(r,o.value)),i=e[r];(a==null?void 0:a.value)!=null?n.push(a.id):i!=null&&n.push(i.id)}),n}function rOe(e,t){const n=[];return t.forEach(r=>{const a=e.findIndex(i=>i.id===r);if(~a){const i=e[a];n.push(i.value!=null?i.value:a)}}),n}const TR=Symbol.for("vuetify:v-btn-toggle"),aOe=Ie({...nY(),...ku()},"VBtnToggle"),iOe=He()({name:"VBtnToggle",props:aOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:a,prev:i,select:o,selected:s}=yl(e,TR);return Ge(()=>{const l=iT.filterProps(e);return W(iT,je({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,next:a,prev:i,select:o,selected:s})]}})}),{next:a,prev:i,select:o}}}),oOe=["x-small","small","default","large","x-large"],hs=Ie({size:{type:[String,Number],default:"default"}},"size");function Kf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return fR(()=>{let n,r;return Xm(oOe,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:lt(e.size),height:lt(e.size)}),{sizeClasses:n,sizeStyles:r}})}const sOe=Ie({color:String,start:Boolean,end:Boolean,icon:Ot,...ct(),...hs(),...kt({tag:"i"}),...Zt()},"VIcon"),sn=He()({name:"VIcon",props:sOe(),setup(e,t){let{attrs:n,slots:r}=t;const a=Oe(),{themeClasses:i}=ln(e),{iconData:o}=MLe(ie(()=>a.value||e.icon)),{sizeClasses:s}=Kf(e),{textColorClasses:l,textColorStyles:u}=Wr(ze(e,"color"));return Ge(()=>{var f,d;const c=(f=r.default)==null?void 0:f.call(r);return c&&(a.value=(d=m7(c).filter(h=>h.type===Zh&&h.children&&typeof h.children=="string")[0])==null?void 0:d.children),W(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",i.value,s.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[s.value?void 0:{fontSize:lt(e.size),height:lt(e.size),width:lt(e.size)},u.value,e.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>[c]})}),{}}});function S0(e,t){const n=Oe(),r=it(!1);if(cR){const a=new IntersectionObserver(i=>{e==null||e(i,a),r.value=!!i.find(o=>o.isIntersecting)},t);Er(()=>{a.disconnect()}),nt(n,(i,o)=>{o&&(a.unobserve(o),r.value=!1),i&&a.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const lOe=Ie({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ct(),...hs(),...kt({tag:"div"}),...Zt()},"VProgressCircular"),Sf=He()({name:"VProgressCircular",props:lOe(),setup(e,t){let{slots:n}=t;const r=20,a=2*Math.PI*r,i=Oe(),{themeClasses:o}=ln(e),{sizeClasses:s,sizeStyles:l}=Kf(e),{textColorClasses:u,textColorStyles:c}=Wr(ze(e,"color")),{textColorClasses:f,textColorStyles:d}=Wr(ze(e,"bgColor")),{intersectionRef:h,isIntersecting:v}=S0(),{resizeRef:m,contentRect:p}=fo(),g=ie(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),y=ie(()=>Number(e.width)),x=ie(()=>l.value?Number(e.size):p.value?p.value.width:Math.max(y.value,32)),b=ie(()=>r/(1-y.value/x.value)*2),A=ie(()=>y.value/x.value*b.value),S=ie(()=>lt((100-g.value)/100*a));return Fn(()=>{h.value=i.value,m.value=i.value}),Ge(()=>W(e.tag,{ref:i,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":v.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,s.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:g.value},{default:()=>[W("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${b.value} ${b.value}`},[W("circle",{class:["v-progress-circular__underlay",f.value],style:d.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":A.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),W("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":A.value,"stroke-dasharray":a,"stroke-dashoffset":S.value},null)]),n.default&&W("div",{class:"v-progress-circular__content"},[n.default({value:g.value})])]})),{}}}),o4={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},xl=Ie({location:String},"location");function bl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Pr();return{locationStyles:ie(()=>{if(!e.location)return{};const{side:i,align:o}=XM(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function s(u){return n?n(u):0}const l={};return i!=="center"&&(t?l[o4[i]]=`calc(100% - ${s(i)}px)`:l[i]=0),o!=="center"?t?l[o4[o]]=`calc(100% - ${s(o)}px)`:l[o]=0:(i==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),l})}}const uOe=Ie({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...ct(),...xl({location:"top"}),...Mn(),...kt(),...Zt()},"VProgressLinear"),_0=He()({name:"VProgressLinear",props:uOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{isRtl:a,rtlClasses:i}=Pr(),{themeClasses:o}=ln(e),{locationStyles:s}=bl(e),{textColorClasses:l,textColorStyles:u}=Wr(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:f}=mn(ie(()=>e.bgColor||e.color)),{backgroundColorClasses:d,backgroundColorStyles:h}=mn(e,"color"),{roundedClasses:v}=zn(e),{intersectionRef:m,isIntersecting:p}=S0(),g=ie(()=>parseInt(e.max,10)),y=ie(()=>parseInt(e.height,10)),x=ie(()=>parseFloat(e.bufferValue)/g.value*100),b=ie(()=>parseFloat(r.value)/g.value*100),A=ie(()=>a.value!==e.reverse),S=ie(()=>e.indeterminate?"fade-transition":"slide-x-transition"),_=ie(()=>e.bgOpacity==null?e.bgOpacity:parseFloat(e.bgOpacity));function w(C){if(!m.value)return;const{left:M,right:T,width:E}=m.value.getBoundingClientRect(),P=A.value?E-C.clientX+(T-E):C.clientX-M;r.value=Math.round(P/E*g.value)}return Ge(()=>W(e.tag,{ref:m,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&p.value,"v-progress-linear--reverse":A.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},v.value,o.value,i.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?lt(y.value):0,"--v-progress-linear-height":lt(y.value),...s.value},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:b.value,onClick:e.clickable&&w},{default:()=>[e.stream&&W("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[A.value?"left":"right"]:lt(-y.value),borderTop:`${lt(y.value/2)} dotted`,opacity:_.value,top:`calc(50% - ${lt(y.value/4)})`,width:lt(100-x.value,"%"),"--v-progress-linear-stream-to":lt(y.value*(A.value?1:-1))}},null),W("div",{class:["v-progress-linear__background",c.value],style:[f.value,{opacity:_.value,width:lt(e.stream?x.value:100,"%")}]},null),W(so,{name:S.value},{default:()=>[e.indeterminate?W("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(C=>W("div",{key:C,class:["v-progress-linear__indeterminate",C,d.value],style:h.value},null))]):W("div",{class:["v-progress-linear__determinate",d.value],style:[h.value,{width:lt(b.value,"%")}]},null)]}),n.default&&W("div",{class:"v-progress-linear__content"},[n.default({value:b.value,buffer:x.value})])]})),{}}}),A0=Ie({loading:[Boolean,String]},"loader");function Bv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return{loaderClasses:ie(()=>({[`${t}--loading`]:e.loading}))}}function w0(e,t){var r;let{slots:n}=t;return W("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||W(_0,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const cOe=["static","relative","fixed","absolute","sticky"],Zf=Ie({position:{type:String,validator:e=>cOe.includes(e)}},"position");function Qf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();return{positionClasses:ie(()=>e.position?`${t}--${e.position}`:void 0)}}function fOe(){const e=Yn("useRoute");return ie(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function aY(){var e,t;return(t=(e=Yn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function Fv(e,t){const n=fK("RouterLink"),r=ie(()=>!!(e.href||e.to)),a=ie(()=>(r==null?void 0:r.value)||I5(t,"click")||I5(e,"click"));if(typeof n=="string")return{isLink:r,isClickable:a,href:ze(e,"href")};const i=e.to?n.useLink(e):void 0,o=fOe();return{isLink:r,isClickable:a,route:i==null?void 0:i.route,navigate:i==null?void 0:i.navigate,isActive:i&&ie(()=>{var s,l,u;return e.exact?o.value?((u=i.isExactActive)==null?void 0:u.value)&&fs(i.route.value.query,o.value.query):(l=i.isExactActive)==null?void 0:l.value:(s=i.isActive)==null?void 0:s.value}),href:ie(()=>e.to?i==null?void 0:i.route.value.href:e.href)}}const Vv=Ie({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let qw=!1;function dOe(e,t){let n=!1,r,a;pn&&(Ht(()=>{window.addEventListener("popstate",i),r=e==null?void 0:e.beforeEach((o,s,l)=>{qw?n?t(l):l():setTimeout(()=>n?t(l):l()),qw=!0}),a=e==null?void 0:e.afterEach(()=>{qw=!1})}),ia(()=>{window.removeEventListener("popstate",i),r==null||r(),a==null||a()}));function i(o){var s;(s=o.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}function hOe(e,t){nt(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Ht(()=>{t(!0)})},{immediate:!0})}const oT=Symbol("rippleStop"),vOe=80;function s4(e,t){e.style.transform=t,e.style.webkitTransform=t}function sT(e){return e.constructor.name==="TouchEvent"}function iY(e){return e.constructor.name==="KeyboardEvent"}const pOe=function(e,t){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!iY(e)){const d=t.getBoundingClientRect(),h=sT(e)?e.touches[e.touches.length-1]:e;r=h.clientX-d.left,a=h.clientY-d.top}let i=0,o=.3;(f=t._ripple)!=null&&f.circle?(o=.15,i=t.clientWidth/2,i=n.center?i:i+Math.sqrt((r-i)**2+(a-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-i*2)/2}px`,l=`${(t.clientHeight-i*2)/2}px`,u=n.center?s:`${r-i}px`,c=n.center?l:`${a-i}px`;return{radius:i,scale:o,x:u,y:c,centerX:s,centerY:l}},Jm={show(e,t){var h;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:o,x:s,y:l,centerX:u,centerY:c}=pOe(e,t,n),f=`${i*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(r);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),s4(a,`translate(${s}, ${l}) scale3d(${o},${o},${o})`),a.dataset.activated=String(performance.now()),setTimeout(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),s4(a,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var i;if(!((i=e==null?void 0:e._ripple)!=null&&i.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===e&&e.removeChild(n.parentNode)},300)},a)}};function oY(e){return typeof e>"u"||!!e}function zh(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[oT])){if(e[oT]=!0,sT(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||iY(e),n._ripple.class&&(t.class=n._ripple.class),sT(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Jm.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},vOe)}else Jm.show(e,n,t)}}function l4(e){e[oT]=!0}function Ca(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Ca(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Jm.hide(t)}}function sY(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Uh=!1;function lY(e){!Uh&&(e.keyCode===M5.enter||e.keyCode===M5.space)&&(Uh=!0,zh(e))}function uY(e){Uh=!1,Ca(e)}function cY(e){Uh&&(Uh=!1,Ca(e))}function fY(e,t,n){const{value:r,modifiers:a}=t,i=oY(r);if(i||Jm.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=i,e._ripple.centered=a.center,e._ripple.circle=a.circle,Ym(r)&&r.class&&(e._ripple.class=r.class),i&&!n){if(a.stop){e.addEventListener("touchstart",l4,{passive:!0}),e.addEventListener("mousedown",l4);return}e.addEventListener("touchstart",zh,{passive:!0}),e.addEventListener("touchend",Ca,{passive:!0}),e.addEventListener("touchmove",sY,{passive:!0}),e.addEventListener("touchcancel",Ca),e.addEventListener("mousedown",zh),e.addEventListener("mouseup",Ca),e.addEventListener("mouseleave",Ca),e.addEventListener("keydown",lY),e.addEventListener("keyup",uY),e.addEventListener("blur",cY),e.addEventListener("dragstart",Ca,{passive:!0})}else!i&&n&&dY(e)}function dY(e){e.removeEventListener("mousedown",zh),e.removeEventListener("touchstart",zh),e.removeEventListener("touchend",Ca),e.removeEventListener("touchmove",sY),e.removeEventListener("touchcancel",Ca),e.removeEventListener("mouseup",Ca),e.removeEventListener("mouseleave",Ca),e.removeEventListener("keydown",lY),e.removeEventListener("keyup",uY),e.removeEventListener("dragstart",Ca),e.removeEventListener("blur",cY)}function gOe(e,t){fY(e,t,!1)}function mOe(e){delete e._ripple,dY(e)}function yOe(e,t){if(t.value===t.oldValue)return;const n=oY(t.oldValue);fY(e,t,n)}const vs={mounted:gOe,unmounted:mOe,updated:yOe},ER=Ie({active:{type:Boolean,default:void 0},symbol:{type:null,default:TR},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ot,appendIcon:Ot,block:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Na(),...ct(),...br(),...sa(),...fr(),...Bu(),...A0(),...xl(),...Zf(),...Mn(),...Vv(),...hs(),...kt({tag:"button"}),...Zt(),...ci({variant:"elevated"})},"VBtn"),vn=He()({name:"VBtn",directives:{Ripple:vs},props:ER(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=ln(e),{borderClasses:i}=ui(e),{colorClasses:o,colorStyles:s,variantClasses:l}=Nu(e),{densityClasses:u}=Xr(e),{dimensionStyles:c}=la(e),{elevationClasses:f}=Rr(e),{loaderClasses:d}=Bv(e),{locationStyles:h}=bl(e),{positionClasses:v}=Qf(e),{roundedClasses:m}=zn(e),{sizeClasses:p,sizeStyles:g}=Kf(e),y=Fu(e,e.symbol,!1),x=Fv(e,n),b=ie(()=>{var C;return e.active!==void 0?e.active:x.isLink.value?(C=x.isActive)==null?void 0:C.value:y==null?void 0:y.isSelected.value}),A=ie(()=>(y==null?void 0:y.disabled.value)||e.disabled),S=ie(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),_=ie(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function w(C){var M;A.value||x.isLink.value&&(C.metaKey||C.ctrlKey||C.shiftKey||C.button!==0||n.target==="_blank")||((M=x.navigate)==null||M.call(x,C),y==null||y.toggle())}return hOe(x,y==null?void 0:y.select),Ge(()=>{var R,I;const C=x.isLink.value?"a":e.tag,M=!!(e.prependIcon||r.prepend),T=!!(e.appendIcon||r.append),E=!!(e.icon&&e.icon!==!0),P=(y==null?void 0:y.isSelected.value)&&(!x.isLink.value||((R=x.isActive)==null?void 0:R.value))||!y||((I=x.isActive)==null?void 0:I.value);return _n(W(C,{type:C==="a"?void 0:"button",class:["v-btn",y==null?void 0:y.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":e.block,"v-btn--disabled":A.value,"v-btn--elevated":S.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},a.value,i.value,P?o.value:void 0,u.value,f.value,d.value,v.value,m.value,p.value,l.value,e.class],style:[P?s.value:void 0,c.value,h.value,g.value,e.style],disabled:A.value||void 0,href:x.href.value,onClick:w,value:_.value},{default:()=>{var D;return[Ou(!0,"v-btn"),!e.icon&&M&&W("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?W(Kt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):W(sn,{key:"prepend-icon",icon:e.prependIcon},null)]),W("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&E?W(sn,{key:"content-icon",icon:e.icon},null):W(Kt,{key:"content-defaults",disabled:!E,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var B;return[((B=r.default)==null?void 0:B.call(r))??e.text]}})]),!e.icon&&T&&W("span",{key:"append",class:"v-btn__append"},[r.append?W(Kt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):W(sn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&W("span",{key:"loader",class:"v-btn__loader"},[((D=r.loader)==null?void 0:D.call(r))??W(Sf,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[pa("ripple"),!A.value&&e.ripple,null]])}),{group:y}}}),xOe=Ie({...ER({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),bOe=He()({name:"VAppBarNavIcon",props:xOe(),setup(e,t){let{slots:n}=t;return Ge(()=>W(vn,je(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),SOe=He()({name:"VAppBarTitle",props:q7(),setup(e,t){let{slots:n}=t;return Ge(()=>W(_R,je(e,{class:"v-app-bar-title"}),n)),{}}}),hY=La("v-alert-title"),_Oe=["success","info","warning","error"],AOe=Ie({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ot,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>_Oe.includes(e)},...ct(),...br(),...sa(),...fr(),...xl(),...Zf(),...Mn(),...kt(),...Zt(),...ci({variant:"flat"})},"VAlert"),wOe=He()({name:"VAlert",props:AOe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=yt(e,"modelValue"),i=ie(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=ie(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:s}=ln(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Nu(o),{densityClasses:f}=Xr(e),{dimensionStyles:d}=la(e),{elevationClasses:h}=Rr(e),{locationStyles:v}=bl(e),{positionClasses:m}=Qf(e),{roundedClasses:p}=zn(e),{textColorClasses:g,textColorStyles:y}=Wr(ze(e,"borderColor")),{t:x}=er(),b=ie(()=>({"aria-label":x(e.closeLabel),onClick(A){a.value=!1,n("click:close",A)}}));return()=>{const A=!!(r.prepend||i.value),S=!!(r.title||e.title),_=!!(r.close||e.closable);return a.value&&W(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},s.value,l.value,f.value,h.value,m.value,p.value,c.value,e.class],style:[u.value,d.value,v.value,e.style],role:"alert"},{default:()=>{var w,C;return[Ou(!1,"v-alert"),e.border&&W("div",{key:"border",class:["v-alert__border",g.value],style:y.value},null),A&&W("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?W(Kt,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},r.prepend):W(sn,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),W("div",{class:"v-alert__content"},[S&&W(hY,{key:"title"},{default:()=>{var M;return[((M=r.title)==null?void 0:M.call(r))??e.title]}}),((w=r.text)==null?void 0:w.call(r))??e.text,(C=r.default)==null?void 0:C.call(r)]),r.append&&W("div",{key:"append",class:"v-alert__append"},[r.append()]),_&&W("div",{key:"close",class:"v-alert__close"},[r.close?W(Kt,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var M;return[(M=r.close)==null?void 0:M.call(r,{props:b.value})]}}):W(vn,je({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},b.value),null)])]}})}}}),COe=Ie({start:Boolean,end:Boolean,icon:Ot,image:String,text:String,...ct(),...br(),...Mn(),...hs(),...kt(),...Zt(),...ci({variant:"flat"})},"VAvatar"),ii=He()({name:"VAvatar",props:COe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{colorClasses:a,colorStyles:i,variantClasses:o}=Nu(e),{densityClasses:s}=Xr(e),{roundedClasses:l}=zn(e),{sizeClasses:u,sizeStyles:c}=Kf(e);return Ge(()=>W(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,a.value,s.value,l.value,u.value,o.value,e.class],style:[i.value,c.value,e.style]},{default:()=>{var f;return[e.image?W(du,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?W(sn,{key:"icon",icon:e.icon},null):((f=n.default)==null?void 0:f.call(n))??e.text,Ou(!1,"v-avatar")]}})),{}}}),MOe=Ie({text:String,clickable:Boolean,...ct(),...Zt()},"VLabel"),Jf=He()({name:"VLabel",props:MOe(),setup(e,t){let{slots:n}=t;return Ge(()=>{var r;return W("label",{class:["v-label",{"v-label--clickable":e.clickable},e.class],style:e.style},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),vY=Symbol.for("vuetify:selection-control-group"),PR=Ie({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ot,trueIcon:Ot,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:fs},...ct(),...br(),...Zt()},"SelectionControlGroup"),TOe=Ie({...PR({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),pY=He()({name:"VSelectionControlGroup",props:TOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),a=Yr(),i=ie(()=>e.id||`v-selection-control-group-${a}`),o=ie(()=>e.name||i.value),s=new Set;return cn(vY,{modelValue:r,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),ia(()=>{s.delete(l)})}}),Rn({[e.defaultsTarget]:{color:ze(e,"color"),disabled:ze(e,"disabled"),density:ze(e,"density"),error:ze(e,"error"),inline:ze(e,"inline"),modelValue:r,multiple:ie(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:ze(e,"falseIcon"),trueIcon:ze(e,"trueIcon"),readonly:ze(e,"readonly"),ripple:ze(e,"ripple"),type:ze(e,"type"),valueComparator:ze(e,"valueComparator")}}),Ge(()=>{var l;return W("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),C0=Ie({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...ct(),...PR()},"VSelectionControl");function EOe(e){const t=Vt(vY,void 0),{densityClasses:n}=Xr(e),r=yt(e,"modelValue"),a=ie(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=ie(()=>e.falseValue!==void 0?e.falseValue:!1),o=ie(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),s=ie({get(){const h=t?t.modelValue.value:r.value;return o.value?Wn(h).some(v=>e.valueComparator(v,a.value)):e.valueComparator(h,a.value)},set(h){if(e.readonly)return;const v=h?a.value:i.value;let m=v;o.value&&(m=h?[...Wn(r.value),v]:Wn(r.value).filter(p=>!e.valueComparator(p,a.value))),t?t.modelValue.value=m:r.value=m}}),{textColorClasses:l,textColorStyles:u}=Wr(ie(()=>{if(!(e.error||e.disabled))return s.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:f}=mn(ie(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),d=ie(()=>s.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:a,falseValue:i,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:f,icon:d}}const hu=He()({name:"VSelectionControl",directives:{Ripple:vs},inheritAttrs:!1,props:C0(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:a,densityClasses:i,icon:o,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:f,trueValue:d}=EOe(e),h=Yr(),v=it(!1),m=it(!1),p=Oe(),g=ie(()=>e.id||`input-${h}`),y=ie(()=>!e.disabled&&!e.readonly);a==null||a.onForceUpdate(()=>{p.value&&(p.value.checked=s.value)});function x(S){y.value&&(v.value=!0,yf(S.target,":focus-visible")!==!1&&(m.value=!0))}function b(){v.value=!1,m.value=!1}function A(S){y.value&&(e.readonly&&a&&Ht(()=>a.forceUpdate()),s.value=S.target.checked)}return Ge(()=>{var M,T;const S=r.label?r.label({label:e.label,props:{for:g.value}}):e.label,[_,w]=ml(n),C=W("input",je({ref:p,checked:s.value,disabled:!!e.disabled,id:g.value,onBlur:b,onFocus:x,onInput:A,"aria-disabled":!!e.disabled,type:e.type,value:d.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},w),null);return W("div",je({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":v.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":e.inline},i.value,e.class]},_,{style:e.style}),[W("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(M=r.default)==null?void 0:M.call(r,{backgroundColorClasses:c,backgroundColorStyles:f}),_n(W("div",{class:["v-selection-control__input"]},[((T=r.input)==null?void 0:T.call(r,{model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:f,inputNode:C,icon:o.value,props:{onFocus:x,onBlur:b,id:g.value}}))??W(tt,null,[o.value&&W(sn,{key:"icon",icon:o.value},null),C])]),[[pa("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),S&&W(Jf,{for:g.value,clickable:!0,onClick:E=>E.stopPropagation()},{default:()=>[S]})])}),{isFocused:v,input:p}}}),gY=Ie({indeterminate:Boolean,indeterminateIcon:{type:Ot,default:"$checkboxIndeterminate"},...C0({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),is=He()({name:"VCheckboxBtn",props:gY(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"indeterminate"),a=yt(e,"modelValue");function i(l){r.value&&(r.value=!1)}const o=ie(()=>r.value?e.indeterminateIcon:e.falseIcon),s=ie(()=>r.value?e.indeterminateIcon:e.trueIcon);return Ge(()=>{const l=gr(hu.filterProps(e),["modelValue"]);return W(hu,je(l,{modelValue:a.value,"onUpdate:modelValue":[u=>a.value=u,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function mY(e){const{t}=er();function n(r){let{name:a}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],o=e[`onClick:${a}`],s=o&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return W(sn,{icon:e[`${a}Icon`],"aria-label":s,onClick:o},null)}return{InputIcon:n}}const POe=Ie({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...ct(),...ds({transition:{component:wR,leaveAbsolute:!0,group:!0}})},"VMessages"),yY=He()({name:"VMessages",props:POe(),setup(e,t){let{slots:n}=t;const r=ie(()=>Wn(e.messages)),{textColorClasses:a,textColorStyles:i}=Wr(ie(()=>e.color));return Ge(()=>W(Qa,{transition:e.transition,tag:"div",class:["v-messages",a.value,e.class],style:[i.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((o,s)=>W("div",{class:"v-messages__message",key:`${s}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),zv=Ie({focused:Boolean,"onUpdate:focused":da()},"focus");function ps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo();const n=yt(e,"focused"),r=ie(()=>({[`${t}--focused`]:n.value}));function a(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:a,blur:i}}const xY=Symbol.for("vuetify:form"),ROe=Ie({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function IOe(e){const t=yt(e,"modelValue"),n=ie(()=>e.disabled),r=ie(()=>e.readonly),a=it(!1),i=Oe([]),o=Oe([]);async function s(){const c=[];let f=!0;o.value=[],a.value=!0;for(const d of i.value){const h=await d.validate();if(h.length>0&&(f=!1,c.push({id:d.id,errorMessages:h})),!f&&e.fastFail)break}return o.value=c,a.value=!1,{valid:f,errors:o.value}}function l(){i.value.forEach(c=>c.reset())}function u(){i.value.forEach(c=>c.resetValidation())}return nt(i,()=>{let c=0,f=0;const d=[];for(const h of i.value)h.isValid===!1?(f++,d.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;o.value=d,t.value=f>0?!1:c===i.value.length?!0:null},{deep:!0}),cn(xY,{register:c=>{let{id:f,validate:d,reset:h,resetValidation:v}=c;i.value.some(m=>m.id===f),i.value.push({id:f,validate:d,reset:h,resetValidation:v,isValid:null,errorMessages:[]})},unregister:c=>{i.value=i.value.filter(f=>f.id!==c)},update:(c,f,d)=>{const h=i.value.find(v=>v.id===c);h&&(h.isValid=f,h.errorMessages=d)},isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validateOn:ze(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:i,validate:s,reset:l,resetValidation:u}}function M0(){return Vt(xY,null)}const bY=Ie({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...zv()},"validation");function SY(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wo(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yr();const r=yt(e,"modelValue"),a=ie(()=>e.validationValue===void 0?r.value:e.validationValue),i=M0(),o=Oe([]),s=it(!0),l=ie(()=>!!(Wn(r.value===""?null:r.value).length||Wn(a.value===""?null:a.value).length)),u=ie(()=>!!(e.disabled??(i==null?void 0:i.isDisabled.value))),c=ie(()=>!!(e.readonly??(i==null?void 0:i.isReadonly.value))),f=ie(()=>{var b;return(b=e.errorMessages)!=null&&b.length?Wn(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),d=ie(()=>{let b=(e.validateOn??(i==null?void 0:i.validateOn.value))||"input";b==="lazy"&&(b="input lazy");const A=new Set((b==null?void 0:b.split(" "))??[]);return{blur:A.has("blur")||A.has("input"),input:A.has("input"),submit:A.has("submit"),lazy:A.has("lazy")}}),h=ie(()=>{var b;return e.error||(b=e.errorMessages)!=null&&b.length?!1:e.rules.length?s.value?o.value.length||d.value.lazy?null:!0:!o.value.length:!0}),v=it(!1),m=ie(()=>({[`${t}--error`]:h.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),p=ie(()=>e.name??ft(n));cy(()=>{i==null||i.register({id:p.value,validate:x,reset:g,resetValidation:y})}),Er(()=>{i==null||i.unregister(p.value)}),gn(async()=>{d.value.lazy||await x(!0),i==null||i.update(p.value,h.value,f.value)}),Ei(()=>d.value.input,()=>{nt(a,()=>{if(a.value!=null)x();else if(e.focused){const b=nt(()=>e.focused,A=>{A||x(),b()})}})}),Ei(()=>d.value.blur,()=>{nt(()=>e.focused,b=>{b||x()})}),nt(h,()=>{i==null||i.update(p.value,h.value,f.value)});function g(){r.value=null,Ht(y)}function y(){s.value=!0,d.value.lazy?o.value=[]:x(!0)}async function x(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const A=[];v.value=!0;for(const S of e.rules){if(A.length>=+(e.maxErrors??1))break;const w=await(typeof S=="function"?S:()=>S)(a.value);if(w!==!0){if(w!==!1&&typeof w!="string"){console.warn(`${w} is not a valid value. Rule functions must return boolean true or a string.`);continue}A.push(w||"")}}return o.value=A,v.value=!1,s.value=b,o.value}return{errorMessages:f,isDirty:l,isDisabled:u,isReadonly:c,isPristine:s,isValid:h,isValidating:v,reset:g,resetValidation:y,validate:x,validationClasses:m}}const gs=Ie({id:String,appendIcon:Ot,centerAffix:{type:Boolean,default:!0},prependIcon:Ot,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":da(),"onClick:append":da(),...ct(),...br(),...bY()},"VInput"),kr=He()({name:"VInput",props:{...gs()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const{densityClasses:i}=Xr(e),{rtlClasses:o}=Pr(),{InputIcon:s}=mY(e),l=Yr(),u=ie(()=>e.id||`input-${l}`),c=ie(()=>`${u.value}-messages`),{errorMessages:f,isDirty:d,isDisabled:h,isReadonly:v,isPristine:m,isValid:p,isValidating:g,reset:y,resetValidation:x,validate:b,validationClasses:A}=SY(e,"v-input",u),S=ie(()=>({id:u,messagesId:c,isDirty:d,isDisabled:h,isReadonly:v,isPristine:m,isValid:p,isValidating:g,reset:y,resetValidation:x,validate:b})),_=ie(()=>{var w;return(w=e.errorMessages)!=null&&w.length||!m.value&&f.value.length?f.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Ge(()=>{var E,P,R,I;const w=!!(r.prepend||e.prependIcon),C=!!(r.append||e.appendIcon),M=_.value.length>0,T=!e.hideDetails||e.hideDetails==="auto"&&(M||!!r.details);return W("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},i.value,o.value,A.value,e.class],style:e.style},[w&&W("div",{key:"prepend",class:"v-input__prepend"},[(E=r.prepend)==null?void 0:E.call(r,S.value),e.prependIcon&&W(s,{key:"prepend-icon",name:"prepend"},null)]),r.default&&W("div",{class:"v-input__control"},[(P=r.default)==null?void 0:P.call(r,S.value)]),C&&W("div",{key:"append",class:"v-input__append"},[e.appendIcon&&W(s,{key:"append-icon",name:"append"},null),(R=r.append)==null?void 0:R.call(r,S.value)]),T&&W("div",{class:"v-input__details"},[W(yY,{id:c.value,active:M,messages:_.value},{message:r.message}),(I=r.details)==null?void 0:I.call(r,S.value)])])}),{reset:y,resetValidation:x,validate:b,isValid:p,errorMessages:f}}}),DOe=Ie({...gs(),...gr(gY(),["inline"])},"VCheckbox"),LOe=He()({name:"VCheckbox",inheritAttrs:!1,props:DOe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=yt(e,"modelValue"),{isFocused:i,focus:o,blur:s}=ps(e),l=Yr(),u=ie(()=>e.id||`checkbox-${l}`);return Ge(()=>{const[c,f]=ml(n),d=kr.filterProps(e),h=is.filterProps(e);return W(kr,je({class:["v-checkbox",e.class]},c,d,{modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,id:u.value,focused:i.value,style:e.style}),{...r,default:v=>{let{id:m,messagesId:p,isDisabled:g,isReadonly:y}=v;return W(is,je(h,{id:m.value,"aria-describedby":p.value,disabled:g.value,readonly:y.value},f,{modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,onFocus:o,onBlur:s}),r)}})}),{}}});function u4(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function c4(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:a,currentScrollOffset:i,isHorizontal:o}=e;const s=o?t.clientWidth:t.clientHeight,l=o?t.offsetLeft:t.offsetTop,u=a&&o?r-l-s:l,c=n+i,f=s+u,d=s*.4;return u<=i?i=Math.max(u-d,0):c<=f&&(i=Math.min(i-(c-f-d),r-n)),i}function OOe(e){let{selectedElement:t,containerSize:n,contentSize:r,isRtl:a,isHorizontal:i}=e;const o=i?t.clientWidth:t.clientHeight,s=i?t.offsetLeft:t.offsetTop,l=a&&i?r-s-o/2-n/2:s+o/2-n/2;return Math.min(r-n,Math.max(0,l))}const _Y=Symbol.for("vuetify:v-slide-group"),RR=Ie({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:_Y},nextIcon:{type:Ot,default:"$next"},prevIcon:{type:Ot,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ct(),...xR(),...kt(),...ku({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Hh=He()({name:"VSlideGroup",props:RR(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Pr(),{displayClasses:a,mobile:i}=Du(e),o=yl(e,e.symbol),s=it(!1),l=it(0),u=it(0),c=it(0),f=ie(()=>e.direction==="horizontal"),{resizeRef:d,contentRect:h}=fo(),{resizeRef:v,contentRect:m}=fo(),p=ie(()=>o.selected.value.length?o.items.value.findIndex(N=>N.id===o.selected.value[0]):-1),g=ie(()=>o.selected.value.length?o.items.value.findIndex(N=>N.id===o.selected.value[o.selected.value.length-1]):-1);if(pn){let N=-1;nt(()=>[o.selected.value,h.value,m.value,f.value],()=>{cancelAnimationFrame(N),N=requestAnimationFrame(()=>{if(h.value&&m.value){const U=f.value?"width":"height";u.value=h.value[U],c.value=m.value[U],s.value=u.value+1<c.value}if(p.value>=0&&v.value){const U=v.value.children[g.value];p.value===0||!s.value?l.value=0:e.centerActive?l.value=OOe({selectedElement:U,containerSize:u.value,contentSize:c.value,isRtl:r.value,isHorizontal:f.value}):s.value&&(l.value=c4({selectedElement:U,containerSize:u.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:l.value,isHorizontal:f.value}))}})})}const y=it(!1);let x=0,b=0;function A(N){const U=f.value?"clientX":"clientY";b=(r.value&&f.value?-1:1)*l.value,x=N.touches[0][U],y.value=!0}function S(N){if(!s.value)return;const U=f.value?"clientX":"clientY",$=r.value&&f.value?-1:1;l.value=$*(b+x-N.touches[0][U])}function _(N){const U=c.value-u.value;l.value<0||!s.value?l.value=0:l.value>=U&&(l.value=U),y.value=!1}function w(){d.value&&(d.value[f.value?"scrollLeft":"scrollTop"]=0)}const C=it(!1);function M(N){if(C.value=!0,!(!s.value||!v.value)){for(const U of N.composedPath())for(const $ of v.value.children)if($===U){l.value=c4({selectedElement:$,containerSize:u.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:l.value,isHorizontal:f.value});return}}}function T(N){C.value=!1}function E(N){var U;!C.value&&!(N.relatedTarget&&((U=v.value)!=null&&U.contains(N.relatedTarget)))&&R()}function P(N){v.value&&(f.value?N.key==="ArrowRight"?R(r.value?"prev":"next"):N.key==="ArrowLeft"&&R(r.value?"next":"prev"):N.key==="ArrowDown"?R("next"):N.key==="ArrowUp"&&R("prev"),N.key==="Home"?R("first"):N.key==="End"&&R("last"))}function R(N){var U,$,k,V,L;if(v.value)if(!N)(U=Bh(v.value)[0])==null||U.focus();else if(N==="next"){const O=($=v.value.querySelector(":focus"))==null?void 0:$.nextElementSibling;O?O.focus():R("first")}else if(N==="prev"){const O=(k=v.value.querySelector(":focus"))==null?void 0:k.previousElementSibling;O?O.focus():R("last")}else N==="first"?(V=v.value.firstElementChild)==null||V.focus():N==="last"&&((L=v.value.lastElementChild)==null||L.focus())}function I(N){const U=l.value+(N==="prev"?-1:1)*u.value;l.value=ar(U,0,c.value-u.value)}const D=ie(()=>{let N=l.value>c.value-u.value?-(c.value-u.value)+u4(c.value-u.value-l.value):-l.value;l.value<=0&&(N=u4(-l.value));const U=r.value&&f.value?-1:1;return{transform:`translate${f.value?"X":"Y"}(${U*N}px)`,transition:y.value?"none":"",willChange:y.value?"transform":""}}),B=ie(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),F=ie(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return s.value||Math.abs(l.value)>0;case"mobile":return i.value||s.value||Math.abs(l.value)>0;default:return!i.value&&(s.value||Math.abs(l.value)>0)}}),G=ie(()=>Math.abs(l.value)>0),z=ie(()=>c.value>Math.abs(l.value)+u.value);return Ge(()=>W(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":F.value,"v-slide-group--is-overflowing":s.value},a.value,e.class],style:e.style,tabindex:C.value||o.selected.value.length?-1:0,onFocus:E},{default:()=>{var N,U,$;return[F.value&&W("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!G.value}],onClick:()=>G.value&&I("prev")},[((N=n.prev)==null?void 0:N.call(n,B.value))??W(Qm,null,{default:()=>[W(sn,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),W("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:w},[W("div",{ref:v,class:"v-slide-group__content",style:D.value,onTouchstartPassive:A,onTouchmovePassive:S,onTouchendPassive:_,onFocusin:M,onFocusout:T,onKeydown:P},[(U=n.default)==null?void 0:U.call(n,B.value)])]),F.value&&W("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!z.value}],onClick:()=>z.value&&I("next")},[(($=n.next)==null?void 0:$.call(n,B.value))??W(Qm,null,{default:()=>[W(sn,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:I,scrollOffset:l,focus:R}}}),AY=Symbol.for("vuetify:v-chip-group"),NOe=Ie({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:fs},...RR(),...ct(),...ku({selectedClass:"v-chip--selected"}),...kt(),...Zt(),...ci({variant:"tonal"})},"VChipGroup"),kOe=He()({name:"VChipGroup",props:NOe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=yl(e,AY);return Rn({VChip:{color:ze(e,"color"),disabled:ze(e,"disabled"),filter:ze(e,"filter"),variant:ze(e,"variant")}}),Ge(()=>{const u=Hh.filterProps(e);return W(Hh,je(u,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})}),{}}}),BOe=Ie({activeClass:String,appendAvatar:String,appendIcon:Ot,closable:Boolean,closeIcon:{type:Ot,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ot,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:da(),onClickOnce:da(),...Na(),...ct(),...br(),...fr(),...Bu(),...Mn(),...Vv(),...hs(),...kt({tag:"span"}),...Zt(),...ci({variant:"tonal"})},"VChip"),Uv=He()({name:"VChip",directives:{Ripple:vs},props:BOe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:i}=er(),{borderClasses:o}=ui(e),{colorClasses:s,colorStyles:l,variantClasses:u}=Nu(e),{densityClasses:c}=Xr(e),{elevationClasses:f}=Rr(e),{roundedClasses:d}=zn(e),{sizeClasses:h}=Kf(e),{themeClasses:v}=ln(e),m=yt(e,"modelValue"),p=Fu(e,AY,!1),g=Fv(e,n),y=ie(()=>e.link!==!1&&g.isLink.value),x=ie(()=>!e.disabled&&e.link!==!1&&(!!p||e.link||g.isClickable.value)),b=ie(()=>({"aria-label":i(e.closeLabel),onClick(_){_.stopPropagation(),m.value=!1,r("click:close",_)}}));function A(_){var w;r("click",_),x.value&&((w=g.navigate)==null||w.call(g,_),p==null||p.toggle())}function S(_){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),A(_))}return()=>{const _=g.isLink.value?"a":e.tag,w=!!(e.appendIcon||e.appendAvatar),C=!!(w||a.append),M=!!(a.close||e.closable),T=!!(a.filter||e.filter)&&p,E=!!(e.prependIcon||e.prependAvatar),P=!!(E||a.prepend),R=!p||p.isSelected.value;return m.value&&_n(W(_,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":x.value,"v-chip--filter":T,"v-chip--pill":e.pill},v.value,o.value,R?s.value:void 0,c.value,f.value,d.value,h.value,u.value,p==null?void 0:p.selectedClass.value,e.class],style:[R?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:g.href.value,tabindex:x.value?0:void 0,onClick:A,onKeydown:x.value&&!y.value&&S},{default:()=>{var I;return[Ou(x.value,"v-chip"),T&&W(CR,{key:"filter"},{default:()=>[_n(W("div",{class:"v-chip__filter"},[a.filter?W(Kt,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):W(sn,{key:"filter-icon",icon:e.filterIcon},null)]),[[Ta,p.isSelected.value]])]}),P&&W("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?W(Kt,{key:"prepend-defaults",disabled:!E,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):W(tt,null,[e.prependIcon&&W(sn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&W(ii,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),W("div",{class:"v-chip__content"},[((I=a.default)==null?void 0:I.call(a,{isSelected:p==null?void 0:p.isSelected.value,selectedClass:p==null?void 0:p.selectedClass.value,select:p==null?void 0:p.select,toggle:p==null?void 0:p.toggle,value:p==null?void 0:p.value.value,disabled:e.disabled}))??e.text]),C&&W("div",{key:"append",class:"v-chip__append"},[a.append?W(Kt,{key:"append-defaults",disabled:!w,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):W(tt,null,[e.appendIcon&&W(sn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&W(ii,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),M&&W("button",je({key:"close",class:"v-chip__close",type:"button"},b.value),[a.close?W(Kt,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):W(sn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[pa("ripple"),x.value&&e.ripple,null]])}}}),lT=Symbol.for("vuetify:list");function wY(){const e=Vt(lT,{hasPrepend:it(!1),updateHasPrepend:()=>null}),t={hasPrepend:it(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return cn(lT,t),e}function CY(){return Vt(lT,null)}const FOe={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){const i=new Set;i.add(t);let o=a.get(t);for(;o!=null;)i.add(o),o=a.get(o);return i}else return r.delete(t),r},select:()=>null},MY={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){let i=a.get(t);for(r.add(t);i!=null&&i!==t;)r.add(i),i=a.get(i);return r}else r.delete(t);return r},select:()=>null},VOe={open:MY.open,select:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(!n)return r;const i=[];let o=a.get(t);for(;o!=null;)i.push(o),o=a.get(o);return new Set(i)}},IR=e=>{const t={select:n=>{let{id:r,value:a,selected:i}=n;if(r=zt(r),e&&!a){const o=Array.from(i.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"?[...s,u]:s},[]);if(o.length===1&&o[0]===r)return i}return i.set(r,a?"on":"off"),i},in:(n,r,a)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:a});return i},out:n=>{const r=[];for(const[a,i]of n.entries())i==="on"&&r.push(a);return r}};return t},TY=e=>{const t=IR(e);return{select:r=>{let{selected:a,id:i,...o}=r;i=zt(i);const s=a.has(i)?new Map([[i,a.get(i)]]):new Map;return t.select({...o,id:i,selected:s})},in:(r,a,i)=>{let o=new Map;return r!=null&&r.length&&(o=t.in(r.slice(0,1),a,i)),o},out:(r,a,i)=>t.out(r,a,i)}},zOe=e=>{const t=IR(e);return{select:r=>{let{id:a,selected:i,children:o,...s}=r;return a=zt(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},UOe=e=>{const t=TY(e);return{select:r=>{let{id:a,selected:i,children:o,...s}=r;return a=zt(a),o.has(a)?i:t.select({id:a,selected:i,children:o,...s})},in:t.in,out:t.out}},HOe=e=>{const t={select:n=>{let{id:r,value:a,selected:i,children:o,parents:s}=n;r=zt(r);const l=new Map(i),u=[r];for(;u.length;){const f=u.shift();i.set(f,a?"on":"off"),o.has(f)&&u.push(...o.get(f))}let c=s.get(r);for(;c;){const f=o.get(c),d=f.every(v=>i.get(v)==="on"),h=f.every(v=>!i.has(v)||i.get(v)==="off");i.set(c,d?"on":h?"off":"indeterminate"),c=s.get(c)}return e&&!a&&Array.from(i.entries()).reduce((d,h)=>{let[v,m]=h;return m==="on"?[...d,v]:d},[]).length===0?l:i},in:(n,r,a)=>{let i=new Map;for(const o of n||[])i=t.select({id:o,value:!0,selected:new Map(i),children:r,parents:a});return i},out:(n,r)=>{const a=[];for(const[i,o]of n.entries())o==="on"&&!r.has(i)&&a.push(i);return a}};return t},$h=Symbol.for("vuetify:nested"),EY={id:it(),root:{register:()=>null,unregister:()=>null,parents:Oe(new Map),children:Oe(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Oe(new Set),selected:Oe(new Map),selectedValues:Oe([])}},$Oe=Ie({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),GOe=e=>{let t=!1;const n=Oe(new Map),r=Oe(new Map),a=yt(e,"opened",e.opened,f=>new Set(f),f=>[...f.values()]),i=ie(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return UOe(e.mandatory);case"leaf":return zOe(e.mandatory);case"independent":return IR(e.mandatory);case"single-independent":return TY(e.mandatory);case"classic":default:return HOe(e.mandatory)}}),o=ie(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return VOe;case"single":return FOe;case"multiple":default:return MY}}),s=yt(e,"selected",e.selected,f=>i.value.in(f,n.value,r.value),f=>i.value.out(f,n.value,r.value));Er(()=>{t=!0});function l(f){const d=[];let h=f;for(;h!=null;)d.unshift(h),h=r.value.get(h);return d}const u=Yn("nested"),c={id:it(),root:{opened:a,selected:s,selectedValues:ie(()=>{const f=[];for(const[d,h]of s.value.entries())h==="on"&&f.push(d);return f}),register:(f,d,h)=>{d&&f!==d&&r.value.set(f,d),h&&n.value.set(f,[]),d!=null&&n.value.set(d,[...n.value.get(d)||[],f])},unregister:f=>{if(t)return;n.value.delete(f);const d=r.value.get(f);if(d){const h=n.value.get(d)??[];n.value.set(d,h.filter(v=>v!==f))}r.value.delete(f),a.value.delete(f)},open:(f,d,h)=>{u.emit("click:open",{id:f,value:d,path:l(f),event:h});const v=o.value.open({id:f,value:d,opened:new Set(a.value),children:n.value,parents:r.value,event:h});v&&(a.value=v)},openOnSelect:(f,d,h)=>{const v=o.value.select({id:f,value:d,selected:new Map(s.value),opened:new Set(a.value),children:n.value,parents:r.value,event:h});v&&(a.value=v)},select:(f,d,h)=>{u.emit("click:select",{id:f,value:d,path:l(f),event:h});const v=i.value.select({id:f,value:d,selected:new Map(s.value),children:n.value,parents:r.value,event:h});v&&(s.value=v),c.root.openOnSelect(f,d,h)},children:n,parents:r}};return cn($h,c),c.root},PY=(e,t)=>{const n=Vt($h,EY),r=Symbol(Yr()),a=ie(()=>e.value!==void 0?e.value:r),i={...n,id:a,open:(o,s)=>n.root.open(a.value,o,s),openOnSelect:(o,s)=>n.root.openOnSelect(a.value,o,s),isOpen:ie(()=>n.root.opened.value.has(a.value)),parent:ie(()=>n.root.parents.value.get(a.value)),select:(o,s)=>n.root.select(a.value,o,s),isSelected:ie(()=>n.root.selected.value.get(zt(a.value))==="on"),isIndeterminate:ie(()=>n.root.selected.value.get(a.value)==="indeterminate"),isLeaf:ie(()=>!n.root.children.value.get(a.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(a.value,n.id.value,t),Er(()=>{!n.isGroupActivator&&n.root.unregister(a.value)}),t&&cn($h,i),i},WOe=()=>{const e=Vt($h,EY);cn($h,{...e,isGroupActivator:!0})},jOe=Da({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return WOe(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),YOe=Ie({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ot,default:"$collapse"},expandIcon:{type:Ot,default:"$expand"},prependIcon:Ot,appendIcon:Ot,fluid:Boolean,subgroup:Boolean,title:String,value:null,...ct(),...kt()},"VListGroup"),uT=He()({name:"VListGroup",props:YOe(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:a,id:i}=PY(ze(e,"value"),!0),o=ie(()=>`v-list-group--id-${String(i.value)}`),s=CY(),{isBooted:l}=Lu();function u(h){a(!r.value,h)}const c=ie(()=>({onClick:u,class:"v-list-group__header",id:o.value})),f=ie(()=>r.value?e.collapseIcon:e.expandIcon),d=ie(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return Ge(()=>W(e.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&W(Kt,{defaults:d.value},{default:()=>[W(jOe,null,{default:()=>[n.activator({props:c.value,isOpen:r.value})]})]}),W(Qa,{transition:{component:b0},disabled:!l.value},{default:()=>{var h;return[_n(W("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(h=n.default)==null?void 0:h.call(n)]),[[Ta,r.value]])]}})]})),{}}}),RY=La("v-list-item-subtitle"),IY=La("v-list-item-title"),XOe=Ie({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ot,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ot,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:da(),onClickOnce:da(),...Na(),...ct(),...br(),...sa(),...fr(),...Mn(),...Vv(),...kt(),...Zt(),...ci({variant:"text"})},"VListItem"),os=He()({name:"VListItem",directives:{Ripple:vs},props:XOe(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const i=Fv(e,n),o=ie(()=>e.value===void 0?i.href.value:e.value),{select:s,isSelected:l,isIndeterminate:u,isGroupActivator:c,root:f,parent:d,openOnSelect:h}=PY(o,!1),v=CY(),m=ie(()=>{var F;return e.active!==!1&&(e.active||((F=i.isActive)==null?void 0:F.value)||l.value)}),p=ie(()=>e.link!==!1&&i.isLink.value),g=ie(()=>!e.disabled&&e.link!==!1&&(e.link||i.isClickable.value||e.value!=null&&!!v)),y=ie(()=>e.rounded||e.nav),x=ie(()=>e.color??e.activeColor),b=ie(()=>({color:m.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));nt(()=>{var F;return(F=i.isActive)==null?void 0:F.value},F=>{F&&d.value!=null&&f.open(d.value,!0),F&&h(F)},{immediate:!0});const{themeClasses:A}=ln(e),{borderClasses:S}=ui(e),{colorClasses:_,colorStyles:w,variantClasses:C}=Nu(b),{densityClasses:M}=Xr(e),{dimensionStyles:T}=la(e),{elevationClasses:E}=Rr(e),{roundedClasses:P}=zn(y),R=ie(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),I=ie(()=>({isActive:m.value,select:s,isSelected:l.value,isIndeterminate:u.value}));function D(F){var G;a("click",F),!(c||!g.value)&&((G=i.navigate)==null||G.call(i,F),e.value!=null&&s(!l.value,F))}function B(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),D(F))}return Ge(()=>{const F=p.value?"a":e.tag,G=r.title||e.title!=null,z=r.subtitle||e.subtitle!=null,N=!!(e.appendAvatar||e.appendIcon),U=!!(N||r.append),$=!!(e.prependAvatar||e.prependIcon),k=!!($||r.prepend);return v==null||v.updateHasPrepend(k),e.activeColor&&a2e("active-color",["color","base-color"]),_n(W(F,{class:["v-list-item",{"v-list-item--active":m.value,"v-list-item--disabled":e.disabled,"v-list-item--link":g.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!k&&(v==null?void 0:v.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&m.value},A.value,S.value,_.value,M.value,E.value,R.value,P.value,C.value,e.class],style:[w.value,T.value,e.style],href:i.href.value,tabindex:g.value?v?-2:0:void 0,onClick:D,onKeydown:g.value&&!p.value&&B},{default:()=>{var V;return[Ou(g.value||m.value,"v-list-item"),k&&W("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?W(Kt,{key:"prepend-defaults",disabled:!$,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var L;return[(L=r.prepend)==null?void 0:L.call(r,I.value)]}}):W(tt,null,[e.prependAvatar&&W(ii,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&W(sn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),W("div",{class:"v-list-item__spacer"},null)]),W("div",{class:"v-list-item__content","data-no-activator":""},[G&&W(IY,{key:"title"},{default:()=>{var L;return[((L=r.title)==null?void 0:L.call(r,{title:e.title}))??e.title]}}),z&&W(RY,{key:"subtitle"},{default:()=>{var L;return[((L=r.subtitle)==null?void 0:L.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(V=r.default)==null?void 0:V.call(r,I.value)]),U&&W("div",{key:"append",class:"v-list-item__append"},[r.append?W(Kt,{key:"append-defaults",disabled:!N,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var L;return[(L=r.append)==null?void 0:L.call(r,I.value)]}}):W(tt,null,[e.appendIcon&&W(sn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&W(ii,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),W("div",{class:"v-list-item__spacer"},null)])]}}),[[pa("ripple"),g.value&&e.ripple]])}),{}}}),qOe=Ie({color:String,inset:Boolean,sticky:Boolean,title:String,...ct(),...kt()},"VListSubheader"),DY=He()({name:"VListSubheader",props:qOe(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:a}=Wr(ze(e,"color"));return Ge(()=>{const i=!!(n.default||e.title);return W(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:a},e.style]},{default:()=>{var o;return[i&&W("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),KOe=Ie({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...ct(),...Zt()},"VDivider"),T0=He()({name:"VDivider",props:KOe(),setup(e,t){let{attrs:n}=t;const{themeClasses:r}=ln(e),{textColorClasses:a,textColorStyles:i}=Wr(ze(e,"color")),o=ie(()=>{const s={};return e.length&&(s[e.vertical?"maxHeight":"maxWidth"]=lt(e.length)),e.thickness&&(s[e.vertical?"borderRightWidth":"borderTopWidth"]=lt(e.thickness)),s});return Ge(()=>W("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,a.value,e.class],style:[o.value,i.value,e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}}),ZOe=Ie({items:Array,returnObject:Boolean},"VListChildren"),LY=He()({name:"VListChildren",props:ZOe(),setup(e,t){let{slots:n}=t;return wY(),()=>{var r,a;return((r=n.default)==null?void 0:r.call(n))??((a=e.items)==null?void 0:a.map(i=>{var d,h;let{children:o,props:s,type:l,raw:u}=i;if(l==="divider")return((d=n.divider)==null?void 0:d.call(n,{props:s}))??W(T0,s,null);if(l==="subheader")return((h=n.subheader)==null?void 0:h.call(n,{props:s}))??W(DY,s,null);const c={subtitle:n.subtitle?v=>{var m;return(m=n.subtitle)==null?void 0:m.call(n,{...v,item:u})}:void 0,prepend:n.prepend?v=>{var m;return(m=n.prepend)==null?void 0:m.call(n,{...v,item:u})}:void 0,append:n.append?v=>{var m;return(m=n.append)==null?void 0:m.call(n,{...v,item:u})}:void 0,title:n.title?v=>{var m;return(m=n.title)==null?void 0:m.call(n,{...v,item:u})}:void 0},f=uT.filterProps(s);return o?W(uT,je({value:s==null?void 0:s.value},f),{activator:v=>{let{props:m}=v;const p={...s,...m,value:e.returnObject?u:s.value};return n.header?n.header({props:p}):W(os,p,c)},default:()=>W(LY,{items:o},n)}):n.item?n.item({props:s}):W(os,je(s,{value:e.returnObject?u:s.value}),c)}))}}}),OY=Ie({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:fs}},"list-items");function eu(e,t){const n=Cr(t,e.itemTitle,t),r=Cr(t,e.itemValue,n),a=Cr(t,e.itemChildren),i=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?gr(t,["children"]):t:void 0:Cr(t,e.itemProps),o={title:n,value:r,...i};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(a)?NY(e,a):void 0,raw:t}}function NY(e,t){const n=[];for(const r of t)n.push(eu(e,r));return n}function DR(e){const t=ie(()=>NY(e,e.items)),n=ie(()=>t.value.some(i=>i.value===null));function r(i){return n.value||(i=i.filter(o=>o!==null)),i.map(o=>e.returnObject&&typeof o=="string"?eu(e,o):t.value.find(s=>e.valueComparator(o,s.value))||eu(e,o))}function a(i){return e.returnObject?i.map(o=>{let{raw:s}=o;return s}):i.map(o=>{let{value:s}=o;return s})}return{items:t,transformIn:r,transformOut:a}}function QOe(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function JOe(e,t){const n=Cr(t,e.itemType,"item"),r=QOe(t)?t:Cr(t,e.itemTitle),a=Cr(t,e.itemValue,void 0),i=Cr(t,e.itemChildren),o=e.itemProps===!0?gr(t,["children"]):Cr(t,e.itemProps),s={title:r,value:a,...o};return{type:n,title:s.title,value:s.value,props:s,children:n==="item"&&i?kY(e,i):void 0,raw:t}}function kY(e,t){const n=[];for(const r of t)n.push(JOe(e,r));return n}function eNe(e){return{items:ie(()=>kY(e,e.items))}}const tNe=Ie({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,...$Oe({selectStrategy:"single-leaf",openStrategy:"list"}),...Na(),...ct(),...br(),...sa(),...fr(),itemType:{type:String,default:"type"},...OY(),...Mn(),...kt(),...Zt(),...ci({variant:"text"})},"VList"),E0=He()({name:"VList",props:tNe(),emits:{"update:selected":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=eNe(e),{themeClasses:a}=ln(e),{backgroundColorClasses:i,backgroundColorStyles:o}=mn(ze(e,"bgColor")),{borderClasses:s}=ui(e),{densityClasses:l}=Xr(e),{dimensionStyles:u}=la(e),{elevationClasses:c}=Rr(e),{roundedClasses:f}=zn(e),{open:d,select:h}=GOe(e),v=ie(()=>e.lines?`v-list--${e.lines}-line`:void 0),m=ze(e,"activeColor"),p=ze(e,"baseColor"),g=ze(e,"color");wY(),Rn({VListGroup:{activeColor:m,baseColor:p,color:g,expandIcon:ze(e,"expandIcon"),collapseIcon:ze(e,"collapseIcon")},VListItem:{activeClass:ze(e,"activeClass"),activeColor:m,baseColor:p,color:g,density:ze(e,"density"),disabled:ze(e,"disabled"),lines:ze(e,"lines"),nav:ze(e,"nav"),slim:ze(e,"slim"),variant:ze(e,"variant")}});const y=it(!1),x=Oe();function b(M){y.value=!0}function A(M){y.value=!1}function S(M){var T;!y.value&&!(M.relatedTarget&&((T=x.value)!=null&&T.contains(M.relatedTarget)))&&C()}function _(M){if(x.value){if(M.key==="ArrowDown")C("next");else if(M.key==="ArrowUp")C("prev");else if(M.key==="Home")C("first");else if(M.key==="End")C("last");else return;M.preventDefault()}}function w(M){y.value=!0}function C(M){if(x.value)return mf(x.value,M)}return Ge(()=>W(e.tag,{ref:x,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},a.value,i.value,s.value,l.value,c.value,v.value,f.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||y.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:b,onFocusout:A,onFocus:S,onKeydown:_,onMousedown:w},{default:()=>[W(LY,{items:r.value,returnObject:e.returnObject},n)]})),{open:d,select:h,focus:C}}}),nNe=La("v-list-img"),rNe=Ie({start:Boolean,end:Boolean,...ct(),...kt()},"VListItemAction"),aNe=He()({name:"VListItemAction",props:rNe(),setup(e,t){let{slots:n}=t;return Ge(()=>W(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),iNe=Ie({start:Boolean,end:Boolean,...ct(),...kt()},"VListItemMedia"),oNe=He()({name:"VListItemMedia",props:iNe(),setup(e,t){let{slots:n}=t;return Ge(()=>W(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function Kw(e,t){return{x:e.x+t.x,y:e.y+t.y}}function sNe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function f4(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,a=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=n==="top"?0:n==="bottom"?t.height:n;return Kw({x:a,y:i},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,a=n==="left"?0:n==="right"?t.width:n,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Kw({x:a,y:i},t)}return Kw({x:t.width/2,y:t.height/2},t)}const BY={static:cNe,connected:dNe},lNe=Ie({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in BY},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function uNe(e,t){const n=Oe({}),r=Oe();pn&&Ei(()=>!!(t.isActive.value&&e.locationStrategy),i=>{var o,s;nt(()=>e.locationStrategy,i),ia(()=>{window.removeEventListener("resize",a),r.value=void 0}),window.addEventListener("resize",a,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:r.value=(s=BY[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation});function a(i){var o;(o=r.value)==null||o.call(r,i)}return{contentStyles:n,updateLocation:r}}function cNe(){}function fNe(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=hR(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function dNe(e,t,n){(Array.isArray(e.target.value)||C2e(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:i}=fR(()=>{const v=XM(t.location,e.isRtl.value),m=t.origin==="overlap"?v:t.origin==="auto"?jw(v):XM(t.origin,e.isRtl.value);return v.side===m.side&&v.align===Yw(m).align?{preferredAnchor:D5(v),preferredOrigin:D5(m)}:{preferredAnchor:v,preferredOrigin:m}}),[o,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(v=>ie(()=>{const m=parseFloat(t[v]);return isNaN(m)?1/0:m})),c=ie(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const v=t.offset.split(" ").map(parseFloat);return v.length<2&&v.push(0),v}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const d=new ResizeObserver(()=>{f&&h()});nt([e.target,e.contentEl],(v,m)=>{let[p,g]=v,[y,x]=m;y&&!Array.isArray(y)&&d.unobserve(y),p&&!Array.isArray(p)&&d.observe(p),x&&d.unobserve(x),g&&d.observe(g)},{immediate:!0}),ia(()=>{d.disconnect()});function h(){if(f=!1,requestAnimationFrame(()=>f=!0),!e.target.value||!e.contentEl.value)return;const v=_7(e.target.value),m=fNe(e.contentEl.value,e.isRtl.value),p=Km(e.contentEl.value),g=12;p.length||(p.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=p.reduce((T,E)=>{const P=E.getBoundingClientRect(),R=new ou({x:E===document.documentElement?0:P.x,y:E===document.documentElement?0:P.y,width:E.clientWidth,height:E.clientHeight});return T?new ou({x:Math.max(T.left,R.left),y:Math.max(T.top,R.top),width:Math.min(T.right,R.right)-Math.max(T.left,R.left),height:Math.min(T.bottom,R.bottom)-Math.max(T.top,R.top)}):R},void 0);y.x+=g,y.y+=g,y.width-=g*2,y.height-=g*2;let x={anchor:a.value,origin:i.value};function b(T){const E=new ou(m),P=f4(T.anchor,v),R=f4(T.origin,E);let{x:I,y:D}=sNe(P,R);switch(T.anchor.side){case"top":D-=c.value[0];break;case"bottom":D+=c.value[0];break;case"left":I-=c.value[0];break;case"right":I+=c.value[0];break}switch(T.anchor.align){case"top":D-=c.value[1];break;case"bottom":D+=c.value[1];break;case"left":I-=c.value[1];break;case"right":I+=c.value[1];break}return E.x+=I,E.y+=D,E.width=Math.min(E.width,l.value),E.height=Math.min(E.height,u.value),{overflows:O5(E,y),x:I,y:D}}let A=0,S=0;const _={x:0,y:0},w={x:!1,y:!1};let C=-1;for(;!(C++>10);){const{x:T,y:E,overflows:P}=b(x);A+=T,S+=E,m.x+=T,m.y+=E;{const R=L5(x.anchor),I=P.x.before||P.x.after,D=P.y.before||P.y.after;let B=!1;if(["x","y"].forEach(F=>{if(F==="x"&&I&&!w.x||F==="y"&&D&&!w.y){const G={anchor:{...x.anchor},origin:{...x.origin}},z=F==="x"?R==="y"?Yw:jw:R==="y"?jw:Yw;G.anchor=z(G.anchor),G.origin=z(G.origin);const{overflows:N}=b(G);(N[F].before<=P[F].before&&N[F].after<=P[F].after||N[F].before+N[F].after<(P[F].before+P[F].after)/2)&&(x=G,B=w[F]=!0)}}),B)continue}P.x.before&&(A+=P.x.before,m.x+=P.x.before),P.x.after&&(A-=P.x.after,m.x-=P.x.after),P.y.before&&(S+=P.y.before,m.y+=P.y.before),P.y.after&&(S-=P.y.after,m.y-=P.y.after);{const R=O5(m,y);_.x=y.width-R.x.before-R.x.after,_.y=y.height-R.y.before-R.y.after,A+=R.x.before,m.x+=R.x.before,S+=R.y.before,m.y+=R.y.before}break}const M=L5(x.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:lt(Zw(S)),left:e.isRtl.value?void 0:lt(Zw(A)),right:e.isRtl.value?lt(Zw(-A)):void 0,minWidth:lt(M==="y"?Math.min(o.value,v.width):o.value),maxWidth:lt(d4(ar(_.x,o.value===1/0?0:o.value,l.value))),maxHeight:lt(d4(ar(_.y,s.value===1/0?0:s.value,u.value)))}),{available:_,contentBox:m}}return nt(()=>[a.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>h()),Ht(()=>{const v=h();if(!v)return;const{available:m,contentBox:p}=v;p.height>m.y&&requestAnimationFrame(()=>{h(),requestAnimationFrame(()=>{h()})})}),{updateLocation:h}}function Zw(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function d4(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let cT=!0;const ey=[];function hNe(e){!cT||ey.length?(ey.push(e),fT()):(cT=!1,e(),fT())}let h4=-1;function fT(){cancelAnimationFrame(h4),h4=requestAnimationFrame(()=>{const e=ey.shift();e&&e(),ey.length?fT():cT=!0})}const Wg={none:null,close:gNe,block:mNe,reposition:yNe},vNe=Ie({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Wg}},"VOverlay-scroll-strategies");function pNe(e,t){if(!pn)return;let n;Fn(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=RT(),await Ht(),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=Wg[e.scrollStrategy])==null||r.call(Wg,t,e,n)}))}),ia(()=>{n==null||n.stop()})}function gNe(e){function t(n){e.isActive.value=!1}FY(e.targetEl.value??e.contentEl.value,t)}function mNe(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,r=[...new Set([...Km(e.targetEl.value,t.contained?n:void 0),...Km(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),a=window.innerWidth-document.documentElement.offsetWidth,i=(s=>yR(s)&&s)(n||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",lt(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",lt(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",lt(a)),s.classList.add("v-overlay-scroll-blocked")}),ia(()=>{r.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y"));s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function yNe(e,t,n){let r=!1,a=-1,i=-1;function o(s){hNe(()=>{var c,f;const l=performance.now();(f=(c=e.updateLocation).value)==null||f.call(c,s),r=(performance.now()-l)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{FY(e.targetEl.value??e.contentEl.value,s=>{r?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(s)})})):o(s)})})}),ia(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(a)})}function FY(e,t){const n=[document,...Km(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),ia(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const dT=Symbol.for("vuetify:v-menu"),VY=Ie({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function zY(e,t){let n=()=>{};function r(o){n==null||n();const s=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=YDe(s,()=>{t==null||t(o),l(o)})})}function a(){return r(!0)}function i(){return r(!1)}return{clearDelay:n,runOpenDelay:a,runCloseDelay:i}}const xNe=Ie({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...VY()},"VOverlay-activator");function bNe(e,t){let{isActive:n,isTop:r}=t;const a=Yn("useActivator"),i=Oe();let o=!1,s=!1,l=!0;const u=ie(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),c=ie(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:f,runCloseDelay:d}=zY(e,_=>{_===(e.openOnHover&&o||u.value&&s)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==_&&(l=!0),n.value=_)}),h=Oe(),v={onClick:_=>{_.stopPropagation(),i.value=_.currentTarget||_.target,n.value||(h.value=[_.clientX,_.clientY]),n.value=!n.value},onMouseenter:_=>{var w;(w=_.sourceCapabilities)!=null&&w.firesTouchEvents||(o=!0,i.value=_.currentTarget||_.target,f())},onMouseleave:_=>{o=!1,d()},onFocus:_=>{yf(_.target,":focus-visible")!==!1&&(s=!0,_.stopPropagation(),i.value=_.currentTarget||_.target,f())},onBlur:_=>{s=!1,_.stopPropagation(),d()}},m=ie(()=>{const _={};return c.value&&(_.onClick=v.onClick),e.openOnHover&&(_.onMouseenter=v.onMouseenter,_.onMouseleave=v.onMouseleave),u.value&&(_.onFocus=v.onFocus,_.onBlur=v.onBlur),_}),p=ie(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{o=!0,f()},_.onMouseleave=()=>{o=!1,d()}),u.value&&(_.onFocusin=()=>{s=!0,f()},_.onFocusout=()=>{s=!1,d()}),e.closeOnContentClick){const w=Vt(dT,null);_.onClick=()=>{n.value=!1,w==null||w.closeParents()}}return _}),g=ie(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{l&&(o=!0,l=!1,f())},_.onMouseleave=()=>{o=!1,d()}),_});nt(r,_=>{_&&(e.openOnHover&&!o&&(!u.value||!s)||u.value&&!s&&(!e.openOnHover||!o))&&(n.value=!1)}),nt(n,_=>{_||setTimeout(()=>{h.value=void 0})},{flush:"post"});const y=Oe();Fn(()=>{y.value&&Ht(()=>{i.value=kh(y.value)})});const x=Oe(),b=ie(()=>e.target==="cursor"&&h.value?h.value:x.value?kh(x.value):UY(e.target,a)||i.value),A=ie(()=>Array.isArray(b.value)?void 0:b.value);let S;return nt(()=>!!e.activator,_=>{_&&pn?(S=RT(),S.run(()=>{SNe(e,a,{activatorEl:i,activatorEvents:m})})):S&&S.stop()},{flush:"post",immediate:!0}),ia(()=>{S==null||S.stop()}),{activatorEl:i,activatorRef:y,target:b,targetEl:A,targetRef:x,activatorEvents:m,contentEvents:p,scrimEvents:g}}function SNe(e,t,n){let{activatorEl:r,activatorEvents:a}=n;nt(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&o(c)}l&&Ht(()=>i())},{immediate:!0}),nt(()=>e.activatorProps,()=>{i()}),ia(()=>{o()});function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&qDe(l,je(a.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&KDe(l,je(a.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=UY(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function UY(e,t){var r,a;if(!e)return;let n;if(e==="parent"){let i=(a=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:a.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function HY(){if(!pn)return it(!1);const{ssr:e}=Du();if(e){const t=it(!1);return gn(()=>{t.value=!0}),t}else return it(!0)}const P0=Ie({eager:Boolean},"lazy");function LR(e,t){const n=it(!1),r=ie(()=>n.value||e.eager||t.value);nt(t,()=>n.value=!0);function a(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:a}}function ed(){const t=Yn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const v4=Symbol.for("vuetify:stack"),Ud=wr([]);function _Ne(e,t,n){const r=Yn("useStack"),a=!n,i=Vt(v4,void 0),o=wr({activeChildren:new Set});cn(v4,o);const s=it(+t.value);Ei(e,()=>{var f;const c=(f=Ud.at(-1))==null?void 0:f[1];s.value=c?c+10:+t.value,a&&Ud.push([r.uid,s.value]),i==null||i.activeChildren.add(r.uid),ia(()=>{if(a){const d=zt(Ud).findIndex(h=>h[0]===r.uid);Ud.splice(d,1)}i==null||i.activeChildren.delete(r.uid)})});const l=it(!0);a&&Fn(()=>{var f;const c=((f=Ud.at(-1))==null?void 0:f[0])===r.uid;setTimeout(()=>l.value=c)});const u=ie(()=>!o.activeChildren.size);return{globalTop:qh(l),localTop:u,stackStyles:ie(()=>({zIndex:s.value}))}}function ANe(e){return{teleportTarget:ie(()=>{const n=e.value;if(n===!0||!pn)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let a=r.querySelector(":scope > .v-overlay-container");return a||(a=document.createElement("div"),a.className="v-overlay-container",r.appendChild(a)),a})}}function wNe(){return!0}function $Y(e,t,n){if(!e||GY(e,n)===!1)return!1;const r=O7(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const a=(typeof n.value=="object"&&n.value.include||(()=>[]))();return a.push(t),!a.some(i=>i==null?void 0:i.contains(e.target))}function GY(e,t){return(typeof t.value=="object"&&t.value.closeConditional||wNe)(e)}function CNe(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&$Y(e,t,n)&&setTimeout(()=>{GY(e,n)&&r&&r(e)},0)}function p4(e,t){const n=O7(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const WY={mounted(e,t){const n=a=>CNe(a,e,t),r=a=>{e._clickOutside.lastMousedownWasOutside=$Y(a,e,t)};p4(e,a=>{a.addEventListener("click",n,!0),a.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(p4(e,n=>{var i;if(!n||!((i=e._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:r,onMousedown:a}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function MNe(e){const{modelValue:t,color:n,...r}=e;return W(so,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&W("div",je({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Hv=Ie({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...xNe(),...ct(),...sa(),...P0(),...lNe(),...vNe(),...Zt(),...ds()},"VOverlay"),ho=He()({name:"VOverlay",directives:{ClickOutside:WY},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Hv()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:a}=t;const i=yt(e,"modelValue"),o=ie({get:()=>i.value,set:$=>{$&&e.disabled||(i.value=$)}}),{teleportTarget:s}=ANe(ie(()=>e.attach||e.contained)),{themeClasses:l}=ln(e),{rtlClasses:u,isRtl:c}=Pr(),{hasContent:f,onAfterLeave:d}=LR(e,o),h=mn(ie(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:v,localTop:m,stackStyles:p}=_Ne(o,ze(e,"zIndex"),e._disableGlobalStack),{activatorEl:g,activatorRef:y,target:x,targetEl:b,targetRef:A,activatorEvents:S,contentEvents:_,scrimEvents:w}=bNe(e,{isActive:o,isTop:m}),{dimensionStyles:C}=la(e),M=HY(),{scopeId:T}=ed();nt(()=>e.disabled,$=>{$&&(o.value=!1)});const E=Oe(),P=Oe(),{contentStyles:R,updateLocation:I}=uNe(e,{isRtl:c,contentEl:P,target:x,isActive:o});pNe(e,{root:E,contentEl:P,targetEl:b,isActive:o,updateLocation:I});function D($){a("click:outside",$),e.persistent?N():o.value=!1}function B(){return o.value&&v.value}pn&&nt(o,$=>{$?window.addEventListener("keydown",F):window.removeEventListener("keydown",F)},{immediate:!0}),Er(()=>{pn&&window.removeEventListener("keydown",F)});function F($){var k,V;$.key==="Escape"&&v.value&&(e.persistent?N():(o.value=!1,(k=P.value)!=null&&k.contains(document.activeElement)&&((V=g.value)==null||V.focus())))}const G=aY();Ei(()=>e.closeOnBack,()=>{dOe(G,$=>{v.value&&o.value?($(!1),e.persistent?N():o.value=!1):$()})});const z=Oe();nt(()=>o.value&&(e.absolute||e.contained)&&s.value==null,$=>{if($){const k=mR(E.value);k&&k!==document.scrollingElement&&(z.value=k.scrollTop)}});function N(){e.noClickAnimation||P.value&&Jl(P.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Fh})}function U(){d(),a("afterLeave")}return Ge(()=>{var $;return W(tt,null,[($=n.activator)==null?void 0:$.call(n,{isActive:o.value,props:je({ref:y,targetRef:A},S.value,e.activatorProps)}),!e.disabled&&M.value&&f.value&&W(jK,{disabled:!s.value,to:s.value},{default:()=>[W("div",je({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":o.value,"v-overlay--contained":e.contained},l.value,u.value,e.class],style:[p.value,{top:lt(z.value)},e.style],ref:E},T,r),[W(MNe,je({color:h,modelValue:!!e.scrim&&o.value},w.value),null),W(Qa,{appear:!0,persisted:!0,transition:e.transition,target:x.value,onAfterLeave:U},{default:()=>{var k;return[_n(W("div",je({ref:P,class:["v-overlay__content",e.contentClass],style:[C.value,R.value]},_.value,e.contentProps),[(k=n.default)==null?void 0:k.call(n,{isActive:o})]),[[Ta,o.value],[pa("click-outside"),{handler:D,closeConditional:B,include:()=>[g.value]}]])]}})])]})])}),{activatorEl:g,target:x,animateClick:N,contentEl:P,globalTop:v,localTop:m,updateLocation:I}}}),Qw=Symbol("Forwarded refs");function Jw(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Qw]=n,new Proxy(e,{get(a,i){if(Reflect.has(a,i))return Reflect.get(a,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,i)){const s=Reflect.get(o.value,i);return typeof s=="function"?s.bind(o.value):s}}},has(a,i){if(Reflect.has(a,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,i))return!0;return!1},set(a,i,o){if(Reflect.has(a,i))return Reflect.set(a,i,o);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,o);return!1},getOwnPropertyDescriptor(a,i){var s;const o=Reflect.getOwnPropertyDescriptor(a,i);if(o)return o;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=Jw(l.value,i)??("_"in l.value?Jw((s=l.value._)==null?void 0:s.setupState,i):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Qw];if(!u)continue;const c=u.slice();for(;c.length;){const f=c.shift(),d=Jw(f.value,i);if(d)return d;const h=f.value&&f.value[Qw];h&&c.push(...h)}}}}})}const TNe=Ie({id:String,...gr(Hv({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:x0}}),["absolute"])},"VMenu"),R0=He()({name:"VMenu",props:TNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{scopeId:a}=ed(),i=Yr(),o=ie(()=>e.id||`v-menu-${i}`),s=Oe(),l=Vt(dT,null),u=it(0);cn(dT,{register(){++u.value},unregister(){--u.value},closeParents(){setTimeout(()=>{u.value||(r.value=!1,l==null||l.closeParents())},40)}});async function c(m){var y,x,b;const p=m.relatedTarget,g=m.target;await Ht(),r.value&&p!==g&&((y=s.value)!=null&&y.contentEl)&&((x=s.value)!=null&&x.globalTop)&&![document,s.value.contentEl].includes(g)&&!s.value.contentEl.contains(g)&&((b=Bh(s.value.contentEl)[0])==null||b.focus())}nt(r,m=>{m?(l==null||l.register(),document.addEventListener("focusin",c,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",c))});function f(){l==null||l.closeParents()}function d(m){var p,g,y;e.disabled||m.key==="Tab"&&(x7(Bh((p=s.value)==null?void 0:p.contentEl,!1),m.shiftKey?"prev":"next",b=>b.tabIndex>=0)||(r.value=!1,(y=(g=s.value)==null?void 0:g.activatorEl)==null||y.focus()))}function h(m){var g;if(e.disabled)return;const p=(g=s.value)==null?void 0:g.contentEl;p&&r.value?m.key==="ArrowDown"?(m.preventDefault(),mf(p,"next")):m.key==="ArrowUp"&&(m.preventDefault(),mf(p,"prev")):["ArrowDown","ArrowUp"].includes(m.key)&&(r.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>h(m))))}const v=ie(()=>je({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:h},e.activatorProps));return Ge(()=>{const m=ho.filterProps(e);return W(ho,je({ref:s,class:["v-menu",e.class],style:e.style},m,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,absolute:!0,activatorProps:v.value,"onClick:outside":f,onKeydown:d},a),{activator:n.activator,default:function(){for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];return W(Kt,{root:"VMenu"},{default:()=>{var x;return[(x=n.default)==null?void 0:x.call(n,...g)]}})}})}),fi({id:o,ΨopenChildren:u},s)}}),ENe=Ie({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ct(),...ds({transition:{component:wR}})},"VCounter"),I0=He()({name:"VCounter",functional:!0,props:ENe(),setup(e,t){let{slots:n}=t;const r=ie(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Ge(()=>W(Qa,{transition:e.transition},{default:()=>[_n(W("div",{class:["v-counter",e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[Ta,e.active]])]})),{}}}),PNe=Ie({floating:Boolean,...ct()},"VFieldLabel"),Jd=He()({name:"VFieldLabel",props:PNe(),setup(e,t){let{slots:n}=t;return Ge(()=>W(Jf,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),RNe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],$v=Ie({appendInnerIcon:Ot,bgColor:String,clearable:Boolean,clearIcon:{type:Ot,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ot,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>RNe.includes(e)},"onClick:clear":da(),"onClick:appendInner":da(),"onClick:prependInner":da(),...ct(),...A0(),...Mn(),...Zt()},"VField"),td=He()({name:"VField",inheritAttrs:!1,props:{id:String,...zv(),...$v()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{themeClasses:i}=ln(e),{loaderClasses:o}=Bv(e),{focusClasses:s,isFocused:l,focus:u,blur:c}=ps(e),{InputIcon:f}=mY(e),{roundedClasses:d}=zn(e),{rtlClasses:h}=Pr(),v=ie(()=>e.dirty||e.active),m=ie(()=>!e.singleLine&&!!(e.label||a.label)),p=Yr(),g=ie(()=>e.id||`input-${p}`),y=ie(()=>`${g.value}-messages`),x=Oe(),b=Oe(),A=Oe(),S=ie(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:_,backgroundColorStyles:w}=mn(ze(e,"bgColor")),{textColorClasses:C,textColorStyles:M}=Wr(ie(()=>e.error||e.disabled?void 0:v.value&&l.value?e.color:e.baseColor));nt(v,P=>{if(m.value){const R=x.value.$el,I=b.value.$el;requestAnimationFrame(()=>{const D=hR(R),B=I.getBoundingClientRect(),F=B.x-D.x,G=B.y-D.y-(D.height/2-B.height/2),z=B.width/.75,N=Math.abs(z-D.width)>1?{maxWidth:lt(z)}:void 0,U=getComputedStyle(R),$=getComputedStyle(I),k=parseFloat(U.transitionDuration)*1e3||150,V=parseFloat($.getPropertyValue("--v-field-label-scale")),L=$.getPropertyValue("color");R.style.visibility="visible",I.style.visibility="hidden",Jl(R,{transform:`translate(${F}px, ${G}px) scale(${V})`,color:L,...N},{duration:k,easing:Fh,direction:P?"normal":"reverse"}).finished.then(()=>{R.style.removeProperty("visibility"),I.style.removeProperty("visibility")})})}},{flush:"post"});const T=ie(()=>({isActive:v,isFocused:l,controlRef:A,blur:c,focus:u}));function E(P){P.target!==document.activeElement&&P.preventDefault()}return Ge(()=>{var F,G,z;const P=e.variant==="outlined",R=a["prepend-inner"]||e.prependInnerIcon,I=!!(e.clearable||a.clear),D=!!(a["append-inner"]||e.appendInnerIcon||I),B=()=>a.label?a.label({...T.value,label:e.label,props:{for:g.value}}):e.label;return W("div",je({class:["v-field",{"v-field--active":v.value,"v-field--appended":D,"v-field--center-affix":e.centerAffix??!S.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":R,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!B(),[`v-field--variant-${e.variant}`]:!0},i.value,_.value,s.value,o.value,d.value,h.value,e.class],style:[w.value,e.style],onClick:E},n),[W("div",{class:"v-field__overlay"},null),W(w0,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),R&&W("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&W(f,{key:"prepend-icon",name:"prependInner"},null),(F=a["prepend-inner"])==null?void 0:F.call(a,T.value)]),W("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&m.value&&W(Jd,{key:"floating-label",ref:b,class:[C.value],floating:!0,for:g.value,style:M.value},{default:()=>[B()]}),W(Jd,{ref:x,for:g.value},{default:()=>[B()]}),(G=a.default)==null?void 0:G.call(a,{...T.value,props:{id:g.value,class:"v-field__input","aria-describedby":y.value},focus:u,blur:c})]),I&&W(CR,{key:"clear"},{default:()=>[_n(W("div",{class:"v-field__clearable",onMousedown:N=>{N.preventDefault(),N.stopPropagation()}},[a.clear?a.clear():W(f,{name:"clear"},null)]),[[Ta,e.dirty]])]}),D&&W("div",{key:"append",class:"v-field__append-inner"},[(z=a["append-inner"])==null?void 0:z.call(a,T.value),e.appendInnerIcon&&W(f,{key:"append-icon",name:"appendInner"},null)]),W("div",{class:["v-field__outline",C.value],style:M.value},[P&&W(tt,null,[W("div",{class:"v-field__outline__start"},null),m.value&&W("div",{class:"v-field__outline__notch"},[W(Jd,{ref:b,floating:!0,for:g.value},{default:()=>[B()]})]),W("div",{class:"v-field__outline__end"},null)]),S.value&&m.value&&W(Jd,{ref:b,floating:!0,for:g.value},{default:()=>[B()]})])])}),{controlRef:A}}});function OR(e){const t=Object.keys(td.props).filter(n=>!v0(n)&&n!=="class"&&n!=="style");return v7(e,t)}const INe=["color","file","time","date","datetime-local","week","month"],D0=Ie({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...gs(),...$v()},"VTextField"),vu=He()({name:"VTextField",directives:{Intersect:kv},inheritAttrs:!1,props:D0(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const i=yt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=ps(e),u=ie(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:(i.value??"").toString().length),c=ie(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),f=ie(()=>["plain","underlined"].includes(e.variant));function d(S,_){var w,C;!e.autofocus||!S||(C=(w=_[0].target)==null?void 0:w.focus)==null||C.call(w)}const h=Oe(),v=Oe(),m=Oe(),p=ie(()=>INe.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function g(){var S;m.value!==document.activeElement&&((S=m.value)==null||S.focus()),o.value||s()}function y(S){r("mousedown:control",S),S.target!==m.value&&(g(),S.preventDefault())}function x(S){g(),r("click:control",S)}function b(S){S.stopPropagation(),g(),Ht(()=>{i.value=null,dR(e["onClick:clear"],S)})}function A(S){var w;const _=S.target;if(i.value=_.value,(w=e.modelModifiers)!=null&&w.trim&&["text","search","password","tel","url"].includes(e.type)){const C=[_.selectionStart,_.selectionEnd];Ht(()=>{_.selectionStart=C[0],_.selectionEnd=C[1]})}}return Ge(()=>{const S=!!(a.counter||e.counter!==!1&&e.counter!=null),_=!!(S||a.details),[w,C]=ml(n),{modelValue:M,...T}=kr.filterProps(e),E=OR(e);return W(kr,je({ref:h,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":f.value},e.class],style:e.style},w,T,{centerAffix:!f.value,focused:o.value}),{...a,default:P=>{let{id:R,isDisabled:I,isDirty:D,isReadonly:B,isValid:F}=P;return W(td,je({ref:v,onMousedown:y,onClick:x,"onClick:clear":b,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},E,{id:R.value,active:p.value||D.value,dirty:D.value||e.dirty,disabled:I.value,focused:o.value,error:F.value===!1}),{...a,default:G=>{let{props:{class:z,...N}}=G;const U=_n(W("input",je({ref:m,value:i.value,onInput:A,autofocus:e.autofocus,readonly:B.value,disabled:I.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:g,onBlur:l},N,C),null),[[pa("intersect"),{handler:d},null,{once:!0}]]);return W(tt,null,[e.prefix&&W("span",{class:"v-text-field__prefix"},[W("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?W("div",{class:z,"data-no-activator":""},[a.default(),U]):oo(U,{class:z}),e.suffix&&W("span",{class:"v-text-field__suffix"},[W("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?P=>{var R;return W(tt,null,[(R=a.details)==null?void 0:R.call(a,P),S&&W(tt,null,[W("span",null,null),W(I0,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),fi({},h,v,m)}}),DNe=Ie({renderless:Boolean,...ct()},"VVirtualScrollItem"),jY=He()({name:"VVirtualScrollItem",inheritAttrs:!1,props:DNe(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{resizeRef:i,contentRect:o}=fo(void 0,"border");nt(()=>{var s;return(s=o.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),Ge(()=>{var s,l;return e.renderless?W(tt,null,[(s=a.default)==null?void 0:s.call(a,{itemRef:i})]):W("div",je({ref:i,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=a.default)==null?void 0:l.call(a)])})}}),LNe=-1,ONe=1,eC=100,YY=Ie({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function XY(e,t){const n=Du(),r=it(0);Fn(()=>{r.value=parseFloat(e.itemHeight||0)});const a=it(0),i=it(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),o=it(0),s=it(0),l=Oe(),u=Oe();let c=0;const{resizeRef:f,contentRect:d}=fo();Fn(()=>{f.value=l.value});const h=ie(()=>{var G;return l.value===document.documentElement?n.height.value:((G=d.value)==null?void 0:G.height)||parseInt(e.height)||0}),v=ie(()=>!!(l.value&&u.value&&h.value&&r.value));let m=Array.from({length:t.value.length}),p=Array.from({length:t.value.length});const g=it(0);let y=-1;function x(G){return m[G]||r.value}const b=$De(()=>{const G=performance.now();p[0]=0;const z=t.value.length;for(let N=1;N<=z-1;N++)p[N]=(p[N-1]||0)+x(N-1);g.value=Math.max(g.value,performance.now()-G)},g),A=nt(v,G=>{G&&(A(),c=u.value.offsetTop,b.immediate(),I(),~y&&Ht(()=>{pn&&window.requestAnimationFrame(()=>{B(y),y=-1})}))});nt(h,(G,z)=>{z&&I()}),ia(()=>{b.clear()});function S(G,z){const N=m[G],U=r.value;r.value=U?Math.min(r.value,z):z,(N!==z||U!==r.value)&&(m[G]=z,b())}function _(G){return G=ar(G,0,t.value.length-1),p[G]||0}function w(G){return NNe(p,G)}let C=0,M=0,T=0;function E(){if(!l.value||!u.value)return;const G=l.value.scrollTop,z=performance.now();z-T>500?(M=Math.sign(G-C),c=u.value.offsetTop):M=G-C,C=G,T=z,I()}function P(){!l.value||!u.value||(M=0,T=0,I())}let R=-1;function I(){cancelAnimationFrame(R),R=requestAnimationFrame(D)}function D(){if(!l.value||!h.value)return;const G=C-c,z=Math.sign(M),N=Math.max(0,G-eC),U=ar(w(N),0,t.value.length),$=G+h.value+eC,k=ar(w($)+1,U+1,t.value.length);if((z!==LNe||U<a.value)&&(z!==ONe||k>i.value)){const V=_(a.value)-_(U),L=_(k)-_(i.value);Math.max(V,L)>eC?(a.value=U,i.value=k):(U<=0&&(a.value=U),k>=t.value.length&&(i.value=k))}o.value=_(a.value),s.value=_(t.value.length)-_(i.value)}function B(G){const z=_(G);!l.value||G&&!z?y=G:l.value.scrollTop=z}const F=ie(()=>t.value.slice(a.value,i.value).map((G,z)=>({raw:G,index:z+a.value})));return nt(t,()=>{m=Array.from({length:t.value.length}),p=Array.from({length:t.value.length}),b.immediate(),I()},{deep:!0}),{containerRef:l,markerRef:u,computedItems:F,paddingTop:o,paddingBottom:s,scrollToIndex:B,handleScroll:E,handleScrollend:P,handleItemResize:S}}function NNe(e,t){let n=e.length-1,r=0,a=0,i=null,o=-1;if(e[n]<t)return n;for(;r<=n;)if(a=r+n>>1,i=e[a],i>t)n=a-1;else if(i<t)o=a,r=a+1;else return i===t?a:r;return o}const kNe=Ie({items:{type:Array,default:()=>[]},renderless:Boolean,...YY(),...ct(),...sa()},"VVirtualScroll"),L0=He()({name:"VVirtualScroll",props:kNe(),setup(e,t){let{slots:n}=t;const r=Yn("VVirtualScroll"),{dimensionStyles:a}=la(e),{containerRef:i,markerRef:o,handleScroll:s,handleScrollend:l,handleItemResize:u,scrollToIndex:c,paddingTop:f,paddingBottom:d,computedItems:h}=XY(e,ze(e,"items"));return Ei(()=>e.renderless,()=>{function v(){var g,y;const p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[p]("scroll",s,{passive:!0}),document[p]("scrollend",l)):((g=i.value)==null||g[p]("scroll",s,{passive:!0}),(y=i.value)==null||y[p]("scrollend",l))}gn(()=>{i.value=mR(r.vnode.el,!0),v(!0)}),ia(v)}),Ge(()=>{const v=h.value.map(m=>W(jY,{key:m.index,renderless:e.renderless,"onUpdate:height":p=>u(m.index,p)},{default:p=>{var g;return(g=n.default)==null?void 0:g.call(n,{item:m.raw,index:m.index,...p})}}));return e.renderless?W(tt,null,[W("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:lt(f.value)}},null),v,W("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:lt(d.value)}},null)]):W("div",{ref:i,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:l,style:[a.value,e.style]},[W("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:lt(f.value),paddingBottom:lt(d.value)}},[v])])}),{scrollToIndex:c}}});function NR(e,t){const n=it(!1);let r;function a(s){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function i(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(n.value){const l=nt(n,()=>{l(),s()})}else s()})}async function o(s){var c,f;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(f=e.value)==null?void 0:f.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await i();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const d=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=d){h.focus();break}}else{const d=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=d){h.focus();break}}}return{onListScroll:a,onListKeydown:o}}const kR=Ie({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ot,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...OY({itemChildren:!1})},"Select"),BNe=Ie({...kR(),...gr(D0({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ds({transition:{component:x0}})},"VSelect"),qY=He()({name:"VSelect",props:BNe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=er(),a=Oe(),i=Oe(),o=Oe(),s=yt(e,"menu"),l=ie({get:()=>s.value,set:F=>{var G;s.value&&!F&&((G=i.value)!=null&&G.ΨopenChildren)||(s.value=F)}}),{items:u,transformIn:c,transformOut:f}=DR(e),d=yt(e,"modelValue",[],F=>c(F===null?[null]:Wn(F)),F=>{const G=f(F);return e.multiple?G:G[0]??null}),h=ie(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:d.value.length),v=M0(),m=ie(()=>d.value.map(F=>F.value)),p=it(!1),g=ie(()=>l.value?e.closeText:e.openText);let y="",x;const b=ie(()=>e.hideSelected?u.value.filter(F=>!d.value.some(G=>G===F)):u.value),A=ie(()=>e.hideNoData&&!b.value.length||e.readonly||(v==null?void 0:v.isReadonly.value)),S=ie(()=>{var F;return{...e.menuProps,activatorProps:{...((F=e.menuProps)==null?void 0:F.activatorProps)||{},"aria-haspopup":"listbox"}}}),_=Oe(),{onListScroll:w,onListKeydown:C}=NR(_,a);function M(F){e.openOnClear&&(l.value=!0)}function T(){A.value||(l.value=!l.value)}function E(F){var $,k;if(!F.key||e.readonly||v!=null&&v.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(F.key)&&F.preventDefault(),["Enter","ArrowDown"," "].includes(F.key)&&(l.value=!0),["Escape","Tab"].includes(F.key)&&(l.value=!1),F.key==="Home"?($=_.value)==null||$.focus("first"):F.key==="End"&&((k=_.value)==null||k.focus("last"));const G=1e3;function z(V){const L=V.key.length===1,O=!V.ctrlKey&&!V.metaKey&&!V.altKey;return L&&O}if(e.multiple||!z(F))return;const N=performance.now();N-x>G&&(y=""),y+=F.key.toLowerCase(),x=N;const U=u.value.find(V=>V.title.toLowerCase().startsWith(y));U!==void 0&&(d.value=[U])}function P(F){if(e.multiple){const G=d.value.findIndex(z=>e.valueComparator(z.value,F.value));if(G===-1)d.value=[...d.value,F];else{const z=[...d.value];z.splice(G,1),d.value=z}}else d.value=[F],l.value=!1}function R(F){var G;(G=_.value)!=null&&G.$el.contains(F.relatedTarget)||(l.value=!1)}function I(){var F;p.value&&((F=a.value)==null||F.focus())}function D(F){p.value=!0}function B(F){if(F==null)d.value=[];else if(yf(a.value,":autofill")||yf(a.value,":-webkit-autofill")){const G=u.value.find(z=>z.title===F);G&&P(G)}else a.value&&(a.value.value="")}return nt(l,()=>{if(!e.hideSelected&&l.value&&d.value.length){const F=b.value.findIndex(G=>d.value.some(z=>e.valueComparator(z.value,G.value)));pn&&window.requestAnimationFrame(()=>{var G;F>=0&&((G=o.value)==null||G.scrollToIndex(F))})}}),nt(b,(F,G)=>{p.value&&(!F.length&&e.hideNoData&&(l.value=!1),!G.length&&F.length&&(l.value=!0))}),Ge(()=>{const F=!!(e.chips||n.chip),G=!!(!e.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),z=d.value.length>0,N=vu.filterProps(e),U=z||!p.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return W(vu,je({ref:a},N,{modelValue:d.value.map($=>$.props.value).join(", "),"onUpdate:modelValue":B,focused:p.value,"onUpdate:focused":$=>p.value=$,validationValue:d.externalValue,counterValue:h.value,dirty:z,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:U,"onClick:clear":M,"onMousedown:control":T,onBlur:R,onKeydown:E,"aria-label":r(g.value),title:r(g.value)}),{...n,default:()=>W(tt,null,[W(R0,je({ref:i,modelValue:l.value,"onUpdate:modelValue":$=>l.value=$,activator:"parent",contentClass:"v-select__content",disabled:A.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:I},S.value),{default:()=>[G&&W(E0,je({ref:_,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:$=>$.preventDefault(),onKeydown:C,onFocusin:D,onScrollPassive:w,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var $,k,V;return[($=n["prepend-item"])==null?void 0:$.call(n),!b.value.length&&!e.hideNoData&&(((k=n["no-data"])==null?void 0:k.call(n))??W(os,{title:r(e.noDataText)},null)),W(L0,{ref:o,renderless:!0,items:b.value},{default:L=>{var X;let{item:O,index:H,itemRef:j}=L;const Y=je(O.props,{ref:j,key:H,onClick:()=>P(O)});return((X=n.item)==null?void 0:X.call(n,{item:O,index:H,props:Y}))??W(os,je(Y,{role:"option"}),{prepend:Q=>{let{isSelected:K}=Q;return W(tt,null,[e.multiple&&!e.hideSelected?W(is,{key:O.value,modelValue:K,ripple:!1,tabindex:"-1"},null):void 0,O.props.prependAvatar&&W(ii,{image:O.props.prependAvatar},null),O.props.prependIcon&&W(sn,{icon:O.props.prependIcon},null)])}})}}),(V=n["append-item"])==null?void 0:V.call(n)]}})]}),d.value.map(($,k)=>{function V(j){j.stopPropagation(),j.preventDefault(),P($)}const L={"onClick:close":V,onMousedown(j){j.preventDefault(),j.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},O=F?!!n.chip:!!n.selection,H=O?p0(F?n.chip({item:$,index:k,props:L}):n.selection({item:$,index:k})):void 0;if(!(O&&!H))return W("div",{key:$.value,class:"v-select__selection"},[F?n.chip?W(Kt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:$.title}}},{default:()=>[H]}):W(Uv,je({key:"chip",closable:e.closableChips,size:"small",text:$.title,disabled:$.props.disabled},L),null):H??W("span",{class:"v-select__selection-text"},[$.title,e.multiple&&k<d.value.length-1&&W("span",{class:"v-select__selection-comma"},[Lt(",")])])])})]),"append-inner":function(){var L;for(var $=arguments.length,k=new Array($),V=0;V<$;V++)k[V]=arguments[V];return W(tt,null,[(L=n["append-inner"])==null?void 0:L.call(n,...k),e.menuIcon?W(sn,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),fi({isFocused:p,menu:l,select:P},a)}}),FNe=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Gv=Ie({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function VNe(e,t,n){var s;const r=[],a=(n==null?void 0:n.default)??FNe,i=n!=null&&n.filterKeys?Wn(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let l=0;l<e.length;l++){const[u,c=u]=Wn(e[l]),f={},d={};let h=-1;if(t&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const p=i||Object.keys(c);for(const g of p){const y=Cr(c,g,c),x=(s=n==null?void 0:n.customKeyFilter)==null?void 0:s[g];if(h=x?x(y,t,u):a(y,t,u),h!==-1&&h!==!1)x?f[g]=h:d[g]=h;else if((n==null?void 0:n.filterMode)==="every")continue e}}else h=a(u,t,u),h!==-1&&h!==!1&&(d.title=h);const v=Object.keys(d).length,m=Object.keys(f).length;if(!v&&!m||(n==null?void 0:n.filterMode)==="union"&&m!==o&&!v||(n==null?void 0:n.filterMode)==="intersection"&&(m!==o||!v))continue}r.push({index:l,matches:{...d,...f}})}return r}function Wv(e,t,n,r){const a=Oe([]),i=Oe(new Map),o=ie(()=>r!=null&&r.transform?ft(t).map(l=>[l,r.transform(l)]):ft(t));Fn(()=>{const l=typeof n=="function"?n():ft(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=VNe(o.value,u,{customKeyFilter:{...e.customKeyFilter,...ft(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=ft(t),d=[],h=new Map;c.forEach(v=>{let{index:m,matches:p}=v;const g=f[m];d.push(g),h.set(g.value,p)}),a.value=d,i.value=h});function s(l){return i.value.get(l.value)}return{filteredItems:a,filteredMatches:i,getMatches:s}}function zNe(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?W(tt,null,[W("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),W("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),W("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const UNe=Ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Gv({filterKeys:["title"]}),...kR(),...gr(D0({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ds({transition:!1})},"VAutocomplete"),HNe=He()({name:"VAutocomplete",props:UNe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=er(),a=Oe(),i=it(!1),o=it(!0),s=it(!1),l=Oe(),u=Oe(),c=yt(e,"menu"),f=ie({get:()=>c.value,set:H=>{var j;c.value&&!H&&((j=l.value)!=null&&j.ΨopenChildren)||(c.value=H)}}),d=it(-1),h=ie(()=>{var H;return(H=a.value)==null?void 0:H.color}),v=ie(()=>f.value?e.closeText:e.openText),{items:m,transformIn:p,transformOut:g}=DR(e),{textColorClasses:y,textColorStyles:x}=Wr(h),b=yt(e,"search",""),A=yt(e,"modelValue",[],H=>p(H===null?[null]:Wn(H)),H=>{const j=g(H);return e.multiple?j:j[0]??null}),S=ie(()=>typeof e.counterValue=="function"?e.counterValue(A.value):typeof e.counterValue=="number"?e.counterValue:A.value.length),_=M0(),{filteredItems:w,getMatches:C}=Wv(e,m,()=>o.value?"":b.value),M=ie(()=>e.hideSelected?w.value.filter(H=>!A.value.some(j=>j.value===H.value)):w.value),T=ie(()=>A.value.map(H=>H.props.value)),E=ie(()=>{var j;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&b.value===((j=M.value[0])==null?void 0:j.title))&&M.value.length>0&&!o.value&&!s.value}),P=ie(()=>e.hideNoData&&!M.value.length||e.readonly||(_==null?void 0:_.isReadonly.value)),R=Oe(),{onListScroll:I,onListKeydown:D}=NR(R,a);function B(H){e.openOnClear&&(f.value=!0),b.value=""}function F(){P.value||(f.value=!0)}function G(H){P.value||(i.value&&(H.preventDefault(),H.stopPropagation()),f.value=!f.value)}function z(H){var X,Q,K;if(e.readonly||_!=null&&_.isReadonly.value)return;const j=a.value.selectionStart,Y=A.value.length;if((d.value>-1||["Enter","ArrowDown","ArrowUp"].includes(H.key))&&H.preventDefault(),["Enter","ArrowDown"].includes(H.key)&&(f.value=!0),["Escape"].includes(H.key)&&(f.value=!1),E.value&&["Enter","Tab"].includes(H.key)&&O(M.value[0]),H.key==="ArrowDown"&&E.value&&((X=R.value)==null||X.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(H.key)){if(d.value<0){H.key==="Backspace"&&!b.value&&(d.value=Y-1);return}const Z=d.value,te=A.value[d.value];te&&!te.props.disabled&&O(te),d.value=Z>=Y-1?Y-2:Z}if(H.key==="ArrowLeft"){if(d.value<0&&j>0)return;const Z=d.value>-1?d.value-1:Y-1;A.value[Z]?d.value=Z:(d.value=-1,a.value.setSelectionRange((Q=b.value)==null?void 0:Q.length,(K=b.value)==null?void 0:K.length))}if(H.key==="ArrowRight"){if(d.value<0)return;const Z=d.value+1;A.value[Z]?d.value=Z:(d.value=-1,a.value.setSelectionRange(0,0))}}}function N(H){if(yf(a.value,":autofill")||yf(a.value,":-webkit-autofill")){const j=m.value.find(Y=>Y.title===H.target.value);j&&O(j)}}function U(){var H;i.value&&(o.value=!0,(H=a.value)==null||H.focus())}function $(H){i.value=!0,setTimeout(()=>{s.value=!0})}function k(H){s.value=!1}function V(H){(H==null||H===""&&!e.multiple)&&(A.value=[])}const L=it(!1);function O(H){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!H.props.disabled)if(e.multiple){const Y=A.value.findIndex(X=>e.valueComparator(X.value,H.value));if(Y===-1)A.value=[...A.value,H];else{const X=[...A.value];X.splice(Y,1),A.value=X}e.clearOnSelect&&(b.value="")}else A.value=j?[H]:[],L.value=!0,b.value=j?H.title:"",f.value=!1,o.value=!0,Ht(()=>L.value=!1)}return nt(i,(H,j)=>{var Y;H!==j&&(H?(L.value=!0,b.value=e.multiple?"":String(((Y=A.value.at(-1))==null?void 0:Y.props.title)??""),o.value=!0,Ht(()=>L.value=!1)):(!e.multiple&&b.value==null?A.value=[]:E.value&&!s.value&&!A.value.some(X=>{let{value:Q}=X;return Q===M.value[0].value})&&O(M.value[0]),f.value=!1,b.value="",d.value=-1))}),nt(b,H=>{!i.value||L.value||(H&&(f.value=!0),o.value=!H)}),nt(f,()=>{if(!e.hideSelected&&f.value&&A.value.length){const H=M.value.findIndex(j=>A.value.some(Y=>j.value===Y.value));pn&&window.requestAnimationFrame(()=>{var j;H>=0&&((j=u.value)==null||j.scrollToIndex(H))})}}),nt(M,(H,j)=>{i.value&&(!H.length&&e.hideNoData&&(f.value=!1),!j.length&&H.length&&(f.value=!0))}),Ge(()=>{const H=!!(e.chips||n.chip),j=!!(!e.hideNoData||M.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Y=A.value.length>0,X=vu.filterProps(e);return W(vu,je({ref:a},X,{modelValue:b.value,"onUpdate:modelValue":[Q=>b.value=Q,V],focused:i.value,"onUpdate:focused":Q=>i.value=Q,validationValue:A.externalValue,counterValue:S.value,dirty:Y,onChange:N,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":f.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!n.selection,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:Y?void 0:e.placeholder,"onClick:clear":B,"onMousedown:control":F,onKeydown:z}),{...n,default:()=>W(tt,null,[W(R0,je({ref:l,modelValue:f.value,"onUpdate:modelValue":Q=>f.value=Q,activator:"parent",contentClass:"v-autocomplete__content",disabled:P.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:U},e.menuProps),{default:()=>[j&&W(E0,je({ref:R,selected:T.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Q=>Q.preventDefault(),onKeydown:D,onFocusin:$,onFocusout:k,onScrollPassive:I,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var Q,K,Z;return[(Q=n["prepend-item"])==null?void 0:Q.call(n),!M.value.length&&!e.hideNoData&&(((K=n["no-data"])==null?void 0:K.call(n))??W(os,{title:r(e.noDataText)},null)),W(L0,{ref:u,renderless:!0,items:M.value},{default:te=>{var re;let{item:oe,index:ue,itemRef:se}=te;const me=je(oe.props,{ref:se,key:ue,active:E.value&&ue===0?!0:void 0,onClick:()=>O(oe)});return((re=n.item)==null?void 0:re.call(n,{item:oe,index:ue,props:me}))??W(os,me,{prepend:q=>{let{isSelected:ae}=q;return W(tt,null,[e.multiple&&!e.hideSelected?W(is,{key:oe.value,modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0,oe.props.prependAvatar&&W(ii,{image:oe.props.prependAvatar},null),oe.props.prependIcon&&W(sn,{icon:oe.props.prependIcon},null)])},title:()=>{var q,ae;return o.value?oe.title:zNe(oe.title,(q=C(oe))==null?void 0:q.title,((ae=b.value)==null?void 0:ae.length)??0)}})}}),(Z=n["append-item"])==null?void 0:Z.call(n)]}})]}),A.value.map((Q,K)=>{function Z(se){se.stopPropagation(),se.preventDefault(),O(Q,!1)}const te={"onClick:close":Z,onMousedown(se){se.preventDefault(),se.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},oe=H?!!n.chip:!!n.selection,ue=oe?p0(H?n.chip({item:Q,index:K,props:te}):n.selection({item:Q,index:K})):void 0;if(!(oe&&!ue))return W("div",{key:Q.value,class:["v-autocomplete__selection",K===d.value&&["v-autocomplete__selection--selected",y.value]],style:K===d.value?x.value:{}},[H?n.chip?W(Kt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Q.title}}},{default:()=>[ue]}):W(Uv,je({key:"chip",closable:e.closableChips,size:"small",text:Q.title,disabled:Q.props.disabled},te),null):ue??W("span",{class:"v-autocomplete__selection-text"},[Q.title,e.multiple&&K<A.value.length-1&&W("span",{class:"v-autocomplete__selection-comma"},[Lt(",")])])])})]),"append-inner":function(){var te;for(var Q=arguments.length,K=new Array(Q),Z=0;Z<Q;Z++)K[Z]=arguments[Z];return W(tt,null,[(te=n["append-inner"])==null?void 0:te.call(n,...K),e.menuIcon?W(sn,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:G,onClick:b7,"aria-label":r(v.value),title:r(v.value)},null):void 0])}})}),fi({isFocused:i,isPristine:o,menu:f,search:b,filteredItems:w,select:O},a)}}),$Ne=Ie({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ot,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...ct(),...xl({location:"top end"}),...Mn(),...kt(),...Zt(),...ds({transition:"scale-rotate-transition"})},"VBadge"),GNe=He()({name:"VBadge",inheritAttrs:!1,props:$Ne(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=mn(ze(e,"color")),{roundedClasses:a}=zn(e),{t:i}=er(),{textColorClasses:o,textColorStyles:s}=Wr(ze(e,"textColor")),{themeClasses:l}=G7(),{locationStyles:u}=bl(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return Ge(()=>{const c=Number(e.content),f=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[d,h]=YM(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return W(e.tag,je({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>{var v,m;return[W("div",{class:"v-badge__wrapper"},[(m=(v=t.slots).default)==null?void 0:m.call(v),W(Qa,{transition:e.transition},{default:()=>{var p,g;return[_n(W("span",je({class:["v-badge__badge",l.value,n.value,a.value,o.value],style:[r.value,s.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":i(e.label,c),"aria-live":"polite",role:"status"},d),[e.dot?void 0:t.slots.badge?(g=(p=t.slots).badge)==null?void 0:g.call(p):e.icon?W(sn,{icon:e.icon},null):f]),[[Ta,e.modelValue]])]}})])]}})}),{}}}),WNe=Ie({color:String,density:String,...ct()},"VBannerActions"),KY=He()({name:"VBannerActions",props:WNe(),setup(e,t){let{slots:n}=t;return Rn({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),Ge(()=>{var r;return W("div",{class:["v-banner-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),ZY=La("v-banner-text"),jNe=Ie({avatar:String,bgColor:String,color:String,icon:Ot,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Na(),...ct(),...br(),...sa(),...xR(),...fr(),...xl(),...Zf(),...Mn(),...kt(),...Zt()},"VBanner"),YNe=He()({name:"VBanner",props:jNe(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=mn(e,"bgColor"),{borderClasses:i}=ui(e),{densityClasses:o}=Xr(e),{displayClasses:s,mobile:l}=Du(e),{dimensionStyles:u}=la(e),{elevationClasses:c}=Rr(e),{locationStyles:f}=bl(e),{positionClasses:d}=Qf(e),{roundedClasses:h}=zn(e),{themeClasses:v}=ln(e),m=ze(e,"color"),p=ze(e,"density");Rn({VBannerActions:{color:m,density:p}}),Ge(()=>{const g=!!(e.text||n.text),y=!!(e.avatar||e.icon),x=!!(y||n.prepend);return W(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},v.value,r.value,i.value,o.value,s.value,c.value,d.value,h.value,e.class],style:[a.value,u.value,f.value,e.style],role:"banner"},{default:()=>{var b;return[x&&W("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?W(Kt,{key:"prepend-defaults",disabled:!y,defaults:{VAvatar:{color:m.value,density:p.value,icon:e.icon,image:e.avatar}}},n.prepend):W(ii,{key:"prepend-avatar",color:m.value,density:p.value,icon:e.icon,image:e.avatar},null)]),W("div",{class:"v-banner__content"},[g&&W(ZY,{key:"text"},{default:()=>{var A;return[((A=n.text)==null?void 0:A.call(n))??e.text]}}),(b=n.default)==null?void 0:b.call(n)]),n.actions&&W(KY,{key:"actions"},n.actions)]}})})}}),XNe=Ie({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Na(),...ct(),...br(),...fr(),...Mn(),...Xf({name:"bottom-navigation"}),...kt({tag:"header"}),...ku({modelValue:!0,selectedClass:"v-btn--selected"}),...Zt()},"VBottomNavigation"),qNe=He()({name:"VBottomNavigation",props:XNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=G7(),{borderClasses:a}=ui(e),{backgroundColorClasses:i,backgroundColorStyles:o}=mn(ze(e,"bgColor")),{densityClasses:s}=Xr(e),{elevationClasses:l}=Rr(e),{roundedClasses:u}=zn(e),{ssrBootStyles:c}=Lu(),f=ie(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),d=ze(e,"active"),{layoutItemStyles:h}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:ie(()=>"bottom"),layoutSize:ie(()=>d.value?f.value:0),elementSize:f,active:d,absolute:ze(e,"absolute")});return yl(e,TR),Rn({VBtn:{color:ze(e,"color"),density:ze(e,"density"),stacked:ie(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Ge(()=>W(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":d.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,i.value,a.value,s.value,l.value,u.value,e.class],style:[o.value,h.value,{height:lt(f.value),transform:`translateY(${lt(d.value?0:100,"%")})`},c.value,e.style]},{default:()=>[n.default&&W("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),QY=Ie({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Hv({origin:"center center",scrollStrategy:"block",transition:{component:x0},zIndex:2400})},"VDialog"),hT=He()({name:"VDialog",props:QY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{scopeId:a}=ed(),i=Oe();function o(l){var f,d;const u=l.relatedTarget,c=l.target;if(u!==c&&((f=i.value)!=null&&f.contentEl)&&((d=i.value)!=null&&d.globalTop)&&![document,i.value.contentEl].includes(c)&&!i.value.contentEl.contains(c)){const h=Bh(i.value.contentEl);if(!h.length)return;const v=h[0],m=h[h.length-1];u===v?m.focus():v.focus()}}pn&&nt(()=>r.value&&e.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),nt(r,async l=>{var u,c;await Ht(),l?(u=i.value.contentEl)==null||u.focus({preventScroll:!0}):(c=i.value.activatorEl)==null||c.focus({preventScroll:!0})});const s=ie(()=>je({"aria-haspopup":"dialog","aria-expanded":String(r.value)},e.activatorProps));return Ge(()=>{const l=ho.filterProps(e);return W(ho,je({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,"aria-modal":"true",activatorProps:s.value,role:"dialog"},a),{activator:n.activator,default:function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return W(Kt,{root:"VDialog"},{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,...c)]}})}})}),fi({},i)}}),KNe=Ie({inset:Boolean,...QY({transition:"bottom-sheet-transition"})},"VBottomSheet"),ZNe=He()({name:"VBottomSheet",props:KNe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue");return Ge(()=>{const a=hT.filterProps(e);return W(hT,je(a,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:r.value,"onUpdate:modelValue":i=>r.value=i,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),QNe=Ie({divider:[Number,String],...ct()},"VBreadcrumbsDivider"),JY=He()({name:"VBreadcrumbsDivider",props:QNe(),setup(e,t){let{slots:n}=t;return Ge(()=>{var r;return W("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((r=n==null?void 0:n.default)==null?void 0:r.call(n))??e.divider])}),{}}}),JNe=Ie({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...ct(),...Vv(),...kt({tag:"li"})},"VBreadcrumbsItem"),eX=He()({name:"VBreadcrumbsItem",props:JNe(),setup(e,t){let{slots:n,attrs:r}=t;const a=Fv(e,r),i=ie(()=>{var u;return e.active||((u=a.isActive)==null?void 0:u.value)}),o=ie(()=>i.value?e.activeColor:e.color),{textColorClasses:s,textColorStyles:l}=Wr(o);return Ge(()=>W(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":i.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:i.value&&e.activeClass},s.value,e.class],style:[l.value,e.style],"aria-current":i.value?"page":void 0},{default:()=>{var u,c;return[a.isLink.value?W("a",{class:"v-breadcrumbs-item--link",href:a.href.value,"aria-current":i.value?"page":void 0,onClick:a.navigate},[((c=n.default)==null?void 0:c.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),eke=Ie({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Ot,items:{type:Array,default:()=>[]},...ct(),...br(),...Mn(),...kt({tag:"ul"})},"VBreadcrumbs"),tke=He()({name:"VBreadcrumbs",props:eke(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=mn(ze(e,"bgColor")),{densityClasses:i}=Xr(e),{roundedClasses:o}=zn(e);Rn({VBreadcrumbsDivider:{divider:ze(e,"divider")},VBreadcrumbsItem:{activeClass:ze(e,"activeClass"),activeColor:ze(e,"activeColor"),color:ze(e,"color"),disabled:ze(e,"disabled")}});const s=ie(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return Ge(()=>{const l=!!(n.prepend||e.icon);return W(e.tag,{class:["v-breadcrumbs",r.value,i.value,o.value,e.class],style:[a.value,e.style]},{default:()=>{var u;return[l&&W("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?W(Kt,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):W(sn,{key:"prepend-icon",start:!0,icon:e.icon},null)]),s.value.map((c,f,d)=>{var m;let{item:h,raw:v}=c;return W(tt,null,[((m=n.item)==null?void 0:m.call(n,{item:h,index:f}))??W(eX,je({key:f,disabled:f>=d.length-1},typeof h=="string"?{title:h}:h),{default:n.title?()=>{var p;return(p=n.title)==null?void 0:p.call(n,{item:h,index:f})}:void 0}),f<d.length-1&&W(JY,null,{default:n.divider?()=>{var p;return(p=n.divider)==null?void 0:p.call(n,{item:v,index:f})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),tX=He()({name:"VCardActions",props:ct(),setup(e,t){let{slots:n}=t;return Rn({VBtn:{slim:!0,variant:"text"}}),Ge(()=>{var r;return W("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),nX=La("v-card-subtitle"),rX=La("v-card-title"),nke=Ie({appendAvatar:String,appendIcon:Ot,prependAvatar:String,prependIcon:Ot,subtitle:[String,Number],title:[String,Number],...ct(),...br()},"VCardItem"),aX=He()({name:"VCardItem",props:nke(),setup(e,t){let{slots:n}=t;return Ge(()=>{var u;const r=!!(e.prependAvatar||e.prependIcon),a=!!(r||n.prepend),i=!!(e.appendAvatar||e.appendIcon),o=!!(i||n.append),s=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return W("div",{class:["v-card-item",e.class],style:e.style},[a&&W("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?W(Kt,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):W(tt,null,[e.prependAvatar&&W(ii,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&W(sn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),W("div",{class:"v-card-item__content"},[s&&W(rX,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&W(nX,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&W("div",{key:"append",class:"v-card-item__append"},[n.append?W(Kt,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):W(tt,null,[e.appendIcon&&W(sn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&W(ii,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),iX=La("v-card-text"),rke=Ie({appendAvatar:String,appendIcon:Ot,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ot,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Na(),...ct(),...br(),...sa(),...fr(),...A0(),...xl(),...Zf(),...Mn(),...Vv(),...kt(),...Zt(),...ci({variant:"elevated"})},"VCard"),ake=He()({name:"VCard",directives:{Ripple:vs},props:rke(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=ln(e),{borderClasses:i}=ui(e),{colorClasses:o,colorStyles:s,variantClasses:l}=Nu(e),{densityClasses:u}=Xr(e),{dimensionStyles:c}=la(e),{elevationClasses:f}=Rr(e),{loaderClasses:d}=Bv(e),{locationStyles:h}=bl(e),{positionClasses:v}=Qf(e),{roundedClasses:m}=zn(e),p=Fv(e,n),g=ie(()=>e.link!==!1&&p.isLink.value),y=ie(()=>!e.disabled&&e.link!==!1&&(e.link||p.isClickable.value));return Ge(()=>{const x=g.value?"a":e.tag,b=!!(r.title||e.title!=null),A=!!(r.subtitle||e.subtitle!=null),S=b||A,_=!!(r.append||e.appendAvatar||e.appendIcon),w=!!(r.prepend||e.prependAvatar||e.prependIcon),C=!!(r.image||e.image),M=S||w||_,T=!!(r.text||e.text!=null);return _n(W(x,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":y.value},a.value,i.value,o.value,u.value,f.value,d.value,v.value,m.value,l.value,e.class],style:[s.value,c.value,h.value,e.style],href:p.href.value,onClick:y.value&&p.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var E;return[C&&W("div",{key:"image",class:"v-card__image"},[r.image?W(Kt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):W(du,{key:"image-img",cover:!0,src:e.image},null)]),W(w0,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),M&&W(aX,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),T&&W(iX,{key:"text"},{default:()=>{var P;return[((P=r.text)==null?void 0:P.call(r))??e.text]}}),(E=r.default)==null?void 0:E.call(r),r.actions&&W(tX,null,{default:r.actions}),Ou(y.value,"v-card")]}}),[[pa("ripple"),y.value&&e.ripple]])}),{}}}),ike=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:a}=e,i=.5,o=16;e.offsetX=n-t,e.offsetY=a-r,Math.abs(e.offsetY)<i*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<i*Math.abs(e.offsetY)&&(e.up&&a<r-o&&e.up(e),e.down&&a>r+o&&e.down(e))};function oke(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function ske(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),ike(t)}function lke(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function uke(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>oke(n,t),touchend:n=>ske(n,t),touchmove:n=>lke(n,t)}}function cke(e,t){var s;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,a=(n==null?void 0:n.options)??{passive:!0},i=(s=t.instance)==null?void 0:s.$.uid;if(!r||!i)return;const o=uke(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=o,h7(o).forEach(l=>{r.addEventListener(l,o[l],a)})}function fke(e,t){var i,o;const n=(i=t.value)!=null&&i.parent?e.parentElement:e,r=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const a=n._touchHandlers[r];h7(a).forEach(s=>{n.removeEventListener(s,a[s])}),delete n._touchHandlers[r]}const BR={mounted:cke,unmounted:fke},oX=Symbol.for("vuetify:v-window"),sX=Symbol.for("vuetify:v-window-group"),FR=Ie({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ct(),...kt(),...Zt()},"VWindow"),Gh=He()({name:"VWindow",directives:{Touch:BR},props:FR(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{isRtl:a}=Pr(),{t:i}=er(),o=yl(e,sX),s=Oe(),l=ie(()=>a.value?!e.reverse:e.reverse),u=it(!1),c=ie(()=>{const b=e.direction==="vertical"?"y":"x",S=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${b}${S}-transition`}),f=it(0),d=Oe(void 0),h=ie(()=>o.items.value.findIndex(b=>o.selected.value.includes(b.id)));nt(h,(b,A)=>{const S=o.items.value.length,_=S-1;S<=2?u.value=b<A:b===_&&A===0?u.value=!0:b===0&&A===_?u.value=!1:u.value=b<A}),cn(oX,{transition:c,isReversed:u,transitionCount:f,transitionHeight:d,rootRef:s});const v=ie(()=>e.continuous||h.value!==0),m=ie(()=>e.continuous||h.value!==o.items.value.length-1);function p(){v.value&&o.prev()}function g(){m.value&&o.next()}const y=ie(()=>{const b=[],A={icon:a.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":i("$vuetify.carousel.prev")};b.push(v.value?n.prev?n.prev({props:A}):W(vn,A,null):W("div",null,null));const S={icon:a.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":i("$vuetify.carousel.next")};return b.push(m.value?n.next?n.next({props:S}):W(vn,S,null):W("div",null,null)),b}),x=ie(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?p():g()},right:()=>{l.value?g():p()},start:A=>{let{originalEvent:S}=A;S.stopPropagation()}},...e.touch===!0?{}:e.touch});return Ge(()=>_n(W(e.tag,{ref:s,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var b,A;return[W("div",{class:"v-window__container",style:{height:d.value}},[(b=n.default)==null?void 0:b.call(n,{group:o}),e.showArrows!==!1&&W("div",{class:"v-window__controls"},[y.value])]),(A=n.additional)==null?void 0:A.call(n,{group:o})]}}),[[pa("touch"),x.value]])),{group:o}}}),dke=Ie({color:String,cycle:Boolean,delimiterIcon:{type:Ot,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...FR({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),hke=He()({name:"VCarousel",props:dke(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{t:a}=er(),i=Oe();let o=-1;nt(r,l),nt(()=>e.interval,l),nt(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),gn(s);function s(){!e.cycle||!i.value||(o=window.setTimeout(i.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(s)}return Ge(()=>{const u=Gh.filterProps(e);return W(Gh,je({ref:i},u,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:lt(e.height)},e.style]}),{default:n.default,additional:c=>{let{group:f}=c;return W(tt,null,[!e.hideDelimiters&&W("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[f.items.value.length>0&&W(Kt,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[f.items.value.map((d,h)=>{const v={id:`carousel-item-${d.id}`,"aria-label":a("$vuetify.carousel.ariaLabel.delimiter",h+1,f.items.value.length),class:["v-carousel__controls__item",f.isSelected(d.id)&&"v-btn--active"],onClick:()=>f.select(d.id,!0)};return n.item?n.item({props:v,item:d}):W(vn,je(d,v),null)})]})]),e.progress&&W(_0,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(f.getItemIndex(r.value)+1)/f.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),VR=Ie({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ct(),...Bu(),...P0()},"VWindowItem"),Wh=He()({name:"VWindowItem",directives:{Touch:BR},props:VR(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Vt(oX),a=Fu(e,sX),{isBooted:i}=Lu();if(!r||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=it(!1),s=ie(()=>i.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var v;o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=lt((v=r.rootRef.value)==null?void 0:v.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function f(v){o.value&&Ht(()=>{!s.value||!o.value||!r||(r.transitionHeight.value=lt(v.clientHeight))})}const d=ie(()=>{const v=r.isReversed.value?e.reverseTransition:e.transition;return s.value?{name:typeof v!="string"?r.transition.value:v,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:f}:!1}),{hasContent:h}=LR(e,a.isSelected);return Ge(()=>W(Qa,{transition:d.value,disabled:!i.value},{default:()=>{var v;return[_n(W("div",{class:["v-window-item",a.selectedClass.value,e.class],style:e.style},[h.value&&((v=n.default)==null?void 0:v.call(n))]),[[Ta,a.isSelected.value]])]}})),{groupItem:a}}}),vke=Ie({...eY(),...VR()},"VCarouselItem"),pke=He()({name:"VCarouselItem",inheritAttrs:!1,props:vke(),setup(e,t){let{slots:n,attrs:r}=t;Ge(()=>{const a=du.filterProps(e),i=Wh.filterProps(e);return W(Wh,je({class:"v-carousel-item"},i),{default:()=>[W(du,je(r,a),n)]})})}}),gke=La("v-code"),mke=Ie({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...ct()},"VColorPickerCanvas"),yke=Da({name:"VColorPickerCanvas",props:mke(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const r=it(!1),a=Oe(),i=it(parseFloat(e.width)),o=it(parseFloat(e.height)),s=Oe({x:0,y:0}),l=ie({get:()=>s.value,set(p){var x,b;if(!a.value)return;const{x:g,y}=p;s.value=p,n("update:color",{h:((x=e.color)==null?void 0:x.h)??0,s:ar(g,0,i.value)/i.value,v:1-ar(y,0,o.value)/o.value,a:((b=e.color)==null?void 0:b.a)??1})}}),u=ie(()=>{const{x:p,y:g}=l.value,y=parseInt(e.dotSize,10)/2;return{width:lt(e.dotSize),height:lt(e.dotSize),transform:`translate(${lt(p-y)}, ${lt(g-y)})`}}),{resizeRef:c}=fo(p=>{var x;if(!((x=c.value)!=null&&x.offsetParent))return;const{width:g,height:y}=p[0].contentRect;i.value=g,o.value=y});function f(p,g,y){const{left:x,top:b,width:A,height:S}=y;l.value={x:ar(p-x,0,A),y:ar(g-b,0,S)}}function d(p){p.type==="mousedown"&&p.preventDefault(),!e.disabled&&(h(p),window.addEventListener("mousemove",h),window.addEventListener("mouseup",v),window.addEventListener("touchmove",h),window.addEventListener("touchend",v))}function h(p){if(e.disabled||!a.value)return;r.value=!0;const g=jDe(p);f(g.clientX,g.clientY,a.value.getBoundingClientRect())}function v(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",v),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",v)}function m(){var b;if(!a.value)return;const p=a.value,g=p.getContext("2d");if(!g)return;const y=g.createLinearGradient(0,0,p.width,0);y.addColorStop(0,"hsla(0, 0%, 100%, 1)"),y.addColorStop(1,`hsla(${((b=e.color)==null?void 0:b.h)??0}, 100%, 50%, 1)`),g.fillStyle=y,g.fillRect(0,0,p.width,p.height);const x=g.createLinearGradient(0,0,0,p.height);x.addColorStop(0,"hsla(0, 0%, 100%, 0)"),x.addColorStop(1,"hsla(0, 0%, 0%, 1)"),g.fillStyle=x,g.fillRect(0,0,p.width,p.height)}return nt(()=>{var p;return(p=e.color)==null?void 0:p.h},m,{immediate:!0}),nt(()=>[i.value,o.value],(p,g)=>{m(),s.value={x:l.value.x*p[0]/g[0],y:l.value.y*p[1]/g[1]}},{flush:"post"}),nt(()=>e.color,()=>{if(r.value){r.value=!1;return}s.value=e.color?{x:e.color.s*i.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),gn(()=>m()),Ge(()=>W("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:d,onTouchstartPassive:d},[W("canvas",{ref:a,width:i.value,height:o.value},null),e.color&&W("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function xke(e,t){if(t){const{a:n,...r}=e;return r}return e}function bke(e,t){if(t==null||typeof t=="string"){const n=D7(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return Ql(t,["r","g","b"])?n=as(e):Ql(t,["h","s","l"])?n=M7(e):Ql(t,["h","s","v"])&&(n=e),xke(n,!Ql(t,["a"])&&e.a===1)}return e}const Lc={h:0,s:0,v:1,a:1},vT={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:as,from:g0};var w4;const Ske={...vT,inputs:(w4=vT.inputs)==null?void 0:w4.slice(0,3)},pT={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:M7,from:pR},_ke={...pT,inputs:pT.inputs.slice(0,3)},lX={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:D7,from:I7},Ake={...lX,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},su={rgb:Ske,rgba:vT,hsl:_ke,hsla:pT,hex:Ake,hexa:lX},wke=e=>{let{label:t,...n}=e;return W("div",{class:"v-color-picker-edit__input"},[W("input",n,null),W("span",null,[t])])},Cke=Ie({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(su).includes(e)},modes:{type:Array,default:()=>Object.keys(su),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(su).includes(t))},...ct()},"VColorPickerEdit"),Mke=Da({name:"VColorPickerEdit",props:Cke(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const r=ie(()=>e.modes.map(i=>({...su[i],name:i}))),a=ie(()=>{var s;const i=r.value.find(l=>l.name===e.mode);if(!i)return[];const o=e.color?i.to(e.color):null;return(s=i.inputs)==null?void 0:s.map(l=>{let{getValue:u,getColor:c,...f}=l;return{...i.inputProps,...f,disabled:e.disabled,value:o&&u(o),onChange:d=>{const h=d.target;h&&n("update:color",i.from(c(o??Lc,h.value)))}}})});return Ge(()=>{var i;return W("div",{class:["v-color-picker-edit",e.class],style:e.style},[(i=a.value)==null?void 0:i.map(o=>W(wke,o,null)),r.value.length>1&&W(vn,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=r.value.findIndex(s=>s.name===e.mode);n("update:mode",r.value[(o+1)%r.value.length].name)}},null)])}),{}}}),zR=Symbol.for("vuetify:v-slider");function gT(e,t,n){const r=n==="vertical",a=t.getBoundingClientRect(),i="touches"in e?e.touches[0]:e;return r?i.clientY-(a.top+a.height/2):i.clientX-(a.left+a.width/2)}function Tke(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const uX=Ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Mn(),...fr({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),cX=e=>{const t=ie(()=>parseFloat(e.min)),n=ie(()=>parseFloat(e.max)),r=ie(()=>+e.step>0?parseFloat(e.step):0),a=ie(()=>Math.max(T5(r.value),T5(t.value)));function i(o){if(o=parseFloat(o),r.value<=0)return o;const s=ar(o,t.value,n.value),l=t.value%r.value,u=Math.round((s-l)/r.value)*r.value+l;return parseFloat(Math.min(u,n.value).toFixed(a.value))}return{min:t,max:n,step:r,decimals:a,roundValue:i}},fX=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:a,onSliderEnd:i,getActiveThumb:o}=e;const{isRtl:s}=Pr(),l=ze(t,"reverse"),u=ie(()=>t.direction==="vertical"),c=ie(()=>u.value!==l.value),{min:f,max:d,step:h,decimals:v,roundValue:m}=n,p=ie(()=>parseInt(t.thumbSize,10)),g=ie(()=>parseInt(t.tickSize,10)),y=ie(()=>parseInt(t.trackSize,10)),x=ie(()=>(d.value-f.value)/h.value),b=ze(t,"disabled"),A=ie(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),S=ie(()=>t.error||t.disabled?void 0:t.trackColor??t.color),_=ie(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),w=it(!1),C=it(0),M=Oe(),T=Oe();function E(L){var te;const O=t.direction==="vertical",H=O?"top":"left",j=O?"height":"width",Y=O?"clientY":"clientX",{[H]:X,[j]:Q}=(te=M.value)==null?void 0:te.$el.getBoundingClientRect(),K=Tke(L,Y);let Z=Math.min(Math.max((K-X-C.value)/Q,0),1)||0;return(O?c.value:c.value!==s.value)&&(Z=1-Z),m(f.value+Z*(d.value-f.value))}const P=L=>{i({value:E(L)}),w.value=!1,C.value=0},R=L=>{T.value=o(L),T.value&&(T.value.focus(),w.value=!0,T.value.contains(L.target)?C.value=gT(L,T.value,t.direction):(C.value=0,a({value:E(L)})),r({value:E(L)}))},I={passive:!0,capture:!0};function D(L){a({value:E(L)})}function B(L){L.stopPropagation(),L.preventDefault(),P(L),window.removeEventListener("mousemove",D,I),window.removeEventListener("mouseup",B)}function F(L){var O;P(L),window.removeEventListener("touchmove",D,I),(O=L.target)==null||O.removeEventListener("touchend",F)}function G(L){var O;R(L),window.addEventListener("touchmove",D,I),(O=L.target)==null||O.addEventListener("touchend",F,{passive:!1})}function z(L){L.preventDefault(),R(L),window.addEventListener("mousemove",D,I),window.addEventListener("mouseup",B,{passive:!1})}const N=L=>{const O=(L-f.value)/(d.value-f.value)*100;return ar(isNaN(O)?0:O,0,100)},U=ze(t,"showTicks"),$=ie(()=>U.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(L=>({value:L,position:N(L),label:L.toString()})):Object.keys(t.ticks).map(L=>({value:parseFloat(L),position:N(parseFloat(L)),label:t.ticks[L]})):x.value!==1/0?ro(x.value+1).map(L=>{const O=f.value+L*h.value;return{value:O,position:N(O)}}):[]:[]),k=ie(()=>$.value.some(L=>{let{label:O}=L;return!!O})),V={activeThumbRef:T,color:ze(t,"color"),decimals:v,disabled:b,direction:ze(t,"direction"),elevation:ze(t,"elevation"),hasLabels:k,isReversed:l,indexFromEnd:c,min:f,max:d,mousePressed:w,numTicks:x,onSliderMousedown:z,onSliderTouchstart:G,parsedTicks:$,parseMouseMove:E,position:N,readonly:ze(t,"readonly"),rounded:ze(t,"rounded"),roundValue:m,showTicks:U,startOffset:C,step:h,thumbSize:p,thumbColor:A,thumbLabel:ze(t,"thumbLabel"),ticks:ze(t,"ticks"),tickSize:g,trackColor:S,trackContainerRef:M,trackFillColor:_,trackSize:y,vertical:u};return cn(zR,V),V},Eke=Ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...ct()},"VSliderThumb"),mT=He()({name:"VSliderThumb",directives:{Ripple:vs},props:Eke(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Vt(zR),{isRtl:i,rtlClasses:o}=Pr();if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:l,disabled:u,thumbSize:c,thumbLabel:f,direction:d,isReversed:h,vertical:v,readonly:m,elevation:p,mousePressed:g,decimals:y,indexFromEnd:x}=a,b=ie(()=>u.value?void 0:p.value),{elevationClasses:A}=Rr(b),{textColorClasses:S,textColorStyles:_}=Wr(s),{pageup:w,pagedown:C,end:M,home:T,left:E,right:P,down:R,up:I}=jM,D=[w,C,M,T,E,P,R,I],B=ie(()=>l.value?[1,2,3]:[1,5,10]);function F(z,N){if(!D.includes(z.key))return;z.preventDefault();const U=l.value||.1,$=(e.max-e.min)/U;if([E,P,R,I].includes(z.key)){const V=(v.value?[i.value?E:P,h.value?R:I]:x.value!==i.value?[E,I]:[P,I]).includes(z.key)?1:-1,L=z.shiftKey?2:z.ctrlKey?1:0;N=N+V*U*B.value[L]}else if(z.key===T)N=e.min;else if(z.key===M)N=e.max;else{const k=z.key===C?1:-1;N=N-k*U*($>100?$/10:10)}return Math.max(e.min,Math.min(e.max,N))}function G(z){const N=F(z,e.modelValue);N!=null&&r("update:modelValue",N)}return Ge(()=>{const z=lt(x.value?100-e.position:e.position,"%");return W("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&g.value},e.class,o.value],style:[{"--v-slider-thumb-position":z,"--v-slider-thumb-size":lt(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!m.value,"aria-orientation":d.value,onKeydown:m.value?void 0:G},[W("div",{class:["v-slider-thumb__surface",S.value,A.value],style:{..._.value}},null),_n(W("div",{class:["v-slider-thumb__ripple",S.value],style:_.value},null),[[pa("ripple"),e.ripple,null,{circle:!0,center:!0}]]),W(AR,{origin:"bottom center"},{default:()=>{var N;return[_n(W("div",{class:"v-slider-thumb__label-container"},[W("div",{class:["v-slider-thumb__label"]},[W("div",null,[((N=n["thumb-label"])==null?void 0:N.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?y.value:1)])])]),[[Ta,f.value&&e.focused||f.value==="always"]])]}})])}),{}}}),Pke=Ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...ct()},"VSliderTrack"),dX=He()({name:"VSliderTrack",props:Pke(),emits:{},setup(e,t){let{slots:n}=t;const r=Vt(zR);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,parsedTicks:i,rounded:o,showTicks:s,tickSize:l,trackColor:u,trackFillColor:c,trackSize:f,vertical:d,min:h,max:v,indexFromEnd:m}=r,{roundedClasses:p}=zn(o),{backgroundColorClasses:g,backgroundColorStyles:y}=mn(c),{backgroundColorClasses:x,backgroundColorStyles:b}=mn(u),A=ie(()=>`inset-${d.value?"block":"inline"}-${m.value?"end":"start"}`),S=ie(()=>d.value?"height":"width"),_=ie(()=>({[A.value]:"0%",[S.value]:"100%"})),w=ie(()=>e.stop-e.start),C=ie(()=>({[A.value]:lt(e.start,"%"),[S.value]:lt(w.value,"%")})),M=ie(()=>s.value?(d.value?i.value.slice().reverse():i.value).map((E,P)=>{var I;const R=E.value!==h.value&&E.value!==v.value?lt(E.position,"%"):void 0;return W("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=e.start&&E.position<=e.stop,"v-slider-track__tick--first":E.value===h.value,"v-slider-track__tick--last":E.value===v.value}],style:{[A.value]:R}},[(E.label||n["tick-label"])&&W("div",{class:"v-slider-track__tick-label"},[((I=n["tick-label"])==null?void 0:I.call(n,{tick:E,index:P}))??E.label])])}):[]);return Ge(()=>W("div",{class:["v-slider-track",p.value,e.class],style:[{"--v-slider-track-size":lt(f.value),"--v-slider-tick-size":lt(l.value)},e.style]},[W("div",{class:["v-slider-track__background",x.value,{"v-slider-track__background--opacity":!!a.value||!c.value}],style:{..._.value,...b.value}},null),W("div",{class:["v-slider-track__fill",g.value],style:{...C.value,...y.value}},null),s.value&&W("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[M.value])])),{}}}),Rke=Ie({...zv(),...uX(),...gs(),modelValue:{type:[Number,String],default:0}},"VSlider"),yT=He()({name:"VSlider",props:Rke(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Oe(),{rtlClasses:i}=Pr(),o=cX(e),s=yt(e,"modelValue",void 0,S=>o.roundValue(S??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:f,onSliderMousedown:d,onSliderTouchstart:h,trackContainerRef:v,position:m,hasLabels:p,readonly:g}=fX({props:e,steps:o,onSliderStart:()=>{r("start",s.value)},onSliderEnd:S=>{let{value:_}=S;const w=f(_);s.value=w,r("end",w)},onSliderMove:S=>{let{value:_}=S;return s.value=f(_)},getActiveThumb:()=>{var S;return(S=a.value)==null?void 0:S.$el}}),{isFocused:y,focus:x,blur:b}=ps(e),A=ie(()=>m(s.value));return Ge(()=>{const S=kr.filterProps(e),_=!!(e.label||n.label||n.prepend);return W(kr,je({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":y.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style},S,{focused:y.value}),{...n,prepend:_?w=>{var C,M;return W(tt,null,[((C=n.label)==null?void 0:C.call(n,w))??(e.label?W(Jf,{id:w.id.value,class:"v-slider__label",text:e.label},null):void 0),(M=n.prepend)==null?void 0:M.call(n,w)])}:void 0,default:w=>{let{id:C,messagesId:M}=w;return W("div",{class:"v-slider__container",onMousedown:g.value?void 0:d,onTouchstartPassive:g.value?void 0:h},[W("input",{id:C.value,name:e.name||C.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:s.value},null),W(dX,{ref:v,start:0,stop:A.value},{"tick-label":n["tick-label"]}),W(mT,{ref:a,"aria-describedby":M.value,focused:y.value,min:l.value,max:u.value,modelValue:s.value,"onUpdate:modelValue":T=>s.value=T,position:A.value,elevation:e.elevation,onFocus:x,onBlur:b,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),Ike=Ie({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...ct()},"VColorPickerPreview"),Dke=Da({name:"VColorPickerPreview",props:Ike(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const r=new AbortController;fy(()=>r.abort());async function a(){if(!w5)return;const i=new window.EyeDropper;try{const o=await i.open({signal:r.signal}),s=I7(o.sRGBHex);n("update:color",{...e.color??Lc,...s})}catch{}}return Ge(()=>{var i,o;return W("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[w5&&W("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[W(vn,{onClick:a,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),W("div",{class:"v-color-picker-preview__dot"},[W("div",{style:{background:E7(e.color??Lc)}},null)]),W("div",{class:"v-color-picker-preview__sliders"},[W(yT,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(i=e.color)==null?void 0:i.h,"onUpdate:modelValue":s=>n("update:color",{...e.color??Lc,h:s}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&W(yT,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":s=>n("update:color",{...e.color??Lc,a:s}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),Lke={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},Oke={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},Nke={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},kke={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},Bke={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},Fke={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},Vke={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},zke={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},Uke={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},Hke={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},$ke={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},Gke={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},Wke={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},jke={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},Yke={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},Xke={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},qke={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},Kke={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},Zke={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},Qke={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},Jke={red:Lke,pink:Oke,purple:Nke,deepPurple:kke,indigo:Bke,blue:Fke,lightBlue:Vke,cyan:zke,teal:Uke,green:Hke,lightGreen:$ke,lime:Gke,yellow:Wke,amber:jke,orange:Yke,deepOrange:Xke,brown:qke,blueGrey:Kke,grey:Zke,shades:Qke},eBe=Ie({swatches:{type:Array,default:()=>tBe(Jke)},disabled:Boolean,color:Object,maxHeight:[Number,String],...ct()},"VColorPickerSwatches");function tBe(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const nBe=Da({name:"VColorPickerSwatches",props:eBe(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return Ge(()=>W("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:lt(e.maxHeight)},e.style]},[W("div",null,[e.swatches.map(r=>W("div",{class:"v-color-picker-swatches__swatch"},[r.map(a=>{const i=Za(a),o=g0(i),s=T7(i);return W("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[W("div",{style:{background:s}},[e.color&&fs(e.color,o)?W(sn,{size:"x-small",icon:"$success",color:g2e(a,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),O0=Ie({color:String,...Na(),...ct(),...sa(),...fr(),...xl(),...Zf(),...Mn(),...kt(),...Zt()},"VSheet"),pu=He()({name:"VSheet",props:O0(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{backgroundColorClasses:a,backgroundColorStyles:i}=mn(ze(e,"color")),{borderClasses:o}=ui(e),{dimensionStyles:s}=la(e),{elevationClasses:l}=Rr(e),{locationStyles:u}=bl(e),{positionClasses:c}=Qf(e),{roundedClasses:f}=zn(e);return Ge(()=>W(e.tag,{class:["v-sheet",r.value,a.value,o.value,l.value,c.value,f.value,e.class],style:[i.value,s.value,u.value,e.style]},n)),{}}}),rBe=Ie({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(su).includes(e)},modes:{type:Array,default:()=>Object.keys(su),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(su).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...gr(O0({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),aBe=Da({name:"VColorPicker",props:rBe(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=yt(e,"mode"),n=Oe(null),r=yt(e,"modelValue",void 0,o=>{if(o==null||o==="")return null;let s;try{s=g0(Za(o))}catch{return null}return n.value&&(s={...s,h:n.value.h},n.value=null),s},o=>o?bke(o,e.modelValue):null),{rtlClasses:a}=Pr(),i=o=>{r.value=o,n.value=o};return gn(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),Rn({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ge(()=>{const o=pu.filterProps(e);return W(pu,je({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",a.value,e.class],style:[{"--v-color-picker-color-hsv":E7({...r.value??Lc,a:1})},e.style]},o,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&W(yke,{key:"canvas",color:r.value,"onUpdate:color":i,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&W("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&W(Dke,{key:"preview",color:r.value,"onUpdate:color":i,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&W(Mke,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":s=>t.value=s,color:r.value,"onUpdate:color":i,disabled:e.disabled},null)]),e.showSwatches&&W(nBe,{key:"swatches",color:r.value,"onUpdate:color":i,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function iBe(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?W(tt,null,[W("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),W("span",{class:"v-combobox__mask"},[e.substr(t,n)]),W("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const oBe=Ie({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Gv({filterKeys:["title"]}),...kR({hideNoData:!0,returnObject:!0}),...gr(D0({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ds({transition:!1})},"VCombobox"),sBe=He()({name:"VCombobox",props:oBe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var j;let{emit:n,slots:r}=t;const{t:a}=er(),i=Oe(),o=it(!1),s=it(!0),l=it(!1),u=Oe(),c=Oe(),f=yt(e,"menu"),d=ie({get:()=>f.value,set:Y=>{var X;f.value&&!Y&&((X=u.value)!=null&&X.ΨopenChildren)||(f.value=Y)}}),h=it(-1);let v=!1;const m=ie(()=>{var Y;return(Y=i.value)==null?void 0:Y.color}),p=ie(()=>d.value?e.closeText:e.openText),{items:g,transformIn:y,transformOut:x}=DR(e),{textColorClasses:b,textColorStyles:A}=Wr(m),S=yt(e,"modelValue",[],Y=>y(Wn(Y)),Y=>{const X=x(Y);return e.multiple?X:X[0]??null}),_=M0(),w=it(e.multiple?"":((j=S.value[0])==null?void 0:j.title)??""),C=ie({get:()=>w.value,set:Y=>{var X;if(w.value=Y??"",e.multiple||(S.value=[eu(e,Y)]),Y&&e.multiple&&((X=e.delimiters)!=null&&X.length)){const Q=Y.split(new RegExp(`(?:${e.delimiters.join("|")})+`));Q.length>1&&(Q.forEach(K=>{K=K.trim(),K&&V(eu(e,K))}),w.value="")}Y||(h.value=-1),s.value=!Y}}),M=ie(()=>typeof e.counterValue=="function"?e.counterValue(S.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?S.value.length:C.value.length);nt(w,Y=>{v?Ht(()=>v=!1):o.value&&!d.value&&(d.value=!0),n("update:search",Y)}),nt(S,Y=>{var X;e.multiple||(w.value=((X=Y[0])==null?void 0:X.title)??"")});const{filteredItems:T,getMatches:E}=Wv(e,g,()=>s.value?"":C.value),P=ie(()=>e.hideSelected?T.value.filter(Y=>!S.value.some(X=>X.value===Y.value)):T.value),R=ie(()=>S.value.map(Y=>Y.value)),I=ie(()=>{var X;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&C.value===((X=P.value[0])==null?void 0:X.title))&&P.value.length>0&&!s.value&&!l.value}),D=ie(()=>e.hideNoData&&!P.value.length||e.readonly||(_==null?void 0:_.isReadonly.value)),B=Oe(),{onListScroll:F,onListKeydown:G}=NR(B,i);function z(Y){v=!0,e.openOnClear&&(d.value=!0)}function N(){D.value||(d.value=!0)}function U(Y){D.value||(o.value&&(Y.preventDefault(),Y.stopPropagation()),d.value=!d.value)}function $(Y){var K;if(HDe(Y)||e.readonly||_!=null&&_.isReadonly.value)return;const X=i.value.selectionStart,Q=S.value.length;if((h.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Y.key))&&Y.preventDefault(),["Enter","ArrowDown"].includes(Y.key)&&(d.value=!0),["Escape"].includes(Y.key)&&(d.value=!1),["Enter","Escape","Tab"].includes(Y.key)&&(I.value&&["Enter","Tab"].includes(Y.key)&&V(T.value[0]),s.value=!0),Y.key==="ArrowDown"&&I.value&&((K=B.value)==null||K.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(Y.key)){if(h.value<0){Y.key==="Backspace"&&!C.value&&(h.value=Q-1);return}const Z=h.value,te=S.value[h.value];te&&!te.props.disabled&&V(te,!1),h.value=Z>=Q-1?Q-2:Z}if(Y.key==="ArrowLeft"){if(h.value<0&&X>0)return;const Z=h.value>-1?h.value-1:Q-1;S.value[Z]?h.value=Z:(h.value=-1,i.value.setSelectionRange(C.value.length,C.value.length))}if(Y.key==="ArrowRight"){if(h.value<0)return;const Z=h.value+1;S.value[Z]?h.value=Z:(h.value=-1,i.value.setSelectionRange(0,0))}Y.key==="Enter"&&C.value&&(V(eu(e,C.value)),C.value="")}}function k(){var Y;o.value&&(s.value=!0,(Y=i.value)==null||Y.focus())}function V(Y){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.multiple){const Q=S.value.findIndex(Z=>e.valueComparator(Z.value,Y.value)),K=X??!~Q;if(~Q){const Z=K?[...S.value,Y]:[...S.value];Z.splice(Q,1),S.value=Z}else K&&(S.value=[...S.value,Y]);e.clearOnSelect&&(C.value="")}else{const Q=X!==!1;S.value=Q?[Y]:[],w.value=Q?Y.title:"",Ht(()=>{d.value=!1,s.value=!0})}}function L(Y){o.value=!0,setTimeout(()=>{l.value=!0})}function O(Y){l.value=!1}function H(Y){(Y==null||Y===""&&!e.multiple)&&(S.value=[])}return nt(o,(Y,X)=>{Y||Y===X||(h.value=-1,d.value=!1,I.value&&!l.value&&!S.value.some(Q=>{let{value:K}=Q;return K===P.value[0].value})?V(P.value[0]):e.multiple&&C.value&&V(eu(e,C.value)))}),nt(d,()=>{if(!e.hideSelected&&d.value&&S.value.length){const Y=P.value.findIndex(X=>S.value.some(Q=>e.valueComparator(Q.value,X.value)));pn&&window.requestAnimationFrame(()=>{var X;Y>=0&&((X=c.value)==null||X.scrollToIndex(Y))})}}),nt(P,(Y,X)=>{o.value&&(!Y.length&&e.hideNoData&&(d.value=!1),!X.length&&Y.length&&(d.value=!0))}),Ge(()=>{const Y=!!(e.chips||r.chip),X=!!(!e.hideNoData||P.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),Q=S.value.length>0,K=vu.filterProps(e);return W(vu,je({ref:i},K,{modelValue:C.value,"onUpdate:modelValue":[Z=>C.value=Z,H],focused:o.value,"onUpdate:focused":Z=>o.value=Z,validationValue:S.externalValue,counterValue:M.value,dirty:Q,class:["v-combobox",{"v-combobox--active-menu":d.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!r.selection,"v-combobox--selecting-index":h.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:Q?void 0:e.placeholder,"onClick:clear":z,"onMousedown:control":N,onKeydown:$}),{...r,default:()=>W(tt,null,[W(R0,je({ref:u,modelValue:d.value,"onUpdate:modelValue":Z=>d.value=Z,activator:"parent",contentClass:"v-combobox__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:k},e.menuProps),{default:()=>[X&&W(E0,je({ref:B,selected:R.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Z=>Z.preventDefault(),onKeydown:G,onFocusin:L,onFocusout:O,onScrollPassive:F,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var Z,te,oe;return[(Z=r["prepend-item"])==null?void 0:Z.call(r),!P.value.length&&!e.hideNoData&&(((te=r["no-data"])==null?void 0:te.call(r))??W(os,{title:a(e.noDataText)},null)),W(L0,{ref:c,renderless:!0,items:P.value},{default:ue=>{var ae;let{item:se,index:me,itemRef:re}=ue;const q=je(se.props,{ref:re,key:me,active:I.value&&me===0?!0:void 0,onClick:()=>V(se,null)});return((ae=r.item)==null?void 0:ae.call(r,{item:se,index:me,props:q}))??W(os,q,{prepend:ce=>{let{isSelected:ee}=ce;return W(tt,null,[e.multiple&&!e.hideSelected?W(is,{key:se.value,modelValue:ee,ripple:!1,tabindex:"-1"},null):void 0,se.props.prependAvatar&&W(ii,{image:se.props.prependAvatar},null),se.props.prependIcon&&W(sn,{icon:se.props.prependIcon},null)])},title:()=>{var ce,ee;return s.value?se.title:iBe(se.title,(ce=E(se))==null?void 0:ce.title,((ee=C.value)==null?void 0:ee.length)??0)}})}}),(oe=r["append-item"])==null?void 0:oe.call(r)]}})]}),S.value.map((Z,te)=>{function oe(re){re.stopPropagation(),re.preventDefault(),V(Z,!1)}const ue={"onClick:close":oe,onMousedown(re){re.preventDefault(),re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},se=Y?!!r.chip:!!r.selection,me=se?p0(Y?r.chip({item:Z,index:te,props:ue}):r.selection({item:Z,index:te})):void 0;if(!(se&&!me))return W("div",{key:Z.value,class:["v-combobox__selection",te===h.value&&["v-combobox__selection--selected",b.value]],style:te===h.value?A.value:{}},[Y?r.chip?W(Kt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Z.title}}},{default:()=>[me]}):W(Uv,je({key:"chip",closable:e.closableChips,size:"small",text:Z.title,disabled:Z.props.disabled},ue),null):me??W("span",{class:"v-combobox__selection-text"},[Z.title,e.multiple&&te<S.value.length-1&&W("span",{class:"v-combobox__selection-comma"},[Lt(",")])])])})]),"append-inner":function(){var ue;for(var Z=arguments.length,te=new Array(Z),oe=0;oe<Z;oe++)te[oe]=arguments[oe];return W(tt,null,[(ue=r["append-inner"])==null?void 0:ue.call(r,...te),(!e.hideNoData||e.items.length)&&e.menuIcon?W(sn,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:U,onClick:b7,"aria-label":a(p.value),title:a(p.value)},null):void 0])}})}),fi({isFocused:o,isPristine:s,menu:d,search:C,selectionIndex:h,filteredItems:T,select:V},i)}}),hX=Ie({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),vX=Symbol.for("vuetify:datatable:expanded");function N0(e){const t=ze(e,"expandOnClick"),n=yt(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function r(s,l){const u=new Set(n.value);l?u.add(s.value):u.delete(s.value),n.value=u}function a(s){return n.value.has(s.value)}function i(s){r(s,!a(s))}const o={expand:r,expanded:n,expandOnClick:t,isExpanded:a,toggleExpand:i};return cn(vX,o),o}function pX(){const e=Vt(vX);if(!e)throw new Error("foo");return e}const UR=Ie({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),gX=Symbol.for("vuetify:data-table-group");function HR(e){return{groupBy:yt(e,"groupBy")}}function k0(e){const{groupBy:t,sortBy:n}=e,r=Oe(new Set),a=ie(()=>t.value.map(u=>({...u,order:u.order??!1})).concat(n.value));function i(u){return r.value.has(u.id)}function o(u){const c=new Set(r.value);i(u)?c.delete(u.id):c.add(u.id),r.value=c}function s(u){function c(f){const d=[];for(const h of f.items)"type"in h&&h.type==="group"?d.push(...c(h)):d.push(h);return d}return c({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const l={sortByWithGroups:a,toggleGroup:o,opened:r,groupBy:t,extractRows:s,isGroupOpen:i};return cn(gX,l),l}function mX(){const e=Vt(gX);if(!e)throw new Error("Missing group!");return e}function lBe(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const a=fu(r.raw,t);n.has(a)||n.set(a,[]),n.get(a).push(r)}return n}function yX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const a=lBe(e,t[0]),i=[],o=t.slice(1);return a.forEach((s,l)=>{const u=t[0],c=`${r}_${u}_${l}`;i.push({depth:n,id:c,key:u,value:l,items:o.length?yX(s,o,n+1,c):s,type:"group"})}),i}function xX(e,t){const n=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&n.push(r),(t.has(r.id)||r.value==null)&&n.push(...xX(r.items,t))):n.push(r);return n}function B0(e,t,n){return{flatItems:ie(()=>{if(!t.value.length)return e.value;const a=yX(e.value,t.value.map(i=>i.key));return xX(a,n.value)})}}function F0(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:a,search:i}=e;const o=Yn("VDataTable"),s=ie(()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:a.value,search:i.value}));let l=null;nt(s,()=>{fs(l,s.value)||((l==null?void 0:l.search)!==s.value.search&&(t.value=1),o.emit("update:options",s.value),l=s.value)},{deep:!0,immediate:!0})}const $R=Ie({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),bX=Symbol.for("vuetify:data-table-pagination");function GR(e){const t=yt(e,"page",void 0,r=>+(r??1)),n=yt(e,"itemsPerPage",void 0,r=>+(r??10));return{page:t,itemsPerPage:n}}function WR(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,a=ie(()=>n.value===-1?0:n.value*(t.value-1)),i=ie(()=>n.value===-1?r.value:Math.min(r.value,a.value+n.value)),o=ie(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));Fn(()=>{t.value>o.value&&(t.value=o.value)});function s(d){n.value=d,t.value=1}function l(){t.value=ar(t.value+1,1,o.value)}function u(){t.value=ar(t.value-1,1,o.value)}function c(d){t.value=ar(d,1,o.value)}const f={page:t,itemsPerPage:n,startIndex:a,stopIndex:i,pageCount:o,itemsLength:r,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:s};return cn(bX,f),f}function uBe(){const e=Vt(bX);if(!e)throw new Error("Missing pagination!");return e}function SX(e){const t=Yn("usePaginatedItems"),{items:n,startIndex:r,stopIndex:a,itemsPerPage:i}=e,o=ie(()=>i.value<=0?n.value:n.value.slice(r.value,a.value));return nt(o,s=>{t.emit("update:currentItems",s)}),{paginatedItems:o}}const cBe={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:n}=e;return new Set(n?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},_X={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const a of t)n?r.add(a.value):r.delete(a.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return _X.select({items:n,value:t,selected:r})}},AX={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const a of t)n?r.add(a.value):r.delete(a.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return AX.select({items:n,value:t,selected:r})}},wX=Ie({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:fs}},"DataTable-select"),CX=Symbol.for("vuetify:data-table-selection");function V0(e,t){let{allItems:n,currentPage:r}=t;const a=yt(e,"modelValue",e.modelValue,p=>new Set(Wn(p).map(g=>{var y;return((y=n.value.find(x=>e.valueComparator(g,x.value)))==null?void 0:y.value)??g})),p=>[...p.values()]),i=ie(()=>n.value.filter(p=>p.selectable)),o=ie(()=>r.value.filter(p=>p.selectable)),s=ie(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return cBe;case"all":return AX;case"page":default:return _X}});function l(p){return Wn(p).every(g=>a.value.has(g.value))}function u(p){return Wn(p).some(g=>a.value.has(g.value))}function c(p,g){const y=s.value.select({items:p,value:g,selected:new Set(a.value)});a.value=y}function f(p){c([p],!l([p]))}function d(p){const g=s.value.selectAll({value:p,allItems:i.value,currentPage:o.value,selected:new Set(a.value)});a.value=g}const h=ie(()=>a.value.size>0),v=ie(()=>{const p=s.value.allSelected({allItems:i.value,currentPage:o.value});return!!p.length&&l(p)}),m={toggleSelect:f,select:c,selectAll:d,isSelected:l,isSomeSelected:u,someSelected:h,allSelected:v,showSelectAll:s.value.showSelectAll};return cn(CX,m),m}function z0(){const e=Vt(CX);if(!e)throw new Error("Missing selection!");return e}const MX=Ie({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),TX=Symbol.for("vuetify:data-table-sort");function U0(e){const t=yt(e,"sortBy"),n=ze(e,"mustSort"),r=ze(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:r}}function H0(e){const{sortBy:t,mustSort:n,multiSort:r,page:a}=e,i=l=>{if(l.key==null)return;let u=t.value.map(f=>({...f}))??[];const c=u.find(f=>f.key===l.key);c?c.order==="desc"?n.value?c.order="asc":u=u.filter(f=>f.key!==l.key):c.order="desc":r.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,a&&(a.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const s={sortBy:t,toggleSort:i,isSorted:o};return cn(TX,s),s}function fBe(){const e=Vt(TX);if(!e)throw new Error("Missing sort!");return e}function jR(e,t,n,r,a){const i=er();return{sortedItems:ie(()=>n.value.length?dBe(t.value,n.value,i.current.value,{...e.customKeySort,...r==null?void 0:r.value},a==null?void 0:a.value):t.value)}}function dBe(e,t,n,r,a){const i=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return[...e].sort((o,s)=>{for(let l=0;l<t.length;l++){const u=t[l].key,c=t[l].order??"asc";if(c===!1)continue;let f=fu(o.raw,u),d=fu(s.raw,u),h=o.raw,v=s.raw;if(c==="desc"&&([f,d]=[d,f],[h,v]=[v,h]),a!=null&&a[u]){const m=a[u](h,v);if(!m)continue;return m}if(r!=null&&r[u]){const m=r[u](f,d);if(!m)continue;return m}if(f instanceof Date&&d instanceof Date)return f.getTime()-d.getTime();if([f,d]=[f,d].map(m=>m!=null?m.toString().toLocaleLowerCase():m),f!==d)return yg(f)&&yg(d)?0:yg(f)?-1:yg(d)?1:!isNaN(f)&&!isNaN(d)?Number(f)-Number(d):i.compare(f,d)}return 0})}const hBe=Ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function vBe(e,t){const n=e.returnObject?t:Cr(t,e.itemValue),r=Cr(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:r,raw:t}}function pBe(e,t){const n=[];for(const r of t)n.push(vBe(e,r));return n}function gBe(e){return{items:ie(()=>pBe(e,e.items))}}const mBe=Ie({search:String,loading:Boolean,...ct(),...hBe(),...wX(),...MX(),...$R({itemsPerPage:5}),...hX(),...UR(),...Gv(),...kt()},"VDataIterator"),yBe=He()({name:"VDataIterator",props:mBe(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"groupBy"),a=ze(e,"search"),{items:i}=gBe(e),{filteredItems:o}=Wv(e,i,a,{transform:N=>N.raw}),{sortBy:s,multiSort:l,mustSort:u}=U0(e),{page:c,itemsPerPage:f}=GR(e),{toggleSort:d}=H0({sortBy:s,multiSort:l,mustSort:u,page:c}),{sortByWithGroups:h,opened:v,extractRows:m,isGroupOpen:p,toggleGroup:g}=k0({groupBy:r,sortBy:s}),{sortedItems:y}=jR(e,o,h),{flatItems:x}=B0(y,r,v),b=ie(()=>x.value.length),{startIndex:A,stopIndex:S,pageCount:_,prevPage:w,nextPage:C,setItemsPerPage:M,setPage:T}=WR({page:c,itemsPerPage:f,itemsLength:b}),{paginatedItems:E}=SX({items:x,startIndex:A,stopIndex:S,itemsPerPage:f}),P=ie(()=>m(E.value)),{isSelected:R,select:I,selectAll:D,toggleSelect:B}=V0(e,{allItems:i,currentPage:P}),{isExpanded:F,toggleExpand:G}=N0(e);F0({page:c,itemsPerPage:f,sortBy:s,groupBy:r,search:a});const z=ie(()=>({page:c.value,itemsPerPage:f.value,sortBy:s.value,pageCount:_.value,toggleSort:d,prevPage:w,nextPage:C,setPage:T,setItemsPerPage:M,isSelected:R,select:I,selectAll:D,toggleSelect:B,isExpanded:F,toggleExpand:G,isGroupOpen:p,toggleGroup:g,items:P.value,groupedItems:E.value}));return Ge(()=>W(e.tag,{class:["v-data-iterator",e.class],style:e.style},{default:()=>{var N,U,$,k;return[(N=n.header)==null?void 0:N.call(n,z.value),E.value.length?($=n.default)==null?void 0:$.call(n,z.value):(U=n["no-data"])==null?void 0:U.call(n),(k=n.footer)==null?void 0:k.call(n,z.value)]}})),{}}});function xBe(){const e=Oe([]);h$(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const bBe=Ie({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ot,default:"$first"},prevIcon:{type:Ot,default:"$prev"},nextIcon:{type:Ot,default:"$next"},lastIcon:{type:Ot,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Na(),...ct(),...br(),...fr(),...Mn(),...hs(),...kt({tag:"nav"}),...Zt(),...ci({variant:"text"})},"VPagination"),xT=He()({name:"VPagination",props:bBe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=yt(e,"modelValue"),{t:i,n:o}=er(),{isRtl:s}=Pr(),{themeClasses:l}=ln(e),{width:u}=Du(),c=it(-1);Rn(void 0,{scoped:!0});const{resizeRef:f}=fo(w=>{if(!w.length)return;const{target:C,contentRect:M}=w[0],T=C.querySelector(".v-pagination__list > *");if(!T)return;const E=M.width,P=T.offsetWidth+parseFloat(getComputedStyle(T).marginRight)*2;c.value=m(E,P)}),d=ie(()=>parseInt(e.length,10)),h=ie(()=>parseInt(e.start,10)),v=ie(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:m(u.value,58));function m(w,C){const M=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((w-C*M)/C).toFixed(2)))}const p=ie(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(v.value<=0)return[];if(v.value===1)return[a.value];if(d.value<=v.value)return ro(d.value,h.value);const w=v.value%2===0,C=w?v.value/2:Math.floor(v.value/2),M=w?C:C+1,T=d.value-C;if(M-a.value>=0)return[...ro(Math.max(1,v.value-1),h.value),e.ellipsis,d.value];if(a.value-T>=(w?1:0)){const E=v.value-1,P=d.value-E+h.value;return[h.value,e.ellipsis,...ro(E,P)]}else{const E=Math.max(1,v.value-3),P=E===1?a.value:a.value-Math.ceil(E/2)+h.value;return[h.value,e.ellipsis,...ro(E,P),e.ellipsis,d.value]}});function g(w,C,M){w.preventDefault(),a.value=C,M&&r(M,C)}const{refs:y,updateRef:x}=xBe();Rn({VPaginationBtn:{color:ze(e,"color"),border:ze(e,"border"),density:ze(e,"density"),size:ze(e,"size"),variant:ze(e,"variant"),rounded:ze(e,"rounded"),elevation:ze(e,"elevation")}});const b=ie(()=>p.value.map((w,C)=>{const M=T=>x(T,C);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${C}`,page:w,props:{ref:M,ellipsis:!0,icon:!0,disabled:!0}};{const T=w===a.value;return{isActive:T,key:w,page:o(w),props:{ref:M,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:T?e.activeColor:e.color,"aria-current":T,"aria-label":i(T?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:E=>g(E,w)}}}})),A=ie(()=>{const w=!!e.disabled||a.value<=h.value,C=!!e.disabled||a.value>=h.value+d.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:M=>g(M,h.value,"first"),disabled:w,"aria-label":i(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:M=>g(M,a.value-1,"prev"),disabled:w,"aria-label":i(e.previousAriaLabel),"aria-disabled":w},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:M=>g(M,a.value+1,"next"),disabled:C,"aria-label":i(e.nextAriaLabel),"aria-disabled":C},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:M=>g(M,h.value+d.value-1,"last"),disabled:C,"aria-label":i(e.lastAriaLabel),"aria-disabled":C}:void 0}});function S(){var C;const w=a.value-h.value;(C=y.value[w])==null||C.$el.focus()}function _(w){w.key===jM.left&&!e.disabled&&a.value>+e.start?(a.value=a.value-1,Ht(S)):w.key===jM.right&&!e.disabled&&a.value<h.value+d.value-1&&(a.value=a.value+1,Ht(S))}return Ge(()=>W(e.tag,{ref:f,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":i(e.ariaLabel),onKeydown:_,"data-test":"v-pagination-root"},{default:()=>[W("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&W("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(A.value.first):W(vn,je({_as:"VPaginationBtn"},A.value.first),null)]),W("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(A.value.prev):W(vn,je({_as:"VPaginationBtn"},A.value.prev),null)]),b.value.map((w,C)=>W("li",{key:w.key,class:["v-pagination__item",{"v-pagination__item--is-active":w.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(w):W(vn,je({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),W("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(A.value.next):W(vn,je({_as:"VPaginationBtn"},A.value.next),null)]),e.showFirstLastPage&&W("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(A.value.last):W(vn,je({_as:"VPaginationBtn"},A.value.last),null)])])]})),{}}}),YR=Ie({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),jh=He()({name:"VDataTableFooter",props:YR(),setup(e,t){let{slots:n}=t;const{t:r}=er(),{page:a,pageCount:i,startIndex:o,stopIndex:s,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=uBe(),f=ie(()=>e.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:r(d.title)}));return Ge(()=>{var h;const d=xT.filterProps(e);return W("div",{class:"v-data-table-footer"},[(h=n.prepend)==null?void 0:h.call(n),W("div",{class:"v-data-table-footer__items-per-page"},[W("span",null,[r(e.itemsPerPageText)]),W(qY,{items:f.value,modelValue:u.value,"onUpdate:modelValue":v=>c(Number(v)),density:"compact",variant:"outlined","hide-details":!0},null)]),W("div",{class:"v-data-table-footer__info"},[W("div",null,[r(e.pageText,l.value?o.value+1:0,s.value,l.value)])]),W("div",{class:"v-data-table-footer__pagination"},[W(xT,je({modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:i.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),XR=b2e({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,t)=>{let{slots:n}=t;const r=e.tag??"td";return W(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:lt(e.height),width:lt(e.width),left:lt(e.fixedOffset||null)}},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n)]}})}),SBe=Ie({headers:Array},"DataTable-header"),EX=Symbol.for("vuetify:data-table-headers"),PX={title:"",sortable:!1},_Be={...PX,width:48};function ABe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let a=!1;for(let i=0;i<t.length;i++)if(t[i].priority>r){t.splice(i,0,{element:n,priority:r}),a=!0;break}a||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let a=0;a<t.length;a++)Math.floor(t[a].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function bT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)bT(n,t);return t}function RX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&RX(n.children,t);return t}function wBe(e){if(e.key){if(e.key==="data-table-group")return PX;if(["data-table-expand","data-table-select"].includes(e.key))return _Be}}function qR(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>qR(n,t+1))):t}function CBe(e){let t=!1;function n(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i)if(o&&(i.fixed=!0),i.fixed)if(i.children)for(let s=i.children.length-1;s>=0;s--)n(i.children[s],!0);else t?isNaN(+i.width)&&(`${i.key}`,void 0):i.lastFixed=!0,t=!0;else if(i.children)for(let s=i.children.length-1;s>=0;s--)n(i.children[s]);else t=!1}for(let i=e.length-1;i>=0;i--)n(e[i]);function r(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!i)return o;if(i.children){i.fixedOffset=o;for(const s of i.children)o=r(s,o)}else i.fixed&&(i.fixedOffset=o,o+=parseFloat(i.width||"0")||0);return o}let a=0;for(const i of e)a=r(i,a)}function MBe(e,t){const n=[];let r=0;const a=ABe(e);for(;a.size()>0;){let o=a.count();const s=[];let l=1;for(;o>0;){const{element:u,priority:c}=a.dequeue(),f=t-r-qR(u);if(s.push({...u,rowspan:f??1,colspan:u.children?bT(u).length:1}),u.children)for(const d of u.children){const h=c%1+l/Math.pow(10,r+2);a.enqueue(d,r+f+h)}l+=1,o-=1}r+=1,n.push(s)}return{columns:e.map(o=>bT(o)).flat(),headers:n}}function IX(e){const t=[];for(const n of e){const r={...wBe(n),...n},a=r.key??(typeof r.value=="string"?r.value:null),i=r.value??a??null,o={...r,key:a,value:i,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?IX(r.children):void 0};t.push(o)}return t}function KR(e,t){const n=Oe([]),r=Oe([]),a=Oe({}),i=Oe({}),o=Oe({});Fn(()=>{var m,p,g;const u=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:vo(y)}))).slice(),c=RX(u);(m=t==null?void 0:t.groupBy)!=null&&m.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(p=t==null?void 0:t.showSelect)!=null&&p.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(g=t==null?void 0:t.showExpand)!=null&&g.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const f=IX(u);CBe(f);const d=Math.max(...f.map(y=>qR(y)))+1,h=MBe(f,d);n.value=h.headers,r.value=h.columns;const v=h.headers.flat(1);for(const y of v)y.key&&(y.sortable&&(y.sort&&(a.value[y.key]=y.sort),y.sortRaw&&(i.value[y.key]=y.sortRaw)),y.filter&&(o.value[y.key]=y.filter))});const s={headers:n,columns:r,sortFunctions:a,sortRawFunctions:i,filterFunctions:o};return cn(EX,s),s}function $0(){const e=Vt(EX);if(!e)throw new Error("Missing headers!");return e}const DX=Ie({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ot,default:"$sortAsc"},sortDescIcon:{type:Ot,default:"$sortDesc"},headerProps:{type:Object},...A0()},"VDataTableHeaders"),_f=He()({name:"VDataTableHeaders",props:DX(),setup(e,t){let{slots:n}=t;const{toggleSort:r,sortBy:a,isSorted:i}=fBe(),{someSelected:o,allSelected:s,selectAll:l,showSelectAll:u}=z0(),{columns:c,headers:f}=$0(),{loaderClasses:d}=Bv(e);function h(x,b){if(!(!e.sticky&&!x.fixed))return{position:"sticky",left:x.fixed?lt(x.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${b})`:void 0}}function v(x){const b=a.value.find(A=>A.key===x.key);return b?b.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:m,backgroundColorStyles:p}=mn(e,"color"),g=ie(()=>({headers:f.value,columns:c.value,toggleSort:r,isSorted:i,sortBy:a.value,someSelected:o.value,allSelected:s.value,selectAll:l,getSortIcon:v})),y=x=>{let{column:b,x:A,y:S}=x;const _=b.key==="data-table-select"||b.key==="data-table-expand",w=je(e.headerProps??{},b.headerProps??{});return W(XR,je({tag:"th",align:b.align,class:["v-data-table__th",{"v-data-table__th--sortable":b.sortable,"v-data-table__th--sorted":i(b),"v-data-table__th--fixed":b.fixed,"v-data-table__th--sticky":e.sticky},d.value],style:{width:lt(b.width),minWidth:lt(b.minWidth),...h(b,S)},colspan:b.colspan,rowspan:b.rowspan,onClick:b.sortable?()=>r(b):void 0,fixed:b.fixed,lastFixed:b.lastFixed,noPadding:_},w),{default:()=>{var T;const C=`header.${b.key}`,M={column:b,selectAll:l,isSorted:i,toggleSort:r,sortBy:a.value,someSelected:o.value,allSelected:s.value,getSortIcon:v};return n[C]?n[C](M):b.key==="data-table-select"?((T=n["header.data-table-select"])==null?void 0:T.call(n,M))??(u&&W(is,{modelValue:s.value,indeterminate:o.value&&!s.value,"onUpdate:modelValue":l},null)):W("div",{class:"v-data-table-header__content"},[W("span",null,[b.title]),b.sortable&&W(sn,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(b)},null),e.multiSort&&i(b)&&W("div",{key:"badge",class:["v-data-table-header__sort-badge",...m.value],style:p.value},[a.value.findIndex(E=>E.key===b.key)+1])])}})};Ge(()=>W(tt,null,[n.headers?n.headers(g.value):f.value.map((x,b)=>W("tr",null,[x.map((A,S)=>W(y,{column:A,x:S,y:b},null))])),e.loading&&W("tr",{class:"v-data-table-progress"},[W("th",{colspan:c.value.length},[W(w0,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),TBe=Ie({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),EBe=He()({name:"VDataTableGroupHeaderRow",props:TBe(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:a,extractRows:i}=mX(),{isSelected:o,isSomeSelected:s,select:l}=z0(),{columns:u}=$0(),c=ie(()=>i([e.item]));return()=>W("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(f=>{var d,h;if(f.key==="data-table-group"){const v=r(e.item)?"$expand":"$next",m=()=>a(e.item);return((d=n["data-table-group"])==null?void 0:d.call(n,{item:e.item,count:c.value.length,props:{icon:v,onClick:m}}))??W(XR,{class:"v-data-table-group-header-row__column"},{default:()=>[W(vn,{size:"small",variant:"text",icon:v,onClick:m},null),W("span",null,[e.item.value]),W("span",null,[Lt("("),c.value.length,Lt(")")])]})}if(f.key==="data-table-select"){const v=o(c.value),m=s(c.value)&&!v,p=g=>l(c.value,g);return((h=n["data-table-select"])==null?void 0:h.call(n,{props:{modelValue:v,indeterminate:m,"onUpdate:modelValue":p}}))??W("td",null,[W(is,{modelValue:v,indeterminate:m,"onUpdate:modelValue":p},null)])}return W("td",null,null)})])}}),PBe=Ie({index:Number,item:Object,cellProps:[Object,Function],onClick:da(),onContextmenu:da(),onDblclick:da()},"VDataTableRow"),ZR=He()({name:"VDataTableRow",props:PBe(),setup(e,t){let{slots:n}=t;const{isSelected:r,toggleSelect:a}=z0(),{isExpanded:i,toggleExpand:o}=pX(),{columns:s}=$0();Ge(()=>W("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)}],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&s.value.map((l,u)=>{const c=e.item,f=`item.${l.key}`,d={index:e.index,item:c.raw,internalItem:c,value:fu(c.columns,l.key),column:l,isSelected:r,toggleSelect:a,isExpanded:i,toggleExpand:o},h=typeof e.cellProps=="function"?e.cellProps({index:d.index,item:d.item,internalItem:d.internalItem,value:d.value,column:l}):e.cellProps,v=typeof l.cellProps=="function"?l.cellProps({index:d.index,item:d.item,internalItem:d.internalItem,value:d.value}):l.cellProps;return W(XR,je({align:l.align,fixed:l.fixed,fixedOffset:l.fixedOffset,lastFixed:l.lastFixed,noPadding:l.key==="data-table-select"||l.key==="data-table-expand",width:l.width},h,v),{default:()=>{var m,p;return n[f]?n[f](d):l.key==="data-table-select"?((m=n["item.data-table-select"])==null?void 0:m.call(n,d))??W(is,{disabled:!c.selectable,modelValue:r([c]),onClick:$I(()=>a(c),["stop"])},null):l.key==="data-table-expand"?((p=n["item.data-table-expand"])==null?void 0:p.call(n,d))??W(vn,{icon:i(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:$I(()=>o(c),["stop"])},null):Qt(d.value)}})})]))}}),LX=Ie({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),gu=He()({name:"VDataTableRows",inheritAttrs:!1,props:LX(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:a}=$0(),{expandOnClick:i,toggleExpand:o,isExpanded:s}=pX(),{isSelected:l,toggleSelect:u}=z0(),{toggleGroup:c,isGroupOpen:f}=mX(),{t:d}=er();return Ge(()=>{var h,v;return e.loading&&(!e.items.length||r.loading)?W("tr",{class:"v-data-table-rows-loading",key:"loading"},[W("td",{colspan:a.value.length},[((h=r.loading)==null?void 0:h.call(r))??d(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?W("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[W("td",{colspan:a.value.length},[((v=r["no-data"])==null?void 0:v.call(r))??d(e.noDataText)])]):W(tt,null,[e.items.map((m,p)=>{var x;if(m.type==="group"){const b={index:p,item:m,columns:a.value,isExpanded:s,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:f};return r["group-header"]?r["group-header"](b):W(EBe,je({key:`group-header_${m.id}`,item:m},W5(n,":group-header",()=>b)),r)}const g={index:p,item:m.raw,internalItem:m,columns:a.value,isExpanded:s,toggleExpand:o,isSelected:l,toggleSelect:u},y={...g,props:je({key:`item_${m.key??m.index}`,onClick:i.value?()=>{o(m)}:void 0,index:p,item:m,cellProps:e.cellProps},W5(n,":row",()=>g),typeof e.rowProps=="function"?e.rowProps({item:g.item,index:g.index,internalItem:g.internalItem}):e.rowProps)};return W(tt,{key:y.props.key},[r.item?r.item(y):W(ZR,y.props,r),s(m)&&((x=r["expanded-row"])==null?void 0:x.call(r,g))])})])}),{}}}),OX=Ie({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...ct(),...br(),...kt(),...Zt()},"VTable"),mu=He()({name:"VTable",props:OX(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:a}=ln(e),{densityClasses:i}=Xr(e);return Ge(()=>W(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},a.value,i.value,e.class],style:e.style},{default:()=>{var o,s,l;return[(o=n.top)==null?void 0:o.call(n),n.default?W("div",{class:"v-table__wrapper",style:{height:lt(e.height)}},[W("table",null,[n.default()])]):(s=n.wrapper)==null?void 0:s.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),RBe=Ie({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function IBe(e,t,n,r){const a=e.returnObject?t:Cr(t,e.itemValue),i=Cr(t,e.itemSelectable,!0),o=r.reduce((s,l)=>(l.key!=null&&(s[l.key]=Cr(t,l.value)),s),{});return{type:"item",key:e.returnObject?Cr(t,e.itemValue):a,index:n,value:a,selectable:i,columns:o,raw:t}}function DBe(e,t,n){return t.map((r,a)=>IBe(e,r,a,n))}function QR(e,t){return{items:ie(()=>DBe(e,e.items,t.value))}}const JR=Ie({...LX(),width:[String,Number],search:String,...hX(),...UR(),...SBe(),...RBe(),...wX(),...MX(),...DX(),...OX()},"DataTable"),LBe=Ie({...$R(),...JR(),...Gv(),...YR()},"VDataTable"),OBe=He()({name:"VDataTable",props:LBe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=HR(e),{sortBy:i,multiSort:o,mustSort:s}=U0(e),{page:l,itemsPerPage:u}=GR(e),{columns:c,headers:f,sortFunctions:d,sortRawFunctions:h,filterFunctions:v}=KR(e,{groupBy:a,showSelect:ze(e,"showSelect"),showExpand:ze(e,"showExpand")}),{items:m}=QR(e,c),p=ze(e,"search"),{filteredItems:g}=Wv(e,m,p,{transform:L=>L.columns,customKeyFilter:v}),{toggleSort:y}=H0({sortBy:i,multiSort:o,mustSort:s,page:l}),{sortByWithGroups:x,opened:b,extractRows:A,isGroupOpen:S,toggleGroup:_}=k0({groupBy:a,sortBy:i}),{sortedItems:w}=jR(e,g,x,d,h),{flatItems:C}=B0(w,a,b),M=ie(()=>C.value.length),{startIndex:T,stopIndex:E,pageCount:P,setItemsPerPage:R}=WR({page:l,itemsPerPage:u,itemsLength:M}),{paginatedItems:I}=SX({items:C,startIndex:T,stopIndex:E,itemsPerPage:u}),D=ie(()=>A(I.value)),{isSelected:B,select:F,selectAll:G,toggleSelect:z,someSelected:N,allSelected:U}=V0(e,{allItems:m,currentPage:D}),{isExpanded:$,toggleExpand:k}=N0(e);F0({page:l,itemsPerPage:u,sortBy:i,groupBy:a,search:p}),Rn({VDataTableRows:{hideNoData:ze(e,"hideNoData"),noDataText:ze(e,"noDataText"),loading:ze(e,"loading"),loadingText:ze(e,"loadingText")}});const V=ie(()=>({page:l.value,itemsPerPage:u.value,sortBy:i.value,pageCount:P.value,toggleSort:y,setItemsPerPage:R,someSelected:N.value,allSelected:U.value,isSelected:B,select:F,selectAll:G,toggleSelect:z,isExpanded:$,toggleExpand:k,isGroupOpen:S,toggleGroup:_,items:D.value.map(L=>L.raw),internalItems:D.value,groupedItems:I.value,columns:c.value,headers:f.value}));return Ge(()=>{const L=jh.filterProps(e),O=_f.filterProps(e),H=gu.filterProps(e),j=mu.filterProps(e);return W(mu,je({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},j),{top:()=>{var Y;return(Y=r.top)==null?void 0:Y.call(r,V.value)},default:()=>{var Y,X,Q,K,Z,te;return r.default?r.default(V.value):W(tt,null,[(Y=r.colgroup)==null?void 0:Y.call(r,V.value),W("thead",null,[W(_f,O,r)]),(X=r.thead)==null?void 0:X.call(r,V.value),W("tbody",null,[(Q=r["body.prepend"])==null?void 0:Q.call(r,V.value),r.body?r.body(V.value):W(gu,je(n,H,{items:I.value}),r),(K=r["body.append"])==null?void 0:K.call(r,V.value)]),(Z=r.tbody)==null?void 0:Z.call(r,V.value),(te=r.tfoot)==null?void 0:te.call(r,V.value)])},bottom:()=>r.bottom?r.bottom(V.value):W(tt,null,[W(T0,null,null),W(jh,L,{prepend:r["footer.prepend"]})])})}),{}}}),NBe=Ie({...JR(),...UR(),...YY(),...Gv()},"VDataTableVirtual"),kBe=He()({name:"VDataTableVirtual",props:NBe(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=HR(e),{sortBy:i,multiSort:o,mustSort:s}=U0(e),{columns:l,headers:u,filterFunctions:c,sortFunctions:f,sortRawFunctions:d}=KR(e,{groupBy:a,showSelect:ze(e,"showSelect"),showExpand:ze(e,"showExpand")}),{items:h}=QR(e,l),v=ze(e,"search"),{filteredItems:m}=Wv(e,h,v,{transform:O=>O.columns,customKeyFilter:c}),{toggleSort:p}=H0({sortBy:i,multiSort:o,mustSort:s}),{sortByWithGroups:g,opened:y,extractRows:x,isGroupOpen:b,toggleGroup:A}=k0({groupBy:a,sortBy:i}),{sortedItems:S}=jR(e,m,g,f,d),{flatItems:_}=B0(S,a,y),w=ie(()=>x(_.value)),{isSelected:C,select:M,selectAll:T,toggleSelect:E,someSelected:P,allSelected:R}=V0(e,{allItems:w,currentPage:w}),{isExpanded:I,toggleExpand:D}=N0(e),{containerRef:B,markerRef:F,paddingTop:G,paddingBottom:z,computedItems:N,handleItemResize:U,handleScroll:$,handleScrollend:k}=XY(e,_),V=ie(()=>N.value.map(O=>O.raw));F0({sortBy:i,page:it(1),itemsPerPage:it(-1),groupBy:a,search:v}),Rn({VDataTableRows:{hideNoData:ze(e,"hideNoData"),noDataText:ze(e,"noDataText"),loading:ze(e,"loading"),loadingText:ze(e,"loadingText")}});const L=ie(()=>({sortBy:i.value,toggleSort:p,someSelected:P.value,allSelected:R.value,isSelected:C,select:M,selectAll:T,toggleSelect:E,isExpanded:I,toggleExpand:D,isGroupOpen:b,toggleGroup:A,items:w.value.map(O=>O.raw),internalItems:w.value,groupedItems:_.value,columns:l.value,headers:u.value}));Ge(()=>{const O=_f.filterProps(e),H=gu.filterProps(e),j=mu.filterProps(e);return W(mu,je({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},j),{top:()=>{var Y;return(Y=r.top)==null?void 0:Y.call(r,L.value)},wrapper:()=>{var Y,X,Q;return W("div",{ref:B,onScrollPassive:$,onScrollend:k,class:"v-table__wrapper",style:{height:lt(e.height)}},[W("table",null,[(Y=r.colgroup)==null?void 0:Y.call(r,L.value),W("thead",null,[W(_f,je(O,{sticky:e.fixedHeader}),r)]),W("tbody",null,[W("tr",{ref:F,style:{height:lt(G.value),border:0}},[W("td",{colspan:l.value.length,style:{height:0,border:0}},null)]),(X=r["body.prepend"])==null?void 0:X.call(r,L.value),W(gu,je(n,H,{items:V.value}),{...r,item:K=>W(jY,{key:K.internalItem.index,renderless:!0,"onUpdate:height":Z=>U(K.internalItem.index,Z)},{default:Z=>{var oe;let{itemRef:te}=Z;return((oe=r.item)==null?void 0:oe.call(r,{...K,itemRef:te}))??W(ZR,je(K.props,{ref:te,key:K.internalItem.index,index:K.internalItem.index}),r)}})}),(Q=r["body.append"])==null?void 0:Q.call(r,L.value),W("tr",{style:{height:lt(z.value),border:0}},[W("td",{colspan:l.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var Y;return(Y=r.bottom)==null?void 0:Y.call(r,L.value)}})})}}),BBe=Ie({itemsLength:{type:[Number,String],required:!0},...$R(),...JR(),...YR()},"VDataTableServer"),FBe=He()({name:"VDataTableServer",props:BBe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=HR(e),{sortBy:i,multiSort:o,mustSort:s}=U0(e),{page:l,itemsPerPage:u}=GR(e),c=ie(()=>parseInt(e.itemsLength,10)),{columns:f,headers:d}=KR(e,{groupBy:a,showSelect:ze(e,"showSelect"),showExpand:ze(e,"showExpand")}),{items:h}=QR(e,f),{toggleSort:v}=H0({sortBy:i,multiSort:o,mustSort:s,page:l}),{opened:m,isGroupOpen:p,toggleGroup:g,extractRows:y}=k0({groupBy:a,sortBy:i}),{pageCount:x,setItemsPerPage:b}=WR({page:l,itemsPerPage:u,itemsLength:c}),{flatItems:A}=B0(h,a,m),{isSelected:S,select:_,selectAll:w,toggleSelect:C,someSelected:M,allSelected:T}=V0(e,{allItems:h,currentPage:h}),{isExpanded:E,toggleExpand:P}=N0(e),R=ie(()=>y(h.value));F0({page:l,itemsPerPage:u,sortBy:i,groupBy:a,search:ze(e,"search")}),cn("v-data-table",{toggleSort:v,sortBy:i}),Rn({VDataTableRows:{hideNoData:ze(e,"hideNoData"),noDataText:ze(e,"noDataText"),loading:ze(e,"loading"),loadingText:ze(e,"loadingText")}});const I=ie(()=>({page:l.value,itemsPerPage:u.value,sortBy:i.value,pageCount:x.value,toggleSort:v,setItemsPerPage:b,someSelected:M.value,allSelected:T.value,isSelected:S,select:_,selectAll:w,toggleSelect:C,isExpanded:E,toggleExpand:P,isGroupOpen:p,toggleGroup:g,items:R.value.map(D=>D.raw),internalItems:R.value,groupedItems:A.value,columns:f.value,headers:d.value}));Ge(()=>{const D=jh.filterProps(e),B=_f.filterProps(e),F=gu.filterProps(e),G=mu.filterProps(e);return W(mu,je({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},G),{top:()=>{var z;return(z=r.top)==null?void 0:z.call(r,I.value)},default:()=>{var z,N,U,$,k,V;return r.default?r.default(I.value):W(tt,null,[(z=r.colgroup)==null?void 0:z.call(r,I.value),W("thead",{class:"v-data-table__thead",role:"rowgroup"},[W(_f,je(B,{sticky:e.fixedHeader}),r)]),(N=r.thead)==null?void 0:N.call(r,I.value),W("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(U=r["body.prepend"])==null?void 0:U.call(r,I.value),r.body?r.body(I.value):W(gu,je(n,F,{items:A.value}),r),($=r["body.append"])==null?void 0:$.call(r,I.value)]),(k=r.tbody)==null?void 0:k.call(r,I.value),(V=r.tfoot)==null?void 0:V.call(r,I.value)])},bottom:()=>r.bottom?r.bottom(I.value):W(jh,D,{prepend:r["footer.prepend"]})})})}}),VBe=Ie({fluid:{type:Boolean,default:!1},...ct(),...kt()},"VContainer"),zBe=He()({name:"VContainer",props:VBe(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Pr();return Ge(()=>W(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),NX=m0.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),kX=m0.reduce((e,t)=>{const n="offset"+vo(t);return e[n]={type:[String,Number],default:null},e},{}),BX=m0.reduce((e,t)=>{const n="order"+vo(t);return e[n]={type:[String,Number],default:null},e},{}),g4={col:Object.keys(NX),offset:Object.keys(kX),order:Object.keys(BX)};function UBe(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const a=t.replace(e,"");r+=`-${a}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const HBe=["auto","start","end","center","baseline","stretch"],$Be=Ie({cols:{type:[Boolean,String,Number],default:!1},...NX,offset:{type:[String,Number],default:null},...kX,order:{type:[String,Number],default:null},...BX,alignSelf:{type:String,default:null,validator:e=>HBe.includes(e)},...ct(),...kt()},"VCol"),GBe=He()({name:"VCol",props:$Be(),setup(e,t){let{slots:n}=t;const r=ie(()=>{const a=[];let i;for(i in g4)g4[i].forEach(s=>{const l=e[s],u=UBe(i,s,l);u&&a.push(u)});const o=a.some(s=>s.startsWith("v-col-"));return a.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return mo(e.tag,{class:[r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),eI=["start","end","center"],FX=["space-between","space-around","space-evenly"];function tI(e,t){return m0.reduce((n,r)=>{const a=e+vo(r);return n[a]=t(),n},{})}const WBe=[...eI,"baseline","stretch"],VX=e=>WBe.includes(e),zX=tI("align",()=>({type:String,default:null,validator:VX})),jBe=[...eI,...FX],UX=e=>jBe.includes(e),HX=tI("justify",()=>({type:String,default:null,validator:UX})),YBe=[...eI,...FX,"stretch"],$X=e=>YBe.includes(e),GX=tI("alignContent",()=>({type:String,default:null,validator:$X})),m4={align:Object.keys(zX),justify:Object.keys(HX),alignContent:Object.keys(GX)},XBe={align:"align",justify:"justify",alignContent:"align-content"};function qBe(e,t,n){let r=XBe[e];if(n!=null){if(t){const a=t.replace(e,"");r+=`-${a}`}return r+=`-${n}`,r.toLowerCase()}}const KBe=Ie({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:VX},...zX,justify:{type:String,default:null,validator:UX},...HX,alignContent:{type:String,default:null,validator:$X},...GX,...ct(),...kt()},"VRow"),ZBe=He()({name:"VRow",props:KBe(),setup(e,t){let{slots:n}=t;const r=ie(()=>{const a=[];let i;for(i in m4)m4[i].forEach(o=>{const s=e[o],l=qBe(i,o,s);l&&a.push(l)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>{var a;return mo(e.tag,{class:["v-row",r.value,e.class],style:e.style},(a=n.default)==null?void 0:a.call(n))}}}),WX=La("v-spacer","div","VSpacer"),jX=Ie({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),ST=He()({name:"VDatePickerControls",props:jX(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=ie(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),a=ie(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),i=ie(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=ie(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function s(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return Ge(()=>W("div",{class:["v-date-picker-controls"]},[W(vn,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),W(vn,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:a.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),W(WX,{key:"mode-spacer"},null),W("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[W(vn,{disabled:i.value,icon:e.prevIcon,variant:"text",onClick:s},null),W(vn,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),QBe=Ie({appendIcon:String,color:String,header:String,transition:String,onClick:da()},"VDatePickerHeader"),_T=He()({name:"VDatePickerHeader",props:QBe(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:i}=mn(e,"color");function o(){n("click")}function s(){n("click:append")}return Ge(()=>{const l=!!(r.default||e.header),u=!!(r.append||e.appendIcon);return W("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},a.value],style:i.value,onClick:o},[r.prepend&&W("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),l&&W(Qa,{key:"content",name:e.transition},{default:()=>{var c;return[W("div",{key:e.header,class:"v-date-picker-header__content"},[((c=r.default)==null?void 0:c.call(r))??e.header])]}}),u&&W("div",{class:"v-date-picker-header__append"},[r.append?W(Kt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=r.append)==null?void 0:c.call(r)]}}):W(vn,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:s},null)])])}),{}}}),JBe=Ie({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]}},"calendar");function e3e(e){const t=Nv(),n=yt(e,"modelValue",[],d=>Wn(d)),r=ie(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),a=yt(e,"year",void 0,d=>{const h=d!=null?Number(d):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),h))},d=>t.getYear(d)),i=yt(e,"month",void 0,d=>{const h=d!=null?Number(d):t.getMonth(r.value),v=t.setYear(t.date(),t.getYear(a.value));return t.setMonth(v,h)},d=>t.getMonth(d)),o=ie(()=>{const d=t.getWeekArray(i.value),h=d.flat(),v=6*7;if(h.length<v){const m=h[h.length-1];let p=[];for(let g=1;g<=v-h.length;g++)p.push(t.addDays(m,g)),g%7===0&&(d.push(p),p=[])}return d});function s(d,h){return d.filter(v=>e.weekdays.includes(t.toJsDate(v).getDay())).map((v,m)=>{const p=t.toISO(v),g=!t.isSameMonth(v,i.value),y=t.isSameDay(v,t.startOfMonth(i.value)),x=t.isSameDay(v,t.endOfMonth(i.value)),b=t.isSameDay(v,i.value);return{date:v,isoDate:p,formatted:t.format(v,"keyboardDate"),year:t.getYear(v),month:t.getMonth(v),isDisabled:f(v),isWeekStart:m%7===0,isWeekEnd:m%7===6,isToday:t.isSameDay(v,h),isAdjacent:g,isHidden:g&&!e.showAdjacentMonths,isStart:y,isSelected:n.value.some(A=>t.isSameDay(v,A)),isEnd:x,isSame:b,localized:t.format(v,"dayOfMonth")}})}const l=ie(()=>{const d=t.startOfWeek(n.value),h=[];for(let p=0;p<=6;p++)h.push(t.addDays(d,p));const v=h,m=t.date();return s(v,m)}),u=ie(()=>{const d=o.value.flat(),h=t.date();return s(d,h)}),c=ie(()=>o.value.map(d=>d.length?pLe(t,d[0]):null));function f(d){if(e.disabled)return!0;const h=t.date(d);return e.min&&t.isAfter(t.date(e.min),h)||e.max&&t.isAfter(h,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(v=>t.isSameDay(t.date(v),h)):typeof e.allowedDates=="function"?!e.allowedDates(h):!1}return{displayValue:r,daysInMonth:u,daysInWeek:l,genDays:s,model:n,weeksInMonth:o,weekNumbers:c}}const YX=Ie({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],range:Boolean,showWeek:Boolean,...JBe()},"VDatePickerMonth"),AT=He()({name:"VDatePickerMonth",props:YX(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=Oe(),{daysInMonth:i,model:o,weekNumbers:s}=e3e(e),l=Nv(),u=it(),c=it(),f=ie(()=>{const m=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=m});function d(m){const p=l.startOfDay(m);if(!u.value)u.value=p,o.value=[u.value];else if(c.value)u.value=m,c.value=void 0,o.value=[u.value];else{if(l.isSameDay(m,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(m,u.value)?(c.value=u.value,u.value=p):c.value=p;const g=l.getDiff(c.value,u.value),y=[u.value];for(let x=1;x<g;x++){const b=l.addDays(u.value,x);y.push(b)}y.push(c.value),o.value=y}}function h(m){const p=o.value.findIndex(g=>l.isSameDay(g,m));if(p===-1)o.value=[...o.value,m];else{const g=[...o.value];g.splice(p,1),o.value=g}}function v(m){e.multiple==="range"?d(m):e.multiple?h(m):o.value=[m]}return()=>W("div",{class:"v-date-picker-month"},[e.showWeek&&W("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&W("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Lt(" ")]),s.value.map(m=>W("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[m]))]),W("div",{ref:a,class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays().map(m=>W("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[m[0]])),i.value.map((m,p)=>{const g={props:{onClick:()=>v(m.date)},item:m,i:p};return f.value&&!m.isSelected&&(m.isDisabled=!0),W("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":m.isAdjacent,"v-date-picker-month__day--hide-adjacent":m.isHidden,"v-date-picker-month__day--selected":m.isSelected,"v-date-picker-month__day--week-end":m.isWeekEnd,"v-date-picker-month__day--week-start":m.isWeekStart}],"data-v-date":m.isDisabled?void 0:m.isoDate},[(e.showAdjacentMonths||!m.isAdjacent)&&W(Kt,{defaults:{VBtn:{color:(m.isSelected||m.isToday)&&!m.isDisabled?e.color:void 0,disabled:m.isDisabled,icon:!0,ripple:!1,text:m.localized,variant:m.isDisabled?"text":m.isToday&&!m.isSelected?"outlined":"flat",onClick:()=>v(m.date)}}},{default:()=>{var y;return[((y=r.day)==null?void 0:y.call(r,g))??W(vn,g.props,null)]}})])})])])}}),XX=Ie({color:String,height:[String,Number],modelValue:Number},"VDatePickerMonths"),wT=He()({name:"VDatePickerMonths",props:XX(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Nv(),a=yt(e,"modelValue"),i=ie(()=>{let o=r.startOfYear(r.date());return ro(12).map(s=>{const l=r.format(o,"monthShort");return o=r.getNextMonth(o),{text:l,value:s}})});return Fn(()=>{a.value=a.value??r.getMonth(r.date())}),Ge(()=>W("div",{class:"v-date-picker-months",style:{height:lt(e.height)}},[W("div",{class:"v-date-picker-months__content"},[i.value.map((o,s)=>{var c;const l={active:a.value===s,color:a.value===s?e.color:void 0,rounded:!0,text:o.text,variant:a.value===o.value?"flat":"text",onClick:()=>u(s)};function u(f){a.value=f}return((c=n.month)==null?void 0:c.call(n,{month:o,i:s,props:l}))??W(vn,je({key:"month"},l,{onClick:()=>u(s)}),null)})])])),{}}}),qX=Ie({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),CT=He()({name:"VDatePickerYears",props:qX(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Nv(),a=yt(e,"modelValue"),i=ie(()=>{const s=r.getYear(r.date());let l=s-100,u=s+52;e.min&&(l=r.getYear(r.date(e.min))),e.max&&(u=r.getYear(r.date(e.max)));let c=r.startOfYear(r.date());return c=r.setYear(c,l),ro(u-l+1,l).map(f=>{const d=r.format(c,"year");return c=r.setYear(c,r.getYear(c)+1),{text:d,value:f}})});Fn(()=>{a.value=a.value??r.getYear(r.date())});const o=Oe();return gn(async()=>{var s;await Ht(),(s=o.value)==null||s.$el.scrollIntoView({block:"center"})}),Ge(()=>W("div",{class:"v-date-picker-years",style:{height:lt(e.height)}},[W("div",{class:"v-date-picker-years__content"},[i.value.map((s,l)=>{var c;const u={ref:a.value===s.value?o:void 0,active:a.value===s.value,color:a.value===s.value?e.color:void 0,rounded:!0,text:s.text,variant:a.value===s.value?"flat":"text",onClick:()=>a.value=s.value};return((c=n.year)==null?void 0:c.call(n,{year:s,i:l,props:u}))??W(vn,je({key:"month"},u),null)})])])),{}}}),t3e=La("v-picker-title"),KX=Ie({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...O0()},"VPicker"),y4=He()({name:"VPicker",props:KX(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=mn(ze(e,"color"));return Ge(()=>{const i=pu.filterProps(e),o=!!(e.title||n.title);return W(pu,je(i,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var s;return[!e.hideHeader&&W("div",{key:"header",class:[r.value],style:[a.value]},[o&&W(t3e,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&W("div",{class:"v-picker__header"},[n.header()])]),W("div",{class:"v-picker__body"},[(s=n.default)==null?void 0:s.call(n)]),n.actions&&W(Kt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[W("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),n3e=Ie({header:{type:String,default:"$vuetify.datePicker.header"},...jX(),...YX(),...gr(XX(),["modelValue"]),...gr(qX(),["modelValue"]),...KX({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),r3e=He()({name:"VDatePicker",props:n3e(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=Nv(),{t:i}=er(),o=yt(e,"modelValue",void 0,_=>Wn(_),_=>e.multiple?_:_[0]),s=yt(e,"viewMode"),l=ie(()=>{var w;const _=a.date((w=o.value)==null?void 0:w[0]);return _&&a.isValid(_)?_:a.date()}),u=Oe(Number(e.month??a.getMonth(a.startOfMonth(l.value)))),c=Oe(Number(e.year??a.getYear(a.startOfYear(a.setMonth(l.value,u.value))))),f=it(!1),d=ie(()=>e.multiple&&o.value.length>1?i("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&a.isValid(o.value[0])?a.format(o.value[0],"normalDateWithWeekday"):i(e.header)),h=ie(()=>a.format(a.setYear(a.setMonth(a.startOfMonth(a.date()),u.value),c.value),"monthAndYear")),v=ie(()=>`date-picker-header${f.value?"-reverse":""}-transition`),m=ie(()=>{const _=a.date(e.min);return e.min&&a.isValid(_)?_:null}),p=ie(()=>{const _=a.date(e.max);return e.max&&a.isValid(_)?_:null}),g=ie(()=>{if(e.disabled)return!0;const _=[];if(s.value!=="month")_.push("prev","next");else{let w=a.date();if(w=a.setYear(w,c.value),w=a.setMonth(w,u.value),m.value){const C=a.addDays(a.startOfMonth(w),-1);a.isAfter(m.value,C)&&_.push("prev")}if(p.value){const C=a.addDays(a.endOfMonth(w),1);a.isAfter(C,p.value)&&_.push("next")}}return _});function y(){u.value<11?u.value++:(c.value++,u.value=0)}function x(){u.value>0?u.value--:(c.value--,u.value=11)}function b(){s.value="month"}function A(){s.value=s.value==="months"?"month":"months"}function S(){s.value=s.value==="year"?"month":"year"}return nt(u,()=>{s.value==="months"&&A(),n("update:month",u.value)}),nt(c,()=>{s.value==="year"&&S(),n("update:year",c.value)}),nt(o,(_,w)=>{const C=a.date(Wn(_)[0]),M=a.date(Wn(w)[0]);f.value=a.isBefore(C,M)}),Ge(()=>{const _=y4.filterProps(e),w=ST.filterProps(e),C=_T.filterProps(e),M=AT.filterProps(e),T=gr(wT.filterProps(e),["modelValue"]),E=gr(CT.filterProps(e),["modelValue"]),P={header:d.value,transition:v.value};return W(y4,je(_,{class:["v-date-picker",`v-date-picker--${s.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var R;return((R=r.title)==null?void 0:R.call(r))??W("div",{class:"v-date-picker__title"},[i(e.title)])},header:()=>r.header?W(Kt,{defaults:{VDatePickerHeader:{...P}}},{default:()=>{var R;return[(R=r.header)==null?void 0:R.call(r,P)]}}):W(_T,je({key:"header"},C,P,{onClick:s.value!=="month"?b:void 0}),{...r,default:void 0}),default:()=>W(tt,null,[W(ST,je(w,{disabled:g.value,text:h.value,"onClick:next":y,"onClick:prev":x,"onClick:month":A,"onClick:year":S}),null),W(Qm,{hideOnLeave:!0},{default:()=>[s.value==="months"?W(wT,je({key:"date-picker-months"},T,{modelValue:u.value,"onUpdate:modelValue":R=>u.value=R,min:m.value,max:p.value}),null):s.value==="year"?W(CT,je({key:"date-picker-years"},E,{modelValue:c.value,"onUpdate:modelValue":R=>c.value=R,min:m.value,max:p.value}),null):W(AT,je({key:"date-picker-month"},M,{modelValue:o.value,"onUpdate:modelValue":R=>o.value=R,month:u.value,"onUpdate:month":R=>u.value=R,year:c.value,"onUpdate:year":R=>c.value=R,min:m.value,max:p.value}),null)]})]),actions:r.actions})}),{}}}),Yh=Symbol.for("vuetify:v-expansion-panel"),a3e=["default","accordion","inset","popout"],i3e=Ie({color:String,static:Boolean,variant:{type:String,default:"default",validator:e=>a3e.includes(e)},readonly:Boolean,...ct(),...ku(),...kt(),...Zt()},"VExpansionPanels"),o3e=He()({name:"VExpansionPanels",props:i3e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;yl(e,Yh);const{themeClasses:r}=ln(e),a=ie(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Rn({VExpansionPanel:{color:ze(e,"color"),readonly:ze(e,"readonly"),static:ze(e,"static")}}),Ge(()=>W(e.tag,{class:["v-expansion-panels",r.value,a.value,e.class],style:e.style},n)),{}}}),s3e=Ie({...ct(),...P0()},"VExpansionPanelText"),ZX=He()({name:"VExpansionPanelText",props:s3e(),setup(e,t){let{slots:n}=t;const r=Vt(Yh);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:i}=LR(e,r.isSelected);return Ge(()=>W(b0,{onAfterLeave:i},{default:()=>{var o;return[_n(W("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&a.value&&W("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[Ta,r.isSelected.value]])]}})),{}}}),QX=Ie({color:String,expandIcon:{type:Ot,default:"$expand"},collapseIcon:{type:Ot,default:"$collapse"},hideActions:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ct()},"VExpansionPanelTitle"),JX=He()({name:"VExpansionPanelTitle",directives:{Ripple:vs},props:QX(),setup(e,t){let{slots:n}=t;const r=Vt(Yh);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:i}=mn(e,"color"),o=ie(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return Ge(()=>{var s;return _n(W("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--static":e.static},a.value,e.class],style:[i.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[W("span",{class:"v-expansion-panel-title__overlay"},null),(s=n.default)==null?void 0:s.call(n,o.value),!e.hideActions&&W("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(o.value):W(sn,{icon:r.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[pa("ripple"),e.ripple]])}),{}}}),l3e=Ie({title:String,text:String,bgColor:String,...ct(),...fr(),...Bu(),...P0(),...Mn(),...kt(),...QX()},"VExpansionPanel"),u3e=He()({name:"VExpansionPanel",props:l3e(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Fu(e,Yh),{backgroundColorClasses:a,backgroundColorStyles:i}=mn(e,"bgColor"),{elevationClasses:o}=Rr(e),{roundedClasses:s}=zn(e),l=ie(()=>(r==null?void 0:r.disabled.value)||e.disabled),u=ie(()=>r.group.items.value.reduce((d,h,v)=>(r.group.selected.value.includes(h.id)&&d.push(v),d),[])),c=ie(()=>{const d=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-d===1)}),f=ie(()=>{const d=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-d===-1)});return cn(Yh,r),Rn({VExpansionPanelText:{eager:ze(e,"eager")},VExpansionPanelTitle:{readonly:ze(e,"readonly")}}),Ge(()=>{const d=!!(n.text||e.text),h=!!(n.title||e.title);return W(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":l.value},s.value,a.value,e.class],style:[i.value,e.style]},{default:()=>{var v;return[W("div",{class:["v-expansion-panel__shadow",...o.value]},null),h&&W(JX,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[n.title?n.title():e.title]}),d&&W(ZX,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(v=n.default)==null?void 0:v.call(n)]}})}),{}}}),c3e=Ie({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...gs({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>Wn(e).every(t=>t!=null&&typeof t=="object")},...$v({clearable:!0})},"VFileInput"),f3e=He()({name:"VFileInput",inheritAttrs:!1,props:c3e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:i}=er(),o=yt(e,"modelValue"),{isFocused:s,focus:l,blur:u}=ps(e),c=ie(()=>typeof e.showSize!="boolean"?e.showSize:void 0),f=ie(()=>(o.value??[]).reduce((C,M)=>{let{size:T=0}=M;return C+T},0)),d=ie(()=>R5(f.value,c.value)),h=ie(()=>(o.value??[]).map(C=>{const{name:M="",size:T=0}=C;return e.showSize?`${M} (${R5(T,c.value)})`:M})),v=ie(()=>{var M;const C=((M=o.value)==null?void 0:M.length)??0;return e.showSize?i(e.counterSizeString,C,d.value):i(e.counterString,C)}),m=Oe(),p=Oe(),g=Oe(),y=ie(()=>s.value||e.active),x=ie(()=>["plain","underlined"].includes(e.variant));function b(){var C;g.value!==document.activeElement&&((C=g.value)==null||C.focus()),s.value||l()}function A(C){_(C)}function S(C){r("mousedown:control",C)}function _(C){var M;(M=g.value)==null||M.click(),r("click:control",C)}function w(C){C.stopPropagation(),b(),Ht(()=>{o.value=[],dR(e["onClick:clear"],C)})}return nt(o,C=>{(!Array.isArray(C)||!C.length)&&g.value&&(g.value.value="")}),Ge(()=>{const C=!!(a.counter||e.counter),M=!!(C||a.details),[T,E]=ml(n),{modelValue:P,...R}=kr.filterProps(e),I=OR(e);return W(kr,je({ref:m,modelValue:o.value,"onUpdate:modelValue":D=>o.value=D,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-input--plain-underlined":x.value},e.class],style:e.style,"onClick:prepend":A},T,R,{centerAffix:!x.value,focused:s.value}),{...a,default:D=>{let{id:B,isDisabled:F,isDirty:G,isReadonly:z,isValid:N}=D;return W(td,je({ref:p,"prepend-icon":e.prependIcon,onMousedown:S,onClick:_,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},I,{id:B.value,active:y.value||G.value,dirty:G.value,disabled:F.value,focused:s.value,error:N.value===!1}),{...a,default:U=>{var V;let{props:{class:$,...k}}=U;return W(tt,null,[W("input",je({ref:g,type:"file",readonly:z.value,disabled:F.value,multiple:e.multiple,name:e.name,onClick:L=>{L.stopPropagation(),z.value&&L.preventDefault(),b()},onChange:L=>{if(!L.target)return;const O=L.target;o.value=[...O.files??[]]},onFocus:b,onBlur:u},k,E),null),W("div",{class:$},[!!((V=o.value)!=null&&V.length)&&(a.selection?a.selection({fileNames:h.value,totalBytes:f.value,totalBytesReadable:d.value}):e.chips?h.value.map(L=>W(Uv,{key:L,size:"small",color:e.color},{default:()=>[L]})):h.value.join(", "))])])}})},details:M?D=>{var B,F;return W(tt,null,[(B=a.details)==null?void 0:B.call(a,D),C&&W(tt,null,[W("span",null,null),W(I0,{active:!!((F=o.value)!=null&&F.length),value:v.value},a.counter)])])}:void 0})}),fi({},m,p,g)}}),d3e=Ie({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Na(),...ct(),...fr(),...Xf(),...Mn(),...kt({tag:"footer"}),...Zt()},"VFooter"),h3e=He()({name:"VFooter",props:d3e(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{backgroundColorClasses:a,backgroundColorStyles:i}=mn(ze(e,"color")),{borderClasses:o}=ui(e),{elevationClasses:s}=Rr(e),{roundedClasses:l}=zn(e),u=it(32),{resizeRef:c}=fo(h=>{h.length&&(u.value=h[0].target.clientHeight)}),f=ie(()=>e.height==="auto"?u.value:parseInt(e.height,10)),{layoutItemStyles:d}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:ie(()=>"bottom"),layoutSize:f,elementSize:ie(()=>e.height==="auto"?void 0:f.value),active:ie(()=>e.app),absolute:ze(e,"absolute")});return Ge(()=>W(e.tag,{ref:c,class:["v-footer",r.value,a.value,o.value,s.value,l.value,e.class],style:[i.value,e.app?d.value:{height:lt(e.height)},e.style]},n)),{}}}),v3e=Ie({...ct(),...ROe()},"VForm"),p3e=He()({name:"VForm",props:v3e(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=IOe(e),i=Oe();function o(l){l.preventDefault(),a.reset()}function s(l){const u=l,c=a.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(f=>{var h;let{valid:d}=f;d&&((h=i.value)==null||h.submit())}),u.preventDefault()}return Ge(()=>{var l;return W("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:s},[(l=n.default)==null?void 0:l.call(n,a)])}),fi(a,i)}}),g3e=Ie({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...VY()},"VHover"),m3e=He()({name:"VHover",props:g3e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{runOpenDelay:a,runCloseDelay:i}=zY(e,o=>!e.disabled&&(r.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:r.value,props:{onMouseenter:a,onMouseleave:i}})}}}),y3e=Ie({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...sa(),...kt()},"VInfiniteScroll"),x4=Da({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootRef:null,rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:r,isIntersecting:a}=S0(i=>{},e.rootMargin?{rootMargin:e.rootMargin}:void 0);return nt(a,async i=>{n("intersect",e.side,i)}),Ge(()=>W("div",{class:"v-infinite-scroll-intersect",ref:r},[Lt(" ")])),{}}}),x3e=He()({name:"VInfiniteScroll",props:y3e(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Oe(),i=it("ok"),o=it("ok"),s=ie(()=>lt(e.margin)),l=it(!1);function u(A){if(!a.value)return;const S=e.direction==="vertical"?"scrollTop":"scrollLeft";a.value[S]=A}function c(){if(!a.value)return 0;const A=e.direction==="vertical"?"scrollTop":"scrollLeft";return a.value[A]}function f(){if(!a.value)return 0;const A=e.direction==="vertical"?"scrollHeight":"scrollWidth";return a.value[A]}function d(){if(!a.value)return 0;const A=e.direction==="vertical"?"clientHeight":"clientWidth";return a.value[A]}gn(()=>{a.value&&(e.side==="start"?u(f()):e.side==="both"&&u(f()/2-d()/2))});function h(A,S){A==="start"?i.value=S:A==="end"&&(o.value=S)}function v(A){return A==="start"?i.value:o.value}let m=0;function p(A,S){l.value=S,l.value&&g(A)}function g(A){if(e.mode!=="manual"&&!l.value)return;const S=v(A);if(!a.value||S==="loading")return;m=f(),h(A,"loading");function _(w){h(A,w),Ht(()=>{w==="empty"||w==="error"||(w==="ok"&&A==="start"&&u(f()-m+c()),e.mode!=="manual"&&Ht(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{g(A)})})})}))})}r("load",{side:A,done:_})}const{t:y}=er();function x(A,S){var C,M,T,E,P;if(e.side!==A&&e.side!=="both")return;const _=()=>g(A),w={side:A,props:{onClick:_,color:e.color}};return S==="error"?(C=n.error)==null?void 0:C.call(n,w):S==="empty"?((M=n.empty)==null?void 0:M.call(n,w))??W("div",null,[y(e.emptyText)]):e.mode==="manual"?S==="loading"?((T=n.loading)==null?void 0:T.call(n,w))??W(Sf,{indeterminate:!0,color:e.color},null):((E=n["load-more"])==null?void 0:E.call(n,w))??W(vn,{variant:"outlined",color:e.color,onClick:_},{default:()=>[y(e.loadMoreText)]}):((P=n.loading)==null?void 0:P.call(n,w))??W(Sf,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:b}=la(e);Ge(()=>{const A=e.tag,S=e.side==="start"||e.side==="both",_=e.side==="end"||e.side==="both",w=e.mode==="intersect";return W(A,{ref:a,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":S,"v-infinite-scroll--end":_}],style:b.value},{default:()=>{var C;return[W("div",{class:"v-infinite-scroll__side"},[x("start",i.value)]),a.value&&S&&w&&W(x4,{key:"start",side:"start",onIntersect:p,rootRef:a.value,rootMargin:s.value},null),(C=n.default)==null?void 0:C.call(n),a.value&&_&&w&&W(x4,{key:"end",side:"end",onIntersect:p,rootRef:a.value,rootMargin:s.value},null),W("div",{class:"v-infinite-scroll__side"},[x("end",o.value)])]}})})}}),eq=Symbol.for("vuetify:v-item-group"),b3e=Ie({...ct(),...ku({selectedClass:"v-item--selected"}),...kt(),...Zt()},"VItemGroup"),S3e=He()({name:"VItemGroup",props:b3e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{isSelected:a,select:i,next:o,prev:s,selected:l}=yl(e,eq);return()=>W(e.tag,{class:["v-item-group",r.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:a,select:i,next:o,prev:s,selected:l.value})]}})}}),_3e=He()({name:"VItem",props:Bu(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,select:a,toggle:i,selectedClass:o,value:s,disabled:l}=Fu(e,eq);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:r.value,selectedClass:o.value,select:a,toggle:i,value:s.value,disabled:l.value})}}}),A3e=La("v-kbd"),w3e=Ie({...ct(),...j7()},"VLayout"),C3e=He()({name:"VLayout",props:w3e(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:a,getLayoutItem:i,items:o,layoutRef:s}=Y7(e);return Ge(()=>{var l;return W("div",{ref:s,class:[r.value,e.class],style:[a.value,e.style]},[(l=n.default)==null?void 0:l.call(n)])}),{getLayoutItem:i,items:o}}}),M3e=Ie({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...ct(),...Xf()},"VLayoutItem"),T3e=He()({name:"VLayoutItem",props:M3e(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:r}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:ze(e,"position"),elementSize:ze(e,"size"),layoutSize:ze(e,"size"),active:ze(e,"modelValue"),absolute:ze(e,"absolute")});return()=>{var a;return W("div",{class:["v-layout-item",e.class],style:[r.value,e.style]},[(a=n.default)==null?void 0:a.call(n)])}}}),E3e=Ie({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...ct(),...sa(),...kt(),...ds({transition:"fade-transition"})},"VLazy"),P3e=He()({name:"VLazy",directives:{intersect:kv},props:E3e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=la(e),a=yt(e,"modelValue");function i(o){a.value||(a.value=o)}return Ge(()=>_n(W(e.tag,{class:["v-lazy",e.class],style:[r.value,e.style]},{default:()=>[a.value&&W(Qa,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[pa("intersect"),{handler:i,options:e.options},null]])),{}}}),R3e=Ie({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...ct()},"VLocaleProvider"),I3e=He()({name:"VLocaleProvider",props:R3e(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=R2e(e);return Ge(()=>{var a;return W("div",{class:["v-locale-provider",r.value,e.class],style:e.style},[(a=n.default)==null?void 0:a.call(n)])}),{}}}),D3e=Ie({scrollable:Boolean,...ct(),...kt({tag:"main"})},"VMain"),L3e=He()({name:"VMain",props:D3e(),setup(e,t){let{slots:n}=t;const{mainStyles:r}=PLe(),{ssrBootStyles:a}=Lu();return Ge(()=>W(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,a.value,e.style]},{default:()=>{var i,o;return[e.scrollable?W("div",{class:"v-main__scroller"},[(i=n.default)==null?void 0:i.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function O3e(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const a=it(!1),i=it(0),o=ie(()=>{const u=typeof a.value=="boolean"?"top":a.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[u]:lt(i.value)}:{top:r.value.top}]});gn(()=>{nt(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Er(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),d=window.scrollY-Math.max(0,i.value-f),h=c.height+Math.max(i.value,f)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-f?(a.value="top",i.value=f):u==="up"&&a.value==="bottom"||u==="down"&&a.value==="top"?(i.value=window.scrollY+c.top-v,a.value=!0):u==="down"&&h<=0?(i.value=0,a.value="bottom"):u==="up"&&d<=0&&(v?a.value!=="top"&&(i.value=-d+v+f,a.value="top"):(i.value=c.top+d,a.value="top")),s=window.scrollY}return{isStuck:a,stickyStyles:o}}const N3e=100,k3e=20;function b4(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function S4(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=b4(t),a=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(a-r)*Math.abs(a),n===e.length-1&&(t*=.5)}return b4(t)*1e3}function B3e(){const e={};function t(a){Array.from(a.changedTouches).forEach(i=>{(e[i.identifier]??(e[i.identifier]=new WDe(k3e))).push([a.timeStamp,i])})}function n(a){Array.from(a.changedTouches).forEach(i=>{delete e[i.identifier]})}function r(a){var u;const i=(u=e[a])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${a}`);const o=i[0],s=[],l=[];for(const c of i){if(o[0]-c[0]>N3e)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:S4(s),y:S4(l),get direction(){const{x:c,y:f}=this,[d,h]=[Math.abs(c),Math.abs(f)];return d>h&&c>=0?"right":d>h&&c<=0?"left":h>d&&f>=0?"down":h>d&&f<=0?"up":F3e()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function F3e(){throw new Error}function V3e(e){let{isActive:t,isTemporary:n,width:r,touchless:a,position:i}=e;gn(()=>{window.addEventListener("touchstart",g,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),Er(()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",x)});const o=ie(()=>["left","right"].includes(i.value)),{addMovement:s,endTouch:l,getVelocity:u}=B3e();let c=!1;const f=it(!1),d=it(0),h=it(0);let v;function m(A,S){return(i.value==="left"?A:i.value==="right"?document.documentElement.clientWidth-A:i.value==="top"?A:i.value==="bottom"?document.documentElement.clientHeight-A:Cc())-(S?r.value:0)}function p(A){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=i.value==="left"?(A-h.value)/r.value:i.value==="right"?(document.documentElement.clientWidth-A-h.value)/r.value:i.value==="top"?(A-h.value)/r.value:i.value==="bottom"?(document.documentElement.clientHeight-A-h.value)/r.value:Cc();return S?Math.max(0,Math.min(1,_)):_}function g(A){if(a.value)return;const S=A.changedTouches[0].clientX,_=A.changedTouches[0].clientY,w=25,C=i.value==="left"?S<w:i.value==="right"?S>document.documentElement.clientWidth-w:i.value==="top"?_<w:i.value==="bottom"?_>document.documentElement.clientHeight-w:Cc(),M=t.value&&(i.value==="left"?S<r.value:i.value==="right"?S>document.documentElement.clientWidth-r.value:i.value==="top"?_<r.value:i.value==="bottom"?_>document.documentElement.clientHeight-r.value:Cc());(C||M||t.value&&n.value)&&(c=!0,v=[S,_],h.value=m(o.value?S:_,t.value),d.value=p(o.value?S:_),l(A),s(A))}function y(A){const S=A.changedTouches[0].clientX,_=A.changedTouches[0].clientY;if(c){if(!A.cancelable){c=!1;return}const C=Math.abs(S-v[0]),M=Math.abs(_-v[1]);(o.value?C>M&&C>3:M>C&&M>3)?(f.value=!0,c=!1):(o.value?M:C)>3&&(c=!1)}if(!f.value)return;A.preventDefault(),s(A);const w=p(o.value?S:_,!1);d.value=Math.max(0,Math.min(1,w)),w>1?h.value=m(o.value?S:_,!0):w<0&&(h.value=m(o.value?S:_,!1))}function x(A){if(c=!1,!f.value)return;s(A),f.value=!1;const S=u(A.changedTouches[0].identifier),_=Math.abs(S.x),w=Math.abs(S.y);(o.value?_>w&&_>400:w>_&&w>3)?t.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||Cc()):t.value=d.value>.5}const b=ie(()=>f.value?{transform:i.value==="left"?`translateX(calc(-100% + ${d.value*r.value}px))`:i.value==="right"?`translateX(calc(100% - ${d.value*r.value}px))`:i.value==="top"?`translateY(calc(-100% + ${d.value*r.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${d.value*r.value}px))`:Cc(),transition:"none"}:void 0);return{isDragging:f,dragProgress:d,dragStyles:b}}function Cc(){throw new Error}const z3e=["start","end","left","right","top","bottom"],U3e=Ie({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>z3e.includes(e)},sticky:Boolean,...Na(),...ct(),...xR(),...fr(),...Xf(),...Mn(),...kt({tag:"nav"}),...Zt()},"VNavigationDrawer"),H3e=He()({name:"VNavigationDrawer",props:U3e(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{isRtl:i}=Pr(),{themeClasses:o}=ln(e),{borderClasses:s}=ui(e),{backgroundColorClasses:l,backgroundColorStyles:u}=mn(ze(e,"color")),{elevationClasses:c}=Rr(e),{displayClasses:f,mobile:d}=Du(e),{roundedClasses:h}=zn(e),v=aY(),m=yt(e,"modelValue",null,z=>!!z),{ssrBootStyles:p}=Lu(),{scopeId:g}=ed(),y=Oe(),x=it(!1),b=ie(()=>e.rail&&e.expandOnHover&&x.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),A=ie(()=>qM(e.location,i.value)),S=ie(()=>!e.permanent&&(d.value||e.temporary)),_=ie(()=>e.sticky&&!S.value&&A.value!=="bottom");Ei(()=>e.expandOnHover&&e.rail!=null,()=>{nt(x,z=>r("update:rail",!z))}),Ei(()=>!e.disableResizeWatcher,()=>{nt(S,z=>!e.permanent&&Ht(()=>m.value=!z))}),Ei(()=>!e.disableRouteWatcher&&!!v,()=>{nt(v.currentRoute,()=>S.value&&(m.value=!1))}),nt(()=>e.permanent,z=>{z&&(m.value=!0)}),cy(()=>{e.modelValue!=null||S.value||(m.value=e.permanent||!d.value)});const{isDragging:w,dragProgress:C,dragStyles:M}=V3e({isActive:m,isTemporary:S,width:b,touchless:ze(e,"touchless"),position:A}),T=ie(()=>{const z=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):b.value;return w.value?z*C.value:z}),{layoutItemStyles:E,layoutItemScrimStyles:P}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:A,layoutSize:T,elementSize:b,active:ie(()=>m.value||w.value),disableTransitions:ie(()=>w.value),absolute:ie(()=>e.absolute||_.value&&typeof R.value!="string")}),{isStuck:R,stickyStyles:I}=O3e({rootEl:y,isSticky:_,layoutItemStyles:E}),D=mn(ie(()=>typeof e.scrim=="string"?e.scrim:null)),B=ie(()=>({...w.value?{opacity:C.value*.2,transition:"none"}:void 0,...P.value}));Rn({VList:{bgColor:"transparent"}});function F(){x.value=!0}function G(){x.value=!1}return Ge(()=>{const z=a.image||e.image;return W(tt,null,[W(e.tag,je({ref:y,onMouseenter:F,onMouseleave:G,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":x.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":_.value},o.value,l.value,s.value,f.value,c.value,h.value,e.class],style:[u.value,E.value,M.value,p.value,I.value,e.style]},g,n),{default:()=>{var N,U,$,k;return[z&&W("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(N=a.image)==null?void 0:N.call(a,{image:e.image}):W("img",{src:e.image,alt:""},null)]),a.prepend&&W("div",{class:"v-navigation-drawer__prepend"},[(U=a.prepend)==null?void 0:U.call(a)]),W("div",{class:"v-navigation-drawer__content"},[($=a.default)==null?void 0:$.call(a)]),a.append&&W("div",{class:"v-navigation-drawer__append"},[(k=a.append)==null?void 0:k.call(a)])]}}),W(so,{name:"fade-transition"},{default:()=>[S.value&&(w.value||m.value)&&!!e.scrim&&W("div",je({class:["v-navigation-drawer__scrim",D.backgroundColorClasses.value],style:[B.value,D.backgroundColorStyles.value],onClick:()=>m.value=!1},g),null)]})])}),{isStuck:R}}}),$3e=Da({name:"VNoSsr",setup(e,t){let{slots:n}=t;const r=HY();return()=>{var a;return r.value&&((a=n.default)==null?void 0:a.call(n))}}}),G3e=Ie({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...sa(),...zv(),...p7($v({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),W3e=He()({name:"VOtpInput",props:G3e(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{dimensionStyles:i}=la(e),{isFocused:o,focus:s,blur:l}=ps(e),u=yt(e,"modelValue","",_=>String(_).split(""),_=>_.join("")),{t:c}=er(),f=ie(()=>Number(e.length)),d=ie(()=>Array(f.value).fill(0)),h=Oe(-1),v=Oe(),m=Oe([]),p=ie(()=>m.value[h.value]);function g(){if(e.type==="number"&&/[^0-9]/g.test(p.value.value)){p.value.value="";return}const _=u.value.slice(),w=p.value.value;_[h.value]=w;let C=null;h.value>u.value.length?C=u.value.length+1:h.value+1!==f.value&&(C="next"),u.value=_,C&&mf(v.value,C)}function y(_){const w=u.value.slice(),C=h.value;let M=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(_.key)&&(_.preventDefault(),_.key==="ArrowLeft"?M="prev":_.key==="ArrowRight"?M="next":["Backspace","Delete"].includes(_.key)&&(w[h.value]="",u.value=w,h.value>0&&_.key==="Backspace"?M="prev":requestAnimationFrame(()=>{var T;(T=m.value[C])==null||T.select()})),requestAnimationFrame(()=>{M!=null&&mf(v.value,M)}))}function x(_,w){var C,M;w.preventDefault(),w.stopPropagation(),u.value=(((C=w==null?void 0:w.clipboardData)==null?void 0:C.getData("Text"))??"").split(""),(M=m.value)==null||M[_].blur()}function b(){u.value=[]}function A(_,w){s(),h.value=w}function S(){l(),h.value=-1}return Rn({VField:{color:ie(()=>e.color),bgColor:ie(()=>e.color),baseColor:ie(()=>e.baseColor),disabled:ie(()=>e.disabled),error:ie(()=>e.error),variant:ie(()=>e.variant)}},{scoped:!0}),nt(u,_=>{_.length===f.value&&r("finish",_.join(""))},{deep:!0}),nt(h,_=>{_<0||Ht(()=>{var w;(w=m.value[_])==null||w.select()})}),Ge(()=>{var C;const[_,w]=ml(n);return W("div",je({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},_),[W("div",{ref:v,class:"v-otp-input__content",style:[i.value]},[d.value.map((M,T)=>W(tt,null,[e.divider&&T!==0&&W("span",{class:"v-otp-input__divider"},[e.divider]),W(td,{focused:o.value&&e.focusAll||h.value===T,key:T},{...a,loader:void 0,default:()=>W("input",{ref:E=>m.value[T]=E,"aria-label":c(e.label,T+1),autofocus:T===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[T],onInput:g,onFocus:E=>A(E,T),onBlur:S,onKeydown:y,onPaste:E=>x(T,E)},null)})])),W("input",je({class:"v-otp-input-input",type:"hidden"},w,{value:u.value.join("")}),null),W(ho,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var M;return[((M=a.loader)==null?void 0:M.call(a))??W(Sf,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(C=a.default)==null?void 0:C.call(a)])])}),{blur:()=>{var _;(_=m.value)==null||_.some(w=>w.blur())},focus:()=>{var _;(_=m.value)==null||_[0].focus()},reset:b,isFocused:o}}});function j3e(e){return Math.floor(Math.abs(e))*Math.sign(e)}const Y3e=Ie({scale:{type:[Number,String],default:.5},...ct()},"VParallax"),X3e=He()({name:"VParallax",props:Y3e(),setup(e,t){let{slots:n}=t;const{intersectionRef:r,isIntersecting:a}=S0(),{resizeRef:i,contentRect:o}=fo(),{height:s}=Du(),l=Oe();Fn(()=>{var h;r.value=i.value=(h=l.value)==null?void 0:h.$el});let u;nt(a,h=>{h?(u=mR(r.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",d,{passive:!0}),d()):u.removeEventListener("scroll",d)}),Er(()=>{u==null||u.removeEventListener("scroll",d)}),nt(s,d),nt(()=>{var h;return(h=o.value)==null?void 0:h.height},d);const c=ie(()=>1-ar(+e.scale));let f=-1;function d(){a.value&&(cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;const h=((A=l.value)==null?void 0:A.$el).querySelector(".v-img__img");if(!h)return;const v=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,m=u instanceof Document?window.scrollY:u.scrollTop,p=r.value.getBoundingClientRect().top+m,g=o.value.height,y=p+(g-v)/2,x=j3e((m-y)*c.value),b=Math.max(1,(c.value*(v-g)+g)/g);h.style.setProperty("transform",`translateY(${x}px) scale(${b})`)}))}return Ge(()=>W(du,{class:["v-parallax",{"v-parallax--active":a.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:d,onLoad:d},n)),{}}}),q3e=Ie({...C0({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),K3e=He()({name:"VRadio",props:q3e(),setup(e,t){let{slots:n}=t;return Ge(()=>W(hu,je(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)),{}}}),Z3e=Ie({height:{type:[Number,String],default:"auto"},...gs(),...gr(PR(),["multiple"]),trueIcon:{type:Ot,default:"$radioOn"},falseIcon:{type:Ot,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),Q3e=He()({name:"VRadioGroup",inheritAttrs:!1,props:Z3e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=Yr(),i=ie(()=>e.id||`radio-group-${a}`),o=yt(e,"modelValue");return Ge(()=>{const[s,l]=ml(n),u=kr.filterProps(e),c=hu.filterProps(e),f=r.label?r.label({label:e.label,props:{for:i.value}}):e.label;return W(kr,je({class:["v-radio-group",e.class],style:e.style},s,u,{modelValue:o.value,"onUpdate:modelValue":d=>o.value=d,id:i.value}),{...r,default:d=>{let{id:h,messagesId:v,isDisabled:m,isReadonly:p}=d;return W(tt,null,[f&&W(Jf,{id:h.value},{default:()=>[f]}),W(pY,je(c,{id:h.value,"aria-describedby":v.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:m.value,readonly:p.value,"aria-labelledby":f?h.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g}),r)])}})}),{}}}),J3e=Ie({...zv(),...gs(),...uX(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),eFe=He()({name:"VRangeSlider",props:J3e(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=Oe(),i=Oe(),o=Oe(),{rtlClasses:s}=Pr();function l(C){if(!a.value||!i.value)return;const M=gT(C,a.value.$el,e.direction),T=gT(C,i.value.$el,e.direction),E=Math.abs(M),P=Math.abs(T);return E<P||E===P&&M<0?a.value.$el:i.value.$el}const u=cX(e),c=yt(e,"modelValue",void 0,C=>C!=null&&C.length?C.map(M=>u.roundValue(M)):[0,0]),{activeThumbRef:f,hasLabels:d,max:h,min:v,mousePressed:m,onSliderMousedown:p,onSliderTouchstart:g,position:y,trackContainerRef:x}=fX({props:e,steps:u,onSliderStart:()=>{r("start",c.value)},onSliderEnd:C=>{var E;let{value:M}=C;const T=f.value===((E=a.value)==null?void 0:E.$el)?[M,c.value[1]]:[c.value[0],M];!e.strict&&T[0]<T[1]&&(c.value=T),r("end",c.value)},onSliderMove:C=>{var P,R,I,D;let{value:M}=C;const[T,E]=c.value;!e.strict&&T===E&&T!==v.value&&(f.value=M>T?(P=i.value)==null?void 0:P.$el:(R=a.value)==null?void 0:R.$el,(I=f.value)==null||I.focus()),f.value===((D=a.value)==null?void 0:D.$el)?c.value=[Math.min(M,E),E]:c.value=[T,Math.max(T,M)]},getActiveThumb:l}),{isFocused:b,focus:A,blur:S}=ps(e),_=ie(()=>y(c.value[0])),w=ie(()=>y(c.value[1]));return Ge(()=>{const C=kr.filterProps(e),M=!!(e.label||n.label||n.prepend);return W(kr,je({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||d.value,"v-slider--focused":b.value,"v-slider--pressed":m.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style,ref:o},C,{focused:b.value}),{...n,prepend:M?T=>{var E,P;return W(tt,null,[((E=n.label)==null?void 0:E.call(n,T))??(e.label?W(Jf,{class:"v-slider__label",text:e.label},null):void 0),(P=n.prepend)==null?void 0:P.call(n,T)])}:void 0,default:T=>{var R,I;let{id:E,messagesId:P}=T;return W("div",{class:"v-slider__container",onMousedown:p,onTouchstartPassive:g},[W("input",{id:`${E.value}_start`,name:e.name||E.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),W("input",{id:`${E.value}_stop`,name:e.name||E.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),W(dX,{ref:x,start:_.value,stop:w.value},{"tick-label":n["tick-label"]}),W(mT,{ref:a,"aria-describedby":P.value,focused:b&&f.value===((R=a.value)==null?void 0:R.$el),modelValue:c.value[0],"onUpdate:modelValue":D=>c.value=[D,c.value[1]],onFocus:D=>{var B,F,G,z;A(),f.value=(B=a.value)==null?void 0:B.$el,c.value[0]===c.value[1]&&c.value[1]===v.value&&D.relatedTarget!==((F=i.value)==null?void 0:F.$el)&&((G=a.value)==null||G.$el.blur(),(z=i.value)==null||z.$el.focus())},onBlur:()=>{S(),f.value=void 0},min:v.value,max:c.value[1],position:_.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),W(mT,{ref:i,"aria-describedby":P.value,focused:b&&f.value===((I=i.value)==null?void 0:I.$el),modelValue:c.value[1],"onUpdate:modelValue":D=>c.value=[c.value[0],D],onFocus:D=>{var B,F,G,z;A(),f.value=(B=i.value)==null?void 0:B.$el,c.value[0]===c.value[1]&&c.value[0]===h.value&&D.relatedTarget!==((F=a.value)==null?void 0:F.$el)&&((G=i.value)==null||G.$el.blur(),(z=a.value)==null||z.$el.focus())},onBlur:()=>{S(),f.value=void 0},min:c.value[0],max:h.value,position:w.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),tFe=Ie({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:Ot,default:"$ratingEmpty"},fullIcon:{type:Ot,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...ct(),...br(),...hs(),...kt(),...Zt()},"VRating"),nFe=He()({name:"VRating",props:tFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=er(),{themeClasses:a}=ln(e),i=yt(e,"modelValue"),o=ie(()=>ar(parseFloat(i.value),0,+e.length)),s=ie(()=>ro(Number(e.length),1)),l=ie(()=>s.value.flatMap(m=>e.halfIncrements?[m-.5,m]:[m])),u=it(-1),c=ie(()=>l.value.map(m=>{const p=e.hover&&u.value>-1,g=o.value>=m,y=u.value>=m,b=(p?y:g)?e.fullIcon:e.emptyIcon,A=e.activeColor??e.color,S=g||y?A:e.color;return{isFilled:g,isHovered:y,icon:b,color:S}})),f=ie(()=>[0,...l.value].map(m=>{function p(){u.value=m}function g(){u.value=-1}function y(){e.disabled||e.readonly||(i.value=o.value===m&&e.clearable?0:m)}return{onMouseenter:e.hover?p:void 0,onMouseleave:e.hover?g:void 0,onClick:y}})),d=ie(()=>e.name??`v-rating-${Yr()}`);function h(m){var w,C;let{value:p,index:g,showStar:y=!0}=m;const{onMouseenter:x,onMouseleave:b,onClick:A}=f.value[g+1],S=`${d.value}-${String(p).replace(".","-")}`,_={color:(w=c.value[g])==null?void 0:w.color,density:e.density,disabled:e.disabled,icon:(C=c.value[g])==null?void 0:C.icon,ripple:e.ripple,size:e.size,variant:"plain"};return W(tt,null,[W("label",{for:S,class:{"v-rating__item--half":e.halfIncrements&&p%1>0,"v-rating__item--full":e.halfIncrements&&p%1===0},onMouseenter:x,onMouseleave:b,onClick:A},[W("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,p,e.length)]),y?n.item?n.item({...c.value[g],props:_,value:p,index:g,rating:o.value}):W(vn,je({"aria-label":r(e.itemAriaLabel,p,e.length)},_),null):void 0]),W("input",{class:"v-rating__hidden",name:d.value,id:S,type:"radio",value:p,checked:o.value===p,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function v(m){return n["item-label"]?n["item-label"](m):m.label?W("span",null,[m.label]):W("span",null,[Lt(" ")])}return Ge(()=>{var p;const m=!!((p=e.itemLabels)!=null&&p.length)||n["item-label"];return W(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class],style:e.style},{default:()=>[W(h,{value:0,index:-1,showStar:!1},null),s.value.map((g,y)=>{var x,b;return W("div",{class:"v-rating__wrapper"},[m&&e.itemLabelPosition==="top"?v({value:g,index:y,label:(x=e.itemLabels)==null?void 0:x[y]}):void 0,W("div",{class:"v-rating__item"},[e.halfIncrements?W(tt,null,[W(h,{value:g-.5,index:y*2},null),W(h,{value:g,index:y*2+1},null)]):W(h,{value:g,index:y},null)]),m&&e.itemLabelPosition==="bottom"?v({value:g,index:y,label:(b=e.itemLabels)==null?void 0:b[y]}):void 0])})]})}),{}}}),rFe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function aFe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return W("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function _4(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>G0(t))}function G0(e){let t=[];if(!e)return t;const n=rFe[e];if(e!==n){if(e.includes(","))return A4(e);if(e.includes("@"))return _4(e);n.includes(",")?t=A4(n):n.includes("@")?t=_4(n):n&&t.push(G0(n))}return[aFe(e,t)]}function A4(e){return e.replace(/\s/g,"").split(",").map(G0)}const iFe=Ie({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...sa(),...fr(),...Zt()},"VSkeletonLoader"),oFe=He()({name:"VSkeletonLoader",props:iFe(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=mn(ze(e,"color")),{dimensionStyles:i}=la(e),{elevationClasses:o}=Rr(e),{themeClasses:s}=ln(e),{t:l}=er(),u=ie(()=>G0(Wn(e.type).join(",")));return Ge(()=>{var f;const c=!n.default||e.loading;return W("div",{class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},s.value,r.value,o.value],style:[a.value,c?i.value:{}],"aria-busy":e.boilerplate?void 0:c,"aria-live":e.boilerplate?void 0:"polite","aria-label":e.boilerplate?void 0:l(e.loadingText),role:e.boilerplate?void 0:"alert"},[c?u.value:(f=n.default)==null?void 0:f.call(n)])}),{}}}),sFe=He()({name:"VSlideGroupItem",props:Bu(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Fu(e,_Y);return()=>{var a;return(a=n.default)==null?void 0:a.call(n,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}});function lFe(e){const t=it(e);let n=-1;function r(){clearInterval(n)}function a(){r(),Ht(()=>t.value=e)}function i(o){const s=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(s.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(e-c,0),t.value<=0&&r()},l)}return ia(r),{clear:r,time:t,start:i,reset:a}}const uFe=Ie({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...xl({location:"bottom"}),...Zf(),...Mn(),...ci(),...Zt(),...gr(Hv({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),cFe=He()({name:"VSnackbar",props:uFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{locationStyles:a}=bl(e),{positionClasses:i}=Qf(e),{scopeId:o}=ed(),{themeClasses:s}=ln(e),{colorClasses:l,colorStyles:u,variantClasses:c}=Nu(e),{roundedClasses:f}=zn(e),d=lFe(Number(e.timeout)),h=Oe(),v=Oe(),m=it(!1);nt(r,g),nt(()=>e.timeout,g),gn(()=>{r.value&&g()});let p=-1;function g(){d.reset(),window.clearTimeout(p);const A=Number(e.timeout);if(!r.value||A===-1)return;const S=kh(v.value);d.start(S),p=window.setTimeout(()=>{r.value=!1},A)}function y(){d.reset(),window.clearTimeout(p)}function x(){m.value=!0,y()}function b(){m.value=!1,g()}return Ge(()=>{const A=ho.filterProps(e),S=!!(n.default||n.text||e.text);return W(ho,je({ref:h,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},A,{modelValue:r.value,"onUpdate:modelValue":_=>r.value=_,contentProps:je({class:["v-snackbar__wrapper",s.value,l.value,f.value,c.value],style:[a.value,u.value],onPointerenter:x,onPointerleave:b},A.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>{var _,w;return[Ou(!1,"v-snackbar"),e.timer&&W("div",{key:"timer",class:"v-snackbar__timer"},[W(_0,{ref:v,active:!m.value,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),S&&W("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((_=n.text)==null?void 0:_.call(n))??e.text,(w=n.default)==null?void 0:w.call(n)]),n.actions&&W(Kt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[W("div",{class:"v-snackbar__actions"},[n.actions()])]})]},activator:n.activator})}),fi({},h)}}),tq=Ie({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),nq=He()({name:"VStepperActions",props:tq(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=er();function i(){n("click:prev")}function o(){n("click:next")}return Ge(()=>{const s={onClick:i},l={onClick:o};return W("div",{class:"v-stepper-actions"},[W(Kt,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:a(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=r.prev)==null?void 0:u.call(r,{props:s}))??W(vn,s,null)]}}),W(Kt,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:a(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=r.next)==null?void 0:u.call(r,{props:l}))??W(vn,l,null)]}})])}),{}}}),rq=La("v-stepper-header"),fFe=Ie({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]},...Bu()},"VStepperItem"),aq=He()({name:"VStepperItem",directives:{Ripple:vs},props:fFe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=Fu(e,sq,!0),a=ie(()=>(r==null?void 0:r.value.value)??e.value),i=ie(()=>e.rules.every(f=>f()===!0)),o=ie(()=>!e.disabled&&e.editable),s=ie(()=>e.error||!i.value),l=ie(()=>e.complete||e.rules.length>0&&i.value),u=ie(()=>s.value?e.errorIcon:l.value?e.completeIcon:e.editable?e.editIcon:e.icon),c=ie(()=>({canEdit:o.value,hasError:s.value,hasCompleted:l.value,title:e.title,subtitle:e.subtitle,step:a.value,value:e.value}));return Ge(()=>{var m,p,g;const f=(!r||r.isSelected.value||l.value||o.value)&&!s.value&&!e.disabled,d=!!(e.title!=null||n.title),h=!!(e.subtitle!=null||n.subtitle);function v(){r==null||r.toggle()}return _n(W("button",{class:["v-stepper-item",{"v-stepper-item--complete":l.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":s.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:v},[W(ii,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:f?e.color:void 0,size:24},{default:()=>{var y;return[((y=n.icon)==null?void 0:y.call(n,c.value))??(u.value?W(sn,{icon:u.value},null):a.value)]}}),W("div",{class:"v-stepper-item__content"},[d&&W("div",{key:"title",class:"v-stepper-item__title"},[((m=n.title)==null?void 0:m.call(n,c.value))??e.title]),h&&W("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((p=n.subtitle)==null?void 0:p.call(n,c.value))??e.subtitle]),(g=n.default)==null?void 0:g.call(n,c.value)])]),[[pa("ripple"),e.ripple&&e.editable,null]])}),{}}}),dFe=Symbol.for("vuetify:v-stepper"),hFe=Ie({...gr(FR(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),iq=He()({name:"VStepperWindow",props:hFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Vt(dFe,null),a=yt(e,"modelValue"),i=ie({get(){var o;return a.value!=null||!r?a.value:(o=r.items.value.find(s=>r.selected.value.includes(s.id)))==null?void 0:o.value},set(o){a.value=o}});return Ge(()=>{const o=Gh.filterProps(e);return W(Gh,je({_as:"VStepperWindow"},o,{modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:"v-stepper-window",mandatory:!1,touch:!1}),n)}),{}}}),vFe=Ie({...VR()},"VStepperWindowItem"),oq=He()({name:"VStepperWindowItem",props:vFe(),setup(e,t){let{slots:n}=t;return Ge(()=>{const r=Wh.filterProps(e);return W(Wh,je({_as:"VStepperWindowItem"},r,{class:"v-stepper-window-item"}),n)}),{}}}),sq=Symbol.for("vuetify:v-stepper"),pFe=Ie({altLabels:Boolean,bgColor:String,editable:Boolean,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},mobile:Boolean,nonLinear:Boolean,flat:Boolean,...ku({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...O0(),...p7(tq(),["prevText","nextText"])},"VStepper"),gFe=He()({name:"VStepper",props:pFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:a,prev:i,selected:o}=yl(e,sq),{color:s,editable:l,prevText:u,nextText:c}=ay(e),f=ie(()=>e.items.map((v,m)=>{const p=Cr(v,e.itemTitle,v),g=Cr(v,e.itemValue,m+1);return{title:p,value:g,raw:v}})),d=ie(()=>r.value.findIndex(v=>o.value.includes(v.id))),h=ie(()=>e.disabled?e.disabled:d.value===0?"prev":d.value===r.value.length-1?"next":!1);return Rn({VStepperItem:{editable:l,prevText:u,nextText:c},VStepperActions:{color:s,disabled:h,prevText:u,nextText:c}}),Ge(()=>{const v=pu.filterProps(e),m=!!(n.header||e.items.length),p=e.items.length>0,g=!e.hideActions&&!!(p||n.actions);return W(pu,je(v,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{default:()=>{var y,x;return[m&&W(rq,{key:"stepper-header"},{default:()=>[f.value.map((b,A)=>W(tt,null,[!!A&&W(T0,null,null),W(aq,b,{default:n[`header-item.${b.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})]))]}),p&&W(iq,{key:"stepper-window"},{default:()=>[f.value.map(b=>W(oq,{value:b.value},{default:()=>{var A,S;return((A=n[`item.${b.value}`])==null?void 0:A.call(n,b))??((S=n.item)==null?void 0:S.call(n,b))}}))]}),(y=n.default)==null?void 0:y.call(n,{prev:i,next:a}),g&&(((x=n.actions)==null?void 0:x.call(n,{next:a,prev:i}))??W(nq,{key:"stepper-actions","onClick:prev":i,"onClick:next":a},n))]}})}),{prev:i,next:a}}}),mFe=Ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...gs(),...C0()},"VSwitch"),yFe=He()({name:"VSwitch",inheritAttrs:!1,props:mFe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=yt(e,"indeterminate"),i=yt(e,"modelValue"),{loaderClasses:o}=Bv(e),{isFocused:s,focus:l,blur:u}=ps(e),c=Oe(),f=ie(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),d=Yr(),h=ie(()=>e.id||`switch-${d}`);function v(){a.value&&(a.value=!1)}function m(p){var g,y;p.stopPropagation(),p.preventDefault(),(y=(g=c.value)==null?void 0:g.input)==null||y.click()}return Ge(()=>{const[p,g]=ml(n),y=kr.filterProps(e),x=hu.filterProps(e);return W(kr,je({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},o.value,e.class]},p,y,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,id:h.value,focused:s.value,style:e.style}),{...r,default:b=>{let{id:A,messagesId:S,isDisabled:_,isReadonly:w,isValid:C}=b;const M={model:i,isValid:C};return W(hu,je({ref:c},x,{modelValue:i.value,"onUpdate:modelValue":[T=>i.value=T,v],id:A.value,"aria-describedby":S.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:_.value,readonly:w.value,onFocus:l,onBlur:u},g),{...r,default:T=>{let{backgroundColorClasses:E,backgroundColorStyles:P}=T;return W("div",{class:["v-switch__track",...E.value],style:P.value,onClick:m},[r["track-true"]&&W("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](M)]),r["track-false"]&&W("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](M)])])},input:T=>{let{inputNode:E,icon:P,backgroundColorClasses:R,backgroundColorStyles:I}=T;return W(tt,null,[E,W("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":P||e.loading},e.inset?void 0:R.value],style:e.inset?void 0:I.value},[r.thumb?W(Kt,{defaults:{VIcon:{icon:P,size:"x-small"}}},{default:()=>[r.thumb({...M,icon:P})]}):W(AR,null,{default:()=>[e.loading?W(w0,{name:"v-switch",active:!0,color:C.value===!1?void 0:f.value},{default:D=>r.loader?r.loader(D):W(Sf,{active:D.isActive,color:D.color,indeterminate:!0,size:"16",width:"2"},null)}):P&&W(sn,{key:String(P),icon:P,size:"x-small"},null)]})])])}})}})}),{}}}),xFe=Ie({color:String,height:[Number,String],window:Boolean,...ct(),...fr(),...Xf(),...Mn(),...kt(),...Zt()},"VSystemBar"),bFe=He()({name:"VSystemBar",props:xFe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{backgroundColorClasses:a,backgroundColorStyles:i}=mn(ze(e,"color")),{elevationClasses:o}=Rr(e),{roundedClasses:s}=zn(e),{ssrBootStyles:l}=Lu(),u=ie(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=qf({id:e.name,order:ie(()=>parseInt(e.order,10)),position:it("top"),layoutSize:u,elementSize:u,active:ie(()=>!0),absolute:ze(e,"absolute")});return Ge(()=>W(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},r.value,a.value,o.value,s.value,e.class],style:[i.value,c.value,l.value,e.style]},n)),{}}}),lq=Symbol.for("vuetify:v-tabs"),SFe=Ie({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...gr(ER({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),uq=He()({name:"VTab",props:SFe(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:a,textColorStyles:i}=Wr(e,"sliderColor"),o=Oe(),s=Oe(),l=ie(()=>e.direction==="horizontal"),u=ie(()=>{var f,d;return((d=(f=o.value)==null?void 0:f.group)==null?void 0:d.isSelected.value)??!1});function c(f){var h,v;let{value:d}=f;if(d){const m=(v=(h=o.value)==null?void 0:h.$el.parentElement)==null?void 0:v.querySelector(".v-tab--selected .v-tab__slider"),p=s.value;if(!m||!p)return;const g=getComputedStyle(m).color,y=m.getBoundingClientRect(),x=p.getBoundingClientRect(),b=l.value?"x":"y",A=l.value?"X":"Y",S=l.value?"right":"bottom",_=l.value?"width":"height",w=y[b],C=x[b],M=w>C?y[S]-x[S]:y[b]-x[b],T=Math.sign(M)>0?l.value?"right":"bottom":Math.sign(M)<0?l.value?"left":"top":"center",P=(Math.abs(M)+(Math.sign(M)<0?y[_]:x[_]))/Math.max(y[_],x[_])||0,R=y[_]/x[_]||0,I=1.5;Jl(p,{backgroundColor:[g,"currentcolor"],transform:[`translate${A}(${M}px) scale${A}(${R})`,`translate${A}(${M/I}px) scale${A}(${(P-1)/I+1})`,"none"],transformOrigin:Array(3).fill(T)},{duration:225,easing:Fh})}}return Ge(()=>{const f=vn.filterProps(e);return W(vn,je({symbol:lq,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},f,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var d;return W(tt,null,[((d=n.default)==null?void 0:d.call(n))??e.text,!e.hideSlider&&W("div",{ref:s,class:["v-tab__slider",a.value],style:i.value},null)])}})}),fi({},o)}});function _Fe(e){return e?e.map(t=>Ym(t)?t:{text:t,value:t}):[]}const AFe=Ie({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...RR({mandatory:"force"}),...br(),...kt()},"VTabs"),wFe=He()({name:"VTabs",props:AFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),a=ie(()=>_Fe(e.items)),{densityClasses:i}=Xr(e),{backgroundColorClasses:o,backgroundColorStyles:s}=mn(ze(e,"bgColor"));return Rn({VTab:{color:ze(e,"color"),direction:ze(e,"direction"),stacked:ze(e,"stacked"),fixed:ze(e,"fixedTabs"),sliderColor:ze(e,"sliderColor"),hideSlider:ze(e,"hideSlider")}}),Ge(()=>{const l=Hh.filterProps(e);return W(Hh,je(l,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,o.value,e.class],style:[{"--v-tabs-height":lt(e.height)},s.value,e.style],role:"tablist",symbol:lq}),{default:()=>[n.default?n.default():a.value.map(u=>W(uq,je(u,{key:u.text}),null))]})}),{}}}),CFe=Ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...gs(),...$v()},"VTextarea"),MFe=He()({name:"VTextarea",directives:{Intersect:kv},inheritAttrs:!1,props:CFe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const i=yt(e,"modelValue"),{isFocused:o,focus:s,blur:l}=ps(e),u=ie(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),c=ie(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function f(T,E){var P,R;!e.autofocus||!T||(R=(P=E[0].target)==null?void 0:P.focus)==null||R.call(P)}const d=Oe(),h=Oe(),v=it(""),m=Oe(),p=ie(()=>e.persistentPlaceholder||o.value||e.active);function g(){var T;m.value!==document.activeElement&&((T=m.value)==null||T.focus()),o.value||s()}function y(T){g(),r("click:control",T)}function x(T){r("mousedown:control",T)}function b(T){T.stopPropagation(),g(),Ht(()=>{i.value="",dR(e["onClick:clear"],T)})}function A(T){var P;const E=T.target;if(i.value=E.value,(P=e.modelModifiers)!=null&&P.trim){const R=[E.selectionStart,E.selectionEnd];Ht(()=>{E.selectionStart=R[0],E.selectionEnd=R[1]})}}const S=Oe(),_=Oe(+e.rows),w=ie(()=>["plain","underlined"].includes(e.variant));Fn(()=>{e.autoGrow||(_.value=+e.rows)});function C(){e.autoGrow&&Ht(()=>{if(!S.value||!h.value)return;const T=getComputedStyle(S.value),E=getComputedStyle(h.value.$el),P=parseFloat(T.getPropertyValue("--v-field-padding-top"))+parseFloat(T.getPropertyValue("--v-input-padding-top"))+parseFloat(T.getPropertyValue("--v-field-padding-bottom")),R=S.value.scrollHeight,I=parseFloat(T.lineHeight),D=Math.max(parseFloat(e.rows)*I+P,parseFloat(E.getPropertyValue("--v-input-control-height"))),B=parseFloat(e.maxRows)*I+P||1/0,F=ar(R??0,D,B);_.value=Math.floor((F-P)/I),v.value=lt(F)})}gn(C),nt(i,C),nt(()=>e.rows,C),nt(()=>e.maxRows,C),nt(()=>e.density,C);let M;return nt(S,T=>{T?(M=new ResizeObserver(C),M.observe(S.value)):M==null||M.disconnect()}),Er(()=>{M==null||M.disconnect()}),Ge(()=>{const T=!!(a.counter||e.counter||e.counterValue),E=!!(T||a.details),[P,R]=ml(n),{modelValue:I,...D}=kr.filterProps(e),B=OR(e);return W(kr,je({ref:d,modelValue:i.value,"onUpdate:modelValue":F=>i.value=F,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":w.value},e.class],style:e.style},P,D,{centerAffix:_.value===1&&!w.value,focused:o.value}),{...a,default:F=>{let{id:G,isDisabled:z,isDirty:N,isReadonly:U,isValid:$}=F;return W(td,je({ref:h,style:{"--v-textarea-control-height":v.value},onClick:y,onMousedown:x,"onClick:clear":b,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},B,{id:G.value,active:p.value||N.value,centerAffix:_.value===1&&!w.value,dirty:N.value||e.dirty,disabled:z.value,focused:o.value,error:$.value===!1}),{...a,default:k=>{let{props:{class:V,...L}}=k;return W(tt,null,[e.prefix&&W("span",{class:"v-text-field__prefix"},[e.prefix]),_n(W("textarea",je({ref:m,class:V,value:i.value,onInput:A,autofocus:e.autofocus,readonly:U.value,disabled:z.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:g,onBlur:l},L,R),null),[[pa("intersect"),{handler:f},null,{once:!0}]]),e.autoGrow&&_n(W("textarea",{class:[V,"v-textarea__sizer"],id:`${L.id}-sizer`,"onUpdate:modelValue":O=>i.value=O,ref:S,readonly:!0,"aria-hidden":"true"},null),[[LZ,i.value]]),e.suffix&&W("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:E?F=>{var G;return W(tt,null,[(G=a.details)==null?void 0:G.call(a,F),T&&W(tt,null,[W("span",null,null),W(I0,{active:e.persistentCounter||o.value,value:u.value,max:c.value},a.counter)])])}:void 0})}),fi({},d,h,m)}}),TFe=Ie({withBackground:Boolean,...ct(),...Zt(),...kt()},"VThemeProvider"),EFe=He()({name:"VThemeProvider",props:TFe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e);return()=>{var a;return e.withBackground?W(e.tag,{class:["v-theme-provider",r.value,e.class],style:e.style},{default:()=>{var i;return[(i=n.default)==null?void 0:i.call(n)]}}):(a=n.default)==null?void 0:a.call(n)}}}),PFe=Ie({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...ct(),...br(),...kt(),...Zt()},"VTimeline"),RFe=He()({name:"VTimeline",props:PFe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=ln(e),{densityClasses:a}=Xr(e),{rtlClasses:i}=Pr();Rn({VTimelineDivider:{lineColor:ze(e,"lineColor")},VTimelineItem:{density:ze(e,"density"),lineInset:ze(e,"lineInset")}});const o=ie(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),s=ie(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return Ge(()=>W(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,s.value,{"v-timeline--inset-line":!!e.lineInset},r.value,a.value,o.value,i.value,e.class],style:[{"--v-timeline-line-thickness":lt(e.lineThickness)},e.style]},n)),{}}}),IFe=Ie({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ot,iconColor:String,lineColor:String,...ct(),...Mn(),...hs(),...fr()},"VTimelineDivider"),DFe=He()({name:"VTimelineDivider",props:IFe(),setup(e,t){let{slots:n}=t;const{sizeClasses:r,sizeStyles:a}=Kf(e,"v-timeline-divider__dot"),{backgroundColorStyles:i,backgroundColorClasses:o}=mn(ze(e,"dotColor")),{roundedClasses:s}=zn(e,"v-timeline-divider__dot"),{elevationClasses:l}=Rr(e),{backgroundColorClasses:u,backgroundColorStyles:c}=mn(ze(e,"lineColor"));return Ge(()=>W("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[W("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&W("div",{key:"dot",class:["v-timeline-divider__dot",l.value,s.value,r.value],style:a.value},[W("div",{class:["v-timeline-divider__inner-dot",o.value,s.value],style:i.value},[n.default?W(Kt,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):W(sn,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),W("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),LFe=Ie({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ot,iconColor:String,lineInset:[Number,String],...ct(),...sa(),...fr(),...Mn(),...hs(),...kt()},"VTimelineItem"),OFe=He()({name:"VTimelineItem",props:LFe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=la(e),a=it(0),i=Oe();return nt(i,o=>{var s;o&&(a.value=((s=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:s.getBoundingClientRect().width)??0)},{flush:"post"}),Ge(()=>{var o,s;return W("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":lt(a.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${lt(e.lineInset)})`:lt(0)},e.style]},[W("div",{class:"v-timeline-item__body",style:r.value},[(o=n.default)==null?void 0:o.call(n)]),W(DFe,{ref:i,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&W("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((s=n.opposite)==null?void 0:s.call(n))])])}),{}}}),NFe=Ie({...ct(),...ci({variant:"text"})},"VToolbarItems"),kFe=He()({name:"VToolbarItems",props:NFe(),setup(e,t){let{slots:n}=t;return Rn({VBtn:{color:ze(e,"color"),height:"inherit",variant:ze(e,"variant")}}),Ge(()=>{var r;return W("div",{class:["v-toolbar-items",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),BFe=Ie({id:String,text:String,...gr(Hv({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),FFe=He()({name:"VTooltip",props:BFe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(e,"modelValue"),{scopeId:a}=ed(),i=Yr(),o=ie(()=>e.id||`v-tooltip-${i}`),s=Oe(),l=ie(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=ie(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=ie(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),f=ie(()=>je({"aria-describedby":o.value},e.activatorProps));return Ge(()=>{const d=ho.filterProps(e);return W(ho,je({ref:s,class:["v-tooltip",e.class],style:e.style,id:o.value},d,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},a),{activator:n.activator,default:function(){var p;for(var h=arguments.length,v=new Array(h),m=0;m<h;m++)v[m]=arguments[m];return((p=n.default)==null?void 0:p.call(n,...v))??e.text}})}),fi({},s)}}),VFe=He()({name:"VValidation",props:bY(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=SY(e,"validation");return()=>{var a;return(a=n.default)==null?void 0:a.call(n,r)}}}),zFe=Object.freeze(Object.defineProperty({__proto__:null,VAlert:wOe,VAlertTitle:hY,VApp:LLe,VAppBar:JLe,VAppBarNavIcon:bOe,VAppBarTitle:SOe,VAutocomplete:HNe,VAvatar:ii,VBadge:GNe,VBanner:YNe,VBannerActions:KY,VBannerText:ZY,VBottomNavigation:qNe,VBottomSheet:ZNe,VBreadcrumbs:tke,VBreadcrumbsDivider:JY,VBreadcrumbsItem:eX,VBtn:vn,VBtnGroup:iT,VBtnToggle:iOe,VCard:ake,VCardActions:tX,VCardItem:aX,VCardSubtitle:nX,VCardText:iX,VCardTitle:rX,VCarousel:hke,VCarouselItem:pke,VCheckbox:LOe,VCheckboxBtn:is,VChip:Uv,VChipGroup:kOe,VClassIcon:SR,VCode:gke,VCol:GBe,VColorPicker:aBe,VCombobox:sBe,VComponentIcon:nT,VContainer:zBe,VCounter:I0,VDataIterator:yBe,VDataTable:OBe,VDataTableFooter:jh,VDataTableRow:ZR,VDataTableRows:gu,VDataTableServer:FBe,VDataTableVirtual:kBe,VDatePicker:r3e,VDatePickerControls:ST,VDatePickerHeader:_T,VDatePickerMonth:AT,VDatePickerMonths:wT,VDatePickerYears:CT,VDefaultsProvider:Kt,VDialog:hT,VDialogBottomTransition:BLe,VDialogTopTransition:FLe,VDialogTransition:x0,VDivider:T0,VExpandTransition:b0,VExpandXTransition:CR,VExpansionPanel:u3e,VExpansionPanelText:ZX,VExpansionPanelTitle:JX,VExpansionPanels:o3e,VFabTransition:kLe,VFadeTransition:Qm,VField:td,VFieldLabel:Jd,VFileInput:f3e,VFooter:h3e,VForm:p3e,VHover:m3e,VIcon:sn,VImg:du,VInfiniteScroll:x3e,VInput:kr,VItem:_3e,VItemGroup:S3e,VKbd:A3e,VLabel:Jf,VLayout:C3e,VLayoutItem:T3e,VLazy:P3e,VLigatureIcon:ALe,VList:E0,VListGroup:uT,VListImg:nNe,VListItem:os,VListItemAction:aNe,VListItemMedia:oNe,VListItemSubtitle:RY,VListItemTitle:IY,VListSubheader:DY,VLocaleProvider:I3e,VMain:L3e,VMenu:R0,VMessages:yY,VNavigationDrawer:H3e,VNoSsr:$3e,VOtpInput:W3e,VOverlay:ho,VPagination:xT,VParallax:X3e,VProgressCircular:Sf,VProgressLinear:_0,VRadio:K3e,VRadioGroup:Q3e,VRangeSlider:eFe,VRating:nFe,VResponsive:rT,VRow:ZBe,VScaleTransition:AR,VScrollXReverseTransition:zLe,VScrollXTransition:VLe,VScrollYReverseTransition:HLe,VScrollYTransition:ULe,VSelect:qY,VSelectionControl:hu,VSelectionControlGroup:pY,VSheet:pu,VSkeletonLoader:oFe,VSlideGroup:Hh,VSlideGroupItem:sFe,VSlideXReverseTransition:GLe,VSlideXTransition:$Le,VSlideYReverseTransition:WLe,VSlideYTransition:wR,VSlider:yT,VSnackbar:cFe,VSpacer:WX,VStepper:gFe,VStepperActions:nq,VStepperHeader:rq,VStepperItem:aq,VStepperWindow:iq,VStepperWindowItem:oq,VSvgIcon:bR,VSwitch:yFe,VSystemBar:bFe,VTab:uq,VTable:mu,VTabs:wFe,VTextField:vu,VTextarea:MFe,VThemeProvider:EFe,VTimeline:RFe,VTimelineItem:OFe,VToolbar:aT,VToolbarItems:kFe,VToolbarTitle:_R,VTooltip:FFe,VValidation:VFe,VVirtualScroll:L0,VWindow:Gh,VWindowItem:Wh},Symbol.toStringTag,{value:"Module"}));function UFe(e,t){const n=t.modifiers||{},r=t.value,{once:a,immediate:i,...o}=n,s=!Object.keys(o).length,{handler:l,options:u}=typeof r=="object"?r:{handler:r,options:{attributes:(o==null?void 0:o.attr)??s,characterData:(o==null?void 0:o.char)??s,childList:(o==null?void 0:o.child)??s,subtree:(o==null?void 0:o.sub)??s}},c=new MutationObserver(function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;l==null||l(f,d),a&&cq(e,t)});i&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function cq(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const HFe={mounted:UFe,unmounted:cq};function $Fe(e,t){var a,i;const n=t.value,r={passive:!((a=t.modifiers)!=null&&a.active)};window.addEventListener("resize",n,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:r},(i=t.modifiers)!=null&&i.quiet||n()}function GFe(e,t){var a;if(!((a=e._onResize)!=null&&a[t.instance.$.uid]))return;const{handler:n,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,r),delete e._onResize[t.instance.$.uid]}const WFe={mounted:$Fe,unmounted:GFe};function fq(e,t){const{self:n=!1}=t.modifiers??{},r=t.value,a=typeof r=="object"&&r.options||{passive:!0},i=typeof r=="function"||"handleEvent"in r?r:r.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",i,a),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:i,options:a,target:n?void 0:o})}function dq(e,t){var i;if(!((i=e._onScroll)!=null&&i[t.instance.$.uid]))return;const{handler:n,options:r,target:a=e}=e._onScroll[t.instance.$.uid];a.removeEventListener("scroll",n,r),delete e._onScroll[t.instance.$.uid]}function jFe(e,t){t.value!==t.oldValue&&(dq(e,t),fq(e,t))}const YFe={mounted:fq,unmounted:dq,updated:jFe},XFe=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:WY,Intersect:kv,Mutate:HFe,Resize:WFe,Ripple:vs,Scroll:YFe,Touch:BR},Symbol.toStringTag,{value:"Module"})),qFe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),KFe=X7({icons:{defaultSet:"mdi",sets:{mdi:qFe}},components:zFe,directives:XFe}),hq=FZ(ODe);hq.config.globalProperties.$Axios=An;hq.use(jm).use(KFe).mount("#app");
